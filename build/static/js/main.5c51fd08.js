/*! For license information please see main.5c51fd08.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},219:(e,t,n)=>{"use strict";var r=n(2086),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(x){}}}}return t}},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function s(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function l(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function d(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return u(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var j=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-j));return j=t+n,window.setTimeout(e,n)}var k=window.requestAnimationFrame||b("RequestAnimationFrame")||w,S=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function _(e,t,n){if(!n||k!==w)return k.call(window,i(e,t));e.call(t)}function A(e){e&&S.call(window,e)}var C={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:d,trim:u,splitWords:h,setOptions:p,getParamString:f,template:g,isArray:v,indexOf:y,emptyImageUrl:x,requestFn:k,cancelFn:S,requestAnimFrame:_,cancelAnimFrame:A};function P(){}function I(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(I(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},P.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},P.mergeOptions=function(e){return n(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var N=P.extend(T);function E(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var z=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function O(e,t,n){return e instanceof E?e:v(e)?new E(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new E(e.x,e.y):new E(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function R(e,t){return!e||e instanceof D?e:new D(e,t)}function M(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(e,t){return e instanceof M?e:new M(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function W(e,t,n){return e instanceof F?e:v(e)&&"object"!==typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new E(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new E(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(e){var t=(e=O(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=O(e)).x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},D.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof E||"number"===typeof e[0]||"x"in e)t=n=O(e);else if(t=(e=R(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof E?O(e):R(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=R(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=R(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return R(O(t.x-r,t.y-i),O(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=R(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},M.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof M))return e?this.extend(W(e)||B(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new M(new F(t.lat-r,t.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof F||"lat"in e?W(e):B(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof M?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=B(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=B(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=W(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,W(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new M(new F(o.lat-r,o.lng-i),new F(a.lat-r,a.lng-i))}},q=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H=6378137,V={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new E(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=H*Math.PI;return new D([-e,-e],[e,e])}()};function G(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function K(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new E((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Y=n({},q,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return K(e,.5,-e,.5)}()}),Z=n({},Y,{code:"EPSG:900913"});function J(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var n,r,i,o,a,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?De.svg?"z":"x":""}return l||"M0 0"}var $=document.documentElement.style,Q="ActiveXObject"in window,ee=Q&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Le("webkit"),re=Le("android"),ie=Le("android 2")||Le("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Le("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Le("chrome"),ce=Le("gecko")&&!ne&&!se&&!Q,de=!le&&Le("safari"),ue=Le("phantom"),he="OTransition"in $,pe=0===navigator.platform.indexOf("Win"),fe=Q&&"transition"in $,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in $,ve=!window.L_DISABLE_3D&&(fe||me||ge)&&!he&&!ue,ye="undefined"!==typeof orientation||Le("mobile"),xe=ye&&ne,be=ye&&me,je=!window.PointerEvent&&window.MSPointerEvent,we=!(!window.PointerEvent&&!je),ke="ontouchstart"in window||!!window.TouchEvent,Se=!window.L_NO_TOUCH&&(ke||we),_e=ye&&se,Ae=ye&&ce,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Ie=!!document.createElement("canvas").getContext,Te=!(!document.createElementNS||!J("svg").createSVGRect),Ne=!!Te&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Ee=!Te&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),ze=0===navigator.platform.indexOf("Mac"),Oe=0===navigator.platform.indexOf("Linux");function Le(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var De={ie:Q,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:le,gecko:ce,safari:de,phantom:ue,opera12:he,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:xe,mobileWebkit3d:be,msPointer:je,pointer:we,touch:Se,touchNative:ke,mobileOpera:_e,mobileGecko:Ae,retina:Ce,passiveEvents:Pe,canvas:Ie,svg:Te,vml:Ee,inlineSvg:Ne,mac:ze,linux:Oe},Re=De.msPointer?"MSPointerDown":"pointerdown",Me=De.msPointer?"MSPointerMove":"pointermove",Be=De.msPointer?"MSPointerUp":"pointerup",Fe=De.msPointer?"MSPointerCancel":"pointercancel",We={touchstart:Re,touchmove:Me,touchend:Be,touchcancel:Fe},Ue={touchstart:$e,touchmove:Xe,touchend:Xe,touchcancel:Xe},qe={},He=!1;function Ve(e,t,n){return"touchstart"===t&&Je(),Ue[t]?(n=Ue[t].bind(this,n),e.addEventListener(We[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ge(e,t,n){We[t]?e.removeEventListener(We[t],n,!1):console.warn("wrong event specified:",t)}function Ke(e){qe[e.pointerId]=e}function Ye(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function Ze(e){delete qe[e.pointerId]}function Je(){He||(document.addEventListener(Re,Ke,!0),document.addEventListener(Me,Ye,!0),document.addEventListener(Be,Ze,!0),document.addEventListener(Fe,Ze,!0),He=!0)}function Xe(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],qe)t.touches.push(qe[n]);t.changedTouches=[t],e(t)}}function $e(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Kt(t),Xe(e,t)}function Qe(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Zt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=et?2===++n&&t(Qe(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,at,st,lt=_t(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=_t(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dt="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ut(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function pt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function ft(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=wt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function xt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!yt(e,t)){var o=wt(e);jt(e,(o?o+" ":"")+t)}}function bt(e,t){void 0!==e.classList?e.classList.remove(t):jt(e,u((" "+wt(e)+" ").replace(" "+t+" "," ")))}function jt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function wt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function kt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&St(e,t)}function St(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function _t(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function At(e,t,n){var r=t||new E(0,0);e.style[lt]=(De.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ct(e,t){e._leaflet_pos=t,De.any3d?At(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Pt(e){return e._leaflet_pos||new E(0,0)}if("onselectstart"in document)rt=function(){Rt(window,"selectstart",Kt)},it=function(){Bt(window,"selectstart",Kt)};else{var It=_t(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(It){var e=document.documentElement.style;ot=e[It],e[It]="none"}},it=function(){It&&(document.documentElement.style[It]=ot,ot=void 0)}}function Tt(){Rt(window,"dragstart",Kt)}function Nt(){Bt(window,"dragstart",Kt)}function Et(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(zt(),at=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Rt(window,"keydown",zt))}function zt(){at&&(at.style.outlineStyle=st,at=void 0,st=void 0,Bt(window,"keydown",zt))}function Ot(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Lt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Dt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:dt,get:ut,getStyle:ht,create:pt,remove:ft,empty:mt,toFront:gt,toBack:vt,hasClass:yt,addClass:xt,removeClass:bt,setClass:jt,getClass:wt,setOpacity:kt,testProp:_t,setTransform:At,setPosition:Ct,getPosition:Pt,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:Tt,enableImageDrag:Nt,preventOutline:Et,restoreOutline:zt,getSizedParentNode:Ot,getScale:Lt};function Rt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Ut(e,i,t[i],n);else for(var o=0,a=(t=h(t)).length;o<a;o++)Ut(e,t[o],n,r);return this}var Mt="_leaflet_events";function Bt(e,t,n,r){if(1===arguments.length)Ft(e),delete e[Mt];else if(t&&"object"===typeof t)for(var i in t)qt(e,i,t[i],n);else if(t=h(t),2===arguments.length)Ft(e,(function(e){return-1!==y(t,e)}));else for(var o=0,a=t.length;o<a;o++)qt(e,t[o],n,r);return this}function Ft(e,t){for(var n in e[Mt]){var r=n.split(/\d/)[0];t&&!t(r)||qt(e,r,null,null,n)}}var Wt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ut(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[Mt]&&e[Mt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?o=Ve(e,t,o):De.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Wt[t]||t,o,!!De.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Qt(e,t)&&s(t)},e.addEventListener(Wt[t],o,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[Mt]=e[Mt]||{},e[Mt][i]=o}function qt(e,t,n,r,i){i=i||t+a(n)+(r?"_"+a(r):"");var o=e[Mt]&&e[Mt][i];if(!o)return this;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?Ge(e,t,o):De.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Wt[t]||t,o,!1):e.detachEvent("on"+t,o),e[Mt][i]=null}function Ht(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Vt(e){return Ut(e,"wheel",Ht),this}function Gt(e){return Rt(e,"mousedown touchstart dblclick contextmenu",Ht),e._leaflet_disable_click=!0,this}function Kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Yt(e){return Kt(e),Ht(e),this}function Zt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Jt(e,t){if(!t)return new E(e.clientX,e.clientY);var n=Lt(t),r=n.boundingClientRect;return new E((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Xt=De.linux&&De.chrome?window.devicePixelRatio:De.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $t(e){return De.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Xt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Qt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Rt,off:Bt,stopPropagation:Ht,disableScrollPropagation:Vt,disableClickPropagation:Gt,preventDefault:Kt,stop:Yt,getPropagationPath:Zt,getMousePosition:Jt,getWheelDelta:$t,isExternalTarget:Qt,addListener:Rt,removeListener:Bt},tn=N.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Pt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ct(this._el,n),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=N.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(W(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,dt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(W(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof E?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var n=O(t.paddingTopLeft||t.padding||[0,0]),r=O(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=O(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){xt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!De.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=W(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,d=1.42,u=d*d;function h(e){var t=(l*l-s*s+(e?-1:1)*u*u*c*c)/(2*(e?l:s)*u*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return p(e)/f(e)}var g=h(0);function v(e){return s*(f(g)/f(g+d*e))}function y(e){return s*(f(g)*m(g+d*e)-p(g))/u}function x(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),j=(h(1)-g)/d,w=n.duration?1e3*n.duration:1e3*j*.8;function k(){var n=(Date.now()-b)/w,o=x(n)*j;n<=1?(this._flyToFrame=_(k,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/c)),a),this.getScaleZoom(s/v(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),k.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,B(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=O((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=O(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=R([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),d=s.extend(o).getSize().subtract(l);i.x+=c.x<0?-d.x:d.x,i.y+=c.y<0?-d.y:d.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ft(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new M(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=B(e),n=O(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=R(this.project(s,r),this.project(a,r)).getSize(),d=De.any3d?this.options.zoomSnap:1,u=l.x/c.x,h=l.y/c.y,p=t?Math.max(u,h):Math.min(u,h);return r=this.getScaleZoom(p,r),d&&(r=Math.round(r/(d/100))*(d/100),r=t?Math.ceil(r/d)*d:Math.floor(r/d)*d),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(W(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(O(e),t)},layerPointToLatLng:function(e){var t=O(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(W(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(W(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(W(e),W(t))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(e)))},mouseEventToContainerPoint:function(e){return Jt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ut(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Rt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,xt(e,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(e.markerPane,"leaflet-zoom-hide"),xt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ct(this._mapPane,new E(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ct(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Bt:Rt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=_((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Qt(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Et(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===t&&Kt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var d=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=d?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=d?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(t,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Pt(this._mapPane)||new E(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return R([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=R(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new E(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=De.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];At(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();At(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(_((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return xt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=pt("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ft(this._controlCorners[e]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),Vt(t);var r=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Rt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=pt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Rt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Kt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",r),this._separator=pt("div",e+"-separator",r),this._overlaysList=pt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Rt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Rt(e,"click",Kt),this.expand();var t=this;setTimeout((function(){Bt(e,"click",Kt),t._preventClick=!1}))}}),ln=function(e,t,n){return new sn(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=pt("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Gt(o),Rt(o,"click",Yt),Rt(o,"click",i,this),Rt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";bt(this._zoomInButton,t),bt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(xt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(xt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var dn=function(e){return new cn(e)},un=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new un(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(e){return new fn(e)};on.Layers=sn,on.Zoom=cn,on.Scale=un,on.Attribution=fn,an.layers=ln,an.zoom=dn,an.scale=hn,an.attribution=mn;var gn=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:T},yn=De.touch?"touchstart mousedown":"mousedown",xn=N.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Rt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)xn._dragging===this&&this.finishDrag();else if(!(xn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(xn._dragging=this,this._preventOutline&&Et(this._element),Tt(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Ot(this._element);this._startPoint=new E(t.clientX,t.clientY),this._startPos=Pt(this._element),this._parentScale=Lt(n);var r="mousedown"===e.type;Rt(document,r?"mousemove":"touchmove",this._onMove,this),Rt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new E(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ct(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),Nt(),it();var t=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function bn(e,t,n){var r,i,o,a,s,l,c,d,u,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=zn(e[i],t);for(a=0;a<4;a++){for(d=h[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],l=e[o],s._code&d?l._code&d||((u=En(l,s,d,t,n))._code=zn(u,t),r.push(u)):(l._code&d&&((u=En(l,s,d,t,n))._code=zn(u,t),r.push(u)),r.push(s));e=r}return e}function jn(e,t){var n,r,i,o,a,s,l,c,d;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=W([0,0]),h=B(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=wn(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=W(e[n]);f.push(t.project(W([m.lat-u.lat,m.lng-u.lng])))}for(s=l=c=0,n=0,r=p-1;n<p;r=n++)i=f[n],o=f[r],a=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;d=0===s?f[0]:[l/s,c/s];var g=t.unproject(O(d));return W([g.lat+u.lat,g.lng+u.lng])}function wn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=W(e[i]);t+=o.lat,n+=o.lng,r++}return W([t/r,n/r])}var kn,Sn={__proto__:null,clipPolygon:bn,polygonCenter:jn,centroid:wn};function _n(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Pn(e=Tn(e,n),n)}function An(e,t,n){return Math.sqrt(Ln(e,t,n,!0))}function Cn(e,t,n){return Ln(e,t,n)}function Pn(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,In(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function In(e,t,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=Ln(e[a],e[r],e[i],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,In(e,t,n,r,o),In(e,t,n,o,i))}function Tn(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)On(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Nn(e,t,n,r,i){var o,a,s,l=r?kn:zn(e,n),c=zn(t,n);for(kn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=zn(a=En(e,t,o=l||c,n,i),n),o===l?(e=a,l=s):(t=a,c=s)}}function En(e,t,n,r,i){var o,a,s=t.x-e.x,l=t.y-e.y,c=r.min,d=r.max;return 8&n?(o=e.x+s*(d.y-e.y)/l,a=d.y):4&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(o=d.x,a=e.y+l*(d.x-e.x)/s):1&n&&(o=c.x,a=e.y+l*(c.x-e.x)/s),new E(o,a,i)}function zn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function On(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Ln(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((i=((e.x-o)*s+(e.y-a)*l)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=e.x-o,l=e.y-a,r?s*s+l*l:new E(o,a)}function Dn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Rn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(e)}function Mn(e,t){var n,r,i,o,a,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=W([0,0]),u=B(e);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(d=wn(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=W(e[n]);p.push(t.project(W([f.lat-d.lat,f.lng-d.lng])))}for(n=0,r=0;n<h-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(0===r)c=p[0];else for(n=0,o=0;n<h-1;n++)if(a=p[n],s=p[n+1],(o+=i=a.distanceTo(s))>r){l=(o-r)/i,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=t.unproject(O(c));return W([m.lat+d.lat,m.lng+d.lng])}var Bn={__proto__:null,simplify:_n,pointToSegmentDistance:An,closestPointOnSegment:Cn,clipSegment:Nn,_getEdgeIntersection:En,_getBitCode:zn,_sqClosestPointOnSegment:Ln,isFlat:Dn,_flat:Rn,polylineCenter:Mn},Fn={project:function(e){return new E(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new D([-180,-90],[180,90])},Wn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new E(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new F(s*n,e.x*n/r)}},Un={__proto__:null,LonLat:Fn,Mercator:Wn,SphericalMercator:V},qn=n({},q,{code:"EPSG:3395",projection:Wn,transformation:function(){var e=.5/(Math.PI*Wn.R);return K(e,.5,-e,.5)}()}),Hn=n({},q,{code:"EPSG:4326",projection:Fn,transformation:K(1/180,1,-1/180,.5)}),Vn=n({},U,{projection:Fn,transformation:K(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=q,U.EPSG3395=qn,U.EPSG3857=Y,U.EPSG900913=Z,U.EPSG4326=Hn,U.Simple=Vn;var Gn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kn=Gn.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Yn=function(e,t){return new Kn(e,t)},Zn=Kn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Kn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Kn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new M;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Jn=function(e,t){return new Zn(e,t)},Xn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=O(r),o=O("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return De.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function $n(e){return new Xn(e)}var Qn=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Qn.imagePath&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Xn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new xn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Pt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=R(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var c=O((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ct(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=_(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=_(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Pt(t._icon),i=t._map.layerPointToLatLng(r);n&&Ct(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Gn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=W(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=W(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),xt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(xt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ct(this._icon,e),this._shadow&&Ct(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?O(t.iconSize):O(0,0),r=t.iconAnchor?O(t.iconAnchor):O(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=W(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=W(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(e,t){return new ir(e,t)}var ar=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),p(this,t),this._latlng=W(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new M(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===q.distance){var i=Math.PI/180,o=this._mRadius/q.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,d=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(d)||0===d)&&(d=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(d)?0:l.x-n.project([c,e-d]).x,this._radiusY=l.y-a.y}else{var u=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}});function sr(e,t,n){return new ar(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Ln,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,d=l.length;c<d;c++){var u=o(e,t=l[c-1],n=l[c],!0);u<r&&(r=u,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=W(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new M,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Dn(e),r=0,i=e.length;r<i;r++)n?(t[r]=W(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new E(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof F,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Nn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=_n(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&An(e,s[i],s[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=Rn;var dr=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new E(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=bn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(t=this._parts[i]).length)-1;o<l;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function ur(e,t){return new dr(e,t)}var hr=Zn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=pr(e,o);return a?(a.feature=br(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,d=t&&t.coordsToLatLng||mr;if(!s&&!a)return null;switch(a.type){case"Point":return fr(c,e,n=d(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=d(s[i]),l.push(fr(c,e,n,t));return new Zn(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===a.type?0:1,d),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===a.type?1:2,d),new dr(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var u=pr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);u&&l.push(u)}return new Zn(l);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var h=pr(a.features[i],t);h&&l.push(h)}return new Zn(l);default:throw new Error("Invalid GeoJSON object.")}}function fr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function mr(e){return new F(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?gr(e[o],t-1,n):(n||mr)(e[o]),i.push(r);return i}function vr(e,t){return void 0!==(e=W(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function yr(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?yr(e[o],Dn(e[o])?0:t-1,n,r):vr(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function xr(e,t){return e.feature?n({},e.feature,{geometry:t}):br(t)}function br(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var jr={toGeoJSON:function(e){return xr(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function wr(e,t){return new hr(e,t)}tr.include(jr),ar.include(jr),ir.include(jr),lr.include({toGeoJSON:function(e){var t=!Dn(this._latlngs);return xr(this,{type:(t?"Multi":"")+"LineString",coordinates:yr(this._latlngs,t?1:0,!1,e)})}}),dr.include({toGeoJSON:function(e){var t=!Dn(this._latlngs),n=t&&!Dn(this._latlngs[0]),r=yr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),xr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Kn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),xr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=br(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?xr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var kr=wr,Sr=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=B(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");xt(t,"leaflet-image-layer"),this._zoomAnimated&&xt(t,"leaflet-zoom-animated"),this.options.className&&xt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;At(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ct(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),_r=function(e,t,n){return new Sr(e,t,n)},Ar=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(xt(t,"leaflet-image-layer"),this._zoomAnimated&&xt(t,"leaflet-zoom-animated"),this.options.className&&xt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=pt("source");s.src=this._url[a],t.appendChild(s)}}}});function Cr(e,t,n){return new Ar(e,t,n)}var Pr=Sr.extend({_initImage:function(){var e=this._image=this._url;xt(e,"leaflet-image-layer"),this._zoomAnimated&&xt(e,"leaflet-zoom-animated"),this.options.className&&xt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ir(e,t,n){return new Pr(e,t,n)}var Tr=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof F||v(e))?(this._latlng=W(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(i(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=W(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Zn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ct(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Gn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Nr=Tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Tr.prototype.openOn.call(this,e)},onAdd:function(e){Tr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Ht))},onRemove:function(e){Tr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Ht))},getEvents:function(){var e=Tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Gt(t),Vt(this._contentNode),Rt(t,"contextmenu",Ht),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=pt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(r,"click",(function(e){Kt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",xt(e,o)):bt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ct(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new E(this._containerLeft,-n-this._containerBottom);i._add(Pt(this._container));var o=e.layerPointToContainerPoint(i),a=O(this.options.autoPanPadding),s=O(this.options.autoPanPaddingTopLeft||a),l=O(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),d=0,u=0;o.x+r+l.x>c.x&&(d=o.x+r-c.x+l.x),o.x-d-s.x<0&&(d=o.x-s.x),o.y+n+l.y>c.y&&(u=o.y+n-c.y+l.y),o.y-u-s.y<0&&(u=o.y-s.y),(d||u)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([d,u]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Er=function(e,t){return new Nr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Nr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Nr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Yt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var zr=Tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Tr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Tr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Tr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,d=O(this.options.offset),u=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(d.x+u.x),n=c/2),e=e.subtract(O(t,n,!0)).add(d).add(u),bt(i,"leaflet-tooltip-right"),bt(i,"leaflet-tooltip-left"),bt(i,"leaflet-tooltip-top"),bt(i,"leaflet-tooltip-bottom"),xt(i,"leaflet-tooltip-"+s),Ct(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&kt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Or=function(e,t){return new zr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(zr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Rt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Rt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Lr=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=O(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Dr(e){return new Lr(e)}Xn.Default=Qn;var Rr=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ft(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof E?e:new E(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){kt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);kt(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(A(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ft(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new E(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new E(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();De.any3d?At(e.el,i,r):Ct(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var d=this._tiles[c].coords;d.z===this._tileZoom&&l.contains(new E(d.x,d.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var u=i.min.y;u<=i.max.y;u++)for(var h=i.min.x;h<=i.max.x;h++){var p=new E(h,u);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new M(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new E(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ft(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){xt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,De.ielt9&&this.options.opacity<1&&kt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&_(i(this._tileReady,this,e,null,o)),Ct(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(kt(n.el,0),A(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(xt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?_(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new E(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Mr(e){return new Rr(e)}var Br=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&De.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Rt(n,"load",i(this._tileOnLoad,this,t,n)),Rt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:De.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){De.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=x;var n=this._tiles[e].coords;ft(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",x),Rr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==x))return Rr.prototype._tileReady.call(this,e,t,n)}});function Fr(e,t){return new Br(e,t)}var Wr=Br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=p(this,t)).detectRetina&&De.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Br.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=R(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Br.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Ur(e,t){return new Wr(e,t)}Br.WMS=Wr,Fr.wms=Ur;var qr=Gn.extend({options:{padding:.1},initialize:function(e){p(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));De.any3d?At(this._container,o,n):Ct(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=qr.extend({options:{tolerance:0},getEvents:function(){var e=qr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Rt(e,"mousemove",this._onMouseMove,this),Rt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,ft(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=De.retina?2:1;Ct(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||_(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(bt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(xt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Vr(e){return De.canvas?new Hr(e):null}var Gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kr={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gr("shape");xt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ft(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Gr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Gr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Yr=De.vml?Gr:J,Zr=qr.extend({_initContainer:function(){this._container=Yr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ct(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Yr("path");e.options.className&&xt(t,e.options.className),e.options.interactive&&xt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ft(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Jr(e){return De.svg||De.vml?new Zr(e):null}De.vml&&Zr.include(Kr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Vr(e)||Jr(e)}});var Xr=dr.extend({initialize:function(e,t){dr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function $r(e,t){return new Xr(e,t)}Zr.create=Yr,Zr.pointsToPath=X,hr.geometryToLayer=pr,hr.coordsToLatLng=mr,hr.coordsToLatLngs=gr,hr.latLngToCoords=vr,hr.latLngsToCoords=yr,hr.getFeature=xr,hr.asFeature=br,nn.mergeOptions({boxZoom:!0});var Qr=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),Tt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Rt(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();Ct(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),bt(this._container,"leaflet-crosshair")),it(),Nt(),Bt(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new M(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Qr),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new xn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),d=s.multiplyBy(c/l),u=c/(n.inertiaDeceleration*a),h=d.multiplyBy(-u/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),_((function(){t.panBy(h,{duration:u,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Rt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=O(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(O(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Yt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=$t(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Yt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new E(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",Kt),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ii),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Bt(document,"touchend",Kt),Bt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new E(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var ai=gn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),Kt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_(s,this,!0),Kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,A(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ai),nn.BoxZoom=Qr,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=ai,e.Bounds=D,e.Browser=De,e.CRS=U,e.Canvas=Hr,e.Circle=ar,e.CircleMarker=ir,e.Class=P,e.Control=on,e.DivIcon=Lr,e.DivOverlay=Tr,e.DomEvent=en,e.DomUtil=Dt,e.Draggable=xn,e.Evented=N,e.FeatureGroup=Zn,e.GeoJSON=hr,e.GridLayer=Rr,e.Handler=gn,e.Icon=Xn,e.ImageOverlay=Sr,e.LatLng=F,e.LatLngBounds=M,e.Layer=Gn,e.LayerGroup=Kn,e.LineUtil=Bn,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=E,e.PolyUtil=Sn,e.Polygon=dr,e.Polyline=lr,e.Popup=Nr,e.PosAnimation=tn,e.Projection=Un,e.Rectangle=Xr,e.Renderer=qr,e.SVG=Zr,e.SVGOverlay=Pr,e.TileLayer=Br,e.Tooltip=zr,e.Transformation=G,e.Util=C,e.VideoOverlay=Ar,e.bind=i,e.bounds=R,e.canvas=Vr,e.circle=sr,e.circleMarker=or,e.control=an,e.divIcon=Dr,e.extend=n,e.featureGroup=Jn,e.geoJSON=wr,e.geoJson=kr,e.gridLayer=Mr,e.icon=$n,e.imageOverlay=_r,e.latLng=W,e.latLngBounds=B,e.layerGroup=Yn,e.map=rn,e.marker=nr,e.point=O,e.polygon=ur,e.polyline=cr,e.popup=Er,e.rectangle=$r,e.setOptions=p,e.stamp=a,e.svg=Jr,e.svgOverlay=Ir,e.tileLayer=Fr,e.tooltip=Or,e.transformation=K,e.version=t,e.videoOverlay=Cr;var si=window.L;e.noConflict=function(){return window.L=si,this},window.L=e}(t)},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},557:function(e,t,n){var r;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof this||("undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g),r=function(){return function(){"use strict";var e={28:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlRowInput=void 0,t.defaultStyles=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},t.getTheme=function(e){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[e]};var r=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return n(t,e),t}(Array);t.HtmlRowInput=r},150:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){r=r||{};var o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,s=i.getLineHeightFactor?i.getLineHeightFactor():1.15,l=a*s,c="",d=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(d=(c="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=a*(2-1.15),"middle"===r.valign?n-=d/2*l:"bottom"===r.valign&&(n-=d*l),"center"===r.halign||"right"===r.halign){var u=a;if("center"===r.halign&&(u*=.5),c&&d>=1){for(var h=0;h<c.length;h++)i.text(c[h],t-i.getStringUnitWidth(c[h])*u,n),n+=l;return i}t-=i.getStringUnitWidth(e)*u}return"justify"===r.halign?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}},152:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateWidths=function(e,t){!function(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,o=(0,r.getPageAvailableWidth)(e,t);t.allRows().forEach((function(a){for(var s=0,l=t.columns;s<l.length;s++){var c=l[s],d=a.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,a,c,null);var h=d.padding("horizontal");d.contentWidth=(0,r.getStringWidth)(d.text,d.styles,e)+h;var p=(0,r.getStringWidth)(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),"number"===typeof d.styles.cellWidth)d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if("wrap"===d.styles.cellWidth||!0===i)d.contentWidth>o?(d.minWidth=o,d.wrappedWidth=o):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/n;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}})),t.allRows().forEach((function(e){for(var n=0,r=t.columns;n<r.length;n++){var i=r[n],o=e.cells[i.index];if(o&&1===o.colSpan)i.wrappedWidth=Math.max(i.wrappedWidth,o.wrappedWidth),i.minWidth=Math.max(i.minWidth,o.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,o.minReadableWidth);else{var a=t.styles.columnStyles[i.dataKey]||t.styles.columnStyles[i.index]||{},s=a.cellWidth||a.minCellWidth;s&&"number"===typeof s&&(i.minWidth=s,i.wrappedWidth=s)}o&&(o.colSpan>1&&!i.minWidth&&(i.minWidth=o.minWidth),o.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=o.minWidth))}}))}(e,t);var n=[],a=0;t.columns.forEach((function(e){var r=e.getMaxCustomCellWidth(t);r?e.width=r:(e.width=e.wrappedWidth,n.push(e)),a+=e.width}));var s=t.getWidth(e.pageSize().width)-a;s&&(s=i(n,s,(function(e){return Math.max(e.minReadableWidth,e.minWidth)}))),s&&(s=i(n,s,(function(e){return e.minWidth}))),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,o=0,a=0,s=0;s<e.columns.length;s++){var l=e.columns[s];if((a-=1)>1&&e.columns[s+1])o+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+o}else{if(!(c=r.cells[l.index]))continue;if(a=c.colSpan,o=0,c.colSpan>1){i=c,o+=l.width;continue}c.width=l.width+o}}}(t),function(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],s=0,l=e.columns;s<l.length;s++){var c=l[s],d=a.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if("linebreak"===d.styles.overflow)d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if("ellipsize"===d.styles.overflow)d.text=o(d.text,u,d.styles,t,"...");else if("hidden"===d.styles.overflow)d.text=o(d.text,u,d.styles,t,"");else if("function"===typeof d.styles.overflow){var h=d.styles.overflow(d.text,u);d.text="string"===typeof h?[h]:h}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<p*d.rowSpan?n={height:p,count:d.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>a.height&&(a.height=p)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var o=r[i],a=0,s=e.columns;a<s.length;a++){var l=s[a],c=t[l.index];if(n>1)n--,delete o.cells[l.index];else if(c)c.cell.height+=o.height,n=c.cell.colSpan,delete o.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=o.cells[l.index];if(!d)continue;if(d.height=o.height,d.rowSpan>1){var u=r.length-i,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:o}}}}}(t)},t.resizeColumns=i,t.ellipsize=o;var r=n(799);function i(e,t,n){for(var r=t,o=e.reduce((function(e,t){return e+t.wrappedWidth}),0),a=0;a<e.length;a++){var s=e[a],l=r*(s.wrappedWidth/o),c=s.width+l,d=n(s),u=c<d?d:c;t-=u-s.width,s.width=u}if(t=Math.round(1e10*t)/1e10){var h=e.filter((function(e){return!(t<0)||e.width>n(e)}));h.length&&(t=i(h,t,n))}return t}function o(e,t,n,i,o){return e.map((function(e){return function(e,t,n,i,o){var a=1e4*i.scaleFactor();if((t=Math.ceil(t*a)/a)>=(0,r.getStringWidth)(e,n,i))return e;for(;t<(0,r.getStringWidth)(e+o,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+o}(e,t,n,i,o)}))}},176:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e,t,n,r,i){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),a=1;a<arguments.length;a++){var s=arguments[a];if(null!=s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o}},344:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateInput=function(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var o=i[r];o&&"object"!==typeof o&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&"number"!==typeof o.startY&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}},371:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=function(e,t){var n=new i.DocHandler(e),l=n.getDocumentOptions(),c=n.getGlobalOptions();(0,a.validateInput)(c,l,t);var d,u=(0,s.assign)({},c,l,t);"undefined"!==typeof window&&(d=window);var h=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(i){if("columnStyles"===i){var o=e[i],a=t[i],l=n[i];r.columnStyles=(0,s.assign)({},o,a,l)}else{var c=[e,t,n].map((function(e){return e[i]||{}}));r[i]=(0,s.assign)({},c[0],c[1],c[2])}},o=0,a=Object.keys(r);o<a.length;o++)i(a[o]);return r}(c,l,t),p=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=[e,t,n];i<o.length;i++){var a=o[i];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}(c,l,t),f=function(e,t){var n,i,o,a,s,l,c,d,u,h,p,f,m,g,v=(0,r.parseSpacing)(t.margin,40/e.scaleFactor()),y=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),o=!1;return n&&n.startPageNumber&&(o=n.startPageNumber+n.pageNumber-1===i),"number"===typeof t?t:null!=t&&!1!==t||!o||null==(null===n||void 0===n?void 0:n.finalY)?null:n.finalY+20/r}(e,t.startY))&&void 0!==n?n:v.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(i=t.showFoot)&&void 0!==i?i:"everyPage",g=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(o=t.showHead)&&void 0!==o?o:"everyPage";var x=null!==(a=t.useCss)&&void 0!==a&&a,b=t.theme||(x?"plain":"striped"),j=!!t.horizontalPageBreak,w=null!==(s=t.horizontalPageBreakRepeat)&&void 0!==s?s:null;return{includeHiddenHtml:null!==(l=t.includeHiddenHtml)&&void 0!==l&&l,useCss:x,theme:b,startY:y,margin:v,pageBreak:null!==(c=t.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(d=t.rowPageBreak)&&void 0!==d?d:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:g,showFoot:m,tableLineWidth:null!==(h=t.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(p=t.tableLineColor)&&void 0!==p?p:200,horizontalPageBreak:j,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(f=t.horizontalPageBreakBehaviour)&&void 0!==f?f:"afterAllRows"}}(n,u),m=function(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(n){var l=(0,o.parseHtml)(e,t.html,n,s,t.useCss)||{};r=l.head||r,i=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter((function(e){return"_element"!==e})).forEach((function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var o=0;o<n;o++){var a={dataKey:Array.isArray(r)?i.length:e+(o>0?"_".concat(o):"")};i.push(a)}})),i}(r,i,a);return{columns:c,head:r,body:i,foot:a}}(n,u,d);return{id:t.tableId,content:m,hooks:p,styles:h,settings:f}};var r=n(799),i=n(643),o=n(660),a=n(344),s=n(176)},376:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=function(e,t){var n=new i.DocHandler(e),r=function(e,t){var n,r=e.content,i=function(e){return e.map((function(e,t){var n,r;return r="object"===typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new o.Column(r,e,t)}))}(r.columns);(0===r.head.length&&(n=c(i,"head"))&&r.head.push(n),0===r.foot.length)&&((n=c(i,"foot"))&&r.foot.push(n));var a=e.settings.theme,s=e.styles;return{columns:i,head:l("head",r.head,i,s,a,t),body:l("body",r.body,i,s,a,t),foot:l("foot",r.foot,i,s,a,t)}}(t,n.scaleFactor()),a=new o.Table(t,r);return(0,s.calculateWidths)(n,a),n.applyStyles(n.userStyles),a};var r=n(28),i=n(643),o=n(524),a=n(176),s=n(152);function l(e,t,n,r,i,a){var s={};return t.map((function(t,l){for(var c=0,u={},h=0,p=0,f=0,m=n;f<m.length;f++){var g=m[f];if(null==s[g.index]||0===s[g.index].left)if(0===p){var v=void 0,y={};"object"!==typeof(v=Array.isArray(t)?t[g.index-h-c]:t[g.dataKey])||Array.isArray(v)||(y=(null===v||void 0===v?void 0:v.styles)||{});var x=d(e,g,l,i,r,a,y),b=new o.Cell(v,x,e);u[g.dataKey]=b,u[g.index]=b,p=b.colSpan-1,s[g.index]={left:b.rowSpan-1,times:p}}else p--,h++;else s[g.index].left--,p=s[g.index].times,c++}return new o.Row(t,l,e,u)}))}function c(e,t){var n={};return e.forEach((function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}})),Object.keys(n).length>0?n:null}function d(e,t,n,i,o,s,l){var c,d=(0,r.getTheme)(i);"head"===e?c=o.headStyles:"body"===e?c=o.bodyStyles:"foot"===e&&(c=o.footStyles);var u=(0,a.assign)({},d.table,d[e],o.styles,c),h=o.columnStyles[t.dataKey]||o.columnStyles[t.index]||{},p="body"===e?h:{},f="body"===e&&n%2===0?(0,a.assign)({},d.alternateRow,o.alternateRowStyles):{},m=(0,r.defaultStyles)(s),g=(0,a.assign)({},m,u,f,p);return(0,a.assign)(g,l)}},460:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=function(e,t,n,o,a){var s={},l=96/72,c=i(t,(function(e){return a.getComputedStyle(e).backgroundColor}));null!=c&&(s.fillColor=c);var d=i(t,(function(e){return a.getComputedStyle(e).color}));null!=d&&(s.textColor=d);var u=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),o=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map((function(e){return parseInt(e||"0")/i})),s=(0,r.parseSpacing)(a,0);return o>s.top&&(s.top=o),o>s.bottom&&(s.bottom=o),s}(o,n);u&&(s.cellPadding=u);var h="borderTopColor",p=l*n,f=o.borderTopWidth;if(o.borderBottomWidth===f&&o.borderRightWidth===f&&o.borderLeftWidth===f){var m=(parseFloat(f)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(o.borderTopWidth)||0)/p,right:(parseFloat(o.borderRightWidth)||0)/p,bottom:(parseFloat(o.borderBottomWidth)||0)/p,left:(parseFloat(o.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var g=i(t,(function(e){return a.getComputedStyle(e)[h]}));null!=g&&(s.lineColor=g);var v=["left","right","center","justify"];-1!==v.indexOf(o.textAlign)&&(s.halign=o.textAlign),-1!==(v=["middle","bottom","top"]).indexOf(o.verticalAlign)&&(s.valign=o.verticalAlign);var y=parseInt(o.fontSize||"");isNaN(y)||(s.fontSize=y/l);var x=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(o);x&&(s.fontStyle=x);var b=(o.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(s.font=b),s};var r=n(799);function i(e,t){var n=o(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function o(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:o(e.parentElement,t):n}},524:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Column=t.Cell=t.Row=t.Table=void 0;var r=n(799),i=n(28),o=n(601),a=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce((function(t,n){return t+n.getMaxCellHeight(e)}),0)},e.prototype.getFootHeight=function(e){return this.foot.reduce((function(t,n){return t+n.getMaxCellHeight(e)}),0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,i,a){for(var s=0,l=t;s<l.length;s++){var c=!1===(0,l[s])(new o.CellHookData(e,this,n,r,i,a));if(n.text=Array.isArray(n.text)?n.text:[n.text],c)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new o.HookData(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new o.HookData(e,this,t))},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce((function(e,t){return e+t.wrappedWidth}),0);var t=this.settings.margin;return e-t.left-t.right},e}();t.Table=a;var s=function(){function e(e,t,n,r,o){void 0===o&&(o=!1),this.height=0,this.raw=e,e instanceof i.HtmlRowInput&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=o}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce((function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)}),0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter((function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1})).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce((function(e,r){var i=n.cells[r.index];if(!i)return 0;var o=t.getLineHeight(i.styles.fontSize),a=i.padding("vertical")+o;return a>e?a:e}),0)},e}();t.Row=s;var l=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var i=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var o=null!=i?""+i:"";this.text=o.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=(0,r.parseSpacing)(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}();t.Cell=l;var c=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var i=r[n].cells[this.index];i&&"number"===typeof i.styles.cellWidth&&(t=Math.max(t,i.styles.cellWidth))}return t},e}();t.Column=c},601:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CellHookData=t.HookData=void 0;var r=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()};t.HookData=r;var i=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n,a)||this;return s.cell=r,s.row=i,s.column=o,s.section=i.section,s}return n(t,e),t}(r);t.CellHookData=i},626:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAllColumnsCanFitInPage=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var o=i(e,t,{start:r});o.columns.length&&(n.push(o),r=o.lastIndex)}return n};var r=n(799);function i(e,t,n){var i;void 0===n&&(n={});var o=(0,r.getPageAvailableWidth)(e,t),a=new Map,s=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(c=[t.settings.horizontalPageBreakRepeat]),c.forEach((function(e){var n=t.columns.find((function(t){return t.dataKey===e||t.index===e}));n&&!a.has(n.index)&&(a.set(n.index,!0),s.push(n.index),l.push(t.columns[n.index]),o-=n.wrappedWidth)}));for(var d=!0,u=null!==(i=null===n||void 0===n?void 0:n.start)&&void 0!==i?i:0;u<t.columns.length;)if(a.has(u))u++;else{var h=t.columns[u].wrappedWidth;if(!(d||o>=h))break;d=!1,s.push(u),l.push(t.columns[u]),o-=h,u++}return{colIndexes:s,columns:l,lastIndex:u-1}}},639:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.applyPlugin=function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=(0,a.parseInput)(this,n),i=(0,s.createTable)(this,r);return(0,l.drawTable)(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,i){(0,r.default)(e,t,n,i,this)},e.API.autoTableSetDefaults=function(e){return i.DocHandler.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){i.DocHandler.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new i.DocHandler(this),a=(0,o.parseHtml)(r,e,window,t,!1),s=a.head,l=a.body;return{columns:(null===(n=s[0])||void 0===n?void 0:n.map((function(e){return e.content})))||[],rows:l,data:l}}};var r=n(150),i=n(643),o=n(660),a=n(371),s=n(376),l=n(789)},643:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DocHandler=void 0;var n={},r=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:n=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,i,o;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),s=a.fontStyle,l=a.fontName;if(t.font&&(l=t.font),t.fontStyle){s=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(s)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),s=c[0])}if(this.jsPDFDocument.setFont(l,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(i=this.jsPDFDocument).setTextColor.apply(i,d),(d=e.unifyColor(t.lineColor))&&(o=this.jsPDFDocument).setDrawColor.apply(o,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,i){return this.jsPDFDocument.rect(e,t,n,r,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return n||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}();t.DocHandler=r},660:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=function(e,t,n,r,i){var a,s,l;void 0===r&&(r=!1),void 0===i&&(i=!1),l="string"===typeof t?n.document.querySelector(t):t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],h=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:p};for(var f=0;f<l.rows.length;f++){var m=l.rows[f],g=null===(s=null===(a=null===m||void 0===m?void 0:m.parentElement)||void 0===a?void 0:a.tagName)||void 0===s?void 0:s.toLowerCase(),v=o(c,d,n,m,r,i);v&&("thead"===g?u.push(v):"tfoot"===g?p.push(v):h.push(v))}return{head:u,body:h,foot:p}};var r=n(28),i=n(460);function o(e,t,n,o,s,l){for(var c=new r.HtmlRowInput(o),d=0;d<o.cells.length;d++){var u=o.cells[d],h=n.getComputedStyle(u);if(s||"none"!==h.display){var p=void 0;l&&(p=(0,i.parseCss)(e,u,t,h,n)),c.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:a(u)})}}var f=n.getComputedStyle(o);if(c.length>0&&(s||"none"!==f.display))return c}function a(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map((function(e){return e.trim()})).join("\n"),t.innerText||t.textContent||""}},789:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.drawTable=function(e,t){var n=t.settings,r=n.startY,a=n.margin,h={x:a.left,y:r},m=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),g=r+a.bottom+m;"avoid"===n.pageBreak&&(g+=t.body.reduce((function(e,t){return e+t.height}),0));var x=new o.DocHandler(e);("always"===n.pageBreak||null!=n.startY&&g>x.pageSize().height)&&(y(x),h.y=a.top),t.callWillDrawPageHooks(x,h);var b=(0,s.assign)({},h);t.startPageNumber=x.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var i=(0,l.calculateAllColumnsCanFitInPage)(e,t),o=t.settings;if("afterAllRows"===o.horizontalPageBreakBehaviour)i.forEach((function(i,o){e.applyStyles(e.userStyles),o>0?v(e,t,n,r,i.columns,!0):c(e,t,r,i.columns),function(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach((function(o,a){var s=a===t.body.length-1;p(e,t,o,s,n,r,i)}))}(e,t,n,r,i.columns),u(e,t,r,i.columns)}));else for(var a=-1,s=i[0],h=function(){var o=a;if(s){e.applyStyles(e.userStyles);var l=s.columns;a>=0?v(e,t,n,r,l,!0):c(e,t,r,l),o=d(e,t,a+1,r,l),u(e,t,r,l)}var h=o-a;i.slice(1).forEach((function(i){e.applyStyles(e.userStyles),v(e,t,n,r,i.columns,!0),d(e,t,a+1,r,i.columns,h),u(e,t,r,i.columns)})),a=o};a<t.body.length-1;)h()}(x,t,b,h):(x.applyStyles(x.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach((function(e){return f(x,t,e,h,t.columns)})),x.applyStyles(x.userStyles),t.body.forEach((function(e,n){var r=n===t.body.length-1;p(x,t,e,r,b,h,t.columns)})),x.applyStyles(x.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach((function(e){return f(x,t,e,h,t.columns)}))),(0,i.addTableBorder)(x,t,b,h),t.callEndPageHooks(x,h),t.finalY=h.y,e.lastAutoTable=t,x.applyStyles(x.userStyles)},t.addPage=v;var r=n(150),i=n(799),o=n(643),a=n(524),s=n(176),l=n(626);function c(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),"firstPage"!==i.showHead&&"everyPage"!==i.showHead||t.head.forEach((function(i){return f(e,t,i,n,r)}))}function d(e,t,n,r,i,o){e.applyStyles(e.userStyles),o=null!==o&&void 0!==o?o:t.body.length;var a=Math.min(n+o,t.body.length),s=-1;return t.body.slice(n,a).forEach((function(o,a){var l=n+a===t.body.length-1,c=g(e,t,l,r);o.canEntireRowFit(c,i)&&(f(e,t,o,r,i),s=n+a)})),s}function u(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),"lastPage"!==i.showFoot&&"everyPage"!==i.showFoot||t.foot.forEach((function(i){return f(e,t,i,n,r)}))}function h(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),o=Math.floor((t-i)/r);return Math.max(0,o)}function p(e,t,n,r,i,o,l){var c=g(e,t,r,o);if(n.canEntireRowFit(c,l))f(e,t,n,o,l);else if(function(e,t,n,r){var i=e.pageSize().height,o=r.settings.margin,a=i-(o.top+o.bottom);"body"===t.section&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var s=t.getMinimumRowHeight(r.columns,e),l=s<n;if(s>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>a?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,c,t)){var d=function(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var o=0,l=0,c=n.columns;l<c.length;l++){var d=c[l];if(x=e.cells[d.index]){Array.isArray(x.text)||(x.text=[x.text]);var u=new a.Cell(x.raw,x.styles,x.section);(u=(0,s.assign)(u,x)).text=[];var p=h(x,t,r);x.text.length>p&&(u.text=x.text.splice(p,x.text.length));var f=r.scaleFactor(),m=r.getLineHeightFactor();x.contentHeight=x.getContentHeight(f,m),x.contentHeight>=t&&(x.contentHeight=t,u.styles.minCellHeight-=t),x.contentHeight>e.height&&(e.height=x.contentHeight),u.contentHeight=u.getContentHeight(f,m),u.contentHeight>o&&(o=u.contentHeight),i[d.index]=u}}var g=new a.Row(e.raw,-1,e.section,i,!0);g.height=o;for(var v=0,y=n.columns;v<y.length;v++){var x;d=y[v],(u=g.cells[d.index])&&(u.height=g.height),(x=e.cells[d.index])&&(x.height=e.height)}return g}(n,c,t,e);f(e,t,n,o,l),v(e,t,i,o,l),p(e,t,d,r,i,o,l)}else v(e,t,i,o,l),p(e,t,n,r,i,o,l)}function f(e,t,n,i,o){i.x=t.settings.margin.left;for(var a=0,s=o;a<s.length;a++){var l=s[a],c=n.cells[l.index];if(c)if(e.applyStyles(c.styles),c.x=i.x,c.y=i.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,c,n,l,i)){m(e,c,i);var d=c.getTextPos();(0,r.default)(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,l,i),i.x+=l.width}else i.x+=l.width;else i.x+=l.width}i.y+=n.height}function m(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof r.lineWidth){var o=(0,i.getFillStyle)(r.lineWidth,r.fillColor);o&&e.rect(t.x,n.y,t.width,t.height,o)}else"object"===typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var i,o,a,s;function l(t,n,r,i,o){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,i,o,"S")}r.top&&(i=n.x,o=n.y,a=n.x+t.width,s=n.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,o,a,s)),r.bottom&&(i=n.x,o=n.y+t.height,a=n.x+t.width,s=n.y+t.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,o,a,s)),r.left&&(i=n.x,o=n.y,a=n.x,s=n.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.left,i,o,a,s)),r.right&&(i=n.x+t.width,o=n.y,a=n.x+t.width,s=n.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.right,i,o,a,s))}(e,t,n,r.lineWidth))}function g(e,t,n,r){var i=t.settings.margin.bottom,o=t.settings.showFoot;return("everyPage"===o||"lastPage"===o&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function v(e,t,n,r,o,a){void 0===o&&(o=[]),void 0===a&&(a=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||a||t.foot.forEach((function(n){return f(e,t,n,r,o)})),t.callEndPageHooks(e,r);var s=t.settings.margin;(0,i.addTableBorder)(e,t,n,r),y(e),t.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach((function(n){return f(e,t,n,r,o)})),e.applyStyles(e.userStyles))}function y(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}},799:function(e,t){function n(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function r(e,t){var n,r,i,o;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(i=e.right)&&void 0!==i?i:t,bottom:null!==(o=e.bottom)&&void 0!==o?o:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getStringWidth=function(e,t,n){return n.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map((function(e){return n.getTextWidth(e)})).reduce((function(e,t){return Math.max(e,t)}),0)},t.addTableBorder=function(e,t,r,i){var o=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:o,lineColor:a});var s=n(o,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),i.y-r.y,s)},t.getFillStyle=n,t.parseSpacing=r,t.getPageAvailableWidth=function(e,t){var n=r(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}var r={};return function(){var e,t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.Table=t.Row=t.HookData=t.Column=t.CellHookData=t.Cell=t.applyPlugin=void 0,t.autoTable=d,t.__createTable=function(e,t){var n=(0,a.parseInput)(e,t);return(0,l.createTable)(e,n)},t.__drawTable=function(e,t){(0,c.drawTable)(e,t)};var i=n(639);Object.defineProperty(t,"applyPlugin",{enumerable:!0,get:function(){return i.applyPlugin}});var o=n(601);Object.defineProperty(t,"CellHookData",{enumerable:!0,get:function(){return o.CellHookData}}),Object.defineProperty(t,"HookData",{enumerable:!0,get:function(){return o.HookData}});var a=n(371),s=n(524);Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return s.Cell}}),Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return s.Column}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return s.Row}}),Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return s.Table}});var l=n(376),c=n(789);function d(e,t){var n=(0,a.parseInput)(e,t),r=(0,l.createTable)(e,n);(0,c.drawTable)(e,r)}try{if("undefined"!==typeof window&&window){var u=window,h=u.jsPDF||(null===(e=u.jspdf)||void 0===e?void 0:e.jsPDF);h&&(0,i.applyPlugin)(h)}}catch(p){console.error("Could not apply autoTable plugin",p)}t.default=d}(),r}()},e.exports=r()},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),u="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+u+d,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var d=t[l];n>0&&o(d)?n>1?e(d,n-1,o,a,s):r(s,d):a||(s[s.length]=d)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),d=n(3279),u=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return u(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=r(t,l(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,R=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function W(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case _:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function $(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function _e(e){if(e=xi(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=ji(t),we(e.stateNode,e.type,t))}}function Ae(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Pe(e,t){return e(t)}function Ie(){}var Te=!1;function Ne(e,t,n){if(Te)return e(t,n);Te=!0;try{return Pe(e,t,n)}finally{Te=!1,(null!==ke||null!==Se)&&(Ie(),Ce())}}function Ee(e,t){var n=e.stateNode;if(null===n)return null;var r=ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){ze=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Re=null,Me=!1,Be=null,Fe={onError:function(e){De=!0,Re=e}};function We(e,t,n,r,i,o,a,s,l){De=!1,Re=null,Le.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ut(s):0!==(o&=a)&&(r=ut(o))}else 0!==(a=n&~i)?r=ut(a):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,kt,St,_t,At=!1,Ct=[],Pt=null,It=null,Tt=null,Nt=new Map,Et=new Map,zt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Mt(e)&&n.delete(t)}function Ft(){At=!1,null!==Pt&&Mt(Pt)&&(Pt=null),null!==It&&Mt(It)&&(It=null),null!==Tt&&Mt(Tt)&&(Tt=null),Nt.forEach(Bt),Et.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Wt(t,e)}if(0<Ct.length){Wt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Wt(Pt,e),null!==It&&Wt(It,e),null!==Tt&&Wt(Tt,e),Nt.forEach(t),Et.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Rt(n),null===n.blockedOn&&zt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=xt,o=qt.transition;qt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=i,qt.transition=o}}function Gt(e,t,n,r){var i=xt,o=qt.transition;qt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=i,qt.transition=o}}function Kt(e,t,n,r){if(Ht){var i=Zt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Dt(Pt,e,t,n,r,i),!0;case"dragenter":return It=Dt(It,e,t,n,r,i),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Et.set(o,Dt(Et.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=xi(i);if(null!==o&&jt(o),null===(o=Zt(e,t,n,r))&&Hr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Zt(e,t,n,r){if(Yt=null,null!==(e=yi(e=je(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=R({},cn,{view:0,detail:0}),hn=on(un),pn=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(R({},pn,{dataTransfer:0})),gn=on(R({},un,{relatedTarget:0})),vn=on(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(yn),bn=on(R({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Sn}var An=R({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(An),Pn=on(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Tn=on(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),En=on(Nn),zn=[9,13,27,32],On=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Rn=d&&(!On||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Mr(e,0)}function Zn(e){if(K(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(d){var $n;if(d){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}$n=Qn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Vn(t,Kn,e,je(e)),Ne(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function or(e,t){if("click"===e)return Zn(t)}function ar(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=dr(n,o);var a=dr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},kr={},Sr={};function _r(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ar=_r("animationend"),Cr=_r("animationiteration"),Pr=_r("animationstart"),Ir=_r("transitionend"),Tr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Tr.set(e,t),l(t,[e])}for(var zr=0;zr<Nr.length;zr++){var Or=Nr[zr];Er(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Er(Ar,"onAnimationEnd"),Er(Cr,"onAnimationIteration"),Er(Pr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(We.apply(this,arguments),De){if(!De)throw Error(o(198));var d=Re;De=!1,Re=null,Me||(Me=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,s,c),o=l}}}if(Me)throw e=Be,Me=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Wr]){e[Wr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Fr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=je(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ar:case Cr:case Pr:l=vn;break;case Ir:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==s?s+"Capture":null:s;d=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ee(f,h))&&d.push(Vr(f,m,p)))),u)break;f=f.return}0<d.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?s:bi(l),p=null==c?s:bi(c),(s=new d(m,f+"leave",l,n,i)).target=u,s.relatedTarget=p,m=null,yi(i)===r&&((d=new d(h,f+"enter",c,n,i)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)d=Kr(d),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kr(d),h=Kr(h)}d=null}else d=null;null!==l&&Yr(a,s,l,d,!1),null!==c&&null!==u&&Yr(a,u,c,d,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Hn(s))if(Xn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Un?Fn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==x?"onCompositionEnd"===x&&Un&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(v=Gr(r,x)).length&&(x=new bn(x,e,null,n,i),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=Wn(n))&&(x.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Fn(e,t)?(e=en(),Qt=$t=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ee(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Ee(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ee(n,o))&&a.unshift(Vr(n,l,s)):i||null!=(l=Ee(n,o))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,pi="__reactProps$"+ui,fi="__reactContainer$"+ui,mi="__reactEvents$"+ui,gi="__reactListeners$"+ui,vi="__reactHandles$"+ui;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ji(e){return e[pi]||null}var wi=[],ki=-1;function Si(e){return{current:e}}function _i(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Ai(e,t){ki++,wi[ki]=e.current,e.current=t}var Ci={},Pi=Si(Ci),Ii=Si(!1),Ti=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ei(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){_i(Ii),_i(Pi)}function Oi(e,t,n){if(Pi.current!==Ci)throw Error(o(168));Ai(Pi,t),Ai(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return R({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ti=Pi.current,Ai(Pi,e),Ai(Ii,Ii.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,_i(Ii),_i(Pi),Ai(Pi,e)):_i(Ii),Ai(Ii,n)}var Mi=null,Bi=!1,Fi=!1;function Wi(e){null===Mi?Mi=[e]:Mi.push(e)}function Ui(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=xt;try{var n=Mi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Bi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Qe,Ui),i}finally{xt=t,Fi=!1}}return null}var qi=[],Hi=0,Vi=null,Gi=0,Ki=[],Yi=0,Zi=null,Ji=1,Xi="";function $i(e,t){qi[Hi++]=Gi,qi[Hi++]=Vi,Vi=e,Gi=t}function Qi(e,t,n){Ki[Yi++]=Ji,Ki[Yi++]=Xi,Ki[Yi++]=Zi,Zi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&($i(e,1),Qi(e,1,0))}function to(e){for(;e===Vi;)Vi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Zi;)Zi=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,Ji=Ki[--Yi],Ki[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&xo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Mc(t,e.mode,n)).return=e,t;case E:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?d(e,t,n,r):null;case E:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:u(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return u(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,l){for(var c=null,d=null,u=o,m=o=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=p(i,u,s[m],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(i,u),o=a(v,o,m),null===d?c=v:d.sibling=v,d=v,u=g}if(m===s.length)return n(i,u),io&&$i(i,m),c;if(null===u){for(;m<s.length;m++)null!==(u=h(i,s[m],l))&&(o=a(u,o,m),null===d?c=u:d.sibling=u,d=u);return io&&$i(i,m),c}for(u=r(i,u);m<s.length;m++)null!==(g=f(u,i,m,s[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),o=a(g,o,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(i,e)})),io&&$i(i,m),c}function g(i,s,l,c){var d=L(l);if("function"!==typeof d)throw Error(o(150));if(null==(l=d.call(l)))throw Error(o(151));for(var u=d=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=p(i,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(i,m),s=a(x,s,g),null===u?d=x:u.sibling=x,u=x,m=v}if(y.done)return n(i,m),io&&$i(i,g),d;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===u?d=y:u.sibling=y,u=y);return io&&$i(i,g),d}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(i,e)})),io&&$i(i,g),d}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case j:e:{for(var c=a.key,d=o;null!==d;){if(d.key===c){if((c=a.type)===k){if(7===d.tag){n(r,d.sibling),(o=i(d,a.props.children)).return=r,r=o;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===E&&xo(c)===d.type){n(r,d.sibling),(o=i(d,a.props)).ref=vo(r,d,a),o.return=r,r=o;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===k?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(d=a.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Mc(a,r.mode,l)).return=r,r=o}return s(r);case E:return e(r,o,(d=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Rc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var jo=bo(!0),wo=bo(!1),ko=Si(null),So=null,_o=null,Ao=null;function Co(){Ao=_o=So=null}function Po(e){var t=ko.current;_i(ko),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){So=e,Ao=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===So)throw Error(o(308));_o=e,So.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Eo=null;function zo(e){null===Eo?Eo=[e]:Eo.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,zo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,zo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=i.baseState;for(a=0,d=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,u,h):f)||void 0===h)break e;u=R({},u,h);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=u}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},Go=Si(Vo),Ko=Si(Vo),Yo=Si(Vo);function Zo(e){if(e===Vo)throw Error(o(174));return e}function Jo(e,t){switch(Ai(Yo,t),Ai(Ko,e),Ai(Go,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Go),Ai(Go,t)}function Xo(){_i(Go),_i(Ko),_i(Yo)}function $o(e){Zo(Yo.current);var t=Zo(Go.current),n=le(t,e.type);t!==n&&(Ai(Ko,e),Ai(Go,n))}function Qo(e){Ko.current===e&&(_i(Go),_i(Ko))}var ea=Si(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=b.ReactCurrentDispatcher,oa=b.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,da=!1,ua=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Qa:es,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(ua)}if(ia.current=$a,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,da=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function xa(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function ba(e,t){return"function"===typeof t?t(e):t}function ja(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,d=a;do{var u=d.lane;if((aa&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Sa(e,t){var n=sa,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Da(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Na(9,Aa.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&aa)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Ia(e)}function Ca(e,t,n){return n((function(){Pa(t)&&Ia(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ia(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Ta(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ea(){return xa().memoizedState}function za(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Na(t,n,o,r))}sa.flags|=e,i.memoizedState=Na(1|t,n,o,r)}function La(e,t){return za(8390656,8,e,t)}function Da(e,t){return Oa(2048,8,e,t)}function Ra(e,t){return Oa(4,2,e,t)}function Ma(e,t){return Oa(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Ba.bind(null,t,e),n)}function Wa(){}function Ua(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t)}function Va(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{xt=n,oa.transition=r}}function Ga(){return xa().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))Ja(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))Ja(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,zo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Za(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){ua=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $a={readContext:No,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Qa={readContext:No,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ta,useDebugValue:Wa,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=Va.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&aa)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Aa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Il.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:No,useCallback:Ua,useContext:No,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Ra,useLayoutEffect:Ma,useMemo:qa,useReducer:ja,useRef:Ea,useState:function(){return ja(ba)},useDebugValue:Wa,useDeferredValue:function(e){return Ha(xa(),la.memoizedState,e)},useTransition:function(){return[ja(ba)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:No,useCallback:Ua,useContext:No,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Ra,useLayoutEffect:Ma,useMemo:qa,useReducer:wa,useRef:Ea,useState:function(){return wa(ba)},useDebugValue:Wa,useDeferredValue:function(e){var t=xa();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[wa(ba)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nc(t,e,i,r),Wo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nc(t,e,i,r),Wo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Bo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fo(e,i,r))&&(nc(t,e,r,n),Wo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Ei(t)?Ti:Pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Ei(t)?Ti:Pi.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),us(0,t)},n}function fs(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){us(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=b.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?wo(t,null,n,r):jo(t,e.child,n,r)}function js(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||xs?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ec(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=zc(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return As(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(zl,El),El|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(zl,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(zl,El),El|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(zl,El),El|=r;return bs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var o=Ei(n)?Ti:Pi.current;return o=Ni(t,o),To(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||xs?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ei(n)){var o=!0;Di(t)}else o=!1;if(To(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Ni(t,c=Ei(n)?Ti:Pi.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Do=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ii.current||Do?("function"===typeof d&&(rs(t,n,d,r),l=t.memoizedState),(s=Do||os(t,n,s,r,h,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,u=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ni(t,l=Ei(n)?Ti:Pi.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||h!==l)&&ss(t,a,r,l),Do=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var f=t.memoizedState;s!==u||h!==f||Ii.current||Do?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Do||os(t,n,c,r,h,f,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ri(t,n,!1),Hs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=jo(t,e.child,null,o),t.child=jo(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Jo(e,t.containerInfo)}function Ts(e,t,n,r,i){return fo(),mo(i),t.flags|=256,bs(e,t,n,r),t.child}var Ns,Es,zs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ai(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Ms(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&jo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Bs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Yi++]=Ji,Ki[Yi++]=Xi,Ki[Yi++]=Zi,Ji=e.id,Xi=e.overflow,Zi=t),t=Ms(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=zc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=zc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=zc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ms(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),jo(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ei(t.type)&&zi(),Gs(t),null;case 3:return r=t.stateNode,Xo(),_i(Ii),_i(Pi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Es(e,t),Gs(t),null;case 5:Qo(t);var i=Zo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)zs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=Zo(Go.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Q(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":J(e,r),i=Z(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Br("scroll",e):null!=d&&x(e,a,d,l))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo(Yo.current),Zo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(_i(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Xo(),Es(e,t),null===e&&Ur(t.stateNode.containerInfo),Gs(t),null;case 10:return Po(t.type._context),Gs(t),null;case 19:if(_i(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ul&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*Xe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ai(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&El)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ei(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),_i(Ii),_i(Pi),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(_i(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ea),null;case 4:return Xo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Es=function(){},zs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zo(Go.current);var o,a=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),a=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(d in ye(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||Qs(n,t);case 6:var r=dl,i=ul;dl=null,hl(e,t,n),ul=i,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(dl,n.stateNode));break;case 4:r=dl,i=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Js&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hl(e,t,n),Js=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){Sc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),xe(l,s);var d=xe(l,a);for(s=0;s<c.length;s+=2){var u=c[s],h=c[s+1];"style"===u?ge(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):x(i,u,h,d)}switch(l){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Xe())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(d=Js)||u,ml(t,e),Js=d):ml(t,e),vl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for($s=e,u=e.child;null!==u;){for(h=$s=u;null!==$s;){switch(f=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){jl(h);continue}}null!==f?(f.return=p,$s=f):jl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Zs;var c=Js;if(Zs=a,(Js=l)&&!c)for($s=i;null!==$s;)l=(a=$s).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,$s=l):wl(i);for(;null!==o;)$s=o,xl(o,t,n),o=o.sibling;$s=i,Zs=s,Js=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):bl(e)}}function bl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&il(t)}catch(p){Sc(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function jl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var kl,Sl=Math.ceil,_l=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Pl=0,Il=null,Tl=null,Nl=0,El=0,zl=Si(0),Ol=0,Ll=null,Dl=0,Rl=0,Ml=0,Bl=null,Fl=null,Wl=0,Ul=1/0,ql=null,Hl=!1,Vl=null,Gl=null,Kl=!1,Yl=null,Zl=0,Jl=0,Xl=null,$l=-1,Ql=0;function ec(){return 0!==(6&Pl)?Xe():-1!==$l?$l:$l=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Pl)&&e===Il||(e===Il&&(0===(2&Pl)&&(Rl|=n),4===Ol&&sc(e,Nl)),rc(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Ul=Xe()+500,Bi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Il?Nl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Bi=!0,Wi(e)}(lc.bind(null,e)):Wi(lc.bind(null,e)),ai((function(){0===(6&Pl)&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Ql=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Pl;Pl|=2;var a=fc();for(Il===e&&Nl===t||(ql=null,Ul=Xe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Co(),_l.current=a,Pl=i,null!==Tl?t=0:(Il=null,Nl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:jc(e,Fl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Wl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(jc.bind(null,e,Fl,ql),t);break}jc(e,Fl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(jc.bind(null,e,Fl,ql),r);break}jc(e,Fl,ql);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ac(t)),e}function ac(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Ml,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Pl))throw Error(o(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Fl,ql),rc(e,Xe()),null}function cc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Ul=Xe()+500,Bi&&Ui())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&wc();var t=Pl;Pl|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(Pl=t))&&Ui()}}function uc(){El=zl.current,_i(zl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:Xo(),_i(Ii),_i(Pi),ra();break;case 5:Qo(r);break;case 4:Xo();break;case 13:case 19:_i(ea);break;case 10:Po(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Il=e,Tl=e=zc(e.current,null),Nl=El=t,Ol=0,Ll=null,Ml=Rl=Dl=0,Fl=Bl=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Eo=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Co(),ia.current=$a,da){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}da=!1}if(aa=0,ca=la=sa=null,ua=!1,ha=0,Al.current=null,null===n||null===n.return){Ol=1,Ll=t,Tl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&ms(a,d,t),c=d;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,d,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Ol&&(Ol=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var e=_l.current;return _l.current=$a,null===e?$a:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Il||0===(268435455&Dl)&&0===(268435455&Rl)||sc(Il,Nl)}function gc(e,t){var n=Pl;Pl|=2;var r=fc();for(Il===e&&Nl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Co(),Pl=n,_l.current=r,null!==Tl)throw Error(o(261));return Il=null,Nl=0,Ol}function vc(){for(;null!==Tl;)xc(Tl)}function yc(){for(;null!==Tl&&!Ze();)xc(Tl)}function xc(e){var t=kl(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Al.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,El)))return void(Tl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function jc(e,t,n){var r=xt,i=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{wc()}while(null!==Yl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Il&&(Tl=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=xt;xt=1;var l=Pl;Pl|=4,Al.current=null,function(e,t){if(ei=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(j){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===i&&(l=s),p===a&&++u===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Je(),Pl=l,xt=s,Cl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Zl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Zl)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Ui()}(e,t,n,r)}finally{Cl.transition=i,xt=r}return null}function wc(){if(null!==Yl){var e=bt(Zl),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Zl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for($s=d;null!==$s;){var u=$s;switch(u.tag){case 0:case 11:case 15:nl(8,u,a)}var h=u.child;if(null!==h)h.return=u,$s=h;else for(;null!==$s;){var p=(u=$s).sibling,f=u.return;if(ol(u),u===d){$s=null;break}if(null!==p){p.return=f,$s=p;break}$s=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$s=y;break e}$s=a.return}}var x=e.current;for($s=x;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=x;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Sc(l,l.return,w)}if(l===s){$s=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,$s=j;break e}$s=l.return}}if(Pl=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Fo(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fo(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Ol||3===Ol&&(130023424&Nl)===Nl&&500>Xe()-Wl?hc(e,0):Ml|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ac(e,n)}function Ic(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Tc(e,t,n,r)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ec(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Lc(n.children,i,a,t);case S:s=8,i|=8;break;case _:return(e=Nc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case I:return(e=Nc(13,n,t,i)).elementType=I,e.lanes=a,e;case T:return(e=Nc(19,n,t,i)).elementType=T,e.lanes=a,e;case z:return Dc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case C:s=9;break e;case P:s=11;break e;case N:s=14;break e;case E:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,o,a,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Wc(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ei(n))return Li(e,n,t)}return t}function Uc(e,t,n,r,i,o,a,s,l){return(e=Fc(n,r,!0,e,0,o,0,s,l)).context=Wc(null),n=e.current,(o=Bo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(i,t,a))&&(nc(e,i,a,o),Wo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fo();break;case 5:$o(t);break;case 1:Ei(t.type)&&Di(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Ai(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ai(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Qi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ni(t,Pi.current);To(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ei(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ec(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=js(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return $o(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),_s(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Rs(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=jo(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ai(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Bo(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=No(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Ei(r)?(e=!0,Di(t)):e=!1,To(t,n),as(t,r,i),ls(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Qc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[fi]=a.current,Ur(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Zc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Zc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[fi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Pl)&&(Ul=Xe()+500,Ui()))}break;case 13:dc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(o(90));K(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cc,Ie=dc;var ed={usingClientEntryPoint:!1,Events:[xi,bi,ji,Ae,Ce,cc]},td={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{it=rd.inject(nd),ot=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(9096);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),d=!n&&i(e),u=!n&&!d&&a(e),h=!n&&!d&&!u&&l(e),p=n||d||u||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<d;){var v=e[f],y=t[f];if(a)var x=c?a(y,v,f,t,e,l):a(v,y,f,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,f=t,u=e.apply(r,n)}function x(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=d}function b(){var e=i();if(x(e))return j(e);h=setTimeout(b,function(e){var n=t-(e-p);return g?s(n,d-(e-f)):n}(e))}function j(e){return h=void 0,v&&l?y(e):(l=c=void 0,u)}function w(){var e=i(),n=x(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(b,t),m?y(e):u}(p);if(g)return clearTimeout(h),h=setTimeout(b,t),y(p)}return void 0===h&&(h=setTimeout(b,t)),u}return t=o(t)||0,r(n)&&(m=!!n.leading,d=(g="maxWait"in n)?a(o(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},w.flush=function(){return void 0===h?u:j(i())},w}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+P(l,0):o,j(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",j(e))for(var c=0;c<e.length;c++){var d=o+P(s=e[c],c);l+=I(s,t,i,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,d=o+P(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},z={transition:null},O={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,n){return E.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,n){return E.current.useReducer(e,t,n)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.H=r.createRoot,r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,d=i,u=e.length,h=!0,p=[],f=p;if(n)h=!1,d=o;else if(u>=200){var m=t?null:s(e);if(m)return l(m);h=!1,d=a,f=new r}else f=t?[]:p;e:for(;++c<u;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,h&&v===v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(g)}else d(f,v,n)||(f!==p&&f.push(v),p.push(g))}return p}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5082:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return j(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||j(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return j(e)===c},t.isContextProvider=function(e){return j(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return j(e)===h},t.isFragment=function(e){return j(e)===o},t.isLazy=function(e){return j(e)===g},t.isMemo=function(e){return j(e)===m},t.isPortal=function(e){return j(e)===i},t.isProfiler=function(e){return j(e)===s},t.isStrictMode=function(e){return j(e)===a},t.isSuspense=function(e){return j(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===u||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===v)},t.typeOf=j},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:i.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<d;){var v=e[h=c[u]],y=t[h];if(o)var x=l?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===x?v===y||a(v,y,n,o,s):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,j=t.constructor;b==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,d;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return v(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),d=n(1268),u="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),x=l(t),b=y?h:s(e),j=x?h:s(t),w=(b=b==u?p:b)==p,k=(j=j==u?p:j)==p,S=b==j;if(S&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(S&&!w)return v||(v=new r),y||d(e)?i(e,t,n,m,g,v):o(e,t,b,n,m,g,v);if(!(1&n)){var _=w&&f.call(e,"__wrapped__"),A=k&&f.call(t,"__wrapped__");if(_||A){var C=_?e.value():e,P=A?t.value():t;return v||(v=new r),g(C,P,n,m,v)}}return!!S&&(v||(v=new r),a(e,t,n,m,g,v))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var d=(c=n[a])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new r;if(o)var f=o(u,h,d,e,t,p);if(!(void 0===f?i(h,u,3,o,p):f))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,d=r(t);if(!l&&!d&&!a&&e>t||a&&s&&c&&!l&&!d||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!d&&e<t||d&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),d="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),x=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=d||o&&b(o.resolve())!=u||a&&b(new a)!=h||s&&b(new s)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return d;case v:return u;case y:return h;case x:return p}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>o(l,n))c<i&&0>o(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,z(w);else{var t=r(d);null!==t&&O(j,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(A),A=-1),f=!0;var o=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&O(j,u.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,_=null,A=-1,C=5,P=-1;function I(){return!(t.unstable_now()-P<C)}function T(){if(null!==_){var e=t.unstable_now();P=e;var n=!0;try{n=_(!0,e)}finally{n?k():(S=!1,_=null)}}else S=!1}if("function"===typeof x)k=function(){x(T)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,E=N.port2;N.port1.onmessage=T,k=function(){E.postMessage(null)}}else k=function(){v(T,0)};function z(e){_=e,S||(S=!0,k())}function O(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,z(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(g?(y(A),A=-1):g=!0,O(j,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,z(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,o),!0;case 6:return d.fn.call(d.context,t,r,i,o,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7762:(e,t,n)=>{"use strict";n.d(t,{uE:()=>ze});var r=n(2284),i=Uint8Array,o=Uint16Array,a=Int32Array,s=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new a(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},u=d(s,2),h=u.b,p=u.r;h[28]=258,p[258]=28;for(var f=d(l,0),m=f.b,g=f.r,v=new o(32768),y=0;y<32768;++y){var x=(43690&y)>>1|(21845&y)<<1;x=(61680&(x=(52428&x)>>2|(13107&x)<<2))>>4|(3855&x)<<4,v[y]=((65280&x)>>8|(255&x)<<8)>>1}var b=function(e,t,n){for(var r=e.length,i=0,a=new o(t);i<r;++i)e[i]&&++a[e[i]-1];var s,l=new o(t);for(i=1;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;if(n){s=new o(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],h=l[e[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)s[v[h]>>c]=d}else for(s=new o(r),i=0;i<r;++i)e[i]&&(s[i]=v[l[e[i]-1]++]>>15-e[i]);return s},j=new i(288);for(y=0;y<144;++y)j[y]=8;for(y=144;y<256;++y)j[y]=9;for(y=256;y<280;++y)j[y]=7;for(y=280;y<288;++y)j[y]=8;var w=new i(32);for(y=0;y<32;++y)w[y]=5;var k=b(j,9,0),S=b(j,9,1),_=b(w,5,0),A=b(w,5,1),C=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},P=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},I=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},T=function(e){return(e+7)/8|0},N=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new i(e.subarray(t,n))},E=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],z=function(e,t,n){var r=new Error(t||E[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,z),!n)throw r;return r},O=function(e,t,n,r){var o=e.length,a=r?r.length:0;if(!o||t.f&&!t.l)return n||new i(0);var d=!n,u=d||2!=t.i,p=t.i;d&&(n=new i(3*o));var f=function(e){var t=n.length;if(e>t){var r=new i(Math.max(2*t,e));r.set(n),n=r}},g=t.f||0,v=t.p||0,y=t.b||0,x=t.l,j=t.d,w=t.m,k=t.n,_=8*o;do{if(!x){g=P(e,v,1);var E=P(e,v+1,3);if(v+=3,!E){var O=e[(V=T(v)+4)-4]|e[V-3]<<8,L=V+O;if(L>o){p&&z(0);break}u&&f(y+O),n.set(e.subarray(V,L),y),t.b=y+=O,t.p=v=8*L,t.f=g;continue}if(1==E)x=S,j=A,w=9,k=5;else if(2==E){var D=P(e,v,31)+257,R=P(e,v+10,15)+4,M=D+P(e,v+5,31)+1;v+=14;for(var B=new i(M),F=new i(19),W=0;W<R;++W)F[c[W]]=P(e,v+3*W,7);v+=3*R;var U=C(F),q=(1<<U)-1,H=b(F,U,1);for(W=0;W<M;){var V,G=H[P(e,v,q)];if(v+=15&G,(V=G>>4)<16)B[W++]=V;else{var K=0,Y=0;for(16==V?(Y=3+P(e,v,3),v+=2,K=B[W-1]):17==V?(Y=3+P(e,v,7),v+=3):18==V&&(Y=11+P(e,v,127),v+=7);Y--;)B[W++]=K}}var Z=B.subarray(0,D),J=B.subarray(D);w=C(Z),k=C(J),x=b(Z,w,1),j=b(J,k,1)}else z(1);if(v>_){p&&z(0);break}}u&&f(y+131072);for(var X=(1<<w)-1,$=(1<<k)-1,Q=v;;Q=v){var ee=(K=x[I(e,v)&X])>>4;if((v+=15&K)>_){p&&z(0);break}if(K||z(2),ee<256)n[y++]=ee;else{if(256==ee){Q=v,x=null;break}var te=ee-254;if(ee>264){var ne=s[W=ee-257];te=P(e,v,(1<<ne)-1)+h[W],v+=ne}var re=j[I(e,v)&$],ie=re>>4;re||z(3),v+=15&re;J=m[ie];if(ie>3){ne=l[ie];J+=I(e,v)&(1<<ne)-1,v+=ne}if(v>_){p&&z(0);break}u&&f(y+131072);var oe=y+te;if(y<J){var ae=a-J,se=Math.min(J,oe);for(ae+y<0&&z(3);y<se;++y)n[y]=r[ae+y]}for(;y<oe;++y)n[y]=n[y-J]}}t.l=x,t.p=Q,t.b=y,t.f=g,x&&(g=1,t.m=w,t.d=j,t.n=k)}while(!g);return y!=n.length&&d?N(n,0,y):n.subarray(0,y)},L=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},D=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},R=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return{t:H,l:0};if(1==a){var l=new i(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,h=1,p=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};h!=a-1;)c=n[n[u].f<n[p].f?u++:p++],d=n[u!=h&&n[u].f<n[p].f?u++:p++],n[h++]={s:-1,f:c.f+d.f,l:c,r:d};var f=s[0].s;for(r=1;r<a;++r)s[r].s>f&&(f=s[r].s);var m=new o(f+1),g=M(n[h-1],m,0);if(g>t){r=0;var v=0,y=g-t,x=1<<y;for(s.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));r<a;++r){var b=s[r].s;if(!(m[b]>t))break;v+=x-(1<<g-m[b]),m[b]=t}for(v>>=y;v>0;){var j=s[r].s;m[j]<t?v-=1<<t-m[j]++-1:++r}for(;r>=0&&v;--r){var w=s[r].s;m[w]==t&&(--m[w],++v)}g=t}return{t:new i(m),l:g}},M=function(e,t,n){return-1==e.s?Math.max(M(e.l,t,n+1),M(e.r,t,n+1)):t[e.s]=n},B=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new o(++t),r=0,i=e[0],a=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:n.subarray(0,r),n:t}},F=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},W=function(e,t,n){var r=n.length,i=T(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},U=function(e,t,n,r,i,a,d,u,h,p,f){L(t,f++,n),++i[256];for(var m=R(i,15),g=m.t,v=m.l,y=R(a,15),x=y.t,S=y.l,A=B(g),C=A.c,P=A.n,I=B(x),T=I.c,N=I.n,E=new o(19),z=0;z<C.length;++z)++E[31&C[z]];for(z=0;z<T.length;++z)++E[31&T[z]];for(var O=R(E,7),M=O.t,U=O.l,q=19;q>4&&!M[c[q-1]];--q);var H,V,G,K,Y=p+5<<3,Z=F(i,j)+F(a,w)+d,J=F(i,g)+F(a,x)+d+14+3*q+F(E,M)+2*E[16]+3*E[17]+7*E[18];if(h>=0&&Y<=Z&&Y<=J)return W(t,f,e.subarray(h,h+p));if(L(t,f,1+(J<Z)),f+=2,J<Z){H=b(g,v,0),V=g,G=b(x,S,0),K=x;var X=b(M,U,0);L(t,f,P-257),L(t,f+5,N-1),L(t,f+10,q-4),f+=14;for(z=0;z<q;++z)L(t,f+3*z,M[c[z]]);f+=3*q;for(var $=[C,T],Q=0;Q<2;++Q){var ee=$[Q];for(z=0;z<ee.length;++z){var te=31&ee[z];L(t,f,X[te]),f+=M[te],te>15&&(L(t,f,ee[z]>>5&127),f+=ee[z]>>12)}}}else H=k,V=j,G=_,K=w;for(z=0;z<u;++z){var ne=r[z];if(ne>255){D(t,f,H[(te=ne>>18&31)+257]),f+=V[te+257],te>7&&(L(t,f,ne>>23&31),f+=s[te]);var re=31&ne;D(t,f,G[re]),f+=K[re],re>3&&(D(t,f,ne>>5&8191),f+=l[re])}else D(t,f,H[ne]),f+=V[ne]}return D(t,f,H[256]),f+V[256]},q=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),H=new i(0),V=function(e,t,n,r,c,d){var u=d.z||e.length,h=new i(r+u+5*(1+Math.ceil(u/7e3))+c),f=h.subarray(r,h.length-c),m=d.l,v=7&(d.r||0);if(t){v&&(f[0]=d.r>>3);for(var y=q[t-1],x=y>>13,b=8191&y,j=(1<<n)-1,w=d.p||new o(32768),k=d.h||new o(j+1),S=Math.ceil(n/3),_=2*S,A=function(t){return(e[t]^e[t+1]<<S^e[t+2]<<_)&j},C=new a(25e3),P=new o(288),I=new o(32),E=0,z=0,O=d.i||0,L=0,D=d.w||0,R=0;O+2<u;++O){var M=A(O),B=32767&O,F=k[M];if(w[B]=F,k[M]=B,D<=O){var H=u-O;if((E>7e3||L>24576)&&(H>423||!m)){v=U(e,f,0,C,P,I,z,L,R,O-R,v),L=E=z=0,R=O;for(var V=0;V<286;++V)P[V]=0;for(V=0;V<30;++V)I[V]=0}var G=2,K=0,Y=b,Z=B-F&32767;if(H>2&&M==A(O-Z))for(var J=Math.min(x,H)-1,X=Math.min(32767,O),$=Math.min(258,H);Z<=X&&--Y&&B!=F;){if(e[O+G]==e[O+G-Z]){for(var Q=0;Q<$&&e[O+Q]==e[O+Q-Z];++Q);if(Q>G){if(G=Q,K=Z,Q>J)break;var ee=Math.min(Z,Q-2),te=0;for(V=0;V<ee;++V){var ne=O-Z+V&32767,re=ne-w[ne]&32767;re>te&&(te=re,F=ne)}}}Z+=(B=F)-(F=w[B])&32767}if(K){C[L++]=268435456|p[G]<<18|g[K];var ie=31&p[G],oe=31&g[K];z+=s[ie]+l[oe],++P[257+ie],++I[oe],D=O+G,++E}else C[L++]=e[O],++P[e[O]]}}for(O=Math.max(O,D);O<u;++O)C[L++]=e[O],++P[e[O]];v=U(e,f,m,C,P,I,z,L,R,O-R,v),m||(d.r=7&v|f[v/8|0]<<3,v-=7,d.h=k,d.p=w,d.i=O,d.w=D)}else{for(O=d.w||0;O<u+m;O+=65535){var ae=O+65535;ae>=u&&(f[v/8|0]=m,ae=u),v=W(f,v+1,e.subarray(O,ae))}d.i=u}return N(h,0,r+T(v)+c)},G=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=0|n.length,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},K=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new i(a.length+e.length);s.set(a),s.set(e,a.length),e=s,o.w=a.length}return V(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,o)},Y=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Z=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=G();i.p(t.dictionary),Y(e,2,i.d())}},J=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&z(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&z(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function X(e,t){t||(t={});var n=G();n.p(e);var r=K(e,t,t.dictionary?6:2,4);return Z(r,t),Y(r,r.length-4,n.d()),r}function $(e,t){return O(e.subarray(J(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Q="undefined"!=typeof TextDecoder&&new TextDecoder;try{Q.decode(H,{stream:!0})}catch(xn){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var ee=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function te(){ee.console&&"function"==typeof ee.console.log&&ee.console.log.apply(ee.console,arguments)}var ne={log:te,warn:function(e){ee.console&&("function"==typeof ee.console.warn?ee.console.warn.apply(ee.console,arguments):te.call(null,arguments))},error:function(e){ee.console&&("function"==typeof ee.console.error?ee.console.error.apply(ee.console,arguments):te(e))}};function re(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){le(r.response,t,n)},r.onerror=function(){ne.error("could not download file")},r.send()}function ie(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function oe(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ae,se,le=ee.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,r.A)(window))||window!==ee?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ee.URL||ee.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?ie(i.href)?re(e,t,n):oe(i,i.target="_blank"):oe(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){oe(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(ie(e))re(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){oe(i)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,r.A)(t)&&(ne.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return re(e,t,n);var o="application/octet-stream"===e.type,a=/constructor/i.test(ee.HTMLElement)||ee.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&a)&&"object"===("undefined"==typeof FileReader?"undefined":(0,r.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var e=l.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var c=ee.URL||ee.webkitURL,d=c.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});function ce(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function de(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=he(n,r,i,o,t[0],7,-680876936),o=he(o,n,r,i,t[1],12,-389564586),i=he(i,o,n,r,t[2],17,606105819),r=he(r,i,o,n,t[3],22,-1044525330),n=he(n,r,i,o,t[4],7,-176418897),o=he(o,n,r,i,t[5],12,1200080426),i=he(i,o,n,r,t[6],17,-1473231341),r=he(r,i,o,n,t[7],22,-45705983),n=he(n,r,i,o,t[8],7,1770035416),o=he(o,n,r,i,t[9],12,-1958414417),i=he(i,o,n,r,t[10],17,-42063),r=he(r,i,o,n,t[11],22,-1990404162),n=he(n,r,i,o,t[12],7,1804603682),o=he(o,n,r,i,t[13],12,-40341101),i=he(i,o,n,r,t[14],17,-1502002290),n=pe(n,r=he(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=pe(o,n,r,i,t[6],9,-1069501632),i=pe(i,o,n,r,t[11],14,643717713),r=pe(r,i,o,n,t[0],20,-373897302),n=pe(n,r,i,o,t[5],5,-701558691),o=pe(o,n,r,i,t[10],9,38016083),i=pe(i,o,n,r,t[15],14,-660478335),r=pe(r,i,o,n,t[4],20,-405537848),n=pe(n,r,i,o,t[9],5,568446438),o=pe(o,n,r,i,t[14],9,-1019803690),i=pe(i,o,n,r,t[3],14,-187363961),r=pe(r,i,o,n,t[8],20,1163531501),n=pe(n,r,i,o,t[13],5,-1444681467),o=pe(o,n,r,i,t[2],9,-51403784),i=pe(i,o,n,r,t[7],14,1735328473),n=fe(n,r=pe(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=fe(o,n,r,i,t[8],11,-2022574463),i=fe(i,o,n,r,t[11],16,1839030562),r=fe(r,i,o,n,t[14],23,-35309556),n=fe(n,r,i,o,t[1],4,-1530992060),o=fe(o,n,r,i,t[4],11,1272893353),i=fe(i,o,n,r,t[7],16,-155497632),r=fe(r,i,o,n,t[10],23,-1094730640),n=fe(n,r,i,o,t[13],4,681279174),o=fe(o,n,r,i,t[0],11,-358537222),i=fe(i,o,n,r,t[3],16,-722521979),r=fe(r,i,o,n,t[6],23,76029189),n=fe(n,r,i,o,t[9],4,-640364487),o=fe(o,n,r,i,t[12],11,-421815835),i=fe(i,o,n,r,t[15],16,530742520),n=me(n,r=fe(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=me(o,n,r,i,t[7],10,1126891415),i=me(i,o,n,r,t[14],15,-1416354905),r=me(r,i,o,n,t[5],21,-57434055),n=me(n,r,i,o,t[12],6,1700485571),o=me(o,n,r,i,t[3],10,-1894986606),i=me(i,o,n,r,t[10],15,-1051523),r=me(r,i,o,n,t[1],21,-2054922799),n=me(n,r,i,o,t[8],6,1873313359),o=me(o,n,r,i,t[15],10,-30611744),i=me(i,o,n,r,t[6],15,-1560198380),r=me(r,i,o,n,t[13],21,1309151649),n=me(n,r,i,o,t[4],6,-145523070),o=me(o,n,r,i,t[11],10,-1120210379),i=me(i,o,n,r,t[2],15,718787259),r=me(r,i,o,n,t[9],21,-343485551),e[0]=ke(n,e[0]),e[1]=ke(r,e[1]),e[2]=ke(i,e[2]),e[3]=ke(o,e[3])}function ue(e,t,n,r,i,o){return t=ke(ke(t,e),ke(r,o)),ke(t<<i|t>>>32-i,n)}function he(e,t,n,r,i,o,a){return ue(t&n|~t&r,e,t,i,o,a)}function pe(e,t,n,r,i,o,a){return ue(t&r|n&~r,e,t,i,o,a)}function fe(e,t,n,r,i,o,a){return ue(t^n^r,e,t,i,o,a)}function me(e,t,n,r,i,o,a){return ue(n^(t|~r),e,t,i,o,a)}function ge(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)de(r,ve(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(de(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,de(r,i),r}function ve(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ae=ee.atob.bind(ee),se=ee.btoa.bind(ee);var ye="0123456789abcdef".split("");function xe(e){for(var t="",n=0;n<4;n++)t+=ye[e>>8*n+4&15]+ye[e>>8*n&15];return t}function be(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function je(e){return ge(e).map(be).join("")}var we="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=xe(e[t]);return e.join("")}(ge("hello"));function ke(e,t){if(we){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Se(e,t){var n,r,i,o;if(e!==n){for(var a=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var d=s[l];c=(c+d+a.charCodeAt(l))%256,s[l]=s[c],s[c]=d}n=e,r=s}else s=r;var u=t.length,h=0,p=0,f="";for(l=0;l<u;l++)p=(p+(d=s[h=(h+1)%256]))%256,s[h]=s[p],s[p]=d,a=s[(s[h]+s[p])%256],f+=String.fromCharCode(t.charCodeAt(l)^a);return f}var _e={print:4,modify:8,copy:16,"annot-forms":32};function Ae(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==_e.perm)throw new Error("Invalid permission: "+e);i+=_e[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=je(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Se(this.encryptionKey,this.padding)}function Ce(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function Pe(e){if("object"!==(0,r.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var a=t[n][o];try{a[0].apply(e,r)}catch(n){ee.console&&ne.error("jsPDF PubSub Error",n.message,n)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ie(e){if(!(this instanceof Ie))return new Ie(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Te(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ne(e,t,n,r,i){if(!(this instanceof Ne))return new Ne(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Te.call(this,r,i)}function Ee(e,t,n,r,i){if(!(this instanceof Ee))return new Ee(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Te.call(this,r,i)}function ze(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],o=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",u=null;"object"===(0,r.A)(e=e||{})&&(n=e.orientation,i=e.unit||i,o=e.format||o,a=e.compress||e.compressPdf||a,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(!0===a?["FlateEncode"]:s),i=i||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=Pe;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(e){m=e};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var y=f.__private__.getPageFormat=function(e){return v[e]};o=o||"a4";var x="compat",b="advanced",j=x;function w(){this.saveGraphicsState(),$(new He(ye,0,0,-ye,0,kn()*ye).toString()+" cm"),this.setFontSize(this.getFontSize()/ye),d="n",j=b}function k(){this.restoreGraphicsState(),d="S",j=x}var S=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=j===x;return t&&w.call(this),"function"!=typeof e||(e(this),t&&k.call(this)),this},f.compatAPI=function(e){var t=j===b;return t&&k.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.isAdvancedAPI=function(){return j===b};var _,A=function(e){if(j!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};_=f.hpf=f.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var P=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},I=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},T=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return j===x?e*ye:j===b?e:void 0},N=function(e){return T(function(e){return j===x?kn()-e:j===b?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,z="00000000000000000000000000000000",O=f.__private__.getFileId=function(){return z},L=f.__private__.setFileId=function(e){return z=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():z.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==u&&(Et=new Ae(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};f.setFileId=function(e){return L(e),this},f.getFileId=function(){return O()};var D=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,W(r),"'",W(i),"'"].join("");return["D:",e.getFullYear(),W(e.getMonth()+1),W(e.getDate()),W(e.getHours()),W(e.getMinutes()),W(e.getSeconds()),o].join("")},R=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,a,0)},M=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=D(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},B=f.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=R(E)),t};f.setCreationDate=function(e){return M(e),this},f.getCreationDate=function(e){return B(e)};var F,W=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,H=[],V=[],G=0,K=[],Y=[],Z=!1,J=V;f.__private__.setCustomOutputDestination=function(e){Z=!0,J=e};var X=function(e){Z||(J=e)};f.__private__.resetCustomOutputDestination=function(){Z=!1,J=V};var $=f.__private__.out=function(e){return e=e.toString(),G+=e.length+1,J.push(e),J},Q=f.__private__.write=function(e){return $(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},te=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return re};var ie=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return ie=j===b?e/ye:e,this};var oe,ae=f.__private__.getFontSize=f.getFontSize=function(){return j===x?ie:ie*ye},de=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return de=e,this},f.__private__.getR2L=f.getR2L=function(){return de};var ue,he=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))oe=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');oe=e}else oe=parseInt(e,10)};f.__private__.getZoomMode=function(){return oe};var pe,fe=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ue=e};f.__private__.getPageMode=function(){return ue};var me=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');pe=e};f.__private__.getLayoutMode=function(){return pe},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return he(e),me(t),fe(n),this};var ge={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ge).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ge[e]},f.__private__.getDocumentProperties=function(){return ge},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in ge)ge.hasOwnProperty(t)&&e[t]&&(ge[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ge).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ge[e]=t};var ve,ye,xe,be,je,we={},ke={},Se=[],_e={},Te={},Oe={},Le={},De=null,Re=0,Me=[],Be=new Pe(f),Fe=e.hotfixes||[],We={},Ue={},qe=[],He=function e(t,n,r,i,o,a){if(!(this instanceof e))return new e(t,n,r,i,o,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,o,a]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),He.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(e)},He.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new He(t,n,r,i,o,a)},He.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*r;n-=e*s,r-=t*s;var l=Math.sqrt(n*n+r*r);return s/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,a=-a),{scale:new He(a,0,0,l,0,0),translate:new He(1,0,0,1,i,o),rotate:new He(e,t,-t,e,0,0),skew:new He(1,0,s,1,0,0)}},He.prototype.toString=function(e){return this.join(" ")},He.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=1/(e*r-t*n),s=r*a,l=-t*a,c=-n*a,d=e*a;return new He(s,l,c,d,-s*i-c*o,-l*i-d*o)},He.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new gn(t,n)},He.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new gn(e.x+e.w,e.y+e.h));return new vn(t.x,t.y,n.x-t.x,n.y-t.y)},He.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new He(e,t,n,r,i,o)},f.Matrix=He;var Ve=f.matrixMult=function(e,t){return t.multiply(e)},Ge=new He(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ge;var Ke=function(e,t){if(!Te[e]){var n=(t instanceof Ne?"Sh":"P")+(Object.keys(_e).length+1).toString(10);t.id=n,Te[e]=n,_e[n]=t,Be.publish("addPattern",t)}};f.ShadingPattern=Ne,f.TilingPattern=Ee,f.addShadingPattern=function(e,t){return A("addShadingPattern()"),Ke(e,t),this},f.beginTilingPattern=function(e){A("beginTilingPattern()"),xn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){A("endTilingPattern()"),t.stream=Y[F].join("\n"),Ke(e,t),Be.publish("endTilingPattern",t),qe.pop().restore()};var Ye,Ze=f.__private__.newObject=function(){var e=Je();return Xe(e,!0),e},Je=f.__private__.newObjectDeferred=function(){return q++,H[q]=function(){return G},q},Xe=function(e,t){return t="boolean"==typeof t&&t,H[e]=G,t&&$(e+" 0 obj"),e},$e=f.__private__.newAdditionalObject=function(){var e={objId:Je(),content:""};return K.push(e),e},Qe=Je(),et=Je(),tt=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},nt=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,i=e.ch2,o=e.ch3,a=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var l=new ce(n);if(l.ok)n=l.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,i=c>>8&255,o=255&c}if(void 0===i||void 0===a&&n===i&&i===o)if("string"==typeof n)t=n+" "+s[0];else if(2===e.precision)t=P(n/255)+" "+s[0];else t=I(n/255)+" "+s[0];else if(void 0===a||"object"===(0,r.A)(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof n)t=[n,i,o,s[1]].join(" ");else if(2===e.precision)t=[P(n/255),P(i/255),P(o/255),s[1]].join(" ");else t=[I(n/255),I(i/255),I(o/255),s[1]].join(" ")}else if("string"==typeof n)t=[n,i,o,a,s[2]].join(" ");else if(2===e.precision)t=[P(n),P(i),P(o),P(a),s[2]].join(" ");else t=[I(n),I(i),I(o),I(a),s[2]].join(" ");return t},rt=f.__private__.getFilters=function(){return s},it=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||rt(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,a=e.objectId,s=function(e){return e};if(null!==u&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(s=Et.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==ze.API.processDataByFilters?ze.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:o})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}$("<<");for(var m=0;m<c.length;m++)$("/"+c[m].key+" "+c[m].value);$(">>"),0!==l.data.length&&($("stream"),$(s(l.data)),$("endstream"))},ot=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Xe(r,!0),$("<</Type /Page"),$("/Parent "+e.rootDictionaryObjId+" 0 R"),$("/Resources "+e.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(_(e.mediaBox.bottomLeftX))+" "+parseFloat(_(e.mediaBox.bottomLeftY))+" "+_(e.mediaBox.topRightX)+" "+_(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&$("/CropBox ["+_(e.cropBox.bottomLeftX)+" "+_(e.cropBox.bottomLeftY)+" "+_(e.cropBox.topRightX)+" "+_(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&$("/BleedBox ["+_(e.bleedBox.bottomLeftX)+" "+_(e.bleedBox.bottomLeftY)+" "+_(e.bleedBox.topRightX)+" "+_(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&$("/TrimBox ["+_(e.trimBox.bottomLeftX)+" "+_(e.trimBox.bottomLeftY)+" "+_(e.trimBox.topRightX)+" "+_(e.trimBox.topRightY)+"]"),null!==e.artBox&&$("/ArtBox ["+_(e.artBox.bottomLeftX)+" "+_(e.artBox.bottomLeftY)+" "+_(e.artBox.topRightX)+" "+_(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&$("/UserUnit "+e.userUnit),Be.publish("putPage",{objId:r,pageContext:Me[t],pageNumber:t,page:n}),$("/Contents "+i+" 0 R"),$(">>"),$("endobj");var o=n.join("\n");return j===b&&(o+="\nQ"),Xe(i,!0),it({data:o,filters:rt(),objectId:i}),$("endobj"),r},at=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Re;e++)Me[e].objId=Je(),Me[e].contentsObjId=Je();for(e=1;e<=Re;e++)n.push(ot({number:e,data:Y[e],objId:Me[e].objId,contentsObjId:Me[e].contentsObjId,mediaBox:Me[e].mediaBox,cropBox:Me[e].cropBox,bleedBox:Me[e].bleedBox,trimBox:Me[e].trimBox,artBox:Me[e].artBox,userUnit:Me[e].userUnit,rootDictionaryObjId:Qe,resourceDictionaryObjId:et}));Xe(Qe,!0),$("<</Type /Pages");var r="/Kids [";for(t=0;t<Re;t++)r+=n[t]+" 0 R ";$(r+"]"),$("/Count "+Re),$(">>"),$("endobj"),Be.publish("postPutPages")},st=function(e){Be.publish("putFont",{font:e,out:$,newObject:Ze,putStream:it}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ze(),$("<<"),$("/Type /Font"),$("/BaseFont /"+Ce(e.postScriptName)),$("/Subtype /Type1"),"string"==typeof e.encoding&&$("/Encoding /"+e.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},lt=function(e){e.objectNumber=Ze();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[_(e.x),_(e.y),_(e.x+e.width),_(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");it({data:n,additionalKeyValues:t,objectId:e.objectNumber}),$("endobj")},ct=function(e,t){t||(t=21);var n=Ze(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var s="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;s+=U(Math.round((1-u)*h[0]+u*p[0]).toString(16))+U(Math.round((1-u)*h[1]+u*p[1]).toString(16))+U(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return s.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),$("endobj"),e.objectNumber=Ze(),$("<< /ShadingType "+e.type),$("/ColorSpace /DeviceRGB");var o="/Coords ["+_(parseFloat(e.coords[0]))+" "+_(parseFloat(e.coords[1]))+" ";2===e.type?o+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3])):o+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3]))+" "+_(parseFloat(e.coords[4]))+" "+_(parseFloat(e.coords[5])),$(o+="]"),e.matrix&&$("/Matrix ["+e.matrix.toString()+"]"),$("/Function "+n+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},dt=function(e,t){var n=Je(),r=Ze();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(_).join(" ")+"]"}),i.push({key:"XStep",value:_(e.xStep)}),i.push({key:"YStep",value:_(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),it({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),$("endobj")},ut=function(e){for(var t in e.objectNumber=Ze(),$("<<"),e)switch(t){case"opacity":$("/ca "+P(e[t]));break;case"stroke-opacity":$("/CA "+P(e[t]))}$(">>"),$("endobj")},ht=function(e){Xe(e.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in $("/Font <<"),we)we.hasOwnProperty(e)&&(!1===h||!0===h&&p.hasOwnProperty(e))&&$("/"+e+" "+we[e].objectNumber+" 0 R");$(">>")}(),function(){if(Object.keys(_e).length>0){for(var e in $("/Shading <<"),_e)_e.hasOwnProperty(e)&&_e[e]instanceof Ne&&_e[e].objectNumber>=0&&$("/"+e+" "+_e[e].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),$(">>")}}(),function(e){if(Object.keys(_e).length>0){for(var t in $("/Pattern <<"),_e)_e.hasOwnProperty(t)&&_e[t]instanceof f.TilingPattern&&_e[t].objectNumber>=0&&_e[t].objectNumber<e&&$("/"+t+" "+_e[t].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),$(">>")}}(e.objectOid),function(){if(Object.keys(Oe).length>0){var e;for(e in $("/ExtGState <<"),Oe)Oe.hasOwnProperty(e)&&Oe[e].objectNumber>=0&&$("/"+e+" "+Oe[e].objectNumber+" 0 R");Be.publish("putGStateDict"),$(">>")}}(),function(){for(var e in $("/XObject <<"),We)We.hasOwnProperty(e)&&We[e].objectNumber>=0&&$("/"+e+" "+We[e].objectNumber+" 0 R");Be.publish("putXobjectDict"),$(">>")}(),$(">>"),$("endobj")},pt=function(){var e=[];(function(){for(var e in we)we.hasOwnProperty(e)&&(!1===h||!0===h&&p.hasOwnProperty(e))&&st(we[e])})(),function(){var e;for(e in Oe)Oe.hasOwnProperty(e)&&ut(Oe[e])}(),function(){for(var e in We)We.hasOwnProperty(e)&&lt(We[e])}(),function(e){var t;for(t in _e)_e.hasOwnProperty(t)&&(_e[t]instanceof Ne?ct(_e[t]):_e[t]instanceof Ee&&dt(_e[t],e))}(e),Be.publish("putResources"),e.forEach(ht),ht({resourcesOid:et,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources")},ft=function(e){ke[e.fontName]=ke[e.fontName]||{},ke[e.fontName][e.fontStyle]=e.id},mt=function(e,t,n,r,i){var o={id:"F"+(Object.keys(we).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Be.publish("addFont",{font:o,instance:this}),we[o.id]=o,ft(o),o.id},gt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,i,o,a,s,l,c,d;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&we[ve].metadata&&we[ve].metadata[i]&&we[ve].metadata[i].encoding&&(o=we[ve].metadata[i].encoding,!a&&we[ve].encoding&&(a=we[ve].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(c=a[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(d),s.push(c-(d<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vt=f.__private__.beginPage=function(e){Y[++Re]=[],Me[Re]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},bt(Re),X(Y[F])},yt=function(e,t){var r,i,a;switch(n=t||n,"string"==typeof e&&(r=y(e.toLowerCase()),Array.isArray(r)&&(i=r[0],a=r[1])),Array.isArray(e)&&(i=e[0]*ye,a=e[1]*ye),isNaN(i)&&(i=o[0],a=o[1]),(i>14400||a>14400)&&(ne.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),a=Math.min(14400,a)),o=[i,a],n.substr(0,1)){case"l":a>i&&(o=[a,i]);break;case"p":i>a&&(o=[a,i])}vt(o),$t(Jt),$(sn),0!==pn&&$(pn+" J"),0!==fn&&$(fn+" j"),Be.publish("addPage",{pageNumber:Re})},xt=function(e){e>0&&e<=Re&&(Y.splice(e,1),Me.splice(e,1),Re--,F>Re&&(F=Re),this.setPage(F))},bt=function(e){e>0&&e<=Re&&(F=e)},jt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Y.length-1},wt=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:we[ve].fontName,t=void 0!==t?t:we[ve].fontStyle,r=e.toLowerCase(),void 0!==ke[r]&&void 0!==ke[r][t]?i=ke[r][t]:void 0!==ke[e]&&void 0!==ke[e][t]?i=ke[e][t]:!1===n.disableWarning&&ne.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=ke.times[t])&&(i=ke.times.normal),i},kt=f.__private__.putInfo=function(){var e=Ze(),t=function(e){return e};for(var n in null!==u&&(t=Et.encryptor(e,0)),$("<<"),$("/Producer ("+gt(t("jsPDF "+ze.version))+")"),ge)ge.hasOwnProperty(n)&&ge[n]&&$("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+gt(t(ge[n]))+")");$("/CreationDate ("+gt(t(E))+")"),$(">>"),$("endobj")},St=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Qe;switch(Ze(),$("<<"),$("/Type /Catalog"),$("/Pages "+t+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+oe;"%"===n.substr(n.length-1)&&(oe=parseInt(oe)/100),"number"==typeof oe&&$("/OpenAction [3 0 R /XYZ null null "+P(oe)+"]")}switch(pe||(pe="continuous"),pe){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}ue&&$("/PageMode /"+ue),Be.publish("putCatalog"),$(">>"),$("endobj")},_t=f.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(q+1)),$("/Root "+q+" 0 R"),$("/Info "+(q-1)+" 0 R"),null!==u&&$("/Encrypt "+Et.oid+" 0 R"),$("/ID [ <"+z+"> <"+z+"> ]"),$(">>")},At=f.__private__.putHeader=function(){$("%PDF-"+m),$("%\xba\xdf\xac\xe0")},Ct=f.__private__.putXRef=function(){var e="0000000000";$("xref"),$("0 "+(q+1)),$("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof H[t]?$((e+H[t]()).slice(-10)+" 00000 n "):void 0!==H[t]?$((e+H[t]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Pt=f.__private__.buildDocument=function(){q=0,G=0,V=[],H=[],K=[],Qe=Je(),et=Je(),X(V),Be.publish("buildDocument"),At(),at(),function(){Be.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];Xe(t.objId,!0),$(t.content),$("endobj")}Be.publish("postPutAdditionalObjects")}(),pt(),null!==u&&(Et.oid=Ze(),$("<<"),$("/Filter /Standard"),$("/V "+Et.v),$("/R "+Et.r),$("/U <"+Et.toHexString(Et.U)+">"),$("/O <"+Et.toHexString(Et.O)+">"),$("/P "+Et.P),$(">>"),$("endobj")),kt(),St();var e=G;return Ct(),_t(),$("startxref"),$(""+e),$("%%EOF"),X(Y[F]),V.join("\n")},It=f.__private__.getBlob=function(e){return new Blob([te(e)],{type:"application/pdf"})},Tt=f.output=f.__private__.output=(Ye=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Pt();case"save":f.save(t.filename);break;case"arraybuffer":return te(Pt());case"blob":return It(Pt());case"bloburi":case"bloburl":if(void 0!==ee.URL&&"function"==typeof ee.URL.createObjectURL)return ee.URL&&ee.URL.createObjectURL(It(Pt()))||void 0;ne.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Pt();try{n=se(r)}catch(e){n=se(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=ee.open();return null!==s&&s.document.write(a),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=ee.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ee))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=ee.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return ee.document.location.href=this.output("datauristring",t);default:return null}},Ye.foo=function(){try{return Ye.apply(this,arguments)}catch(Ye){var e=Ye.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ye.message;if(!ee.console)throw new Error(t);ee.console.error(t,Ye),ee.alert&&alert(t)}},Ye.foo.bar=Ye,Ye.foo),Nt=function(e){return!0===Array.isArray(Fe)&&Fe.indexOf(e)>-1};switch(i){case"pt":ye=1;break;case"mm":ye=72/25.4;break;case"cm":ye=72/2.54;break;case"in":ye=72;break;case"px":ye=1==Nt("px_scaling")?.75:96/72;break;case"pc":case"em":ye=12;break;case"ex":ye=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);ye=i}var Et=null;M(),L();var zt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Me[e].objId,pageNumber:e,pageContext:Me[e]}},Ot=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Me)if(Me[t].objId===e)break;return zt(t)},Lt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Me[F].objId,pageNumber:F,pageContext:Me[F]}};f.addPage=function(){return yt.apply(this,arguments),this},f.setPage=function(){return bt.apply(this,arguments),X.call(this,Y[F]),this},f.insertPage=function(e){return this.addPage(),this.movePage(F,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=Y[e],r=Me[e];for(var i=e;i>t;i--)Y[i]=Y[i-1],Me[i]=Me[i-1];Y[t]=n,Me[t]=r,this.setPage(t)}else if(e<t){n=Y[e],r=Me[e];for(var o=e;o<t;o++)Y[o]=Y[o+1],Me[o]=Me[o+1];Y[t]=n,Me[t]=r,this.setPage(t)}return this},f.deletePage=function(){return xt.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,i,o){var a,s,l,c,d,u,h,f,m,g=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var v=n;n=t,t=e,e=v}if(arguments[3]instanceof He==0?(l=arguments[4],c=arguments[5],"object"===(0,r.A)(h=arguments[3])&&null!==h||("string"==typeof l&&(c=l,l=null),"string"==typeof h&&(c=h,h=null),"number"==typeof h&&(l=h,h=null),i={flags:h,angle:l,align:c})):(A("The transform parameter of text() with a Matrix value"),m=o),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var y,x="",w="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Zt,k=g.internal.scaleFactor;function S(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),gt(e,h)}function C(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function P(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var I=!1,N=!0;if("string"==typeof e)I=!0;else if(Array.isArray(e)){var E=e.concat();s=[];for(var z,O=E.length;O--;)("string"!=typeof(z=E.shift())||Array.isArray(z)&&"string"!=typeof z[0])&&(N=!1);I=N}if(!1===I)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=ie/g.internal.scaleFactor,D=L*(w-1);switch(i.baseline){case"bottom":n-=D;break;case"top":n+=L-D;break;case"hanging":n+=L-2*D;break;case"middle":n+=L/2-D}if((u=i.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(g.splitTextToSize(t,u))}),[]))),a={text:e,x:t,y:n,options:i,mutex:{pdfEscape:gt,activeFontKey:ve,fonts:we,activeFontSize:ie}},Be.publish("preProcessText",a),e=a.text,l=(i=a.options).angle,m instanceof He==0&&l&&"number"==typeof l){l*=Math.PI/180,0===i.rotationDirection&&(l=-l),j===b&&(l=-l);var R=Math.cos(l),M=Math.sin(l);m=new He(R,M,-M,R,0,0)}else l&&l instanceof He&&(m=l);j!==b||m||(m=Ge),void 0!==(d=i.charSpace||un)&&(x+=_(T(d))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=i.horizontalScale)&&(x+=_(100*f)+" Tz\n"),i.lang;var B=-1,F=void 0!==i.renderingMode?i.renderingMode:i.stroke,W=g.internal.getCurrentPageInfo().pageContext;switch(F){case 0:case!1:case"fill":B=0;break;case 1:case!0:case"stroke":B=1;break;case 2:case"fillThenStroke":B=2;break;case 3:case"invisible":B=3;break;case 4:case"fillAndAddForClipping":B=4;break;case 5:case"strokeAndAddPathForClipping":B=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":B=6;break;case 7:case"addToPathForClipping":B=7}var U=void 0!==W.usedRenderingMode?W.usedRenderingMode:-1;-1!==B?x+=B+" Tr\n":-1!==U&&(x+="0 Tr\n"),-1!==B&&(W.usedRenderingMode=B),c=i.align||"left";var q,H=ie*w,V=g.internal.pageSize.getWidth(),G=we[ve];d=i.charSpace||un,u=i.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},i.flags);var K=[],Y=function(e){return g.getStringUnitWidth(e,{font:G,charSpace:d,fontSize:ie,doKerning:!1})*ie/k};if("[object Array]"===Object.prototype.toString.call(e)){var Z;s=C(e),"left"!==c&&(q=s.map(Y));var J,X=0;if("right"===c){t-=q[0],e=[],O=s.length;for(var Q=0;Q<O;Q++)0===Q?(J=nn(t),Z=rn(n)):(J=T(X-q[Q]),Z=-H),e.push([s[Q],J,Z]),X=q[Q]}else if("center"===c){t-=q[0]/2,e=[],O=s.length;for(var ee=0;ee<O;ee++)0===ee?(J=nn(t),Z=rn(n)):(J=T((X-q[ee])/2),Z=-H),e.push([s[ee],J,Z]),X=q[ee]}else if("left"===c){e=[],O=s.length;for(var te=0;te<O;te++)e.push(s[te])}else if("justify"===c&&"Identity-H"===G.encoding){e=[],O=s.length,u=0!==u?u:V;for(var ne=0,re=0;re<O;re++)if(Z=0===re?rn(n):-H,J=0===re?nn(t):ne,re<O-1){var oe=T((u-q[re])/(s[re].split(" ").length-1)),ae=s[re].split(" ");e.push([ae[0]+" ",J,Z]),ne=0;for(var se=1;se<ae.length;se++){var le=(Y(ae[se-1]+" "+ae[se])-Y(ae[se]))*k+oe;se==ae.length-1?e.push([ae[se],le,0]):e.push([ae[se]+" ",le,0]),ne-=le}}else e.push([s[re],J,Z]);e.push(["",ne,0])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],O=s.length,u=0!==u?u:V,re=0;re<O;re++)Z=0===re?rn(n):-H,J=0===re?nn(t):0,re<O-1?K.push(_(T((u-q[re])/(s[re].split(" ").length-1)))):K.push(0),e.push([s[re],J,Z])}}!0===("boolean"==typeof i.R2L?i.R2L:de)&&(e=P(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),a={text:e,x:t,y:n,options:i,mutex:{pdfEscape:gt,activeFontKey:ve,fonts:we,activeFontSize:ie}},Be.publish("postProcessText",a),e=a.text,y=a.mutex.isHex||!1;var ce=we[ve].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=P(e,(function(e,t,n){return[S(e),t,n]}))),s=C(e),e=[];for(var ue,he,pe,fe=Array.isArray(s[0])?1:0,me="",ge=function(e,t,n){var r="";return n instanceof He?(n="number"==typeof i.angle?Ve(n,new He(1,0,0,1,e,t)):Ve(new He(1,0,0,1,e,t),n),j===b&&(n=Ve(new He(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=_(e)+" "+_(t)+" Td\n",r},ye=0;ye<s.length;ye++){switch(me="",fe){case 1:pe=(y?"<":"(")+s[ye][0]+(y?">":")"),ue=parseFloat(s[ye][1]),he=parseFloat(s[ye][2]);break;case 0:pe=(y?"<":"(")+s[ye]+(y?">":")"),ue=nn(t),he=rn(n)}void 0!==K&&void 0!==K[ye]&&(me=K[ye]+" Tw\n"),0===ye?e.push(me+ge(ue,he,m)+pe):0===fe?e.push(me+pe):1===fe&&e.push(me+ge(ue,he,m)+pe)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var xe="BT\n/";return xe+=ve+" "+ie+" Tf\n",xe+=_(ie*w)+" TL\n",xe+=cn+"\n",xe+=x,xe+=e,$(xe+="ET"),p[ve]=!0,g};var Dt=f.__private__.clip=f.clip=function(e){return $("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return Dt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return $("n"),this};var Rt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return Rt(e)&&(d=e),this};var Mt=f.__private__.getStyle=f.getStyle=function(e){var t=d;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Bt=f.close=function(){return $("h"),this};f.stroke=function(){return $("S"),this},f.fill=function(e){return Ft("f",e),this},f.fillEvenOdd=function(e){return Ft("f*",e),this},f.fillStroke=function(e){return Ft("B",e),this},f.fillStrokeEvenOdd=function(e){return Ft("B*",e),this};var Ft=function(e,t){"object"===(0,r.A)(t)?qt(t,e):$(e)},Wt=function(e){null===e||j===b&&void 0===e||(e=Mt(e),$(e))};function Ut(e,t,n,r,i){var o=new Ee(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Ke(a,o),o}var qt=function(e,t){var n=Te[e.key],r=_e[n];if(r instanceof Ne)$("q"),$(Ht(t)),r.gState&&f.setGState(r.gState),$(e.matrix.toString()+" cm"),$("/"+n+" sh"),$("Q");else if(r instanceof Ee){var i=new He(1,0,0,-1,0,kn());e.matrix&&(i=i.multiply(e.matrix||Ge),n=Ut.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),$("q"),$("/Pattern cs"),$("/"+n+" scn"),r.gState&&f.setGState(r.gState),$(t),$("Q")}},Ht=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vt=f.moveTo=function(e,t){return $(_(T(e))+" "+_(N(t))+" m"),this},Gt=f.lineTo=function(e,t){return $(_(T(e))+" "+_(N(t))+" l"),this},Kt=f.curveTo=function(e,t,n,r,i,o){return $([_(T(e)),_(N(t)),_(T(n)),_(N(r)),_(T(i)),_(N(o)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.line");return j===x?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,i,o){var a,s,l,c,d,u,h,p,f,m,g,v;if("number"==typeof e&&(v=n,n=t,t=e,e=v),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Rt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Vt(t,n),a=r[0],s=r[1],c=e.length,m=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(m=d[0]*a+m,g=d[1]*s+g,Gt(m,g)):(u=d[0]*a+m,h=d[1]*s+g,p=d[2]*a+m,f=d[3]*s+g,m=d[4]*a+m,g=d[5]*s+g,Kt(u,h,p,f,m,g));return o&&Bt(),Wt(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Vt(r[0],r[1]);break;case"l":Gt(r[0],r[1]);break;case"c":Kt.apply(this,r);break;case"h":Bt()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return j===x&&(r=-r),$([_(T(e)),_(N(t)),_(T(n)),_(T(r)),"re"].join(" ")),Wt(i),this},f.__private__.triangle=f.triangle=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Rt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Rt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],e+i,t,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Vt(e+n,t),Kt(e+n,t-a,e+o,t-r,e,t-r),Kt(e-o,t-r,e-n,t-a,e-n,t),Kt(e-n,t+a,e-o,t+r,e,t+r),Kt(e+o,t+r,e+n,t+a,e+n,t),Wt(i),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Rt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=S(t,n)),ve=wt(e,t,{disableWarning:!1}),this};var Yt=f.__private__.getFont=f.getFont=function(){return we[wt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in ke)if(ke.hasOwnProperty(e))for(t in n[e]=[],ke[e])ke[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=S(n,r)),mt.call(this,e,t,n,i=i||"Identity-H")};var Zt,Jt=e.lineWidth||.200025,Xt=f.__private__.getLineWidth=f.getLineWidth=function(){return Jt},$t=f.__private__.setLineWidth=f.setLineWidth=function(e){return Jt=e,$(_(T(e))+" w"),this};f.__private__.setLineDash=ze.API.setLineDash=ze.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return _(T(e))})).join(" "),t=_(T(t)),$("["+e+"] "+t+" d"),this};var Qt=f.__private__.getLineHeight=f.getLineHeight=function(){return ie*Zt};f.__private__.getLineHeight=f.getLineHeight=function(){return ie*Zt};var en=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Zt=e),this},tn=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Zt};en(e.lineHeight);var nn=f.__private__.getHorizontalCoordinate=function(e){return T(e)},rn=f.__private__.getVerticalCoordinate=function(e){return j===b?e:Me[F].mediaBox.topRightY-Me[F].mediaBox.bottomLeftY-T(e)},on=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return _(nn(e))},an=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return _(rn(e))},sn=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return tt(sn)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return sn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),$(sn),this};var ln=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return tt(ln)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return ln=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),$(ln),this};var cn=e.textColor||"0 g",dn=f.__private__.getTextColor=f.getTextColor=function(){return tt(cn)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return cn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var un=e.charSpace,hn=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(un||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return un=e,this};var pn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pn=t,$(t+" J"),this};var fn=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fn=t,$(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(_(T(e))+" M"),this},f.GState=Ie,f.setGState=function(e){(e="string"==typeof e?Oe[Le[e]]:mn(null,e)).equals(De)||($("/"+e.id+" gs"),De=e)};var mn=function(e,t){if(!e||!Le[e]){var n=!1;for(var r in Oe)if(Oe.hasOwnProperty(r)&&Oe[r].equals(t)){n=!0;break}if(n)t=Oe[r];else{var i="GS"+(Object.keys(Oe).length+1).toString(10);Oe[i]=t,t.id=i}return e&&(Le[e]=t.id),Be.publish("addGState",t),t}};f.addGState=function(e,t){return mn(e,t),this},f.saveGraphicsState=function(){return $("q"),Se.push({key:ve,size:ie,color:cn}),this},f.restoreGraphicsState=function(){$("Q");var e=Se.pop();return ve=e.key,ie=e.size,cn=e.color,De=null,this},f.setCurrentTransformationMatrix=function(e){return $(e.toString()+" cm"),this},f.comment=function(e){return $("#"+e),this};var gn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},vn=function(e,t,n,r){gn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},yn=function(){this.page=Re,this.currentPage=F,this.pages=Y.slice(0),this.pagesContext=Me.slice(0),this.x=xe,this.y=be,this.matrix=je,this.width=jn(F),this.height=kn(F),this.outputDestination=J,this.id="",this.objectNumber=-1};yn.prototype.restore=function(){Re=this.page,F=this.currentPage,Me=this.pagesContext,Y=this.pages,xe=this.x,be=this.y,je=this.matrix,wn(F,this.width),Sn(F,this.height),J=this.outputDestination};var xn=function(e,t,n,r,i){qe.push(new yn),Re=F=0,Y=[],xe=e,be=t,je=i,vt([n,r])};for(var bn in f.beginFormObject=function(e,t,n,r,i){return xn(e,t,n,r,i),this},f.endFormObject=function(e){return function(e){if(Ue[e])qe.pop().restore();else{var t=new yn,n="Xo"+(Object.keys(We).length+1).toString(10);t.id=n,Ue[e]=n,We[n]=t,Be.publish("addFormObject",t),qe.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=We[Ue[e]];return $("q"),$(t.toString()+" cm"),$("/"+n.id+" Do"),$("Q"),this},f.getFormObject=function(e){var t=We[Ue[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(le(It(Pt()),e),"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),this):new Promise((function(t,n){try{var r=le(It(Pt()),e);"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),t(r)}catch(e){n(e.message)}}))},ze.API)ze.API.hasOwnProperty(bn)&&("events"===bn&&ze.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Be,ze.API.events):f[bn]=ze.API[bn]);var jn=f.getPageWidth=function(e){return(Me[e=e||F].mediaBox.topRightX-Me[e].mediaBox.bottomLeftX)/ye},wn=f.setPageWidth=function(e,t){Me[e].mediaBox.topRightX=t*ye+Me[e].mediaBox.bottomLeftX},kn=f.getPageHeight=function(e){return(Me[e=e||F].mediaBox.topRightY-Me[e].mediaBox.bottomLeftY)/ye},Sn=f.setPageHeight=function(e,t){Me[e].mediaBox.topRightY=t*ye+Me[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:gt,getStyle:Mt,getFont:Yt,getFontSize:ae,getCharSpace:hn,getTextColor:dn,getLineHeight:Qt,getLineHeightFactor:tn,getLineWidth:Xt,write:Q,getHorizontalCoordinate:nn,getVerticalCoordinate:rn,getCoordinateString:on,getVerticalCoordinateString:an,collections:{},newObject:Ze,newAdditionalObject:$e,newObjectDeferred:Je,newObjectDeferredBegin:Xe,getFilters:rt,putStream:it,events:Be,scaleFactor:ye,pageSize:{getWidth:function(){return jn(F)},setWidth:function(e){wn(F,e)},getHeight:function(){return kn(F)},setHeight:function(e){Sn(F,e)}},encryptionOptions:u,encryption:Et,getEncryptor:function(e){return null!==u?Et.encryptor(e,0):function(e){return e}},output:Tt,getNumberOfPages:jt,pages:Y,out:$,f2:P,f3:I,getPageInfo:zt,getPageInfoByObjId:Ot,getCurrentPageInfo:Lt,getPDFVersion:g,Point:gn,Rectangle:vn,Matrix:He,hasHotfix:Nt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return jn(F)},set:function(e){wn(F,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return kn(F)},set:function(e){Sn(F,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=re.length;t<n;t++){var r=mt.call(this,e[t][0],e[t][1],e[t][2],re[t][3],!0);!1===h&&(p[r]=!0);var i=e[t][0].split("-");ft({id:r,fontName:i[0],fontStyle:i[1]||""})}Be.publish("addFonts",{fonts:we,dictionary:ke})}.call(f,re),ve="F1",yt(o,n),Be.publish("initialized"),f}Ae.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Ae.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Ae.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ae.prototype.processOwnerPassword=function(e,t){return Se(je(t).substr(0,5),e)},Ae.prototype.encryptor=function(e,t){var n=je(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Se(n,e)}},Ie.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,r.A)(e)!==(0,r.A)(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return 0===i},ze.API={events:[]},ze.version="3.0.1";var Oe=ze.API,Le=1,De=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Re=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Me=function(e){return e.toFixed(2)},Be=function(e){return e.toFixed(5)};Oe.__acroform__={};var Fe=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},We=function(e){return e*Le},Ue=function(e){var t=new ot,n=xt.internal.getHeight(e)||0,r=xt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Me(r)),Number(Me(n))],t},qe=Oe.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},He=Oe.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Ve=Oe.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ge=Oe.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ve(e,t-1)},Ke=Oe.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qe(e,t-1)},Ye=Oe.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return He(e,t-1)},Ze=Oe.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+s)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(o)||0,[Number(Me(l.lowerLeft_X)),Number(Me(l.lowerLeft_Y)),Number(Me(l.upperRight_X)),Number(Me(l.upperRight_Y))]},Je=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Xe(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Me(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Ue(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},Xe=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var o=n,a=xt.internal.getHeight(e)||0;a=a<0?-a:a;var s=xt.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1][0];return $e(o,e,r).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,d,u=$e("3",e,o).height,h=e.multiline?a-o:(a-u)/2,p=h+=2,f=0,m=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+$e(t,e,o=12).width+", FieldWidth:"+s+"\n";break}for(var v="",y=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var b=!1;if(1!==i[x].length&&g!==i[x].length-1){if((u+2)*(y+2)+2>a)continue e;v+=i[x][g],b=!0,m=x,x--}else{v=" "==(v+=i[x][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var j=parseInt(x),w=l(j,v,o),k=x>=i.length-1;if(w&&!k){v+=" ",g=0;continue}if(w||k){if(k)m=j;else if(e.multiline&&(u+2)*(y+2)+2>a)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>a)continue e;m=j}}for(var S="",_=f;_<=m;_++){var A=i[_];if(e.multiline){if(_===m){S+=A[g]+" ",g=(g+1)%A.length;continue}if(_===f){S+=A[A.length-1]+" ";continue}}S+=A[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,d=$e(S,e,o).width,e.textAlign){case"right":c=s-d-2;break;case"center":c=(s-d)/2;break;default:c=2}t+=Me(c)+" "+Me(p)+" Td\n",t+="("+De(S)+") Tj\n",t+=-Me(c)+" 0 Td\n",p=-(o+2),d=0,f=b?m:m+1,y++,v=""}break}return r.text=t,r.fontSize=o,r},$e=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Qe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},et=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},tt=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(st.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Qe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Le=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new at,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&et(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var o=e[i],a=[],s=o.Rect;if(o.Rect&&(o.Rect=Ze(o.Rect,t)),t.internal.newObjectDeferredBegin(o.objId,!0),o.DA=xt.createDefaultAppearanceStream(o),"object"===(0,r.A)(o)&&"function"==typeof o.getKeyValueListForStream&&(a=o.getKeyValueListForStream()),o.Rect=s,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=Je(o);a.push({key:"AP",value:"<</N "+l+">>"}),t.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var c="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var u=o.appearanceStreamContent[d];if(c+="/"+d+" ",c+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var i in u)if(u.hasOwnProperty(i)){var h=u[i];"function"==typeof h&&(h=h.call(t,o)),c+="/"+i+" "+h+" ",t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(t,o)),c+="/"+i+" "+h,t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h);c+=">>"}a.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:o.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,o=e[n];t.internal.newObjectDeferredBegin(o.objId,!0),"object"===(0,r.A)(o)&&"function"==typeof o.putStream&&o.putStream(),delete e[i]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},nt=Oe.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(e){return e};if(Array.isArray(e)){for(var o="[",a=0;a<e.length;a++)switch(0!==a&&(o+=" "),(0,r.A)(e[a])){case"boolean":case"number":case"object":o+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(i=n.internal.getEncryptor(t)),o+="("+De(i(e[a].toString()))+")"):o+=e[a].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rt=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+De(r(e))+")"},it=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};it.prototype.toString=function(){return this.objId+" 0 R"},it.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},it.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:nt(i,this.objId,this.scope)}):i instanceof it?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var ot=function(){it.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Fe(ot,it);var at=function(){it.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+De(t(e))+")"}},set:function(t){e=t}})};Fe(at,it);var st=function e(){it.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(t,3))},set:function(e){!0===Boolean(e)?this.F=Ke(t,3):this.F=Ye(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof mt)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+De(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Le:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof mt||this instanceof vt))return rt(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ht==0?rt(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof ht==0?"("===e.substr(0,1)?Re(e.substr(1,e.length-2)):Re(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Re(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof ht==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ht==0?rt(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof ht==0?"("===e.substr(0,1)?Re(e.substr(1,e.length-2)):Re(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Re(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof ht==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,1):this.Ff=Ye(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,2):this.Ff=Ye(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,3):this.Ff=Ye(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Fe(st,it);var lt=function(){st.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nt(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,18):this.Ff=Ye(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Ke(this.Ff,19):this.Ff=Ye(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Ke(this.Ff,20),t.sort()):this.Ff=Ye(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,22):this.Ff=Ye(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,23):this.Ff=Ye(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,27):this.Ff=Ye(this.Ff,27)}}),this.hasAppearanceStream=!1};Fe(lt,st);var ct=function(){lt.call(this),this.fontName="helvetica",this.combo=!1};Fe(ct,lt);var dt=function(){ct.call(this),this.combo=!0};Fe(dt,ct);var ut=function(){dt.call(this),this.edit=!0};Fe(ut,dt);var ht=function(){st.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,15):this.Ff=Ye(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,16):this.Ff=Ye(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,17):this.Ff=Ye(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,26):this.Ff=Ye(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+De(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,r.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Fe(ht,st);var pt=function(){ht.call(this),this.pushButton=!0};Fe(pt,ht);var ft=function(){ht.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Fe(ft,ht);var mt=function(){var e,t;st.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),i)n.push("/"+t+" ("+De(e(i[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,r.A)(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fe(mt,st),ft.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ft.prototype.createOption=function(e){var t=new mt;return t.Parent=this,t.optionName=e,this.Kids.push(t),bt.call(this.scope,t),t};var gt=function(){ht.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};Fe(gt,ht);var vt=function(){st.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,13):this.Ff=Ye(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,21):this.Ff=Ye(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,23):this.Ff=Ye(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,24):this.Ff=Ye(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,25):this.Ff=Ye(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,26):this.Ff=Ye(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fe(vt,st);var yt=function(){vt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,14):this.Ff=Ye(this.Ff,14)}}),this.password=!0};Fe(yt,vt);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=Xe(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Me(xt.internal.getWidth(e))+" "+Me(xt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Me(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Ue(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=xt.internal.getHeight(e),a=xt.internal.getWidth(e),s=Xe(e,e.caption);return i.push("1 g"),i.push("0 0 "+Me(a)+" "+Me(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Me(a-1)+" "+Me(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Me(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Me(xt.internal.getWidth(e))+" "+Me(xt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=xt.RadioButton.Circle.YesNormal,t.D[e]=xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=xt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Be(xt.internal.getWidth(e)/2)+" "+Be(xt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*xt.internal.Bezier_C).toFixed(5)),a=Number((r*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Be(xt.internal.getWidth(e)/2)+" "+Be(xt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Be(xt.internal.getWidth(e)/2)+" "+Be(xt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Be(xt.internal.getWidth(e)/2)+" "+Be(xt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=xt.RadioButton.Cross.YesNormal,t.D[e]=xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ue(e);t.scope=e.scope;var n=[],r=xt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Me(xt.internal.getWidth(e)-2)+" "+Me(xt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Me(r.x1.x)+" "+Me(r.x1.y)+" m"),n.push(Me(r.x2.x)+" "+Me(r.x2.y)+" l"),n.push(Me(r.x4.x)+" "+Me(r.x4.y)+" m"),n.push(Me(r.x3.x)+" "+Me(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=xt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Me(xt.internal.getWidth(e))+" "+Me(xt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Me(xt.internal.getWidth(e)-2)+" "+Me(xt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Me(n.x1.x)+" "+Me(n.x1.y)+" m"),r.push(Me(n.x2.x)+" "+Me(n.x2.y)+" l"),r.push(Me(n.x4.x)+" "+Me(n.x4.y)+" m"),r.push(Me(n.x3.x)+" "+Me(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Ue(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Me(xt.internal.getWidth(e))+" "+Me(xt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};xt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=xt.internal.getWidth(e),n=xt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},xt.internal.getWidth=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=We(e.Rect[2])),t},xt.internal.getHeight=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=We(e.Rect[3])),t};var bt=Oe.addField=function(e){if(tt(this,e),!(e instanceof st))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Oe.AcroFormChoiceField=lt,Oe.AcroFormListBox=ct,Oe.AcroFormComboBox=dt,Oe.AcroFormEditBox=ut,Oe.AcroFormButton=ht,Oe.AcroFormPushButton=pt,Oe.AcroFormRadioButton=ft,Oe.AcroFormCheckBox=gt,Oe.AcroFormTextField=vt,Oe.AcroFormPasswordField=yt,Oe.AcroFormAppearance=xt,Oe.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:pt,RadioButton:ft,CheckBox:gt,TextField:vt,PasswordField:yt,Appearance:xt},ze.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:pt,RadioButton:ft,CheckBox:gt,TextField:vt,PasswordField:yt,Appearance:xt};ze.AcroForm;function jt(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,a,s,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(k(e))for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e[o]){s=!1;break}if(!0===s){c=l;break}}else for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){c=l;break}}return c===t&&r!==t&&(c=r),c},o=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===v.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===v.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,l=t.transparency.length;s<l;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";o.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===v.INDEXED){var h=this.internal.newObject();r({data:_(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},a=function(){var e=this.internal.collections.addImage_images;for(var t in e)o.call(this,e[t])},s=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var e=this.internal.collections.addImage_images;return l.call(this),e},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,r.A)(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return ae(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;default:o="image/jpeg"}return ae(t.toDataURL(o,1).split("base64,").pop())}},f=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,o){var a=m.call(this,n,r,i),s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=a[0],r=a[1],d[i.index]=i,o){o*=Math.PI/180;var u=Math.cos(o),h=Math.sin(o),p=function(e){return e.toFixed(4)},f=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,s(e),l(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(k(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},b=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},j=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},S=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},_=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=k(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,i,o,a,s,c,d,u;if("number"==typeof arguments[1]?(n=t,i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],c=arguments[5],d=arguments[6],u=arguments[7]):(n=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5],c=arguments[6],d=arguments[7],u=arguments[8]),"object"===(0,r.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var p=e;e=p.imageData,n=p.format||n||t,i=p.x||i||0,o=p.y||o||0,a=p.w||p.width||a,s=p.h||p.height||s,c=p.alias||c,d=p.compression||d,u=p.rotation||p.angle||u}var f=this.internal.getFilters();if(void 0===d&&-1!==f.indexOf("FlateEncode")&&(d="SLOW"),isNaN(i)||isNaN(o))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=A.call(this,e,n,c,d);return g.call(this,i,o,a,s,m,u),this};var A=function(n,r,o,a){var s,l,c;if("string"==typeof n&&i(n)===t){n=unescape(n);var m=C(n,!1);(""!==m||void 0!==(m=e.loadFile(n,!0)))&&(n=m)}if(h(n)&&(n=p(n,r)),r=i(n,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=o)||0===c.length)&&(o=function(e){return"string"==typeof e||k(e)?x(e):k(e.data)?x(e.data):null}(n)),(s=f.call(this,o))||(w()&&(n instanceof Uint8Array||"RGBA"===r||(l=n,n=S(n))),s=this["process"+r.toUpperCase()](n,d.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(a),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=j(e))&&void 0!==i?i:e;try{r=ae(n)}catch(e){if(t)throw b(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var r,o,a="";if(h(n)&&(n=p(n)),"string"==typeof n&&i(n)===t&&(""===(a=C(n,!1))&&(a=e.loadFile(n)||""),n=a),o=i(n),!u(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!w()||n instanceof Uint8Array||(n=S(n)),!(r=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=o,r}}(ze.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};ze.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+h(g(v))+") >>",f.content=i;var y=f.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(f.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var j=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,o,a=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){o=r.maxWidth;var l=this.splitTextToSize(e,o).length;i=Math.ceil(s*l)}else o=a,i=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,n-s,o,i,r),a},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(ze.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&o(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===o(e)?-1:!c(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&l(t)||s(e)&&s(t)?0:d(e)&&a(t)&&!s(t)&&a(n)&&c(n)?3:s(e)||!a(n)?1:2:-1},p=function(e){var n=0,r=0,i=0,o="",s="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)o=c[n][r],s=c[n][r-1],l=c[n][r+1],a(o)?(i=h(o,s,l),d[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):d[n]+=o;d[n]=u(d[n])}return d.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(ze.API),ze.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}));return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ze.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,d))}),[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)a<(l=this.getStringUnitWidth(e[u],{font:r})*n)&&(a=l);return 0!==a&&(s=e.length),{w:a/=o,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var r=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,c,d,u){if(i.call(this),!c)throw new Error("No data for PDF table.");var h,p,f,m,g=[],v=[],y=[],x={},b={},j=[],w=[],k=(u=u||{}).autoSize||!1,S=!1!==u.printHeaders,_=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,A=u.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof u.padding?u.padding:3,P=u.headerBackgroundColor||"#c8c8c8",I=u.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=I,this.setFontSize(_),null==d)v=g=Object.keys(c[0]),y=g.map((function(){return"left"}));else if(Array.isArray(d)&&"object"===(0,r.A)(d[0]))for(g=d.map((function(e){return e.name})),v=d.map((function(e){return e.prompt||e.name||""})),y=d.map((function(e){return e.align||"left"})),h=0;h<d.length;h+=1)b[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&"string"==typeof d[0]&&(v=g=d,y=g.map((function(){return"left"})));if(k||Array.isArray(d)&&"string"==typeof d[0])for(h=0;h<g.length;h+=1){for(x[m=g[h]]=c.map((function(e){return e[m]})),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=x[m],this.setFont(void 0,"normal"),f=0;f<p.length;f+=1)j.push(this.getTextDimensions(p[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[m]=Math.max.apply(null,j)+C+C,j=[]}if(S){var T={};for(h=0;h<g.length;h+=1)T[g[h]]={},T[g[h]].text=v[h],T[g[h]].align=y[h];var N=l.call(this,T,b);w=g.map((function(t){return new a(e,n,b[t],N,T[t].text,void 0,T[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var E=d.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(h=0;h<c.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:c[h]},this);var z=l.call(this,c[h],b);for(f=0;f<g.length;f+=1){var O=c[h][g[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:O},this),s.call(this,new a(e,n,b[g[f]],z,O,h+2,E[g[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var l=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){r=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,r),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(ze.API);var wt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],St=jt(kt),_t=[100,200,300,400,500,600,700,800,900],At=jt(_t);function Ct(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return wt[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof St[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Pt(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var It={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Nt(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Et(e){return e.trimLeft()}function zt(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Ot(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Lt,Dt,Rt,Mt,Bt=["times"];!function(e){var t,n,i,o,a,s,l,c,d,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof u&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=p(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=p(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null;function f(e,t){if(null===h){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());h=function(e){for(var t={},n=0;n<e.length;++n){var r=Ct(e[n]),i=r.family,o=r.stretch,a=r.style,s=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][a]=t[i][o][a]||{},t[i][o][a][s]=r}return t}(n.concat(t))}return h}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){h=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var o=t[6],a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return Bt;if(i in Tt)return[Tt[i]];for(;""!==i;){switch(n=null,t=(i=Et(i)).charAt(0)){case'"':case"'":n=zt(i.substring(1),t);break;default:n=Ot(i)}if(null===n)return Bt;if(r.push(n[0]),""!==(i=Et(n[1]))&&","!==i.charAt(0))return Bt;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},It,n.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(i[(o=Ct(t[s])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){a=e[o.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+Nt(o)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=St[e],r=n<=St.normal?-1:1,i=Pt(t,kt,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=wt[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=At[e],r=Pt(t,_t,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Nt(o)+"'.");return a}(f(this.pdf,this.fontFaces),s.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<s.length;h++){if(void 0!==this.pdf.internal.getFont(s[h],c,{noFallback:!0,disableWarning:!0})){d=s[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(s[h],"bold",{noFallback:!0,disableWarning:!0}))d=s[h],c="bold";else if(void 0!==this.pdf.internal.getFont(s[h],"normal",{noFallback:!0,disableWarning:!0})){d=s[h],c="normal";break}}if(""===d)for(var p=0;p<s.length;p++)if(u[s[p]]){d=u[s[p]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},h.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,r.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new s(n,r)),o=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},h.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new s(i,o)),l=this.ctx.transform.applyToPoint(new s(e,t)),c=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},h.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw ne.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new s(e,t));e=a.x,t=a.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),c=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},h.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},h.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new ce(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=L(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var i=L(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw ne.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw ne.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw ne.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new c(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new c(e,t,n,r,i,o)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,n,r,i,o,a,s,d){var u=this.pdf.getImageProperties(e),h=1,p=1,f=1,m=1;void 0!==r&&void 0!==s&&(f=s/r,m=d/i,h=u.width/r*s/r,p=u.height/i*d/i),void 0===o&&(o=t,a=n,t=0,n=0),void 0!==r&&void 0===s&&(s=r,d=i),void 0===r&&void 0===s&&(s=u.width,d=u.height);for(var y,j=this.ctx.transform.decompose(),k=L(j.rotate.shx),S=new c,_=(S=(S=(S=S.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new l(o-t*f,a-n*m,r*h,i*p)),A=v.call(this,_),C=[],P=0;P<A.length;P+=1)-1===C.indexOf(A[P])&&C.push(A[P]);if(b(C),this.autoPaging)for(var I=C[0],T=C[C.length-1],N=I;N<T+1;N++){this.pdf.setPage(N);var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],z=1===N?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===N?0:O+(N-2)*D;if(0!==this.ctx.clip_path.length){var M=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(y,this.posX+this.margin[3],-R+z+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var B=JSON.parse(JSON.stringify(_));B=x([B],this.posX+this.margin[3],-R+z+this.ctx.prevPageLastElemOffset)[0];var F=(N>I||N<T)&&g.call(this);F&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,k),F&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",_.x,_.y,_.w,_.h,null,null,k)};var v=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var a=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},x=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort((function(e,t){return e-t}))},j=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=this.lineCap,s=this.lineWidth,l=Math.abs(s*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var f=v.call(this,u[p]),m=0;m<f.length;m+=1)-1===h.indexOf(f[m])&&h.push(f[m]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)y.call(this);if(b(h),this.autoPaging)for(var k=h[0],S=h[h.length-1],_=k;_<S+1;_++){this.pdf.setPage(_),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],C=1===_?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===_?0:P+(_-2)*I;if(0!==this.ctx.clip_path.length){var N=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(n,this.posX+this.margin[3],-T+C+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=N}if(r=JSON.parse(JSON.stringify(d)),this.path=x(r,this.posX+this.margin[3],-T+C+this.ctx.prevPageLastElemOffset),!1===t||0===_){var E=(_>k||_<S)&&g.call(this);E&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,I,null).clip().discardPath()),w.call(this,e,t),E&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=s;this.path=d},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,i=[],o=this.path,a=0;a<o.length;a++){var s=o[a];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var l=i.length;if(o[a-1]&&!isNaN(o[a-1].x)&&(n=[s.x-o[a-1].x,s.y-o[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(s);break}break;case"bct":n=[s.x1-o[a-1].x,s.y1-o[a-1].y,s.x2-o[a-1].x,s.y2-o[a-1].y,s.x-o[a-1].x,s.y-o[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=o[a-1].x+2/3*(s.x1-o[a-1].x),d=o[a-1].y+2/3*(s.y1-o[a-1].y),u=s.x+2/3*(s.x1-s.x),h=s.y+2/3*(s.y1-s.y),p=s.x,g=s.y;n=[c-o[a-1].x,d-o[a-1].y,u-o[a-1].x,h-o[a-1].y,p-o[a-1].x,g-o[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var v=!1,y=0;y<i.length;y++)if(i[y].arc)for(var x=i[y].abs,b=0;b<x.length;b++){var j=x[b];"arc"===j.type?_.call(this,j.x,j.y,j.radius,j.startAngle,j.endAngle,j.counterclockwise,void 0,t,!v):T.call(this,j.x,j.y),v=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==i[y].begin){var w=i[y].start.x,k=i[y].start.y;N.call(this,i[y].deltas,w,k),v=!0}r&&A.call(this,r),t&&C.call(this)}},k=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},S=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(e,t,n,r,i,o,a,s,l){for(var c=z.call(this,n,r,i,o),d=0;d<c.length;d++){var u=c[d];0===d&&(l?P.call(this,u.x1+e,u.y1+t):T.call(this,u.x1+e,u.y1+t)),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}s?C.call(this):A.call(this,a)},A=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(e,t){this.pdf.internal.out(n(e)+" "+i(t)+" m")},I=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=k.call(this,e.y),i=S.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new s(e.x,r)),a=this.ctx.transform.decompose(),d=new c;d=(d=(d=d.multiply(a.translate)).multiply(a.skew)).multiply(a.scale);for(var u,h,p,f=this.ctx.transform.applyToRectangle(new l(e.x,r,n.w,n.h)),m=d.applyToRectangle(new l(e.x,i,n.w,n.h)),y=v.call(this,m),j=[],_=0;_<y.length;_+=1)-1===j.indexOf(y[_])&&j.push(y[_]);if(b(j),this.autoPaging)for(var A=j[0],C=j[j.length-1],P=A;P<C+1;P++){this.pdf.setPage(P);var I=1===P?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],N=this.pdf.internal.pageSize.height-this.margin[2],E=N-this.margin[0],z=this.pdf.internal.pageSize.width-this.margin[1],O=z-this.margin[3],L=1===P?0:T+(P-2)*E;if(0!==this.ctx.clip_path.length){var D=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(u,this.posX+this.margin[3],-1*L+I),w.call(this,"fill",!0),this.path=D}var R=x([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-L+I+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var M="text"!==this.autoPaging;if(M||R.y+R.h<=N){if(M||R.y>=I&&R.x<=z){var B=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||z-R.x)[0],F=x([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-L+I+this.ctx.prevPageLastElemOffset)[0],W=M&&(P>A||P<C)&&g.call(this);W&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,E,null).clip().discardPath()),this.pdf.text(B,F.x,F.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),W&&this.pdf.restoreGraphicsState()}}else R.y<N&&(this.ctx.prevPageLastElemOffset+=N-R.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)},T=function(e,t,r,o){r=r||0,o=o||0,this.pdf.internal.out(n(e+r)+" "+i(t+o)+" l")},N=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,n,r,i,s,l,c,d){this.pdf.internal.out([t(o(r+e)),t(a(i+n)),t(o(s+e)),t(a(l+n)),t(o(c+e)),t(a(d+n)),"c"].join(" "))},z=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var s=[],l=r?-1:1,c=t;a>1e-5;){var d=c+l*Math.min(a,o);s.push(O.call(this,e,c,d)),a-=Math.abs(d-c),c=d}return s},O=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),a=i,s=-o,l=a*a+s*s,c=l+a*i+s*o,d=4/3*(Math.sqrt(2*l*c)-c)/(a*o-s*i),u=a-d*s,h=s+d*a,p=u,f=-h,m=r+t,g=Math.cos(m),v=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*v,y2:u*v+h*g,x3:p*g-f*v,y3:p*v+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},D=function(e,t,n,r,i,o){var a=e+.5*(n-e),s=t+.5*(r-t),c=i+.5*(n-i),d=o+.5*(r-o),u=Math.min(e,i,a,c),h=Math.max(e,i,a,c),p=Math.min(t,o,s,d),f=Math.max(t,o,s,d);return new l(u,p,h-u,f-p)},R=function(e,t,n,r,i,o,a,s){var c,d,u,h,p,f,m,g,v,y,x,b,j,w,k=n-e,S=r-t,_=i-n,A=o-r,C=a-i,P=s-o;for(d=0;d<41;d++)v=(m=(u=e+(c=d/40)*k)+c*((p=n+c*_)-u))+c*(p+c*(i+c*C-p)-m),y=(g=(h=t+c*S)+c*((f=r+c*A)-h))+c*(f+c*(o+c*P-f)-g),0==d?(x=v,b=y,j=v,w=y):(x=Math.min(x,v),b=Math.min(b,y),j=Math.max(j,v),w=Math.max(w,y));return new l(Math.round(x),Math.round(b),Math.round(j-x),Math.round(w-b))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(ze.API),function(e){var t=function(e){var t,n,r,i,o,a,s,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(d=o%85))/85)-(c=o%85))/85)-(l=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,a=String,s="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[d](e[s]%5||5))[s];o>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),a.fromCharCode.apply(a,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=X(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var a=0,s=e||"",l=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=i(s),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:s,reverseChain:l.reverse().join(" ")}}}(ze.API),(Mt=ze.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},Mt.loadImageFile=Mt.loadFile,function(e){function t(){return(ee.html2canvas?Promise.resolve(ee.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function i(){return(ee.DOMPurify?Promise.resolve(ee.DOMPurify):n.e(977).then(n.bind(n,7977))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var o=function(e){var t=(0,r.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(o(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(i).then((function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var a=n[o],s=a.src.find((function(e){return"truetype"===e.format}));s&&t.addFont(s.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(e){if("object"!==o(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},s.prototype.get=function(e,t){return this.then((function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},s.prototype.setMargin=function(e){return this.then((function(){switch(o(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return s.convert(i,this.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ze.getPageSize=function(e,t,n){if("object"===(0,r.A)(e)){var i=e;e=i.orientation,t=i.unit||t,n=i.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var o,a=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+t}var l,c=0,d=0;if(s.hasOwnProperty(a))c=s[a][1]/o,d=s[a][0]/o;else try{c=n[1],d=n[0]}catch(Mt){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",d>c&&(l=d,d=c,c=l);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>d&&(l=d,d=c,c=l)}return{width:d,height:c,unit:t,k:o,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ct):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(ze.API),ze.API.addJS=function(e){return Rt=e,this.internal.events.subscribe("postPutResources",(function(){Lt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Rt+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==Lt&&void 0!==Dt&&this.internal.out("/Names <</JavaScript "+Lt+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],a=n.exec(o);if(null!=a){var s=a[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(ze.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,a){var s,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),o={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(ze.API);var Ft,Wt,Ut,qt,Ht,Vt=function(){var e,t,n;function r(e){var t,n,r,i,o,a,s,l,c,d,u,h,p,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((d=r-this.transparency.indexed.length)>0)for(p=0;0<=d?p<d:p>d;0<=d?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,u.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,a,s,l){var c,d,u,h,p,f,m,g,v,y,x,b,j,w,k,S,_,A,C,P,I,T=Math.ceil((i.width-o)/s),N=Math.ceil((i.height-a)/l),E=i.width==T&&i.height==N;for(w=t*T,b=E?n:new Uint8Array(w*N),f=e.length,j=0,d=0;j<N&&r<f;){switch(e[r++]){case 0:for(h=_=0;_<w;h=_+=1)b[d++]=e[r++];break;case 1:for(h=A=0;A<w;h=A+=1)c=e[r++],p=h<t?0:b[d-t],b[d++]=(c+p)%256;break;case 2:for(h=C=0;C<w;h=C+=1)c=e[r++],u=(h-h%t)/t,k=j&&b[(j-1)*w+u*t+h%t],b[d++]=(k+c)%256;break;case 3:for(h=P=0;P<w;h=P+=1)c=e[r++],u=(h-h%t)/t,p=h<t?0:b[d-t],k=j&&b[(j-1)*w+u*t+h%t],b[d++]=(c+Math.floor((p+k)/2))%256;break;case 4:for(h=I=0;I<w;h=I+=1)c=e[r++],u=(h-h%t)/t,p=h<t?0:b[d-t],0===j?k=S=0:(k=b[(j-1)*w+u*t+h%t],S=u&&b[(j-1)*w+(u-1)*t+h%t]),m=p+k-S,g=Math.abs(m-p),y=Math.abs(m-k),x=Math.abs(m-S),v=g<=y&&g<=x?p:y<=x?k:S,b[d++]=(c+v)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!E){var z=((a+j*l)*i.width+o)*t,O=j*w;for(h=0;h<T;h+=1){for(var L=0;L<t;L+=1)n[z++]=b[O++];z+=(s-1)*t}}j++}}return e=$(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,o,a,s,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,a,s,l,c,d,u,h;if(r=this.colors,d=null,n=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,a=d||t,o=s=0,1===r)for(;o<c;)l=d?4*t[o/4]:s,u=a[l++],i[o++]=u,i[o++]=u,i[o++]=u,i[o++]=n?a[l++]:255,s=l;else for(;o<c;)l=d?4*t[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(ee)){try{t=ee.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,a,s,l,c;if(this.animation){for(c=[],r=a=0,s=(l=this.animation.frames).length;a<s;r=++a)n=l[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,c.push(n.image=e(i));return c}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(t=function(){var a,l;if(a=n++%i,l=r[a],s.renderFrame(e,a),i>1&&n/i<o)return s.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function Gt(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,a=1<<1+(7&i);e[t++],e[t++];var s=null,l=null;o&&(s=t,l=a,t+=3*a);var c=!0,d=[],u=0,h=null,p=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++],j=b>>6&1,w=1<<1+(7&b),k=s,S=l,_=!1;b>>7&&(_=!0,k=t,S=w,t+=3*w);var A=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}d.push({x:g,y:v,width:y,height:x,has_local_palette:_,palette_offset:k,palette_size:S,data_offset:A,data_length:t-A,transparent_index:h,interlaced:!!j,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);Kt(e,i.data_offset,a,o);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=n-c,u=c,h=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),f=h,m=4*d;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=a.length;v<y;++v){var x=a[v];if(0===u&&(u=c,(f+=m)>=p&&(m=4*d+4*n*(g-1),f=h+(c+d)*(g<<1),g>>=1)),x===l)f+=4;else{var b=e[s+3*x],j=e[s+3*x+1],w=e[s+3*x+2];r[f++]=w,r[f++]=j,r[f++]=b,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);Kt(e,i.data_offset,a,o);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=n-c,u=c,h=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),f=h,m=4*d;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=a.length;v<y;++v){var x=a[v];if(0===u&&(u=c,(f+=m)>=p&&(m=4*d+4*n*(g-1),f=h+(c+d)*(g<<1),g>>=1)),x===l)f+=4;else{var b=e[s+3*x],j=e[s+3*x+1],w=e[s+3*x+2];r[f++]=b,r[f++]=j,r[f++]=w,r[f++]=255}--u}}}function Kt(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,l=i+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],f=new Int32Array(4096),m=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==o){if(g===a)break;for(var v=g<s?g:m,y=0,x=v;x>o;)x=f[x]>>8,++y;var b=x;if(h+y+(v!==g?1:0)>r)return void ne.log("Warning, gif stream longer than expected.");n[h++]=b;var j=h+=y;for(v!==g&&(n[h++]=b),x=v;y--;)x=f[x],n[--j]=255&x,x>>=8;null!==m&&s<4096&&(f[s++]=m<<8|b,s>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else s=a+1,c=(1<<(l=i+1))-1,m=null}return h!==r&&ne.log("Warning, gif stream shorter than expected."),n}function Yt(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),f=new Array(64),m=[],g=0,v=7,y=new Array(64),x=new Array(64),b=new Array(64),j=new Array(256),w=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function E(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function z(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(O(255),O(0)):O(g),v=7,g=0)}function O(e){m.push(e)}function L(e){O(e>>8&255),O(255&e)}function D(e,t,n,r,i){for(var o,a=i[0],s=i[240],l=function(e,t){var n,r,i,o,a,s,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],i=e[h+2],o=e[h+3],a=e[h+4],s=e[h+5],l=e[h+6];var f=n+(c=e[h+7]),m=n-c,g=r+l,v=r-l,y=i+s,x=i-s,b=o+a,j=o-a,w=f+b,k=f-b,S=g+y,_=g-y;e[h]=w+S,e[h+4]=w-S;var A=.707106781*(_+k);e[h+2]=k+A,e[h+6]=k-A;var C=.382683433*((w=j+x)-(_=v+m)),P=.5411961*w+C,I=1.306562965*_+C,T=.707106781*(S=x+v),N=m+T,E=m-T;e[h+5]=E+P,e[h+3]=E-P,e[h+1]=N+I,e[h+7]=N-I,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],i=e[h+16],o=e[h+24],a=e[h+32],s=e[h+40],l=e[h+48];var z=n+(c=e[h+56]),O=n-c,L=r+l,D=r-l,R=i+s,M=i-s,B=o+a,F=o-a,W=z+B,U=z-B,q=L+R,H=L-R;e[h]=W+q,e[h+32]=W-q;var V=.707106781*(H+U);e[h+16]=U+V,e[h+48]=U-V;var G=.382683433*((W=F+M)-(H=D+O)),K=.5411961*W+G,Y=1.306562965*H+G,Z=.707106781*(q=M+D),J=O+Z,X=O-Z;e[h+40]=X+K,e[h+24]=X-K,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)f[k[c]]=l[c];var d=f[0]-n;n=f[0],0==d?z(r[0]):(z(r[h[o=32767+d]]),z(u[o]));for(var m=63;m>0&&0==f[m];)m--;if(0==m)return z(a),n;for(var g,v=1;v<=m;){for(var y=v;0==f[v]&&v<=m;)++v;var x=v-y;if(x>=16){g=x>>4;for(var b=1;b<=g;++b)z(s);x&=15}o=32767+f[v],z(i[(x<<4)+h[o]]),z(u[o]),v++}return 63!=m&&z(a),n}function R(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[k[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var u=a((i[o]*e+50)/100);u=Math.min(Math.max(u,1),255),l[k[o]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)c[p]=1/(s[k[p]]*h[f]*h[m]*8),d[p]=1/(l[k[p]]*h[f]*h[m]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&R(o),m=new Array,g=0,v=7,L(65496),L(65504),L(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),L(1),L(1),O(0),O(0),function(){L(65499),L(132),O(0);for(var e=0;e<64;e++)O(s[e]);O(1);for(var t=0;t<64;t++)O(l[t])}(),function(e,t){L(65472),L(17),O(8),L(t),L(e),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(e.width,e.height),function(){L(65476),L(418),O(0);for(var e=0;e<16;e++)O(S[e+1]);for(var t=0;t<=11;t++)O(_[t]);O(16);for(var n=0;n<16;n++)O(A[n+1]);for(var r=0;r<=161;r++)O(C[r]);O(1);for(var i=0;i<16;i++)O(P[i+1]);for(var o=0;o<=11;o++)O(I[o]);O(17);for(var a=0;a<16;a++)O(T[a+1]);for(var s=0;s<=161;s++)O(N[s])}(),L(65498),L(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var a=0,u=0,h=0;g=0,v=7,this.encode.displayName="_encode_";for(var p,f,j,k,E,M,B,F,W,U=e.data,q=e.width,H=e.height,V=4*q,G=0;G<H;){for(p=0;p<V;){for(E=V*G+p,B=-1,F=0,W=0;W<64;W++)M=E+(F=W>>3)*V+(B=4*(7&W)),G+F>=H&&(M-=V*(G+1+F-H)),p+B>=V&&(M-=p+B-V+4),f=U[M++],j=U[M++],k=U[M++],y[W]=(w[f]+w[j+256|0]+w[k+512|0]>>16)-128,x[W]=(w[f+768|0]+w[j+1024|0]+w[k+1280|0]>>16)-128,b[W]=(w[f+1280|0]+w[j+1536|0]+w[k+1792|0]>>16)-128;a=D(y,c,a,t,r),u=D(x,d,u,n,i),h=D(b,d,h,n,i),p+=32}G+=8}if(v>=0){var K=[];K[1]=v+1,K[0]=(1<<v+1)-1,z(K)}return L(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)j[t]=e(t)}(),t=E(S,_),n=E(P,I),r=E(A,C),i=E(T,N),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,u[32767+i]=[],u[32767+i][1]=n,u[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256|0]=38470*e,w[e+512|0]=7471*e+32768,w[e+768|0]=-11059*e,w[e+1024|0]=-21709*e,w[e+1280|0]=32768*e+8421375,w[e+1536|0]=-27439*e,w[e+1792|0]=-5329*e}(),R(e)}function Zt(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jt(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var o=i[r],a=0;a<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function d(e,n,r,i,a){if(t(2328>=a),512>=a)var s=o(512);else if(null==(s=o(a)))return 0;return function(e,n,r,i,a,s){var d,h,p=n,f=1<<r,m=o(16),g=o(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),h=0;h<a;++h){if(15<i[h])return 0;++m[i[h]]}if(m[0]==a)return 0;for(g[1]=0,d=1;15>d;++d){if(m[d]>1<<d)return 0;g[d+1]=g[d]+m[d]}for(h=0;h<a;++h)d=i[h],0<i[h]&&(s[g[d]++]=h);if(1==g[15])return(i=new u).g=0,i.value=s[0],c(e,p,1,f,i),f;var v,y=-1,x=f-1,b=0,j=1,w=1,k=1<<r;for(h=0,d=1,a=2;d<=r;++d,a<<=1){if(j+=w<<=1,0>(w-=m[d]))return 0;for(;0<m[d];--m[d])(i=new u).g=d,i.value=s[h++],c(e,p+b,a,k,i),b=l(b,d)}for(d=r+1,a=2;15>=d;++d,a<<=1){if(j+=w<<=1,0>(w-=m[d]))return 0;for(;0<m[d];--m[d]){if(i=new u,(b&x)!=y){for(p+=k,v=1<<(y=d)-r;15>y&&!(0>=(v-=m[y]));)++y,v<<=1;f+=k=1<<(v=y-r),e[n+(y=b&x)].g=v+r,e[n+y].value=p-n-y}i.g=d-r,i.value=s[h++],c(e,p+(b>>r),a,k,i),b=l(b,d)}}return j!=2*g[15]-1?0:f}(e,n,r,i,a,s)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=a(5,u),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Bn,h)}function f(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,A(e)}function m(e,t){for(var n=0;0<t--;)n|=P(e,128)<<t;return n}function g(e,t){var n=m(e,t);return C(e)?-n:n}function v(e,n,r,i){var o,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)a+=n[r+o]<<8*o;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Un-8>>>0,++e.bb,e.u-=8;k(e)&&(e.h=1,e.u=0)}function x(e,n){if(t(0<=n),!e.h&&n<=Wn){var r=w(e)&Fn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function w(e){return e.Ra>>>(e.u&Un-1)>>>0}function k(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Un}function S(e,t){e.u=t,e.h=k(e)}function _(e){e.u>=qn&&(t(e.u>=qn),y(e))}function A(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function C(e){return m(e,1)}function P(e,t){var n=e.Ca;0>e.b&&A(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Hn[r],e.b-=r,e.Ca=(n<<r)-1,o}function I(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function T(e,t){return e[t+0]|e[t+1]<<8}function N(e,t){return T(e,t)|e[t+2]<<16}function E(e,t){return T(e,t)|T(e,t+2)<<16}function z(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function O(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function L(){this.X=[],this.Xa=this.Mb=0}function D(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],a=i[0];return 0==o&&(o=(e*a+n/2)/n),0==a&&(a=(n*o+e/2)/e),0>=o||0>=a?0:(r[0]=o,i[0]=a,1)}function R(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,r,i,o,a,s,l){var c;for(c=0;c<a;++c){var d=e[t](s[l+c-1],i,o+c);s[l+c]=M(n[r+c],d)}}}function F(){this.ud=this.hd=this.jd=0}function W(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function q(e,t){return U(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,i,o,a){for(r=o[a-1],n=0;n<i;++n)o[a+n]=r=M(e[t+n],r)}function G(e,t,n,r,i){var o;for(o=0;o<n;++o){var a=e[t+o],s=a>>8&255,l=16711935&(l=(l=16711935&a)+((s<<16)+s));r[i+o]=(4278255360&a)+l>>>0}}function K(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,r,i,o){var a;for(a=0;a<r;++a){var s=t[n+a],l=s>>>8,c=s,d=255&(d=(d=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),i[o+a]=(4278255360&s)+(d<<16)+c}}function Z(t,n,r,i,o){e[n]=function(e,t,n,r,a,s,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)a[s++]=o(n[i(e[t++])])},e[t]=function(t,n,a,s,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<a;++n){var m,g=0;for(m=0;m<h;++m)m&t||(g=i(s[l++])),c[d++]=o(p[g&f]),g>>=u}else e["VP8LMapColor"+r](s,l,p,f,c,d,n,a,h)}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o}}function X(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r[i++]=o>>24&255}}function $(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[i++]=o,r[i++]=a}}function Q(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=o,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=255&o,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,a){if(0==a)for(n=t+n;t<n;)I(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==qr||e==Hr||e==Vr||e==Gr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,a=i.fb+e.ka*i.A,s=vi[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,f=t.cc,m=t.dc,g=t.Mc,v=t.Nc,y=e.ka,x=e.ka+e.T,b=e.U,j=b+1>>1;for(0==y?s(l,c,null,null,d,u,h,p,d,u,h,p,o,a,null,null,b):(s(t.ec,t.fc,l,c,f,m,g,v,d,u,h,p,o,a-i.A,o,a,b),++n);y+2<x;y+=2)f=d,m=u,g=h,v=p,u+=e.Rc,p+=e.Rc,a+=2*i.A,s(l,(c+=2*e.fa)-e.fa,l,c,f,m,g,v,d,u,h,p,o,a-i.A,o,a,b);return c+=e.fa,e.j+x<e.o?(r(t.ec,t.fc,l,c,b),r(t.cc,t.dc,d,u,j),r(t.Mc,t.Nc,h,p,j),n--):1&x||s(l,c,null,null,d,u,h,p,d,u,h,p,o,a+i.A,null,null,b),n}function ue(e,n,r){var i=e.F,o=[e.J];if(null!=i){var a=e.U,s=n.ba.S,l=s==Fr||s==Vr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=_r(i,o[0],e.width,a,c,u,d+(l?0:3),n.A),t(r==c),e&&re(s)&&kr(u,d,l,a,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Rr||n==Br||n==Fr||n==Wr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&xn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,xn()}}else alert("todo:EmitYUV");i&&(t.Jb=ue,r&&vn())}if(r&&!Ni){for(e=0;256>e;++e)Ei[e]=89858*(e-128)+Ai>>_i,Li[e]=-22014*(e-128)+Ai,Oi[e]=-45773*(e-128),zi[e]=113618*(e-128)+Ai>>_i;for(e=Ci;e<Pi;++e)t=76283*(e-16)+Ai>>_i,Di[e-Ci]=Ve(t,255),Ri[e-Ci]=Ve(t+8>>4,15);Ni=1}return 1}function pe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=x(e,8)?0:(t[0]=x(e,14)+1,n[0]=x(e,14)+1,r[0]=x(e,1),0!=x(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+x(t,n)+1}function ve(e,t){return 120<t?t-120:1<=(n=((n=$r[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=w(n),i=e[t+=255&r].g-8;return 0<i&&(S(n,n.u+8),r=w(n),t+=e[t].value,t+=r&(1<<i)-1),S(n,n.u+e[t].g),e[t].value}function xe(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function be(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function je(e,n,i,o){var a=e.ab,s=e.c*n,l=e.C;n=l+n;var c=i,d=o;for(o=e.Ta,i=e.Ua;0<a--;){var u=e.gc[a],h=l,p=n,f=c,m=d,g=(d=o,c=i,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:Kn(f,m,(p-h)*g,d,c);break;case 0:var v=h,y=p,x=d,b=c,j=(A=u).Ea;0==v&&(Vn(f,m,null,null,1,x,b),V(f,m+1,0,0,j-1,x,b+1),m+=j,b+=j,++v);for(var w=1<<A.b,k=w-1,S=R(j,A.b),_=A.K,A=A.w+(v>>A.b)*S;v<y;){var C=_,P=A,I=1;for(Gn(f,m,x,b-j,1,x,b);I<j;){var T=(I&~k)+w;T>j&&(T=j),(0,$n[C[P++]>>8&15])(f,m+ +I,x,b+I-j,T-I,x,b+I),I=T}m+=j,b+=j,++v&k||(A+=S)}p!=u.nc&&r(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=f,y=m,j=(f=u.Ea)-(b=f&~(x=(m=1<<u.b)-1)),v=R(f,u.b),w=u.K,u=u.w+(h>>u.b)*v;h<p;){for(k=w,S=u,_=new F,A=y+b,C=y+f;y<A;)K(k[S++],_),Qn(_,g,y,m,d,c),y+=m,c+=m;y<C&&(K(k[S++],_),Qn(_,g,y,j,d,c),y+=j,c+=j),++h&x||(u+=v)}break;case 3:if(f==d&&m==c&&0<u.b){for(y=d,f=g=c+(p-h)*g-(b=(p-h)*R(u.Ea,u.b)),m=d,x=c,v=[],b=(j=b)-1;0<=b;--b)v[b]=m[x+b];for(b=j-1;0<=b;--b)y[f+b]=v[b];Yn(u,h,p,d,g,d,c)}else Yn(u,h,p,f,m,d,c)}c=o,d=i}d!=i&&r(o,i,c,d,s)}function we(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var a=e.l,s=e.Ta,l=e.Ua,c=a.width;if(je(e,o,r,i),o=l=[l],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var d=a.j-r;r=a.j,o[0]+=d*c}if(r>=i?r=0:(o[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(i=r.S,o=a.U,a=a.T,d=u.eb,u.A),p=a;for(u=u.fb+e.Ma*u.A;0<p--;){var f=s,m=l,g=o,v=d,y=u;switch(i){case Dr:er(f,m,g,v,y);break;case Rr:tr(f,m,g,v,y);break;case qr:tr(f,m,g,v,y),kr(v,y,0,g,1,0);break;case Mr:ir(f,m,g,v,y);break;case Br:te(f,m,g,v,y,1);break;case Hr:te(f,m,g,v,y,1),kr(v,y,0,g,1,0);break;case Fr:te(f,m,g,v,y,0);break;case Vr:te(f,m,g,v,y,0),kr(v,y,1,g,1,0);break;case Wr:nr(f,m,g,v,y);break;case Gr:nr(f,m,g,v,y),Sr(v,y,g,1,0);break;case Ur:rr(f,m,g,v,y);break;default:t(0)}l+=c,u+=h}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function ke(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Se(e,n,r,i,o,a){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=gi[e.Z]);n<r;++n)gi[e.Z](s,l,i,o,i,o,a),s=i,l=o,o+=a;e.qd=s,e.rd=l}}function _e(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,a=r.ca,s=r.tb+o*i,l=e.V,c=e.Ba+e.c*i,d=e.gc;t(1==e.ab),t(3==d[0].hc),Jn(d[0],i,n,l,c,a,s),Se(r,i,n,a,s,o)}e.C=e.Ma=n}function Ae(e,n,r,i,o,a,s){var l=e.$/i,c=e.$%i,d=e.m,u=e.s,h=r+e.$,p=h;o=r+i*o;var f=r+i*a,m=280+u.ua,g=e.Pb?l:16777216,v=0<u.ua?u.Wa:null,y=u.wc,x=h<f?be(u,c,l):null;t(e.C<a),t(f<=o);var b=!1;e:for(;;){for(;b||h<f;){var j=0;if(l>=g){var A=h-r;t((g=e).Pb),g.wd=g.m,g.xd=A,0<g.s.ua&&O(g.s.Wa,g.s.vb),g=l+ei}if(c&y||(x=be(u,c,l)),t(null!=x),x.Qb&&(n[h]=x.qb,b=!0),!b)if(_(d),x.jc){j=d,A=n;var C=h,P=x.pd[w(j)&Bn-1];t(x.jc),256>P.g?(S(j,j.u+P.g),A[C]=P.value,j=0):(S(j,j.u+P.g-256),t(256<=P.value),j=P.value),0==j&&(b=!0)}else j=ye(x.G[0],x.H[0],d);if(d.h)break;if(b||256>j){if(!b)if(x.nd)n[h]=(x.qb|j<<8)>>>0;else{if(_(d),b=ye(x.G[1],x.H[1],d),_(d),A=ye(x.G[2],x.H[2],d),C=ye(x.G[3],x.H[3],d),d.h)break;n[h]=(C<<24|b<<16|j<<8|A)>>>0}if(b=!1,++h,++c>=i&&(c=0,++l,null!=s&&l<=a&&!(l%16)&&s(e,l),null!=v))for(;p<h;)j=n[p++],v.X[(506832829*j&4294967295)>>>v.Mb]=j}else if(280>j){if(j=ge(j-256,d),A=ye(x.G[4],x.H[4],d),_(d),A=ve(i,A=ge(A,d)),d.h)break;if(h-r<A||o-h<j)break e;for(C=0;C<j;++C)n[h+C]=n[h+C-A];for(h+=j,c+=j;c>=i;)c-=i,++l,null!=s&&l<=a&&!(l%16)&&s(e,l);if(t(h<=o),c&y&&(x=be(u,c,l)),null!=v)for(;p<h;)j=n[p++],v.X[(506832829*j&4294967295)>>>v.Mb]=j}else{if(!(j<m))break e;for(b=j-280,t(null!=v);p<h;)j=n[p++],v.X[(506832829*j&4294967295)>>>v.Mb]=j;j=h,t(!(b>>>(A=v).Xa)),n[j]=A.X[b],b=!0}b||t(d.h==k(d))}if(e.Pb&&d.h&&h<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&O(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=s&&s(e,l>a?a:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ce(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Pe(){var t=new sn;return null==t?null:(t.a=0,t.xb=mi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Kn=G,Qn=Y,er=J,tr=X,nr=$,rr=Q,ir=ee,e.VP8LMapColor32b=Zn,e.VP8LMapColor8b=Xn,t)}function Ie(e,n,r,s,l){var c=1,h=[e],f=[n],m=s.m,g=s.s,v=null,y=0;e:for(;;){if(r)for(;c&&x(m,1);){var b=h,j=f,k=s,A=1,C=k.m,P=k.gc[k.ab],I=x(C,2);if(k.Oc&1<<I)c=0;else{switch(k.Oc|=1<<I,P.hc=I,P.Ea=b[0],P.nc=j[0],P.K=[null],++k.ab,t(4>=k.ab),I){case 0:case 1:P.b=x(C,3)+2,A=Ie(R(P.Ea,P.b),R(P.nc,P.b),0,k,P.K),P.K=P.K[0];break;case 3:var T,N=x(C,8)+1,E=16<N?0:4<N?1:2<N?2:3;if(b[0]=R(P.Ea,E),P.b=E,T=A=Ie(N,1,0,k,P.K)){var O,L=N,D=P,B=1<<(8>>D.b),F=o(B);if(null==F)T=0;else{var W=D.K[0],U=D.w;for(F[0]=D.K[0][0],O=1;O<1*L;++O)F[O]=M(W[U+O],F[O-1]);for(;O<4*B;++O)F[O]=0;D.K[0]=null,D.K[0]=F,T=1}}A=T;break;case 2:break;default:t(0)}c=A}}if(h=h[0],f=f[0],c&&x(m,1)&&!(c=1<=(y=x(m,4))&&11>=y)){s.a=3;break e}var q;if(q=c)t:{var H,V,G,K=s,Y=h,Z=f,J=y,X=r,$=K.m,Q=K.s,ee=[null],te=1,ne=0,re=Qr[J];n:for(;;){if(X&&x($,1)){var ie=x($,3)+2,oe=R(Y,ie),ae=R(Z,ie),se=oe*ae;if(!Ie(oe,ae,0,K,ee))break n;for(ee=ee[0],Q.xc=ie,H=0;H<se;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if($.h)break n;for(V=0;5>V;++V){var ce=Zr[V];!V&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=a(te*re,u),ue=te,he=a(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var fe=o(ne);if(null==pe||null==fe||null==de){K.a=1;break n}var me=de;for(H=G=0;H<te;++H){var ge=pe[H],ve=ge.G,ye=ge.H,be=0,je=1,we=0;for(V=0;5>V;++V){ce=Zr[V],ve[V]=me,ye[V]=G,!V&&0<J&&(ce+=1<<J);r:{var ke,Se=ce,_e=K,Pe=fe,Te=me,Ne=G,Ee=0,ze=_e.m,Oe=x(ze,1);if(i(Pe,0,0,Se),Oe){var Le=x(ze,1)+1,De=x(ze,1),Re=x(ze,0==De?1:8);Pe[Re]=1,2==Le&&(Pe[Re=x(ze,8)]=1);var Me=1}else{var Be=o(19),Fe=x(ze,4)+4;if(19<Fe){_e.a=3;var We=0;break r}for(ke=0;ke<Fe;++ke)Be[Xr[ke]]=x(ze,3);var Ue=void 0,qe=void 0,He=_e,Ve=Be,Ge=Se,Ke=Pe,Ye=0,Ze=He.m,Je=8,Xe=a(128,u);i:for(;d(Xe,0,7,Ve,19);){if(x(Ze,1)){var $e=2+2*x(Ze,3);if((Ue=2+x(Ze,$e))>Ge)break i}else Ue=Ge;for(qe=0;qe<Ge&&Ue--;){_(Ze);var Qe=Xe[0+(127&w(Ze))];S(Ze,Ze.u+Qe.g);var et=Qe.value;if(16>et)Ke[qe++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Yr[nt],it=x(Ze,Kr[nt])+rt;if(qe+it>Ge)break i;for(var ot=tt?Je:0;0<it--;)Ke[qe++]=ot}}Ye=1;break i}Ye||(He.a=3),Me=Ye}(Me=Me&&!ze.h)&&(Ee=d(Te,Ne,8,Pe,Se)),Me&&0!=Ee?We=Ee:(_e.a=3,We=0)}if(0==We)break n;if(je&&1==Jr[V]&&(je=0==me[G].g),be+=me[G].g,G+=We,3>=V){var at,st=fe[0];for(at=1;at<ce;++at)fe[at]>st&&(st=fe[at]);we+=st}}if(ge.nd=je,ge.Qb=0,je&&(ge.qb=(ve[3][ye[3]+0].value<<24|ve[1][ye[1]+0].value<<16|ve[2][ye[2]+0].value)>>>0,0==be&&256>ve[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=ve[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>we,ge.jc){var lt,ct=ge;for(lt=0;lt<Bn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=xe(ht,8,ut),dt>>=xe(ct.G[1][ct.H[1]+dt],16,ut),dt>>=xe(ct.G[2][ct.H[2]+dt],0,ut),xe(ct.G[3][ct.H[3]+dt],24,ut))}}}Q.vc=ee,Q.Wb=te,Q.Ya=pe,Q.yc=de,q=1;break t}q=0}if(!(c=q)){s.a=3;break e}if(0<y){if(g.ua=1<<y,!z(g.Wa,y)){s.a=1,c=0;break e}}else g.ua=0;var pt=s,ft=h,mt=f,gt=pt.s,vt=gt.xc;if(pt.c=ft,pt.i=mt,gt.md=R(ft,vt),gt.wc=0==vt?-1:(1<<vt)-1,r){s.xb=fi;break e}if(null==(v=o(h*f))){s.a=1,c=0;break e}c=(c=Ae(s,v,0,h,f,f,null))&&!m.h;break e}return c?(null!=l?l[0]=v:(t(null==v),t(r)),s.$=0,r||Ce(g)):Ce(g),c}function Te(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ne(e,n){var r=e.C,i=n-r,o=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,l=e.l.ma,c=e.l.width,d=c*s,u=l.ca,h=l.tb+c*r,p=e.Ta,f=e.Ua;je(e,s,o,a),Ar(p,f,u,h,d),Se(l,r,r+s,u,h,c),i-=s,o+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Ee(){this.ub=this.yd=this.td=this.Rb=0}function ze(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oe(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Le(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function De(){this.jb=o(3),this.Wc=s([4,8],Le),this.Xc=s([4,17],Le)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Me(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function Fe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function We(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ue(){this.uc=this.M=this.Nb=0,this.wa=Array(new Me),this.Y=0,this.ya=Array(new We),this.aa=0,this.l=new Ge}function qe(){this.y=o(16),this.f=o(8),this.ea=o(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Ee,this.Kc=new ze,this.ed=new Re,this.Qa=new Oe,this.Ic=this.$c=this.Aa=0,this.D=new Ue,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,b),this.ia=0,this.pb=a(4,Fe),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qe),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new We),this.L=this.aa=0,this.gd=s([4,2],Me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Xe)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ze(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,a=n.ha;if(4>a)return Ye(e,7,"Truncated header.");var s=r[o+0]|r[o+1]<<8|r[o+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");o+=3,a-=3;var c=e.Kc;if(l.Rb){if(7>a)return Ye(e,7,"cannot parse picture header");if(!Ze(r,o,a))return Ye(e,3,"Bad code word");c.c=16383&(r[o+4]<<8|r[o+3]),c.Td=r[o+4]>>6,c.i=16383&(r[o+6]<<8|r[o+5]),c.Ud=r[o+6]>>6,o+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(l.ub>a)return Ye(e,7,"bad partition length");f(s=e.m,r,o,l.ub),o+=l.ub,a-=l.ub,l.Rb&&(c.Ld=C(s),c.Kd=C(s)),c=e.Qa;var d,u=e.Pa;if(t(null!=s),t(null!=c),c.Cb=C(s),c.Cb){if(c.Bb=C(s),C(s)){for(c.Fb=C(s),d=0;4>d;++d)c.Zb[d]=C(s)?g(s,7):0;for(d=0;4>d;++d)c.Lb[d]=C(s)?g(s,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=C(s)?m(s,8):255}else c.Bb=0;if(s.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=C(s),c.Tb=m(s,6),c.wb=m(s,3),c.Pc=C(s),c.Pc&&C(s)){for(u=0;4>u;++u)C(s)&&(c.vd[u]=g(s,6));for(u=0;4>u;++u)C(s)&&(c.od[u]=g(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return Ye(e,3,"cannot parse filter header");var h=a;if(a=d=o,o=d+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=r[a+0]|r[a+1]<<8|r[a+2]<<16;p>c&&(p=c),f(e.Jc[+h],r,d,p),d+=p,c-=p,a+=3}f(e.Jc[+u],r,d,c),r=d<o?0:5}if(0!=r)return Ye(e,r,"cannot parse partitions");for(r=m(d=e.m,7),a=C(d)?g(d,4):0,o=C(d)?g(d,4):0,c=C(d)?g(d,4):0,u=C(d)?g(d,4):0,d=C(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var v=h.Zb[p];h.Fb||(v+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}v=r}var y=e.pb[p];y.Sc[0]=ti[Ve(v+a,127)],y.Sc[1]=ni[Ve(v+0,127)],y.Eb[0]=2*ti[Ve(v+o,127)],y.Eb[1]=101581*ni[Ve(v+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[Ve(v+u,117)],y.Qc[1]=ni[Ve(v+d,127)],y.lc=v+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(C(s),l=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(o=0;3>o;++o)for(c=0;11>c;++c)u=P(s,ci[r][a][o][c])?m(s,8):si[r][a][o][c],l.Wc[r][a].Yb[o][c]=u;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][di[a]]}return e.kc=C(s),e.kc&&(e.Bd=m(s,8)),e.cb=1}function Xe(e,t,n,r,i,o,a){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!P(e,s[n+0]))return i;for(;!P(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(P(e,s[n+2])){var c=e,d=0;if(P(c,(h=s)[(u=n)+3]))if(P(c,h[u+6])){for(s=0,u=2*(d=P(c,h[u+8]))+(h=P(c,h[u+9+d])),d=0,h=ii[u];h[s];++s)d+=d+P(c,h[s]);d+=3+(8<<u)}else P(c,h[u+7])?(d=7+2*P(c,165),d+=P(c,145)):d=5+P(c,159);else d=P(c,h[u+4])?3+P(c,h[u+5]):2;s=l[2]}else d=1,s=l[1];l=a+oi[i],0>(c=e).b&&A(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,o[l]=((d^p)-p)*r[(0<i)+0]}return 16}function $e(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Qe(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Bi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var d=e.Qa.Lb[s];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[s][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}s=0}else Ye(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Wi);e:{s=e.Ic,l=4*(p=e.za);var f=32*p,m=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*s+Bi[e.L])/2*f)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)s=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=o(u),e.Fc=0,null==e.Ec){s=Ye(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=a(f,qe),e.Hd=0,e.rb=a(m+1,Be),e.sb=1,e.wa=g?a(g,Me):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=a(v,We),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(f=Bi[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*s*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+f,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),$e(e),i(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Nr){for(s=-255;255>=s;++s)Cr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Pr[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Ir[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Tr[255+s]=0>s?0:255<s?255:s;Nr=1}or=ct,ar=ot,lr=at,cr=st,dr=lt,sr=it,ur=Yt,hr=Zt,pr=$t,fr=Qt,mr=Jt,gr=Xt,vr=en,yr=tn,xr=Ut,br=qt,jr=Ht,wr=Vt,hi[0]=St,hi[1]=ut,hi[2]=wt,hi[3]=kt,hi[4]=_t,hi[5]=Ct,hi[6]=At,hi[7]=Pt,hi[8]=Tt,hi[9]=It,ui[0]=vt,ui[1]=pt,ui[2]=ft,ui[3]=mt,ui[4]=yt,ui[5]=xt,ui[6]=bt,pi[0]=Ot,pi[1]=ht,pi[2]=Nt,pi[3]=Et,pi[4]=Dt,pi[5]=Lt,pi[6]=Rt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],l=e.m,c=e;for(a=0;a<c.za;++a){var d=l,u=c,h=u.Ac,p=u.Bc+4*a,f=u.zc,m=u.ya[u.aa+a];if(u.Qa.Bb?m.$b=P(d,u.Pa.jb[0])?2+P(d,u.Pa.jb[2]):P(d,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=P(d,u.Bd)),m.Za=!P(d,145)+0,m.Za){var g=m.Ob,v=0;for(u=0;4>u;++u){var y,x=f[0+u];for(y=0;4>y;++y){x=li[h[p+y]][x];for(var b=ai[P(d,x[0])];0<b;)b=ai[2*b+P(d,x[b])];x=-b,h[p+y]=x}r(g,v,h,p,4),v+=4,f[0+u]=x}}else x=P(d,156)?P(d,128)?1:3:P(d,163)?2:0,m.Ob[0]=x,i(h,p,x,4),i(f,0,x,4);m.Dd=P(d,142)?P(d,114)?P(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],p=l.kc?a.Ad:0)d.la=h.la=0,a.Za||(d.Na=h.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var j,w;if(d=h,h=c,p=l.Pa.Xc,f=l.ya[l.aa+l.ja],m=l.pb[f.$b],u=f.ad,g=0,v=l.rb[l.sb-1],x=y=0,i(u,g,0,384),f.Za)var k=0,S=p[3];else{b=o(16);var _=d.Na+v.Na;if(_=ri(h,p[1],_,m.Eb,0,b,0),d.Na=v.Na=(0<_)+0,1<_)or(b,0,u,g);else{var A=b[0]+3>>3;for(b=0;256>b;b+=16)u[g+b]=A}k=1,S=p[0]}var C=15&d.la,I=15&v.la;for(b=0;4>b;++b){var T=1&I;for(A=w=0;4>A;++A)C=C>>1|(T=(_=ri(h,S,_=T+(1&C),m.Sc,k,u,g))>k)<<7,w=w<<2|(3<_?3:1<_?2:0!=u[g+0]),g+=16;C>>=4,I=I>>1|T<<7,y=(y<<8|w)>>>0}for(S=C,k=I>>4,j=0;4>j;j+=2){for(w=0,C=d.la>>4+j,I=v.la>>4+j,b=0;2>b;++b){for(T=1&I,A=0;2>A;++A)_=T+(1&C),C=C>>1|(T=0<(_=ri(h,p[2],_,m.Qc,0,u,g)))<<3,w=w<<2|(3<_?3:1<_?2:0!=u[g+0]),g+=16;C>>=2,I=I>>1|T<<5}x|=w<<4*j,S|=C<<4<<j,k|=(240&I)<<j}d.la=S,v.la=k,f.Hc=y,f.Gc=x,f.ia=43690&x?0:m.ia,p=!(y|x)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if($e(e),l=n,c=1,a=(s=e).D,d=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=d,On(s,a),c=1,a=(w=s.D).Nb,d=(x=Bi[s.L])*s.R,h=x/2*s.B,b=16*a*s.R,A=8*a*s.B,p=s.sa,f=s.ta-d+b,m=s.qa,u=s.ra-h+A,g=s.Ha,v=s.Ia-h+A,I=0==(C=w.M),y=C>=s.Va-1,2==s.Aa&&On(s,w),w.uc)for(T=(_=s).D.M,t(_.D.uc),w=_.yb;w<_.Hb;++w){k=w,S=T;var N=(E=(W=_).D).Nb;j=W.R;var E=E.wa[E.Y+k],z=W.sa,O=W.ta+16*N*j+16*k,L=E.dd,D=E.tc;if(0!=D)if(t(3<=D),1==W.L)0<k&&br(z,O,j,D+4),E.La&&wr(z,O,j,D),0<S&&xr(z,O,j,D+4),E.La&&jr(z,O,j,D);else{var R=W.B,M=W.qa,B=W.ra+8*N*R+8*k,F=W.Ha,W=W.Ia+8*N*R+8*k;N=E.ld,0<k&&(hr(z,O,j,D+4,L,N),fr(M,B,F,W,R,D+4,L,N)),E.La&&(gr(z,O,j,D,L,N),yr(M,B,F,W,R,D,L,N)),0<S&&(ur(z,O,j,D+4,L,N),pr(M,B,F,W,R,D+4,L,N)),E.La&&(mr(z,O,j,D,L,N),vr(M,B,F,W,R,D,L,N))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(w=16*C,C=16*(C+1),I?(l.y=s.sa,l.O=s.ta+b,l.f=s.qa,l.N=s.ra+A,l.ea=s.Ha,l.W=s.Ia+A):(w-=x,l.y=p,l.O=f,l.f=m,l.N=u,l.ea=g,l.W=v),y||(C-=x),C>l.o&&(C=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&w<C&&(l.J=hn(s,l,w,C-w),l.F=s.mb,null==l.F&&0==l.F.length)){c=Ye(s,3,"Could not decode alpha data.");break e}w<l.j&&(x=l.j-w,w=l.j,t(!(1&x)),l.O+=s.R*x,l.N+=s.B*(x>>1),l.W+=s.B*(x>>1),null!=l.F&&(l.J+=l.width*x)),w<C&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=w-l.j,l.U=l.va-l.v,l.T=C-w,c=l.put(l))}a+1!=s.Ic||y||(r(s.sa,s.ta-d,p,f+16*s.R,d),r(s.qa,s.ra-h,m,u+8*s.B,h),r(s.Ha,s.Ia-h,g,v+8*s.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,a=0,s=o(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=l+u,s[a+1]=c+d,s[a+2]=c-d,s[a+3]=l-u,a+=4,t++}for(i=a=0;4>i;++i)l=(e=s[a+0]+4)+s[a+8],c=e-s[a+8],d=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,r,0,0,l+(u=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,r,1,0,c+d),et(n,r,2,0,c-d),et(n,r,3,0,l-u),a++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,r,0,i+a,e=nt(e[t+1]),s),tt(n,r,1,i+o,e,s),tt(n,r,2,i-o,e,s),tt(n,r,3,i-a,e,s)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var i,a=o(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],d=e[t+0+i]-e[t+12+i];a[0+i]=s+l,a[8+i]=s-l,a[4+i]=d+c,a[12+i]=d-c}for(i=0;4>i;++i)s=(e=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],d=e-a[3+4*i],n[r+0]=s+l>>3,n[r+16]=d+c>>3,n[r+32]=s-l>>3,n[r+48]=d-c>>3,r+=64}function dt(e,t,n){var r,i=t-32,o=Or,a=255-e[i-1];for(r=0;r<n;++r){var s,l=o,c=a+e[t-1];for(s=0;s<n;++s)e[t+s]=l[c+e[i+s]];t+=32}}function ut(e,t){dt(e,t,4)}function ht(e,t){dt(e,t,8)}function pt(e,t){dt(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function vt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function bt(e,t){gt(128,e,t)}function jt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,i=t-32;for(i=new Uint8Array([jt(e[i-1],e[i+0],e[i+1]),jt(e[i+0],e[i+1],e[i+2]),jt(e[i+1],e[i+2],e[i+3]),jt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function kt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];I(e,t+0,16843009*jt(e[t-1-32],n,r)),I(e,t+32,16843009*jt(n,r,i)),I(e,t+64,16843009*jt(r,i,o)),I(e,t+96,16843009*jt(i,o,o))}function St(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function _t(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=jt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=jt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=jt(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=jt(a,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=jt(s,a,o),e[t+3+32]=e[t+2+0]=jt(l,s,a),e[t+3+0]=jt(c,l,s)}function At(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=jt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=jt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=jt(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=jt(i,o,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=jt(o,a,s),e[t+3+64]=e[t+2+96]=jt(a,s,l),e[t+3+96]=jt(s,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=o+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=jt(i,r,n),e[t+0+64]=jt(r,n,o),e[t+0+32]=e[t+1+96]=jt(n,o,a),e[t+1+32]=e[t+2+96]=jt(o,a,s),e[t+2+32]=e[t+3+96]=jt(a,s,l),e[t+3+32]=jt(s,l,c)}function Pt(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],a=e[t+4-32],s=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+a+1>>1,e[t+0+32]=jt(n,r,i),e[t+1+32]=e[t+0+96]=jt(r,i,o),e[t+2+32]=e[t+1+96]=jt(i,o,a),e[t+3+32]=e[t+2+96]=jt(o,a,s),e[t+3+64]=jt(a,s,l),e[t+3+96]=jt(s,l,c)}function It(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=jt(n,r,i),e[t+3+0]=e[t+1+32]=jt(r,i,o),e[t+3+32]=e[t+1+64]=jt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],a=e[t-1-32],s=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=jt(s,l,c),e[t+2+0]=jt(a,s,l),e[t+1+0]=e[t+3+32]=jt(n,a,s),e[t+1+32]=e[t+3+64]=jt(r,n,a),e[t+1+64]=e[t+3+96]=jt(i,r,n),e[t+1+96]=jt(o,i,r)}function Nt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Et(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function zt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Ot(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];zt(r>>4,e,t)}function Lt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];zt(r>>3,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];zt(r>>3,e,t)}function Rt(e,t){zt(128,e,t)}function Mt(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+Er[1020+e[t-2*n]-e[t+n]],a=zr[112+(o+4>>3)];e[t-n]=Or[255+r+zr[112+(o+3>>3)]],e[t+0]=Or[255+i-a]}function Bt(e,t,n,r){var i=e[t+0],o=e[t+n];return Lr[255+e[t-2*n]-e[t-n]]>r||Lr[255+o-i]>r}function Ft(e,t,n,r){return 4*Lr[255+e[t-n]-e[t+0]]+Lr[255+e[t-2*n]-e[t+n]]<=r}function Wt(e,t,n,r,i){var o=e[t-3*n],a=e[t-2*n],s=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Lr[255+s-l]+Lr[255+a-c]>r?0:Lr[255+e[t-4*n]-o]<=i&&Lr[255+o-a]<=i&&Lr[255+a-s]<=i&&Lr[255+u-d]<=i&&Lr[255+d-c]<=i&&Lr[255+c-l]<=i}function Ut(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ft(e,t+r,n,i)&&Mt(e,t+r,n)}function qt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ft(e,t+r*n,1,i)&&Mt(e,t+r*n,1)}function Ht(e,t,n,r){var i;for(i=3;0<i;--i)Ut(e,t+=4*n,n,r)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)qt(e,t+=4,n,r)}function Gt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Wt(e,t,n,o,a))if(Bt(e,t,n,s))Mt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],f=l[c+d],m=l[c+2*d],g=27*(y=Er[1020+3*(p-h)+Er[1020+u-f]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;l[c-3*d]=Or[255+l[c-3*d]+y],l[c-2*d]=Or[255+u+v],l[c-d]=Or[255+h+g],l[c+0]=Or[255+p-g],l[c+d]=Or[255+f-v],l[c+2*d]=Or[255+m-y]}t+=r}}function Kt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Wt(e,t,n,o,a))if(Bt(e,t,n,s))Mt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],f=zr[112+(4+(m=3*(h-u))>>3)],m=zr[112+(m+3>>3)],g=f+1>>1;l[c-2*d]=Or[255+l[c-2*d]+g],l[c-d]=Or[255+u+m],l[c+0]=Or[255+h-f],l[c+d]=Or[255+p-g]}t+=r}}function Yt(e,t,n,r,i,o){Gt(e,t,n,1,16,r,i,o)}function Zt(e,t,n,r,i,o){Gt(e,t,1,n,16,r,i,o)}function Jt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Kt(e,t+=4*n,n,1,16,r,i,o)}function Xt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Kt(e,t+=4,1,n,16,r,i,o)}function $t(e,t,n,r,i,o,a,s){Gt(e,t,i,1,8,o,a,s),Gt(n,r,i,1,8,o,a,s)}function Qt(e,t,n,r,i,o,a,s){Gt(e,t,1,i,8,o,a,s),Gt(n,r,1,i,8,o,a,s)}function en(e,t,n,r,i,o,a,s){Kt(e,t+4*i,i,1,8,o,a,s),Kt(n,r+4*i,i,1,8,o,a,s)}function tn(e,t,n,r,i,o,a,s){Kt(e,t+4,1,i,8,o,a,s),Kt(n,r+4,1,i,8,o,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new L,this.vb=new L,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new Ge,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,on),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,i,o,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function dn(e,t,n,r,i,o,a){var s;if(null==e)cn(null,null,n,r,i,o,a);else for(s=0;s<a;++s)i[o+s]=e[t+s]+n[r+s]&255}function un(e,t,n,r,i,o,a){if(null==e)cn(null,null,n,r,i,o,a);else{var s,l=e[t+0],c=l,d=l;for(s=0;s<a;++s)c=d+(l=e[t+s])-c,d=n[r+s]+(-256&c?0>c?0:255:c)&255,c=l,i[o+s]=d}}function hn(e,n,i,a){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=o(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,f=e.nb,m=u+1,g=h-1,y=c.l;if(t(null!=d&&null!=p&&null!=n),gi[0]=null,gi[1]=cn,gi[2]=dn,gi[3]=un,c.ca=p,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(y.put=pe,y.ac=he,y.bc=fe,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)e:{t(1==c.$a),n=Pe();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,d,m,g),!Ie(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&ke(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Te(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=l-i}t(null!=e.ga),t(i+a<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(m=e.rc,g=e.Vc,y=e.Fa,u=e.P+1+i*n,h=e.mb,p=e.nb+i*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=gi[d.Z]),c=0;c<a;++c)gi[d.Z](m,g,y,u,h,p,n),m=h,g=p,p+=n,u+=n;else for(c=0;c<a;++c)r(h,p,y,u,n),m=h,g=p,p+=n,u+=n;e.rc=m,e.Vc=g}else{if(t(null!=d.mc),n=i+a,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||vn(),d.ic){d=c.V,m=c.Ba,g=c.c;var x=c.i,b=(y=1,u=c.$/g,h=c.$%g,p=c.m,f=c.s,c.$),j=g*x,w=g*n,S=f.wc,A=b<w?be(f,h,u):null;t(b<=j),t(n<=x),t(ke(f));t:for(;;){for(;!p.h&&b<w;){if(h&S||(A=be(f,h,u)),t(null!=A),_(p),256>(x=ye(A.G[0],A.H[0],p)))d[m+b]=x,++b,++h>=g&&(h=0,++u<=n&&!(u%16)&&_e(c,u));else{if(!(280>x)){y=0;break t}x=ge(x-256,p);var C,P=ye(A.G[4],A.H[4],p);if(_(p),!(b>=(P=ve(g,P=ge(P,p)))&&j-b>=x)){y=0;break t}for(C=0;C<x;++C)d[m+b+C]=d[m+b+C-P];for(b+=x,h+=x;h>=g;)h-=g,++u<=n&&!(u%16)&&_e(c,u);b<w&&h&S&&(A=be(f,h,u))}t(p.h==k(p))}_e(c,u>n?n:u);break t}!y||p.h&&b<j?(y=0,c.a=p.h?5:3):c.$=b,n=y}else n=Ae(c,c.V,c.Ba,c.c,c.i,n,Ne);if(!n){a=0;break e}}i+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function pn(e,t,n,r,i,o){for(;0<i--;){var a,s=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(a=0;a<r;++a){var u=c[d+4*a];255!=u&&(u*=32897,s[l+4*a+0]=s[l+4*a+0]*u>>23,s[l+4*a+1]=s[l+4*a+1]*u>>23,s[l+4*a+2]=s[l+4*a+2]*u>>23)}t+=o}}function fn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var a=e[t+2*o+0],s=15&(c=e[t+2*o+1]),l=4369*s,c=(240&c|c>>4)*l>>16;e[t+2*o+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*o+1]=240&c|s}t+=i}}function mn(e,t,n,r,i,o,a,s){var l,c,d=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var u=e[t+l];o[a+4*l]=u,d&=u}t+=n,a+=s}return 255!=d}function gn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function vn(){kr=pn,Sr=fn,_r=mn,Ar=gn}function yn(n,r,i){e[n]=function(e,n,o,a,s,l,c,d,u,h,p,f,m,g,v,y,x){var b,j=x-1>>1,w=s[l+0]|c[d+0]<<16,k=u[h+0]|p[f+0]<<16;t(null!=e);var S=3*w+k+131074>>2;for(r(e[n+0],255&S,S>>16,m,g),null!=o&&(S=3*k+w+131074>>2,r(o[a+0],255&S,S>>16,v,y)),b=1;b<=j;++b){var _=s[l+b]|c[d+b]<<16,A=u[h+b]|p[f+b]<<16,C=w+_+k+A+524296,P=C+2*(_+k)>>3;S=P+w>>1,w=(C=C+2*(w+A)>>3)+_>>1,r(e[n+2*b-1],255&S,S>>16,m,g+(2*b-1)*i),r(e[n+2*b-0],255&w,w>>16,m,g+(2*b-0)*i),null!=o&&(S=C+k>>1,w=P+A>>1,r(o[a+2*b-1],255&S,S>>16,v,y+(2*b-1)*i),r(o[a+2*b+0],255&w,w>>16,v,y+(2*b+0)*i)),w=_,k=A}1&x||(S=3*w+k+131074>>2,r(e[n+x-1],255&S,S>>16,m,g+(x-1)*i),null!=o&&(S=3*k+w+131074>>2,r(o[a+x-1],255&S,S>>16,v,y+(x-1)*i)))}}function xn(){vi[Dr]=yi,vi[Rr]=bi,vi[Mr]=xi,vi[Br]=ji,vi[Fr]=wi,vi[Wr]=ki,vi[Ur]=Si,vi[qr]=bi,vi[Hr]=ji,vi[Vr]=wi,vi[Gr]=ki}function bn(e){return e&~Ti?0>e?0:255:e>>Ii}function jn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function kn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Sn(e,t,n,r,i){r[i+0]=jn(e,n),r[i+1]=wn(e,t,n),r[i+2]=kn(e,t)}function _n(e,t,n,r,i){r[i+0]=kn(e,t),r[i+1]=wn(e,t,n),r[i+2]=jn(e,n)}function An(e,t,n,r,i){var o=wn(e,t,n);t=o<<3&224|kn(e,t)>>3,r[i+0]=248&jn(e,n)|o>>5,r[i+1]=t}function Cn(e,t,n,r,i){var o=240&kn(e,t)|15;r[i+0]=240&jn(e,n)|wn(e,t,n)>>4,r[i+1]=o}function Pn(e,t,n,r,i){r[i+0]=255,Sn(e,t,n,r,i+1)}function In(e,t,n,r,i){_n(e,t,n,r,i),r[i+3]=255}function Tn(e,t,n,r,i){Sn(e,t,n,r,i),r[i+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function Nn(t,n,r){e[t]=function(e,t,i,o,a,s,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],i[o+0],a[s+0],l,c),n(e[t+1],i[o+0],a[s+0],l,c+r),t+=2,++o,++s,c+=2*r;1&d&&n(e[t+0],i[o+0],a[s+0],l,c)}}function En(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function zn(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:sr(t,n,r,i);break;case 1:cr(t,n,r,i)}}function On(e,t){var n,o,a=t.M,s=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<a?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(i(l,c-32-1,127,21),i(d,u-32-1,127,9),i(h,p-32-1,127,9)),o=0;o<e.za;++o){var f=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,p+32*n-4,h,p+32*n+4,4)}var m=e.Gd,g=e.Hd+o,v=f.ad,y=f.Hc;if(0<a&&(r(l,c-32,m[g].y,0,16),r(d,u-32,m[g].f,0,8),r(h,p-32,m[g].ea,0,8)),f.Za){var x=l,b=c-32+16;for(0<a&&(o>=e.za-1?i(x,b,m[g].y[15],4):r(x,b,m[g+1].y,0,4)),n=0;4>n;n++)x[b+128+n]=x[b+256+n]=x[b+384+n]=x[b+0+n];for(n=0;16>n;++n,y<<=2)x=l,b=c+Mi[n],hi[f.Ob[n]](x,b),zn(y,v,16*+n,x,b)}else if(x=En(o,a,f.Ob[0]),ui[x](l,c),0!=y)for(n=0;16>n;++n,y<<=2)zn(y,v,16*+n,l,c+Mi[n]);for(n=f.Gc,x=En(o,a,f.Dd),pi[x](d,u),pi[x](h,p),y=v,x=d,b=u,255&(f=n|0)&&(170&f?lr(y,256,x,b):dr(y,256,x,b)),f=h,y=p,255&(n>>=8)&&(170&n?lr(v,320,f,y):dr(v,320,f,y)),a<e.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,d,u+224,8),r(m[g].ea,0,h,p+224,8)),n=8*s*e.B,m=e.sa,g=e.ta+16*o+16*s*e.R,v=e.qa,f=e.ra+8*o+n,y=e.Ha,x=e.Ia+8*o+n,n=0;16>n;++n)r(m,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(v,f+n*e.B,d,u+32*n,8),r(y,x+n*e.B,h,p+32*n,8)}}function Ln(e,r,i,o,a,s,l,c,d){var u=[0],h=[0],p=0,f=null!=d?d.kd:0,m=null!=d?d:new rn;if(null==e||12>i)return 7;m.data=e,m.w=r,m.ha=i,r=[r],i=[i],m.gb=[m.gb];e:{var g=r,y=i,x=m.gb;if(t(null!=e),t(null!=y),t(null!=x),x[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){x=3;break e}var b=E(e,g[0]+4);if(12>b||4294967286<b){x=3;break e}if(f&&b>y[0]-8){x=7;break e}x[0]=b,g[0]+=12,y[0]-=12}x=0}if(0!=x)return x;for(b=0<m.gb[0],i=i[0];;){e:{var w=e;y=r,x=i;var k=u,S=h,_=g=[0];if((P=p=[p])[0]=0,8>x[0])x=7;else{if(!n(w,y[0],"VP8X")){if(10!=E(w,y[0]+4)){x=3;break e}if(18>x[0]){x=7;break e}var A=E(w,y[0]+8),C=1+N(w,y[0]+12);if(2147483648<=C*(w=1+N(w,y[0]+15))){x=3;break e}null!=_&&(_[0]=A),null!=k&&(k[0]=C),null!=S&&(S[0]=w),y[0]+=18,x[0]-=18,P[0]=1}x=0}}if(p=p[0],g=g[0],0!=x)return x;if(y=!!(2&g),!b&&p)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&y&&null==d){x=0;break}if(4>i){x=7;break}if(b&&p||!b&&!p&&!n(e,r[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{A=e,x=r,b=i;var P=m.gb;k=m.na,S=m.P,_=m.Sa,C=22,t(null!=A),t(null!=b),w=x[0];var I=b[0];for(t(null!=k),t(null!=_),k[0]=null,S[0]=null,_[0]=0;;){if(x[0]=w,b[0]=I,8>I){x=7;break e}var T=E(A,w+4);if(4294967286<T){x=3;break e}var z=8+T+1&-2;if(C+=z,0<P&&C>P){x=3;break e}if(!n(A,w,"VP8 ")||!n(A,w,"VP8L")){x=0;break e}if(I[0]<z){x=7;break e}n(A,w,"ALPH")||(k[0]=A,S[0]=w+8,_[0]=T),w+=z,I-=z}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=x)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];e:if(P=e,x=r,b=i,k=m.gb[0],S=m.Ja,_=m.xa,A=x[0],w=!n(P,A,"VP8 "),C=!n(P,A,"VP8L"),t(null!=P),t(null!=b),t(null!=S),t(null!=_),8>b[0])x=7;else{if(w||C){if(P=E(P,A+4),12<=k&&P>k-12){x=3;break e}if(f&&P>b[0]-8){x=7;break e}S[0]=P,x[0]+=8,b[0]-=8,_[0]=C}else _[0]=5<=b[0]&&47==P[A+0]&&!(P[A+4]>>5),S[0]=b[0];x=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=x)break;if(4294967286<m.Ja)return 3;if(null==c||y||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>i){x=7;break}c=l,f=g,y=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(b=[0],P=[0],k=[0],v(S=new j,e,r,i),me(S,b,P,k)?(null!=c&&(c[0]=b[0]),null!=f&&(f[0]=P[0]),null!=y&&(y[0]=k[0]),e=1):e=0):e=0}else{if(10>i){x=7;break}c=g,null==e||10>i||!Ze(e,r+3,i-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=m.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=m,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-i));break}return 0==x||7==x&&p&&null==d?(null!=s&&(s[0]|=null!=m.na&&0<m.na.length),null!=o&&(o[0]=l),null!=a&&(a[0]=g),0):x}function Dn(e,t,n){var r=t.width,i=t.height,o=0,a=0,s=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,o=e.v,a=e.j,11>n||(o&=-2,a&=-2),0>o||0>a||0>=s||0>=l||o+s>r||a+l>i))return 0;if(t.v=o,t.j=a,t.va=o+s,t.o=a+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!D(s,l,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Rn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Mn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=i||0>=a||s+i>e||l+a>t)return 2;e=i,t=a}if(n.da){if(!D(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Dr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=a=i=t=0;var u=(l=c*Ui[e])*d;if(11>e||(a=(d+1)/2*(t=(c+1)/2),12==e&&(s=(i=c)*d)),null==(d=o(u+2*a+s))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=a,c.ea=d,c.W=0+u+a,c.Db=t,c.Ed=a,12==e&&(c.F=d,c.J=0+u+2*a),c.Tc=s,c.lb=i)}if(t=1,i=r.S,a=r.width,s=r.height,i>=Dr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+a<=e.size,t&=l>=a*Ui[i],t&=null!=e.eb;else{e=r.f.kb,l=(a+1)/2,u=(s+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),f=p*(s-1)+a;t&=c*(s-1)+a<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=a&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=p>=a,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Rn(r)),e}var Bn=64,Fn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wn=24,Un=32,qn=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return W(W(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return W(e,t[n-1])},e.Predictor7=function(e,t,n){return W(e,t[n+0])},e.Predictor8=function(e,t,n){return W(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return W(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return W(W(e,t[n-1]),W(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(U((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|U((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|U((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(q((e=W(e,t[n+0]))>>24&255,r>>24&255)<<24|q(e>>16&255,r>>16&255)<<16|q(e>>8&255,r>>8&255)<<8|q(255&e,255&r))>>>0};var Vn=e.PredictorAdd0;e.PredictorAdd1=V,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Gn=e.PredictorAdd2;Z("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),Z("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Kn,Yn=e.ColorIndexInverseTransform,Zn=e.MapARGB,Jn=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,$n=e.VP8LPredictorsAdd=[];$n.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Qn,er,tr,nr,rr,ir,or,ar,sr,lr,cr,dr,ur,hr,pr,fr,mr,gr,vr,yr,xr,br,jr,wr,kr,Sr,_r,Ar,Cr=o(511),Pr=o(2041),Ir=o(225),Tr=o(767),Nr=0,Er=Pr,zr=Ir,Or=Tr,Lr=Cr,Dr=0,Rr=1,Mr=2,Br=3,Fr=4,Wr=5,Ur=6,qr=7,Hr=8,Vr=9,Gr=10,Kr=[2,3,7],Yr=[3,3,11],Zr=[280,256,256,256,40],Jr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$r=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],di=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ui=[],hi=[],pi=[],fi=1,mi=2,gi=[],vi=[];yn("UpsampleRgbLinePair",Sn,3),yn("UpsampleBgrLinePair",_n,3),yn("UpsampleRgbaLinePair",Tn,4),yn("UpsampleBgraLinePair",In,4),yn("UpsampleArgbLinePair",Pn,4),yn("UpsampleRgba4444LinePair",Cn,2),yn("UpsampleRgb565LinePair",An,2);var yi=e.UpsampleRgbLinePair,xi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,ji=e.UpsampleBgraLinePair,wi=e.UpsampleArgbLinePair,ki=e.UpsampleRgba4444LinePair,Si=e.UpsampleRgb565LinePair,_i=16,Ai=1<<_i-1,Ci=-227,Pi=482,Ii=6,Ti=(256<<Ii)-1,Ni=0,Ei=o(256),zi=o(256),Oi=o(256),Li=o(256),Di=o(Pi-Ci),Ri=o(Pi-Ci);Nn("YuvToRgbRow",Sn,3),Nn("YuvToBgrRow",_n,3),Nn("YuvToRgbaRow",Tn,4),Nn("YuvToBgraRow",In,4),Nn("YuvToArgbRow",Pn,4),Nn("YuvToRgba4444Row",Cn,2),Nn("YuvToRgb565Row",An,2);var Mi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bi=[0,2,8],Fi=[8,7,6,4,4,2,2,2,1,1,1,1],Wi=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var a=Rr,s=new nn,l=new ae;s.ba=l,l.S=a,l.width=[l.width],l.height=[l.height];var c=l.width,d=l.height,u=new se;if(null==u||null==e)var h=2;else t(null!=u),h=Ln(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=h?c=0:(null!=c&&(c[0]=u.width[0]),null!=d&&(d[0]=u.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=o&&(o[0]=l.height);e:{if(i=new Ge,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Ln(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=pe,i.ac=he,i.bc=fe,i.ma=s,o.xa){if(null==(e=Pe())){s=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,v(e.m,n.data,n.w,n.ha),!me(e.m,r,i,o)){e.a=3;break t}if(e.xb=mi,n.width=r[0],n.height=i[0],!Ie(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Mn(i.width,i.height,s.Oa,s.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Dn(o.Oa,r,Br)){i.a=2;break n}if(!Te(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!z(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Ae(i,i.V,i.Ba,i.c,i.i,r.o,we))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new Ke)){s=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Je(e,i)){if(0==(n=Mn(i.width,i.height,s.Oa,s.ba))){if(e.Aa=0,r=s.Oa,t(null!=(o=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(d=u=0;4>d;++d)12>(h=o.pb[d]).lc&&(h.ia=c*Fi[0>h.lc?0:h.lc]>>3),u|=h.ia;u&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Qe(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=Rn(s.ba))}s=n}a=0!=s?null:11>a?l.f.RGBA.eb:l.f.kb.y}else a=null;return a};var Ui=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],p=[0],f=[],m=new l,g=e,v=function(e,t){var n={},r=0,i=!1,o=0,a=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(u(e,t+=4),t+=8;t<e.length;){var s=c(e,t),l=u(e,t+=4);t+=4;var h=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(m=n.frames[r]).src_off=i?a:t-8,m.src_size=o+l+8,r++,i&&(i=!1,o=0,a=0);break;case"VP8X":(m=n.header={}).feature_flags=e[t];var p=t+4;m.canvas_width=1+d(e,p),p+=3,m.canvas_height=1+d(e,p),p+=3;break;case"ALPH":i=!0,o=h+8,a=t-8;break;case"ANIM":(m=n.header).bgcolor=u(e,t),p=t+4,m.loop_count=(g=e)[(v=p)+0]|g[v+1]<<8,p+=2;break;case"ANMF":var f,m;(m=n.frames[r]={}).offset_x=2*d(e,t),t+=3,m.offset_y=2*d(e,t),t+=3,m.width=1+d(e,t),t+=3,m.height=1+d(e,t),t+=3,m.duration=d(e,t),t+=3,f=e[t++],m.dispose=1&f,m.blend=f>>1&1}"ANMF"!=s&&(t+=h)}var g,v;return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,x=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var b=0;b<x.length&&0!=x[b].blend;b++);}var j=x[0],w=m.WebPDecodeRGBA(g,j.src_off,j.src_size,p,h);j.rgba=w,j.imgwidth=p[0],j.imgheight=h[0];for(var k=0;k<p[0]*h[0]*4;k++)f[k]=w[k];return this.width=p,this.height=h,this.data=f,this}!function(e){var t=function(t,r,l,c){var d=4,u=o;switch(c){case e.image_compression.FAST:d=1,u=i;break;case e.image_compression.MEDIUM:d=6,u=a;break;case e.image_compression.SLOW:d=9,u=s}var h=X(t=n(t,r,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,r){for(var i,o,a,s=e.length/t,l=new Uint8Array(e.length+s),u=c(),h=0;h<s;h+=1){if(a=h*t,i=e.subarray(a,a+t),r)l.set(r(i,n,o),a+h);else{for(var p,f=u.length,m=[];p<f;p+=1)m[p]=u[p](i,n,o);var g=d(m.concat());l.set(m[g],a+h)}o=i}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},o=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var a=0;a<o;a+=1)r=n&&n[a]||0,i[a+1]=e[a]-r+256&255;return i},a=function(e,t,n){var r,i,o=[],a=e.length;o[0]=3;for(var s=0;s<a;s+=1)r=e[s-t]||0,i=n&&n[s]||0,o[s+1]=e[s]+256-(r+i>>>1)&255;return o},s=function(e,t,n){var r,i,o,a,s=[],c=e.length;s[0]=4;for(var d=0;d<c;d+=1)r=e[d-t]||0,i=n&&n[d]||0,o=n&&n[d-t]||0,a=l(r,i,o),s[d+1]=e[d]-a+256&255;return s},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},c=function(){return[r,i,o,a,s]},d=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,i,o){var a,s,l,c,d,u,h,p,f,m,g,v,y,x,b,j=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new Vt(n)).imgData,s=l.bits,a=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){f=(p=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*l.colors),m=new Uint8Array(f);var k,S=l.pixelBitlength-l.bits;for(x=0,b=0;x<f;x++){for(y=p[x],k=0;k<S;)g[b++]=y>>>k&255,k+=l.bits;m[x]=y>>>k&255}}if(16===l.bits){f=(p=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(f*(32/l.pixelBitlength)),v=l.colors>1,x=0,b=0;for(var _=0;x<f;)y=p[x++],g[b++]=y>>>0&255,v&&(g[b++]=y>>>16&255,y=p[x++],g[b++]=y>>>0&255),m[_++]=y>>>16&255;s=8}o!==e.image_compression.NONE?(n=t(g,l.width*l.colors,l.colors,o),h=t(m,l.width,1,o)):(n=g,h=m,j=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var A=l.transparency.indexed,C=0;for(x=0,f=A.length;x<f;++x)C+=A[x];if((C/=255)===f-1&&-1!==A.indexOf(0))c=[A.indexOf(0)];else if(C!==f){for(p=l.decodePixels(),m=new Uint8Array(p.length),x=0,f=p.length;x<f;x++)m[x]=A[p[x]];h=t(m,l.width,1)}}var P=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(o);return j===this.decode.FLATE_DECODE&&(w="/Predictor "+P+" "),w+="/Colors "+d+" /BitsPerComponent "+s+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:i,data:n,index:r,filter:j,decodeParameters:w,transparency:c,palette:u,sMask:h,predictor:P,width:l.width,height:l.height,bitsPerComponent:s,colorSpace:a}}}}(ze.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new Gt(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},d=new Yt(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(ze.API),Zt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zt.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){ne.log("bit decode error:"+e)}},Zt.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},Zt.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Zt.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},Zt.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=a,this.data[d+3]=c}this.pos+=e}},Zt.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,d=i*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},Zt.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Zt.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Zt.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new Zt(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new Yt(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(ze.API),Jt.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new Jt(t),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new Yt(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(ze.API),ze.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var d=r[c],u=r[c+1],h=r[c+2],p=r[c+3];o[s++]=d,o[s++]=u,o[s++]=h,a[l++]=p}var f=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ze.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ft=ze.API,Wt=Ft.getCharWidthsArray=function(e,t){var n,i,o=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:o.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:o.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=!1!==t.doKerning,p=0,f=e.length,m=0,g=l[0]||c,v=[];for(n=0;n<f;n++)i=e.charCodeAt(n),"function"==typeof o.metadata.widthOfString?v.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):(p=h&&"object"===(0,r.A)(d[i])&&!isNaN(parseInt(d[i][m],10))?d[i][m]/u:0,v.push((l[i]||g)/c+p)),m=i;return v},Ut=Ft.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ft.processArabic&&(e=Ft.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Wt.apply(this,arguments).reduce((function(e,t){return e+t}),0)},qt=function(e,t,n,r){for(var i=[],o=0,a=e.length,s=0;o!==a&&s+t[o]<n;)s+=t[o],o++;i.push(e.slice(0,o));var l=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(e.slice(l,o)),s=0,l=o),s+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},Ht=function(e,t,n){n||(n={});var r,i,o,a,s,l,c,d=[],u=[d],h=n.textIndent||0,p=0,f=0,m=e.split(" "),g=Wt.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),y=[];m.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),m=y,l=Ut.apply(this,[v,n])}for(o=0,a=m.length;o<a;o++){var x=0;if(r=m[o],l&&"\n"==r[0]&&(r=r.substr(1),x=1),h+p+(f=(i=Wt.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||x){if(f>t){for(s=qt.apply(this,[r,i,t-(h+p),t]),d.push(s.shift()),d=[s.pop()];s.length;)u.push([s.shift()]);f=i.slice(r.length-(d[0]?d[0].length:0)).reduce((function(e,t){return e+t}),0)}else d=[r];u.push(d),h=f+l,p=g}else d.push(r),h+=p+f,p=g}return c=l?function(e,t){return(t?v:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},Ft.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(Ht.apply(this,[r[s],a,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},o=0;o<16;o++)n[t[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=t[o];var a=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,o,l,c=["{"];for(var d in e){if(t=e[d],isNaN(parseInt(d,10))?n="'"+d+"'":(d=parseInt(d,10),n=(n=a(d).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(o=a(t).slice(3),l="-"):(o=a(t).slice(2),l=""),o=l+o.slice(0,-1)+i[o.slice(-1)];else{if("object"!==(0,r.A)(t))throw new Error("Don't know what to do with value type "+(0,r.A)(t)+".");o=s(t)}c.push(n+o)}return c.push("}"),c.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,a={},s=1,l=a,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(o=e[p])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(c.push([l,i]),l={},i=void 0):"}"==o?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==o?s=-1:void 0===i?n.hasOwnProperty(o)?(d+=n[o],i=parseInt(d,16)*s,s=1,d=""):d+=o:n.hasOwnProperty(o)?(u+=n[o],l[i]=parseInt(u,16)*s,s=1,i=void 0,u=""):u+=o;return a},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(ze.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(ae(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(ze),function(){function e(){return(ee.canvg?Promise.resolve(ee.canvg):n.e(455).then(n.bind(n,8455))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}ze.API.addSvgAsImage=function(t,n,r,i,o,a,s,l){if(isNaN(n)||isNaN(r))throw ne.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ne.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then((function(e){return e.fromString(d,t,u)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(u)})).then((function(){h.addImage(c.toDataURL("image/jpeg",1),n,r,i,o,s,l)}))}}(),ze.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ze.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,o,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,u=0,h=0;function p(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=l.length;for(h=0;h<f;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if("object"===(0,r.A)(e))for(o in e)if(a=e[o],p(l,o)&&void 0!==a){if("boolean"===n[o].type&&"boolean"==typeof a)n[o].value=a;else if("name"===n[o].type&&p(n[o].valueSet,a))n[o].value=a;else if("integer"===n[o].type&&Number.isInteger(a))n[o].value=a;else if("array"===n[o].type){for(d=0;d<a.length;d+=1)if(i=!0,1===a[d].length&&"number"==typeof a[d][0])c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)"number"!=typeof a[d][u]&&(i=!1);!0===i&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}n[o].value="["+c.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ze.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;a<s;a++)t=n[a],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=o();a({data:c,addLength1:!0,objectId:u}),i("endobj");var h=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var p=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+Ce(n.fontName)),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var f=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+Ce(n.fontName)),i("/FontDescriptor "+p+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+Ce(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+f+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",c=0;c<s.length;c++)l+=String.fromCharCode(s[c]);var d=o();a({data:l,addLength1:!0,objectId:d}),i("endobj");var u=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),i("endobj");var h=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+d+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+Ce(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Ce(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,a=e.options||{},s=e.mutex||{},l=s.pdfEscape,c=s.activeFontKey,d=s.fonts,u=c,h="",p=0,f="",m=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),p=0;p<f.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),t||f[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=f[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,u).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===m&&(g=n(h,d[u])),s.isHex=!0,{text:g,x:i,y:o,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(ze),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ze.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,a,s,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},x=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},b=function(e,t,a,s){var l,c,d,u,h=t[s];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=a[s-1])&&"AN"!==l||"EN"!==(c=t[s+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){h="EN";break}if(g){h="N";break}for(d=s+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(i&&!o){for(u=t.length,d=s+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[s],f=p>=1425&&p<=2303||64286===p;if(l=t[d],f&&("R"===l||"AL"===l)){h="R";break}}}h=s<1||"B"===(l=t[s-1])?"N":a[s-1];break;case"B":g=!1,n=!0,h=v;break;case"S":r=!0,h="N"}return h},j=function(e,t,n){var r=e.split("");return n&&w(r,n,{hiLevel:v}),r.reverse(),t&&t.reverse(),r.join("")},w=function(e,t,i){var o,a,s,l,c,p=-1,f=e.length,m=0,x=[],j=v?u:d,w=[];for(g=!1,n=!1,r=!1,a=0;a<f;a++)w[a]=y(e[a]);for(s=0;s<f;s++){if(c=m,x[s]=b(e,w,x,s),o=240&(m=j[c][h[x[s]]]),m&=15,t[s]=l=j[m][5],o>0)if(16===o){for(a=p;a<s;a++)t[a]=1;p=-1}else p=-1;if(j[m][6])-1===p&&(p=s);else if(p>-1){for(a=p;a<s;a++)t[a]=l;p=-1}"B"===w[s]&&(t[s]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=v;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=v}}(w,t,f)},k=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(r&&r.reverse());for(var a,s,l,c,d=t.length,u=0;u<d;){if(i[u]>=e){for(l=u+1;l<d&&i[l]>=e;)l++;for(c=u,s=l-1;c<s;c++,s--)a=t[c],t[c]=t[s],t[s]=a,r&&(a=r[c],r[c]=r[s],r[s]=a);u=l}u++}}},S=function(e,t,n){var r=e.split(""),i={hiLevel:v};return n||(n=[]),w(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=f.indexOf(e[i]))>=0&&(e[i]=f[r+1])}(r,n,i),k(2,r,t,n,i),k(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=x(e)),void 0===s&&(s=x(e))}(e,t),i||!a||s)if(i&&a&&o^s)v=o?1:0,e=j(e,t,n);else if(!i&&a&&s)v=o?1:0,e=S(e,t,n),e=j(e,t);else if(!i||o||a||s){if(i&&!a&&o^s)e=j(e,t),o?(v=0,e=S(e,t,n)):(v=1,e=S(e,t,n),e=j(e,t));else if(i&&o&&!a&&s)v=1,e=S(e,t,n),e=j(e,t);else if(!i&&!a&&o^s){var r=l;o?(v=1,e=S(e,t,n),v=0,l=!1,e=S(e,t,n),l=r):(v=0,e=S(e,t,n),e=j(e,t),v=1,l=!1,e=S(e,t,n),l=r,e=j(e,t))}}else v=0,e=S(e,t,n);else v=o?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,o=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(ze),ze.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new $t(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new yn(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Qt(this.contents),this.head=new nn(this),this.name=new dn(this),this.cmap=new on(this),this.toUnicode={},this.hhea=new an(this),this.maxp=new un(this),this.hmtx=new hn(this),this.post=new ln(this),this.os2=new sn(this),this.loca=new vn(this),this.glyf=new fn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Xt,$t=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),Qt=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,a,s,l,c,d,u,h,p,f;for(f in h=Object.keys(t).length,s=Math.log(2),d=16*Math.floor(Math.log(h)/s),o=Math.floor(d/s),c=16*h-d,(r=new $t).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(o),r.writeShort(c),i=16*h,l=r.pos+i,a=null,p=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===f&&(a=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=pn.call(e);e.length%4;)e.push(0);for(r=new $t(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),en={}.hasOwnProperty,tn=function(e,t){for(var n in t)en.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Xt=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var nn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new $t).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),rn=function(){function e(e,t){var n,r,i,o,a,s,l,c,d,u,h,p,f,m,g,v,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,y=i.length;g<y;s=++g)for(m=i[s],n=v=p=f[s];p<=m?v<=m:v>=m;n=p<=m?++v:--v)0===c[s]?o=n+l[s]:0!==(o=a[c[s]/2+(n-p)-(u-s)]||0)&&(o+=l[s]),this.codeMap[n]=65535&o}e.pos=d}return e.encode=function(e,t){var n,r,i,o,a,s,l,c,d,u,h,p,f,m,g,v,y,x,b,j,w,k,S,_,A,C,P,I,T,N,E,z,O,L,D,R,M,B,F,W,U,q,H,V,G,K;switch(I=new $t,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(f=0,m=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),v={0:0},i={},T=0,O=o.length;T<O;T++)null==v[H=e[r=o[T]]]&&(v[H]=++f),i[r]={old:e[r],new:v[e[r]]},m[r]=v[e[r]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(m),{charMap:i,subtable:I.data,maxGlyphID:f+1};case"unicode":for(C=[],d=[],y=0,v={},n={},g=l=null,N=0,L=o.length;N<L;N++)null==v[b=e[r=o[N]]]&&(v[b]=++y),n[r]={old:b,new:v[b]},a=v[b]-r,null!=g&&a===l||(g&&d.push(g),C.push(r),l=a),g=r;for(g&&d.push(g),d.push(65535),C.push(65535),_=2*(S=C.length),k=2*Math.pow(Math.log(S)/Math.LN2,2),u=Math.log(k/2)/Math.LN2,w=2*S-k,s=[],j=[],h=[],p=E=0,D=C.length;E<D;p=++E){if(A=C[p],c=d[p],65535===A){s.push(0),j.push(0);break}if(A-(P=n[A].new)>=32768)for(s.push(0),j.push(2*(h.length+S-p)),r=z=A;A<=c?z<=c:z>=c;r=A<=c?++z:--z)h.push(n[r].new);else s.push(P-A),j.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*S+2*h.length),I.writeUInt16(0),I.writeUInt16(_),I.writeUInt16(k),I.writeUInt16(u),I.writeUInt16(w),U=0,R=d.length;U<R;U++)r=d[U],I.writeUInt16(r);for(I.writeUInt16(0),q=0,M=C.length;q<M;q++)r=C[q],I.writeUInt16(r);for(V=0,B=s.length;V<B;V++)a=s[V],I.writeUInt16(a);for(G=0,F=j.length;G<F;G++)x=j[G],I.writeUInt16(x);for(K=0,W=h.length;K<W;K++)f=h[K],I.writeUInt16(f);return{charMap:n,subtable:I.data,maxGlyphID:y+1}}},e}(),on=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new rn(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=rn.encode(e,t),(r=new $t).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),an=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),sn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),ln=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),cn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},dn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,o,a,s,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},i=c=0,d=n.length;c<d;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),o=new cn(l,r),null==s[u=r.nameID]&&(s[u]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),un=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),hn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,o,a,s;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),pn=[].slice,fn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,o,a,s,l,c,d;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(a=new $t(t.read(r))).readShort(),l=a.readShort(),d=a.readShort(),s=a.readShort(),c=a.readShort(),this.cache[e]=-1===o?new gn(a,l,d,s,c):new mn(a,o,l,d,s,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=t.length;a<s;a++)r=e[t[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),mn=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gn=function(){function e(e,t,n,r,i){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new $t(pn.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),vn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tn(e,Xt),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;s>0&&(r+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),yn=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,a,s;for(r={},o=0,a=e.length;o<a;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,a,s,l,c,d,u,h,p,f,m,g;for(r in n=on.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=n.charMap)h[(s=g[r]).old]=s.new;for(p in u=n.maxGlyphID,o)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort((function(e,t){return e-t})),f=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)a=d[e],n.push(c[a]);return n}(),i=this.font.glyf.encode(o,f,h),l=this.font.loca.encode(i.offsets,f),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();ze.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join("\n")}return""+n},t}()},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(9371);const i={getTenants:async()=>{try{return(await r.default.get("/tenants")).data}catch(e){throw console.error("Get tenants error:",e),new Error(e.message||"Failed to fetch tenants")}},getBookings:async()=>{try{return(await r.default.get("/bookings")).data}catch(e){throw console.error("Get bookings error:",e),new Error(e.message||"Failed to fetch bookings")}},getRooms:async()=>{try{return(await r.default.get("/rooms")).data}catch(e){throw console.error("Get rooms error:",e),new Error(e.message||"Failed to fetch rooms")}},getPayments:async()=>{try{return(await r.default.get("/payments")).data}catch(e){throw console.error("Get payments error:",e),new Error(e.message||"Failed to fetch payments")}},getDashboardData:async()=>{try{const[e,t,n,r]=await Promise.all([i.getTenants(),i.getBookings(),i.getRooms(),i.getPayments()]),o=e.tenants||[],a=t.bookings||[],s=n.rooms||[],l=r.payments||[];console.log("=== TENANT COUNT DEBUGGING ==="),console.log("Raw tenants response:",e),console.log("Tenants array length:",o.length),console.log("API totalCount field:",e.totalCount),console.log("Individual tenant IDs and status:",o.map((e=>{var t,n;return{id:e.tenantId||e.tenant_id||e.id,name:(null===(t=e.user)||void 0===t?void 0:t.fullName)||e.fullName||e.name,status:e.status||e.computed_status||"no_status",type:(null===(n=e.tenantType)||void 0===n?void 0:n.name)||e.type,active:"active"===e.status||"active"===e.computed_status}})));const c=o.reduce(((e,t)=>{var n;const r=(null===(n=t.user)||void 0===n?void 0:n.fullName)||t.name;return e[r]=(e[r]||0)+1,e}),{}),d=Object.entries(c).filter((e=>{let[t,n]=e;return n>1}));d.length>0&&console.warn("\u26a0\ufe0f DUPLICATE TENANTS IN SERVICE:",d);const u=e.totalCount||o.length;console.log("Total tenants calculated:",u,"(API totalCount:",e.totalCount,", array length:",o.length,")");const h=o.filter((e=>{var t;return"mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type})),p=o.filter((e=>{var t;return"non_mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"non_mahasiswa"===e.type})),f=o.filter((e=>{var t;return!(null!==(t=e.tenantType)&&void 0!==t&&t.name)&&!e.type}));console.log("Tenant breakdown: ".concat(h.length," mahasiswa, ").concat(p.length," non-mahasiswa, ").concat(f.length," unknown type")),console.log("Mahasiswa tenants:",h.map((e=>{var t;return{id:e.tenantId||e.id,name:(null===(t=e.user)||void 0===t?void 0:t.fullName)||e.name}}))),console.log("Non-mahasiswa tenants:",p.map((e=>{var t;return{id:e.tenantId||e.id,name:(null===(t=e.user)||void 0===t?void 0:t.fullName)||e.name}}))),console.log("Unknown type tenants:",f.map((e=>{var t;return{id:e.tenantId||e.id,name:(null===(t=e.user)||void 0===t?void 0:t.fullName)||e.name,type:e.tenantType,rawType:e.type}}))),console.log("=== END TENANT DEBUGGING ===");const m=s.length,g=a.filter((e=>"approved"===e.status||"confirmed"===e.status)).length;let v=0,y=0,x=0,b=0;const j=new Date;s.forEach((e=>{const t=e.capacity||4;b+=t;let n=0;e.occupants&&Array.isArray(e.occupants)&&(n=e.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length,console.log("Room ".concat(e.roomId," (").concat(e.name,"): ").concat(n," occupants from room.occupants array"))),0===n&&(n=o.filter((t=>{var n;return(null===(n=t.currentRoomAssignment)||void 0===n?void 0:n.roomId)===e.roomId&&("active"===t.status||"active"===t.computed_status||!t.status&&!t.computed_status)})).length,console.log("Room ".concat(e.roomId," (").concat(e.name,"): ").concat(n," occupants from tenant.currentRoomAssignment"))),0===n&&(n=o.filter((t=>{var n;const r=t.roomId===e.roomId,i=(null===(n=t.current_room)||void 0===n?void 0:n.roomId)===e.roomId,o="active"===t.computed_status||"active"===t.status||!t.status&&!t.computed_status;return(r||i)&&o})).length,console.log("Room ".concat(e.roomId," (").concat(e.name,"): ").concat(n," occupants from tenant fallback methods"))),x+=n,0===n?(v++,console.log("Room ".concat(e.roomId," (").concat(e.name,"): AVAILABLE (0/").concat(t,")"))):n>=t?(y++,console.log("Room ".concat(e.roomId," (").concat(e.name,"): FULLY OCCUPIED (").concat(n,"/").concat(t,")"))):(y++,console.log("Room ".concat(e.roomId," (").concat(e.name,"): PARTIALLY OCCUPIED (").concat(n,"/").concat(t,")")))})),console.log("Dashboard Summary: ".concat(x,"/").concat(b," occupants, ").concat(y," occupied rooms, ").concat(v," available rooms")),console.log("Occupancy Rate: ".concat((x/b*100).toFixed(1),"%"));const w=l.reduce(((e,t)=>"verified"===t.status||"paid"===t.status||"completed"===t.status?e+(t.amount||0):e),0),k=j.getMonth(),S=j.getFullYear(),_=l.reduce(((e,t)=>{if("verified"===t.status||"paid"===t.status||"completed"===t.status){const n=new Date(t.paidAt||t.createdAt);if(n.getMonth()===k&&n.getFullYear()===S)return e+(t.amount||0)}return e}),0),A=l.reduce(((e,t)=>{const n=t.paymentMethod||"Unknown";return e[n]=(e[n]||0)+1,e}),{}),C=l.reduce(((e,t)=>{const n=t.paymentChannel||"Unknown";return e[n]=(e[n]||0)+1,e}),{}),P=l.reduce(((e,t)=>{const n=t.status||"Unknown";return e[n]=(e[n]||0)+1,e}),{}),I=l.reduce(((e,t)=>{if("verified"===t.status||"paid"===t.status||"completed"===t.status){const n=t.paymentMethod||"Unknown";e[n]=(e[n]||0)+(t.amount||0)}return e}),{}),T=[];for(let i=5;i>=0;i--){const e=new Date;e.setMonth(e.getMonth()-i);const t=e.getMonth(),n=e.getFullYear(),r=l.reduce(((e,r)=>{if("verified"===r.status||"paid"===r.status||"completed"===r.status){const i=new Date(r.paidAt||r.createdAt);if(i.getMonth()===t&&i.getFullYear()===n)return e+(r.amount||0)}return e}),0);T.push({month:e.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),revenue:r})}const N=o.reduce(((e,t)=>{const n="L"===t.gender?"Laki-laki":"Perempuan";return e[n]=(e[n]||0)+1,e}),{}),E={"Sangat Dekat (< 5km)":0,"Dekat (5-15km)":0,"Sedang (15-30km)":0,"Jauh (> 30km)":0};o.forEach((e=>{const t=e.distanceToCampus||0;t<5?E["Sangat Dekat (< 5km)"]++:t<15?E["Dekat (5-15km)"]++:t<30?E["Sedang (15-30km)"]++:E["Jauh (> 30km)"]++}));const z=o.reduce(((e,t)=>{var n;const r=(null===(n=t.tenantType)||void 0===n?void 0:n.name)||"Unknown";return e[r]=(e[r]||0)+1,e}),{}),O=a.reduce(((e,t)=>{const n=t.status||"Unknown";return e[n]=(e[n]||0)+1,e}),{}),L=s.reduce(((e,t)=>{var n;const r=(null===(n=t.classification)||void 0===n?void 0:n.name)||"Unknown";return e[r]=(e[r]||0)+1,e}),{}),D=o.reduce(((e,t)=>((t.documents||[]).forEach((t=>{e[t.status]=(e[t.status]||0)+1})),e)),{pending:0,approved:0,rejected:0}),R=s.reduce(((e,t)=>{var n;const r=(null===(n=t.rentalType)||void 0===n?void 0:n.name)||"Unknown";return e[r]=(e[r]||0)+1,e}),{}),M=a.length,B=a.filter((e=>"completed"===e.status||"finished"===e.status||"approved"===e.status)).length,F=o.reduce(((e,t)=>{var n;return e+((null===(n=t.documents)||void 0===n?void 0:n.length)||0)}),0),W=o.reduce(((e,t)=>{var n;return e+((null===(n=t.documents)||void 0===n?void 0:n.filter((e=>"approved"===e.status)).length)||0)}),0);return{totalTenants:u,totalRooms:m,availableRooms:v,occupiedRooms:y,totalOccupants:x,totalCapacity:b,activeBookings:g,totalRevenue:w,monthlyRevenue:_,totalBookings:M,completedBookings:B,totalDocuments:F,approvedDocuments:W,genderDistribution:N,distanceRanges:E,tenantTypeDistribution:z,bookingStatusDistribution:O,roomClassificationDistribution:L,documentStats:D,rentalTypeDistribution:R,paymentMethodDistribution:A,paymentChannelDistribution:C,paymentStatusDistribution:P,revenueByPaymentMethod:I,monthlyRevenueTrend:T,tenants:o,bookings:a,rooms:s,payments:l}}catch(e){throw console.error("Get dashboard data error:",e),new Error(e.message||"Failed to fetch dashboard data")}}},o=i},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=u(1286742750677284.5),v={};function y(e,t){var n,r,i,o,a,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),s?P(t,h):t;if(c=e.d,d=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=d.length):(r=d,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=d.length)<0&&(o=l,r=d,d=c,c=r),n=0;o;)n=(c[--o]=c[o]+d[o]+n)/f|0,c[o]%=f;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?P(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=_(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=_(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return j(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return P(j(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return k(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=j(A(n,a),A(e,a),a),s=!0,P(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=j(n,e,0,1).times(e),s=!0,n.minus(t)):P(new r(n),i)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return A(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):I(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,o,a,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),r=new d(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new d(i.toString()),i=a=(n=d.precision)+3;;)if(r=(o=r).plus(j(c,o,a+2)).times(.5),b(o.d).slice(0,a)===(t=b(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(P(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,P(r,n)},v.times=v.mul=function(e){var t,n,r,i,o,a,l,c,d,u=this,h=u.constructor,p=u.d,m=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,(c=p.length)<(d=m.length)&&(o=p,p=m,m=o,a=c,c=d,d=a),o=[],r=a=c+d;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*p[i-r-1]+t,o[i--]=l%f|0,t=l/f|0;o[i]=(o[i]+t)%f|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?P(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,o),void 0===t?t=r.rounding:x(t,0,8),P(n,e+k(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=T(r,!0):(x(e,0,o),void 0===t?t=i.rounding:x(t,0,8),n=T(r=P(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?T(i):(x(e,0,o),void 0===t?t=a.rounding:x(t,0,8),n=T((r=P(new a(i),e+k(i)+1,t)).abs(),!1,e+k(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return P(new t(e),k(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,o,a,c,d=this,h=d.constructor,p=+(e=new h(e));if(!e.s)return new h(i);if(!(d=new h(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(i))return d;if(r=h.precision,e.eq(i))return P(d,r);if(c=(t=e.e)>=(n=e.d.length-1),a=d.s,c){if((n=p<0?-p:p)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&N((o=o.times(d)).d,t),0!==(n=u(n/2));)N((d=d.times(d)).d,t);return s=!0,e.s<0?new h(i).div(o):P(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,s=!1,o=e.times(A(d,r+12)),s=!0,(o=w(o)).s=a,o},v.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=T(i,(n=k(i))<=a.toExpNeg||n>=a.toExpPos):(x(e,1,o),void 0===t?t=a.rounding:x(t,0,8),r=T(i=P(new a(i),e,t),e<=(n=k(i))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,o),void 0===t?t=n.rounding:x(t,0,8)),P(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=k(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var j=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,d,u,h,p,m,g,v,y,x,b,j,w,S,_,A,C,I=r.constructor,T=r.s==i.s?1:-1,N=r.d,E=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,A=E.length,S=N.length,g=(m=new I(T)).d=[],d=0;E[d]==(N[d]||0);)++d;if(E[d]>(N[d]||0)&&--c,(b=null==o?o=I.precision:a?o+(k(r)-k(i))+1:o)<0)return new I(0);if(b=b/7+2|0,d=0,1==A)for(u=0,E=E[0],b++;(d<S||u)&&b--;d++)j=u*f+(N[d]||0),g[d]=j/E|0,u=j%E|0;else{for((u=f/(E[0]+1)|0)>1&&(E=e(E,u),N=e(N,u),A=E.length,S=N.length),w=A,y=(v=N.slice(0,A)).length;y<A;)v[y++]=0;(C=E.slice()).unshift(0),_=E[0],E[1]>=f/2&&++_;do{u=0,(s=t(E,v,A,y))<0?(x=v[0],A!=y&&(x=x*f+(v[1]||0)),(u=x/_|0)>1?(u>=f&&(u=f-1),1==(s=t(h=e(E,u),v,p=h.length,y=v.length))&&(u--,n(h,A<p?C:E,p))):(0==u&&(s=u=1),h=E.slice()),(p=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(E,v,A,y=v.length))<1&&(u++,n(v,A<y?C:E,y)),y=v.length):0===s&&(u++,v=[0]),g[d++]=u,s&&v[0]?v[y++]=N[w]||0:(v=[N[w]],y=1)}while((w++<S||void 0!==v[0])&&b--)}return g[0]||g.shift(),m.e=c,P(m,a?o+k(m)+1:o)}}();function w(e,t){var n,r,o,a,l,c=0,u=0,p=e.constructor,f=p.precision;if(k(e)>16)throw Error(d+k(e));if(!e.s)return new p(i);for(null==t?(s=!1,l=f):l=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(l+=Math.log(h(2,u))/Math.LN10*2+5|0,n=r=o=new p(i),p.precision=l;;){if(r=P(r.times(e),l),n=n.times(++c),b((a=o.plus(j(r,n,l))).d).slice(0,l)===b(o.d).slice(0,l)){for(;u--;)o=P(o.times(o),l);return p.precision=f,null==t?(s=!0,P(o,f)):o}o=a}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function A(e,t){var n,r,o,a,c,d,u,h,p,f=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),S(v,h);if(h+=10,v.precision=h,r=(n=b(g)).charAt(0),a=k(m),!(Math.abs(a)<15e14))return u=S(v,h+2,y).times(a+""),m=A(new v(r+"."+n.slice(1)),h-10).plus(u),v.precision=y,null==t?(s=!0,P(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),f++;for(a=k(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1)),d=c=m=j(m.minus(i),m.plus(i),h),p=P(m.times(m),h),o=3;;){if(c=P(c.times(p),h),b((u=d.plus(j(c,new v(o),h))).d).slice(0,h)===b(d.d).slice(0,h))return d=d.times(2),0!==a&&(d=d.plus(S(v,h+2,y).times(a+""))),d=j(d,new v(f),h),v.precision=y,null==t?(s=!0,P(d,y)):d;d=u,o+=2}}function C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=u(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,n){var r,i,o,a,l,c,p,m,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,p=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=v.length))return e;for(p=o=v[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=p/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==v[m+1]||p%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?p/h(10,a-i):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(o=k(e),v.length=1,t=t-o-1,v[0]=h(10,(7-t%7)%7),e.e=u(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,o=1,m--):(v.length=m+1,o=h(10,7-r),v[m]=i>0?(p/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(v[0]+=o)==f&&(v[0]=1,++e.e);break}if(v[m]+=o,v[m]!=f)break;v[m--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(d+k(e));return e}function I(e,t){var n,r,i,o,a,l,c,d,u,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?P(t,m):t;if(c=e.d,h=t.d,r=t.e,d=e.e,c=c.slice(),a=d-r){for((u=a<0)?(n=c,a=-a,l=h.length):(n=h,r=d,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){u=c[i]<h[i];break}a=0}for(u&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=f-1;--c[o],c[i]+=f}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?P(t,m):t):new p(0)}function T(e,t,n){var r,i=k(e),o=b(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+_(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+_(-i-1)+o,n&&(r=n-a)>0&&(o+=_(r))):i>=a?(o+=_(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+_(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=_(r))),e.s<0?"-"+o:o}function N(e,t){if(e.length>t)return e.length=t,!0}function E(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(u(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);C(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=E,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,d=(t=r(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),o=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},9371:(e,t,n)=>{"use strict";n.r(t),n.d(t,{api:()=>r,default:()=>i});const r=n(9722).A.create({baseURL:"".concat("rusunawa-skripsi-v1-production.up.railway.app","/").concat("v1"),timeout:6e5,headers:{"Content-Type":"application/json"}});console.log("\ud83d\udd27 API Client baseURL:",r.defaults.baseURL),r.interceptors.request.use((e=>{const t=localStorage.getItem("adminToken");return t?(e.headers.Authorization="Bearer ".concat(t),console.log("\ufffd Using admin token for API request")):console.log("\u26a0\ufe0f No admin token found for API request"),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>{var t,n,r,i,o;const a=window.location.pathname,s=a.includes("/login")||a.includes("/register");401!==(null===(t=e.response)||void 0===t?void 0:t.status)||s||(localStorage.removeItem("adminToken"),window.location.href="/admin/login");const l={message:(null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||e.message||"An error occurred",status:null===(i=e.response)||void 0===i?void 0:i.status,data:null===(o=e.response)||void 0===o?void 0:o.data};return Promise.reject(l)}));const i=r},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4980);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9611:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[a]=d["[object Map]"]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=u||h||Function("return this")(),f=t&&!t.nodeType&&t,m=f&&e&&!e.nodeType&&e,g=m&&m.exports===f,v=g&&u.process,y=function(){try{var e=m&&m.require&&m.require("util").types;return e||v&&v.binding&&v.binding("util")}catch(t){}}(),x=y&&y.isTypedArray;var b,j,w=Array.prototype,k=Function.prototype,S=Object.prototype,_=p["__core-js_shared__"],A=k.toString,C=S.hasOwnProperty,P=function(){var e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),I=S.toString,T=A.call(Object),N=RegExp("^"+A.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=g?p.Buffer:void 0,z=p.Symbol,O=p.Uint8Array,L=E?E.allocUnsafe:void 0,D=(b=Object.getPrototypeOf,j=Object,function(e){return b(j(e))}),R=Object.create,M=S.propertyIsEnumerable,B=w.splice,F=z?z.toStringTag:void 0,W=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),U=E?E.isBuffer:void 0,q=Math.max,H=Date.now,V=pe(p,"Map"),G=pe(Object,"create"),K=function(){function e(){}return function(t){if(!_e(t))return{};if(R)return R(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=this.__data__=new Z(e);this.size=t.size}function $(e,t){var n=be(e),r=!n&&xe(e),i=!n&&!r&&we(e),o=!n&&!r&&!i&&Ce(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!C.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fe(c,l))||s.push(c);return s}function Q(e,t,n){(void 0!==n&&!ye(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var r=e[t];C.call(e,t)&&ye(r,n)&&(void 0!==n||t in e)||ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&W?W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Y.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(G){var n=t[e];return n===r?void 0:n}return C.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:C.call(t,e)},Y.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?r:t,this},Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0)&&(n==t.length-1?t.pop():B.call(t,n,1),--this.size,!0)},Z.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},Z.prototype.has=function(e){return te(this.__data__,e)>-1},Z.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(V||Z),string:new Y}},J.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return he(this,e).get(e)},J.prototype.has=function(e){return he(this,e).has(e)},J.prototype.set=function(e,t){var n=he(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},X.prototype.clear=function(){this.__data__=new Z,this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Z){var r=n.__data__;if(!V||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var re,ie=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[re?a:++r];if(!1===t(i[s],s,i))break}return e};function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=C.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(o){}var i=I.call(e);r&&(t?e[F]=n:delete e[F]);return i}(e):function(e){return I.call(e)}(e)}function ae(e){return Ae(e)&&oe(e)==o}function se(e){return!(!_e(e)||function(e){return!!P&&P in e}(e))&&(ke(e)?N:l).test(function(e){if(null!=e){try{return A.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function le(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=me(e),n=[];for(var r in e)("constructor"!=r||!t&&C.call(e,r))&&n.push(r);return n}function ce(e,t,n,r,i){e!==t&&ie(t,(function(o,a){if(i||(i=new X),_e(o))!function(e,t,n,r,i,o,a){var l=ge(e,n),c=ge(t,n),d=a.get(c);if(d)return void Q(e,n,d);var u=o?o(l,c,n+"",e,t,a):void 0,h=void 0===u;if(h){var p=be(c),f=!p&&we(c),m=!p&&!f&&Ce(c);u=c,p||f||m?be(l)?u=l:Ae(g=l)&&je(g)?u=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(l):f?(h=!1,u=function(e,t){if(t)return e.slice();var n=e.length,r=L?L(n):new e.constructor(n);return e.copy(r),r}(c,!0)):m?(h=!1,u=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new O(t).set(new O(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(c,!0)):u=[]:function(e){if(!Ae(e)||oe(e)!=s)return!1;var t=D(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==T}(c)||xe(c)?(u=l,xe(l)?u=function(e){return function(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?ne(n,s,l):ee(n,s,l)}return n}(e,Pe(e))}(l):_e(l)&&!ke(l)||(u=function(e){return"function"!=typeof e.constructor||me(e)?{}:K(D(e))}(c))):h=!1}var g;h&&(a.set(c,u),i(u,c,r,o,a),a.delete(c));Q(e,n,u)}(e,t,a,n,ce,r,i);else{var l=r?r(ge(e,a),o,a+"",e,t,i):void 0;void 0===l&&(l=o),Q(e,a,l)}}),Pe)}function de(e,t){return ve(function(e,t,n){return t=q(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=q(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ne),e+"")}var ue=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ne;function he(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return se(n)?n:void 0}function fe(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&c.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function ge(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ve=function(e){var t=0,n=0;return function(){var r=H(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ue);function ye(e,t){return e===t||e!==e&&t!==t}var xe=ae(function(){return arguments}())?ae:function(e){return Ae(e)&&C.call(e,"callee")&&!M.call(e,"callee")},be=Array.isArray;function je(e){return null!=e&&Se(e.length)&&!ke(e)}var we=U||function(){return!1};function ke(e){if(!_e(e))return!1;var t=oe(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Ce=x?function(e){return function(t){return e(t)}}(x):function(e){return Ae(e)&&Se(e.length)&&!!d[oe(e)]};function Pe(e){return je(e)?$(e,!0):le(e)}var Ie,Te=(Ie=function(e,t,n,r){ce(e,t,n,r)},de((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Ie.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!_e(n))return!1;var r=typeof t;return!!("number"==r?je(n)&&fe(t,n.length):"string"==r&&t in n)&&ye(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Ie(e,a,n,i)}return e})));function Ne(e){return e}e.exports=Te},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9722:(e,t,n)=>{"use strict";n.d(t,{A:()=>Pt});var r={};function i(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>ce,hasStandardBrowserEnv:()=>ue,hasStandardBrowserWebWorkerEnv:()=>he,navigator:()=>de,origin:()=>pe});const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,{iterator:s,toStringTag:l}=Symbol,c=(d=Object.create(null),e=>{const t=o.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),h=e=>t=>typeof t===e,{isArray:p}=Array,f=h("undefined");const m=u("ArrayBuffer");const g=h("string"),v=h("function"),y=h("number"),x=e=>null!==e&&"object"===typeof e,b=e=>{if("object"!==c(e))return!1;const t=a(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(l in e)&&!(s in e)},j=u("Date"),w=u("File"),k=u("Blob"),S=u("FileList"),_=u("URLSearchParams"),[A,C,P,I]=["ReadableStream","Request","Response","Headers"].map(u);function T(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),p(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function N(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,z=e=>!f(e)&&e!==E;const O=(L="undefined"!==typeof Uint8Array&&a(Uint8Array),e=>L&&e instanceof L);var L;const D=u("HTMLFormElement"),R=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),M=u("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};T(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)};const F=u("AsyncFunction"),W=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],E.addEventListener("message",(e=>{let{source:t,data:i}=e;t===E&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),E.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,v(E.postMessage)),U="undefined"!==typeof queueMicrotask?queueMicrotask.bind(E):"undefined"!==typeof process&&process.nextTick||W,q={isArray:p,isArrayBuffer:m,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=c(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&m(e.buffer),t},isString:g,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:x,isPlainObject:b,isReadableStream:A,isRequest:C,isResponse:P,isHeaders:I,isUndefined:f,isDate:j,isFile:w,isBlob:k,isRegExp:M,isFunction:v,isStream:e=>x(e)&&v(e.pipe),isURLSearchParams:_,isTypedArray:O,isFileList:S,forEach:T,merge:function e(){const{caseless:t}=z(this)&&this||{},n={},r=(r,i)=>{const o=t&&N(n,i)||i;b(n[o])&&b(r)?n[o]=e(n[o],r):b(r)?n[o]=e({},r):p(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&T(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return T(t,((t,r)=>{n&&v(t)?e[r]=i(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[s]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:D,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,n)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];v(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return p(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:N,global:E,isContextDefined:z,isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[l]&&e[s])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(x(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=p(e)?[]:{};return T(e,((e,t)=>{const o=n(e,r+1);!f(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(x(e)||v(e))&&v(e.then)&&v(e.catch),setImmediate:W,asap:U,isIterable:e=>null!=e&&v(e[s])};function H(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const V=H.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(H,G),Object.defineProperty(V,"isAxiosError",{value:!0}),H.from=(e,t,n,r,i,o)=>{const a=Object.create(V);return q.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),H.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const K=H;function Y(e){return q.isPlainObject(e)||q.isArray(e)}function Z(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function J(e,t,n){return e?e.concat(t).map((function(e,t){return e=Z(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const X=q.toFlatObject(q,{},null,(function(e){return/^is[A-Z]/.test(e)}));const $=function(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!q.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(!s&&q.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(q.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(Y)}(e)||(q.isFileList(e)||q.endsWith(n,"[]"))&&(s=q.toArray(e)))return n=Z(n),s.forEach((function(e,r){!q.isUndefined(e)&&null!==e&&t.append(!0===a?J([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!Y(e)||(t.append(J(i,n,o),l(e)),!1)}const d=[],u=Object.assign(X,{defaultVisitor:c,convertValue:l,isVisitable:Y});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!q.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),q.forEach(n,(function(n,o){!0===(!(q.isUndefined(n)||null===n)&&i.call(t,n,q.isString(o)?o.trim():o,r,u))&&e(n,r?r.concat(o):[o])})),d.pop()}}(e),t};function Q(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ee(e,t){this._pairs=[],e&&$(e,this,t)}const te=ee.prototype;te.append=function(e,t){this._pairs.push([e,t])},te.toString=function(e){const t=e?function(t){return e.call(this,t,Q)}:Q;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ne=ee;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,n){if(!t)return e;const r=n&&n.encode||re;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):q.isURLSearchParams(t)?t.toString():new ne(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const oe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var se=n(9379);const le={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ne,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ce="undefined"!==typeof window&&"undefined"!==typeof document,de="object"===typeof navigator&&navigator||void 0,ue=ce&&(!de||["ReactNative","NativeScript","NS"].indexOf(de.product)<0),he="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pe=ce&&window.location.href||"http://localhost",fe=(0,se.A)((0,se.A)({},r),le);const me=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&q.isArray(r)?r.length:o,s)return q.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&q.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&q.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,((e,r)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ge={transitional:ae,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=q.isObject(e);i&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return r?JSON.stringify(me(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fe.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return $(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ge.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw K.from(i,K.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],(e=>{ge.headers[e]={}}));const ve=ge,ye=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xe=Symbol("internals");function be(e){return e&&String(e).trim().toLowerCase()}function je(e){return!1===e||null==e?e:q.isArray(e)?e.map(je):String(e)}function we(e,t,n,r,i){return q.isFunction(r)?r.call(this,t,n):(i&&(t=n),q.isString(t)?q.isString(r)?-1!==t.indexOf(r):q.isRegExp(r)?r.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=be(t);if(!i)throw new Error("header name must be a non-empty string");const o=q.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=je(e))}const o=(e,t)=>q.forEach(e,((e,n)=>i(e,n,t)));if(q.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&ye[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(q.isObject(e)&&q.isIterable(e)){let n,r,i={};for(const t of e){if(!q.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?q.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=be(e)){const n=q.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(q.isFunction(t))return t.call(this,e,n);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=be(e)){const n=q.findKey(this,e);return!(!n||void 0===this[n]||t&&!we(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=be(e)){const i=q.findKey(n,e);!i||t&&!we(0,n[i],i,t)||(delete n[i],r=!0)}}return q.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!we(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return q.forEach(this,((r,i)=>{const o=q.findKey(n,i);if(o)return t[o]=je(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=je(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return q.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&q.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[xe]=this[xe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=be(e);t[r]||(!function(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return q.isArray(e)?e.forEach(r):r(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(ke.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),q.freezeMethods(ke);const Se=ke;function _e(e,t){const n=this||ve,r=t||n,i=Se.from(r.headers);let o=r.data;return q.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Ae(e){return!(!e||!e.__CANCEL__)}function Ce(e,t,n){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Ce,K,{__CANCEL__:!0});const Pe=Ce;function Ie(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Te=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let d=a,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Ne=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=o?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},Ee=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Te(50,250);return Ne((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},ze=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Oe=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q.asap((()=>e(...n)))},Le=fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,De=fe.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),q.isString(r)&&a.push("path="+r),q.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Re(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Me=e=>e instanceof Se?(0,se.A)({},e):e;function Be(e,t){t=t||{};const n={};function r(e,t,n,r){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:r},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function i(e,t,n,i){return q.isUndefined(t)?q.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!q.isUndefined(t))return r(void 0,t)}function a(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(Me(e),Me(t),0,!0)};return q.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);q.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Fe=e=>{const t=Be({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Se.from(s),t.url=ie(Re(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(r))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(i&&q.isFunction(i)&&(i=i(t)),i||!1!==i&&Le(t.url))){const e=o&&a&&De.read(a);e&&s.set(o,e)}return t},We="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Fe(e);let i=r.data;const o=Se.from(r.headers).normalize();let a,s,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Se.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ie((function(e){t(e),f()}),(function(e){n(e),f()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new K("Request aborted",K.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new K("Network Error",K.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||ae;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new K(t,i.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&q.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),q.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),p&&([l,d]=Ee(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=Ee(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Pe(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===fe.protocols.indexOf(v)?n(new K("Unsupported protocol "+v+":",K.ERR_BAD_REQUEST,e)):m.send(i||null)}))},Ue=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof K?t:new Pe(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new K("timeout ".concat(t," of ms exceeded"),K.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>q.asap(a),s}};function qe(e,t){this.v=e,this.k=t}function He(e){return function(){return new Ve(e.apply(this,arguments))}}function Ve(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof qe;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ge(e){return new qe(e,0)}function Ke(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new qe(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ye(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ze(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ze(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ze=function(e){this.s=e,this.n=e.next},Ze.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ze(e)}Ve.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ve.prototype.next=function(e){return this._invoke("next",e)},Ve.prototype.throw=function(e){return this._invoke("throw",e)},Ve.prototype.return=function(e){return this._invoke("return",e)};const Je=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Xe=function(){var e=He((function*(e,t){var n,r=!1,i=!1;try{for(var o,a=Ye($e(e));r=!(o=yield Ge(a.next())).done;r=!1){const e=o.value;yield*Ke(Ye(Je(e,t)))}}catch(s){i=!0,n=s}finally{try{r&&null!=a.return&&(yield Ge(a.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){var e=He((function*(e){if(e[Symbol.asyncIterator])return void(yield*Ke(Ye(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ge(t.read());if(e)break;yield n}}finally{yield Ge(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Qe=(e,t,n,r)=>{const i=Xe(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},et="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,tt=et&&"function"===typeof ReadableStream,nt=et&&("function"===typeof TextEncoder?(rt=new TextEncoder,e=>rt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var rt;const it=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(i){return!1}},ot=tt&&it((()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),at=tt&&it((()=>q.isReadableStream(new Response("").body))),st={stream:at&&(e=>e.body)};var lt;et&&(lt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!st[e]&&(st[e]=q.isFunction(lt[e])?t=>t[e]():(t,n)=>{throw new K("Response type '".concat(e,"' is not supported"),K.ERR_NOT_SUPPORT,n)})})));const ct=async(e,t)=>{const n=q.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e)){const t=new Request(fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return q.isArrayBufferView(e)||q.isArrayBuffer(e)?e.byteLength:(q.isURLSearchParams(e)&&(e+=""),q.isString(e)?(await nt(e)).byteLength:void 0)})(t):n},dt={http:null,xhr:We,fetch:et&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Fe(e);c=c?(c+"").toLowerCase():"text";let p,f=Ue([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&ot&&"get"!==n&&"head"!==n&&0!==(g=await ct(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(q.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=ze(g,Ee(Oe(l)));r=Qe(n.body,65536,e,t)}}q.isString(u)||(u=u?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,(0,se.A)((0,se.A)({},h),{},{signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:i?u:void 0}));let o=await fetch(p);const a=at&&("stream"===c||"response"===c);if(at&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=q.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&ze(t,Ee(Oe(s),!0))||[];o=new Response(Qe(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await st[q.findKey(st,c)||"text"](o,e);return!a&&m&&m(),await new Promise(((t,n)=>{Ie(t,n,{data:v,headers:Se.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,e,p),{cause:v.cause||v});throw K.from(v,v&&v.code,e,p)}})};q.forEach(dt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const ut=e=>"- ".concat(e),ht=e=>q.isFunction(e)||null===e||!1===e,pt=e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!ht(n)&&(r=dt[(t=String(n)).toLowerCase()],void 0===r))throw new K("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ut).join("\n"):" "+ut(e[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function mt(e){ft(e),e.headers=Se.from(e.headers),e.data=_e.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pt(e.adapter||ve.adapter)(e).then((function(t){return ft(e),t.data=_e.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t}),(function(t){return Ae(t)||(ft(e),t&&t.response&&(t.response.data=_e.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)}))}const gt="1.9.0",vt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{vt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const yt={};vt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new K(r(i," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!yt[i]&&(yt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},vt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const xt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new K("option "+o+" must be "+n,K.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new K("Unknown option "+o,K.ERR_BAD_OPTION)}},validators:vt},bt=xt.validators;class jt{constructor(e){this.defaults=e||{},this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&xt.assertOptions(n,{silentJSONParsing:bt.transitional(bt.boolean),forcedJSONParsing:bt.transitional(bt.boolean),clarifyTimeoutError:bt.transitional(bt.boolean)},!1),null!=r&&(q.isFunction(r)?t.paramsSerializer={serialize:r}:xt.assertOptions(r,{encode:bt.function,serialize:bt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xt.assertOptions(t,{baseUrl:bt.spelling("baseURL"),withXsrfToken:bt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&q.merge(i.common,i[t.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Se.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!s){const e=[mt.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let h=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=mt.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ie(Re((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],(function(e){jt.prototype[e]=function(t,n){return this.request(Be(n||{},{method:e,url:t,data:(n||{}).data}))}})),q.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Be(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}jt.prototype[e]=t(),jt.prototype[e+"Form"]=t(!0)}));const wt=jt;class kt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Pe(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kt((function(t){e=t})),cancel:e}}}const St=kt;const _t={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_t).forEach((e=>{let[t,n]=e;_t[n]=t}));const At=_t;const Ct=function e(t){const n=new wt(t),r=i(wt.prototype.request,n);return q.extend(r,wt.prototype,n,{allOwnKeys:!0}),q.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Be(t,n))},r}(ve);Ct.Axios=wt,Ct.CanceledError=Pe,Ct.CancelToken=St,Ct.isCancel=Ae,Ct.VERSION=gt,Ct.toFormData=$,Ct.AxiosError=K,Ct.Cancel=Ct.CanceledError,Ct.all=function(e){return Promise.all(e)},Ct.spread=function(e){return function(t){return e.apply(null,t)}},Ct.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},Ct.mergeConfig=Be,Ct.AxiosHeaders=Se,Ct.formToJSON=e=>me(q.isHTMLForm(e)?new FormData(e):e),Ct.getAdapter=pt,Ct.HttpStatusCode=At,Ct.default=Ct;const Pt=Ct},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(p(e),p(t),r,c,u,h);return h.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{239:"1980790f",455:"7d4c1e29",488:"3f2a9196",977:"ba12c86a"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="rusunawa-frontend:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkrusunawa_frontend=self.webpackChunkrusunawa_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>QN,scaleDiverging:()=>TR,scaleDivergingLog:()=>NR,scaleDivergingPow:()=>zR,scaleDivergingSqrt:()=>OR,scaleDivergingSymlog:()=>ER,scaleIdentity:()=>SO,scaleImplicit:()=>XN,scaleLinear:()=>kO,scaleLog:()=>zO,scaleOrdinal:()=>$N,scalePoint:()=>tE,scalePow:()=>UO,scaleQuantile:()=>eL,scaleQuantize:()=>tL,scaleRadial:()=>VO,scaleSequential:()=>kR,scaleSequentialLog:()=>SR,scaleSequentialPow:()=>AR,scaleSequentialQuantile:()=>PR,scaleSequentialSqrt:()=>CR,scaleSequentialSymlog:()=>_R,scaleSqrt:()=>qO,scaleSymlog:()=>RO,scaleThreshold:()=>nL,scaleTime:()=>xR,scaleUtc:()=>bR,tickFormat:()=>jO});var t=n(5043),r=n.t(t,2),i=n(4391),o=n(9379);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(t){const n=(["container","root"].includes(null!==t&&void 0!==t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:()=>t}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(const e of o)t[e]=r(e);return a(e,t)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(const e of i)e in t||(t[e]=r(e));return a(e,t)},selectors:function(){const e=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,n.selector]})));return e},classnames:function(){return Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,n.className]})))},get keys(){return Object.keys(t)},__type:{}}}const s=a("accordion").parts("root","container","button","panel","icon"),l=a("alert").parts("title","description","container","icon","spinner"),c=a("avatar").parts("label","badge","container","excessLabel","group"),d=a("breadcrumb").parts("link","item","container","separator"),u=(a("button").parts(),a("checkbox").parts("control","icon","container","label")),h=(a("progress").parts("track","filledTrack","label"),a("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer")),p=a("editable").parts("preview","input","textarea"),f=a("form").parts("container","requiredIndicator","helperText"),m=a("formError").parts("text","icon"),g=a("input").parts("addon","field","element","group"),v=a("list").parts("container","item","icon"),y=a("menu").parts("button","list","item","groupTitle","icon","command","divider"),x=a("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),b=a("numberinput").parts("root","field","stepperGroup","stepper"),j=(a("pininput").parts("field"),a("popover").parts("content","header","body","footer","popper","arrow","closeButton")),w=a("progress").parts("label","filledTrack","track"),k=a("radio").parts("container","control","label"),S=a("select").parts("field","icon"),_=a("slider").parts("container","track","thumb","filledTrack","mark"),A=a("stat").parts("container","label","helpText","number","icon"),C=a("switch").parts("container","track","thumb","label"),P=a("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),I=a("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),T=a("tag").parts("container","label","closeButton"),N=a("card").parts("container","header","body","footer");a("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function E(e){return{definePartsStyle:e=>e,defineMultiStyleConfig:t=>(0,o.A)({parts:e},t)}}const{definePartsStyle:z,defineMultiStyleConfig:O}=E(s.keys),L=O({baseStyle:z({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})});function D(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;const t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function R(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function M(e){return D("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function B(e,t,n){const r=M(e,n);return{variable:r,reference:R(r,t)}}function F(e,t,n){return Math.min(Math.max(e,n),t)}class W extends Error{constructor(e){super('Failed to parse color: "'.concat(e,'"'))}}var U=W;function q(e){if("string"!==typeof e)throw new U(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=X.test(e)?function(e){const t=e.toLowerCase().trim(),n=V[function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new U(e);return"#".concat(n)}(e):e;const n=K.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(G(e,2),16))),parseInt(G(e[3]||"f",2),16)/255]}const r=Y.exec(t);if(r){const e=Array.from(r).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const i=Z.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const o=J.exec(t);if(o){const[t,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(F(0,100,n)!==n)throw new U(e);if(F(0,100,r)!==r)throw new U(e);return[...Q(t,n,r),Number.isNaN(i)?1:i]}throw new U(e)}const H=e=>parseInt(e.replace(/_/g,""),36),V="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const n=H(t.substring(0,3)),r=H(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]="".concat(i).concat(r),e}),{});const G=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),K=new RegExp("^#".concat(G("([a-f0-9])",3),"([a-f0-9])?$"),"i"),Y=new RegExp("^#".concat(G("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),Z=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(G(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),J=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,X=/^[a-z]+$/i,$=e=>Math.round(255*e),Q=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map($);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),a=o*(1-Math.abs(i%2-1));let s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);const d=r-o/2;return[s+d,l+d,c+d].map($)};function ee(e,t,n,r){return"rgba(".concat(F(0,255,e).toFixed(),", ").concat(F(0,255,t).toFixed(),", ").concat(F(0,255,n).toFixed(),", ").concat(parseFloat(F(0,1,r).toFixed(3)),")")}function te(e,t){const[n,r,i,o]=q(e);return ee(n,r,i,o-t)}const ne=(e,t,n)=>{const r=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}(e,"colors.".concat(t),t);try{return function(e){const[t,n,r,i]=q(e);let o=e=>{const t=F(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(o(t)).concat(o(n)).concat(o(r)).concat(i<1?o(Math.round(255*i)):"")}(r),r}catch(i){return null!==n&&void 0!==n?n:"#000000"}},re=e=>t=>{const n=(e=>{const[t,n,r]=q(e);return(299*t+587*n+114*r)/1e3})(ne(t,e));return n<128?"dark":"light"},ie=(e,t)=>n=>te(ne(n,e),1-t);function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}function ae(e){const t="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return e&&(n=e,0!==Object.keys(n).length)?e.string&&e.colors?function(e,t){let n=0;if(0===e.length)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%t.length+t.length)%t.length,t[n]}(e.string,e.colors):e.string&&!e.colors?function(e){let t=0;if(0===e.length)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t&=t;let n="#";for(let r=0;r<3;r+=1){n+="00".concat((t>>8*r&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t:t;var n}const{definePartsStyle:se,defineMultiStyleConfig:le}=E(l.keys),ce=B("alert-fg"),de=B("alert-bg"),ue=se({container:{bg:de.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:ce.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:ce.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function he(e){const{theme:t,colorScheme:n}=e,r=ie("".concat(n,".200"),.16)(t);return{light:"colors.".concat(n,".100"),dark:r}}const pe=se((e=>{const{colorScheme:t}=e,n=he(e);return{container:{[ce.variable]:"colors.".concat(t,".600"),[de.variable]:n.light,_dark:{[ce.variable]:"colors.".concat(t,".200"),[de.variable]:n.dark}}}})),fe=se((e=>{const{colorScheme:t}=e,n=he(e);return{container:{[ce.variable]:"colors.".concat(t,".600"),[de.variable]:n.light,_dark:{[ce.variable]:"colors.".concat(t,".200"),[de.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:ce.reference}}})),me=se((e=>{const{colorScheme:t}=e,n=he(e);return{container:{[ce.variable]:"colors.".concat(t,".600"),[de.variable]:n.light,_dark:{[ce.variable]:"colors.".concat(t,".200"),[de.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:ce.reference}}})),ge=se((e=>{const{colorScheme:t}=e;return{container:{[ce.variable]:"colors.white",[de.variable]:"colors.".concat(t,".600"),_dark:{[ce.variable]:"colors.gray.900",[de.variable]:"colors.".concat(t,".200")},color:ce.reference}}})),ve=le({baseStyle:ue,variants:{subtle:pe,"left-accent":fe,"top-accent":me,solid:ge},defaultProps:{variant:"subtle",colorScheme:"blue"}}),ye={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},xe=(0,o.A)((0,o.A)((0,o.A)({},ye),{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"}),{},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}});function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(e=>"function"===typeof e)(e)?e(...n):e}const{definePartsStyle:je,defineMultiStyleConfig:we}=E(c.keys),ke=B("avatar-border-color"),Se=B("avatar-bg"),_e=B("avatar-font-size"),Ae=B("avatar-size"),Ce={borderRadius:"full",border:"0.2em solid",borderColor:ke.reference,[ke.variable]:"white",_dark:{[ke.variable]:"colors.gray.800"}},Pe={bg:Se.reference,fontSize:_e.reference,width:Ae.reference,height:Ae.reference,lineHeight:"1",[Se.variable]:"colors.gray.200",_dark:{[Se.variable]:"colors.whiteAlpha.400"}},Ie=e=>{const{name:t,theme:n}=e,r=t?ae({string:t}):"colors.gray.400",i=(e=>t=>"dark"===re(e)(t))(r)(n);let o="white";return i||(o="gray.800"),{bg:Se.reference,fontSize:_e.reference,color:o,borderColor:ke.reference,verticalAlign:"top",width:Ae.reference,height:Ae.reference,"&:not([data-loaded])":{[Se.variable]:r},[ke.variable]:"colors.white",_dark:{[ke.variable]:"colors.gray.800"}}},Te={fontSize:_e.reference,lineHeight:"1"};function Ne(e){const t="100%"!==e?xe[e]:void 0;return je({container:{[Ae.variable]:null!==t&&void 0!==t?t:e,[_e.variable]:"calc(".concat(null!==t&&void 0!==t?t:e," / 2.5)")},excessLabel:{[Ae.variable]:null!==t&&void 0!==t?t:e,[_e.variable]:"calc(".concat(null!==t&&void 0!==t?t:e," / 2.5)")}})}const Ee=we({baseStyle:je((e=>({badge:be(Ce,e),excessLabel:be(Pe,e),container:be(Ie,e),label:Te}))),sizes:{"2xs":Ne(4),xs:Ne(6),sm:Ne(8),md:Ne(12),lg:Ne(16),xl:Ne(24),"2xl":Ne(32),full:Ne("100%")},defaultProps:{size:"md"}}),ze=function(e,t){const n={};for(const r of t)if(Array.isArray(r)){const[t,i]=r;n[t]=B("".concat(e,"-").concat(t),i)}else n[r]=B("".concat(e,"-").concat(r));return n}("badge",["bg","color","shadow"]),Oe=e=>{const{colorScheme:t,theme:n}=e,r=ie("".concat(t,".500"),.6)(n);return{[ze.bg.variable]:"colors.".concat(t,".500"),[ze.color.variable]:"colors.white",_dark:{[ze.bg.variable]:r,[ze.color.variable]:"colors.whiteAlpha.800"}}},Le=e=>{const{colorScheme:t,theme:n}=e,r=ie("".concat(t,".200"),.16)(n);return{[ze.bg.variable]:"colors.".concat(t,".100"),[ze.color.variable]:"colors.".concat(t,".800"),_dark:{[ze.bg.variable]:r,[ze.color.variable]:"colors.".concat(t,".200")}}},De=e=>{const{colorScheme:t,theme:n}=e,r=ie("".concat(t,".200"),.8)(n);return{[ze.color.variable]:"colors.".concat(t,".500"),_dark:{[ze.color.variable]:r},[ze.shadow.variable]:"inset 0 0 0px 1px ".concat(ze.color.reference)}},Re={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:ze.bg.reference,color:ze.color.reference,boxShadow:ze.shadow.reference},variants:{solid:Oe,subtle:Le,outline:De},defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Me,definePartsStyle:Be}=E(d.keys),Fe=B("breadcrumb-link-decor"),We=Me({baseStyle:Be({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Fe.reference,[Fe.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Fe.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}}})});function Ue(e,t){return n=>"dark"===n.colorMode?t:e}function qe(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?"vertical"===t?n:r:{}}const He=e=>{const{colorScheme:t,theme:n}=e;if("gray"===t)return{color:Ue("gray.800","whiteAlpha.900")(e),_hover:{bg:Ue("gray.100","whiteAlpha.200")(e)},_active:{bg:Ue("gray.200","whiteAlpha.300")(e)}};const r=ie("".concat(t,".200"),.12)(n),i=ie("".concat(t,".200"),.24)(n);return{color:Ue("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:Ue("".concat(t,".50"),r)(e)},_active:{bg:Ue("".concat(t,".100"),i)(e)}}},Ve=e=>{const{colorScheme:t}=e,n=Ue("gray.200","whiteAlpha.300")(e);return(0,o.A)({border:"1px solid",borderColor:"gray"===t?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"}},be(He,e))},Ge={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Ke=e=>{var t;const{colorScheme:n}=e;if("gray"===n){const t=Ue("gray.100","whiteAlpha.200")(e);return{bg:t,color:Ue("gray.800","whiteAlpha.900")(e),_hover:{bg:Ue("gray.200","whiteAlpha.300")(e),_disabled:{bg:t}},_active:{bg:Ue("gray.300","whiteAlpha.400")(e)}}}const{bg:r="".concat(n,".500"),color:i="white",hoverBg:o="".concat(n,".600"),activeBg:a="".concat(n,".700")}=null!==(t=Ge[n])&&void 0!==t?t:{},s=Ue(r,"".concat(n,".200"))(e);return{bg:s,color:Ue(i,"gray.800")(e),_hover:{bg:Ue(o,"".concat(n,".300"))(e),_disabled:{bg:s}},_active:{bg:Ue(a,"".concat(n,".400"))(e)}}},Ye=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ue("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ue("".concat(t,".700"),"".concat(t,".500"))(e)}}},Ze={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:He,outline:Ve,solid:Ke,link:Ye,unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Je,defineMultiStyleConfig:Xe}=E(N.keys),$e=B("card-bg"),Qe=B("card-padding"),et=B("card-shadow"),tt=B("card-radius"),nt=B("card-border-width","0"),rt=B("card-border-color"),it=Je({container:{[$e.variable]:"colors.chakra-body-bg",backgroundColor:$e.reference,boxShadow:et.reference,borderRadius:tt.reference,color:"chakra-body-text",borderWidth:nt.reference,borderColor:rt.reference},body:{padding:Qe.reference,flex:"1 1 0%"},header:{padding:Qe.reference},footer:{padding:Qe.reference}}),ot={sm:Je({container:{[tt.variable]:"radii.base",[Qe.variable]:"space.3"}}),md:Je({container:{[tt.variable]:"radii.md",[Qe.variable]:"space.5"}}),lg:Je({container:{[tt.variable]:"radii.xl",[Qe.variable]:"space.7"}})},at=Xe({baseStyle:it,variants:{elevated:Je({container:{[et.variable]:"shadows.base",_dark:{[$e.variable]:"colors.gray.700"}}}),outline:Je({container:{[nt.variable]:"1px",[rt.variable]:"colors.chakra-border-color"}}),filled:Je({container:{[$e.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Qe.variable]:0},header:{[Qe.variable]:0},footer:{[Qe.variable]:0}}},sizes:ot,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:st,defineMultiStyleConfig:lt}=E(u.keys),ct=B("checkbox-size"),dt=e=>{const{colorScheme:t}=e;return{w:ct.reference,h:ct.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ue("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Ue("".concat(t,".500"),"".concat(t,".200"))(e),color:Ue("white","gray.900")(e),_hover:{bg:Ue("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:Ue("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:Ue("gray.200","transparent")(e),bg:Ue("gray.200","whiteAlpha.300")(e),color:Ue("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Ue("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Ue("".concat(t,".500"),"".concat(t,".200"))(e),color:Ue("white","gray.900")(e)},_disabled:{bg:Ue("gray.100","whiteAlpha.100")(e),borderColor:Ue("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ue("red.500","red.300")(e)}}},ut={_disabled:{cursor:"not-allowed"}},ht={userSelect:"none",_disabled:{opacity:.4}},pt={transitionProperty:"transform",transitionDuration:"normal"},ft=lt({baseStyle:st((e=>({icon:pt,container:ut,control:be(dt,e),label:ht}))),sizes:{sm:st({control:{[ct.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:st({control:{[ct.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:st({control:{[ct.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}});function mt(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function gt(e,t){return"var(".concat(mt(e)).concat(t?", ".concat(t):"",")")}function vt(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",mt(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function yt(e,t){const n=vt(e,null===t||void 0===t?void 0:t.prefix);return{variable:n,reference:gt(n,xt(null===t||void 0===t?void 0:t.fallback))}}function xt(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.reference}const bt=yt("close-button-size"),jt=yt("close-button-bg"),wt={baseStyle:{w:[bt.reference],h:[bt.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[jt.variable]:"colors.blackAlpha.100",_dark:{[jt.variable]:"colors.whiteAlpha.100"}},_active:{[jt.variable]:"colors.blackAlpha.200",_dark:{[jt.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:jt.reference},sizes:{lg:{[bt.variable]:"sizes.10",fontSize:"md"},md:{[bt.variable]:"sizes.8",fontSize:"xs"},sm:{[bt.variable]:"sizes.6",fontSize:"2xs"}},defaultProps:{size:"md"}},{variants:kt,defaultProps:St}=Re,_t={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:ze.bg.reference,color:ze.color.reference,boxShadow:ze.shadow.reference},variants:kt,defaultProps:St},At={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},Ct={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},{definePartsStyle:Pt,defineMultiStyleConfig:It}=E(h.keys),Tt=B("drawer-bg"),Nt=B("drawer-box-shadow");function Et(e){return Pt("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}const zt={bg:"blackAlpha.600",zIndex:"modal"},Ot={display:"flex",zIndex:"modal",justifyContent:"center"},Lt=e=>{const{isFullHeight:t}=e;return(0,o.A)((0,o.A)({},t&&{height:"100vh"}),{},{zIndex:"modal",maxH:"100vh",color:"inherit",[Tt.variable]:"colors.white",[Nt.variable]:"shadows.lg",_dark:{[Tt.variable]:"colors.gray.700",[Nt.variable]:"shadows.dark-lg"},bg:Tt.reference,boxShadow:Nt.reference})},Dt={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Rt={position:"absolute",top:"2",insetEnd:"3"},Mt={px:"6",py:"2",flex:"1",overflow:"auto"},Bt={px:"6",py:"4"},Ft=It({baseStyle:Pt((e=>({overlay:zt,dialogContainer:Ot,dialog:be(Lt,e),header:Dt,closeButton:Rt,body:Mt,footer:Bt}))),sizes:{xs:Et("xs"),sm:Et("md"),md:Et("lg"),lg:Et("2xl"),xl:Et("4xl"),full:Et("full")},defaultProps:{size:"xs"}}),{definePartsStyle:Wt,defineMultiStyleConfig:Ut}=E(p.keys),qt=Ut({baseStyle:Wt({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),{definePartsStyle:Ht,defineMultiStyleConfig:Vt}=E(f.keys),Gt=B("form-control-color"),Kt=Vt({baseStyle:Ht({container:{width:"100%",position:"relative"},requiredIndicator:{marginStart:"1",[Gt.variable]:"colors.red.500",_dark:{[Gt.variable]:"colors.red.300"},color:Gt.reference},helperText:{mt:"2",[Gt.variable]:"colors.gray.600",_dark:{[Gt.variable]:"colors.whiteAlpha.600"},color:Gt.reference,lineHeight:"normal",fontSize:"sm"}})}),{definePartsStyle:Yt,defineMultiStyleConfig:Zt}=E(m.keys),Jt=B("form-error-color"),Xt=Zt({baseStyle:Yt({text:{[Jt.variable]:"colors.red.500",_dark:{[Jt.variable]:"colors.red.300"},color:Jt.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},icon:{marginEnd:"0.5em",[Jt.variable]:"colors.red.500",_dark:{[Jt.variable]:"colors.red.300"},color:Jt.reference}})}),$t={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},Qt={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},{definePartsStyle:en,defineMultiStyleConfig:tn}=E(g.keys),nn=B("input-height"),rn=B("input-font-size"),on=B("input-padding"),an=B("input-border-radius"),sn=en({addon:{height:nn.reference,fontSize:rn.reference,px:on.reference,borderRadius:an.reference},field:{width:"100%",height:nn.reference,fontSize:rn.reference,px:on.reference,borderRadius:an.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),ln={lg:{[rn.variable]:"fontSizes.lg",[on.variable]:"space.4",[an.variable]:"radii.md",[nn.variable]:"sizes.12"},md:{[rn.variable]:"fontSizes.md",[on.variable]:"space.4",[an.variable]:"radii.md",[nn.variable]:"sizes.10"},sm:{[rn.variable]:"fontSizes.sm",[on.variable]:"space.3",[an.variable]:"radii.sm",[nn.variable]:"sizes.8"},xs:{[rn.variable]:"fontSizes.xs",[on.variable]:"space.2",[an.variable]:"radii.sm",[nn.variable]:"sizes.6"}},cn={lg:en({field:ln.lg,group:ln.lg}),md:en({field:ln.md,group:ln.md}),sm:en({field:ln.sm,group:ln.sm}),xs:en({field:ln.xs,group:ln.xs})};function dn(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||Ue("blue.500","blue.300")(e),errorBorderColor:n||Ue("red.500","red.300")(e)}}const un=en((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=dn(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ue("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ne(t,r),boxShadow:"0 0 0 1px ".concat(ne(t,r))},_focusVisible:{zIndex:1,borderColor:ne(t,n),boxShadow:"0 0 0 1px ".concat(ne(t,n))}},addon:{border:"1px solid",borderColor:Ue("inherit","whiteAlpha.50")(e),bg:Ue("gray.100","whiteAlpha.300")(e)}}})),hn=en((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=dn(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Ue("gray.100","whiteAlpha.50")(e),_hover:{bg:Ue("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ne(t,r)},_focusVisible:{bg:"transparent",borderColor:ne(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ue("gray.100","whiteAlpha.50")(e)}}})),pn=en((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=dn(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ne(t,r),boxShadow:"0px 1px 0px 0px ".concat(ne(t,r))},_focusVisible:{borderColor:ne(t,n),boxShadow:"0px 1px 0px 0px ".concat(ne(t,n))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),fn=tn({baseStyle:sn,sizes:cn,variants:{outline:un,filled:hn,flushed:pn,unstyled:en({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),mn=B("kbd-bg"),gn={baseStyle:{[mn.variable]:"colors.gray.100",_dark:{[mn.variable]:"colors.whiteAlpha.100"},bg:mn.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}},vn={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},{defineMultiStyleConfig:yn,definePartsStyle:xn}=E(v.keys),bn=yn({baseStyle:xn({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),{defineMultiStyleConfig:jn,definePartsStyle:wn}=E(y.keys),kn=B("menu-bg"),Sn=B("menu-shadow"),_n=jn({baseStyle:wn({button:{transitionProperty:"common",transitionDuration:"normal"},list:{[kn.variable]:"#fff",[Sn.variable]:"shadows.sm",_dark:{[kn.variable]:"colors.gray.700",[Sn.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:kn.reference,boxShadow:Sn.reference},item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[kn.variable]:"colors.gray.100",_dark:{[kn.variable]:"colors.whiteAlpha.100"}},_active:{[kn.variable]:"colors.gray.200",_dark:{[kn.variable]:"colors.whiteAlpha.200"}},_expanded:{[kn.variable]:"colors.gray.100",_dark:{[kn.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:kn.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),{defineMultiStyleConfig:An,definePartsStyle:Cn}=E(x.keys),Pn=B("modal-bg"),In=B("modal-shadow"),Tn={bg:"blackAlpha.600",zIndex:"modal"},Nn=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:"inside"===n?"hidden":"auto",overscrollBehaviorY:"none"}},En=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:"inside"===n?"calc(100% - 7.5rem)":void 0,[Pn.variable]:"colors.white",[In.variable]:"shadows.lg",_dark:{[Pn.variable]:"colors.gray.700",[In.variable]:"shadows.dark-lg"},bg:Pn.reference,boxShadow:In.reference}},zn={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},On={position:"absolute",top:"2",insetEnd:"3"},Ln=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:"inside"===t?"auto":void 0}},Dn={px:"6",py:"4"};function Rn(e){return Cn("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}const Mn=An({baseStyle:Cn((e=>({overlay:Tn,dialogContainer:be(Nn,e),dialog:be(En,e),header:zn,closeButton:On,body:be(Ln,e),footer:Dn}))),sizes:{xs:Rn("xs"),sm:Rn("sm"),md:Rn("md"),lg:Rn("lg"),xl:Rn("xl"),"2xl":Rn("2xl"),"3xl":Rn("3xl"),"4xl":Rn("4xl"),"5xl":Rn("5xl"),"6xl":Rn("6xl"),full:Rn("full")},defaultProps:{size:"md"}});function Bn(e){return Array.isArray(e)}function Fn(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Bn(e)}function Wn(e){return Fn(e)&&e.reference?e.reference:String(e)}const Un=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(Wn).join(" ".concat(e," ")).replace(/calc/g,"")},qn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Un("+",...t),")")},Hn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Un("-",...t),")")},Vn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Un("*",...t),")")},Gn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Un("/",...t),")")},Kn=e=>{const t=Wn(e);return null==t||Number.isNaN(parseFloat(t))?Vn(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},Yn=Object.assign((e=>({add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(qn(e,...n))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(Hn(e,...n))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(Vn(e,...n))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(Gn(e,...n))},negate:()=>Yn(Kn(e)),toString:()=>e.toString()})),{add:qn,subtract:Hn,multiply:Vn,divide:Gn,negate:Kn}),Zn={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:Jn,definePartsStyle:Xn}=E(b.keys),$n=yt("number-input-stepper-width"),Qn=yt("number-input-input-padding"),er=Yn($n).add("0.5rem").toString(),tr=yt("number-input-bg"),nr=yt("number-input-color"),rr=yt("number-input-border-color"),ir={[$n.variable]:"sizes.6",[Qn.variable]:er},or=e=>{var t,n;return null!==(t=null===(n=be(fn.baseStyle,e))||void 0===n?void 0:n.field)&&void 0!==t?t:{}},ar={width:$n.reference},sr={borderStart:"1px solid",borderStartColor:rr.reference,color:nr.reference,bg:tr.reference,[nr.variable]:"colors.chakra-body-text",[rr.variable]:"colors.chakra-border-color",_dark:{[nr.variable]:"colors.whiteAlpha.800",[rr.variable]:"colors.whiteAlpha.300"},_active:{[tr.variable]:"colors.gray.200",_dark:{[tr.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}};function lr(e){var t,n,r;const i=null===(t=fn.sizes)||void 0===t?void 0:t[e],a={lg:"md",md:"md",sm:"sm",xs:"sm"},s=null!==(n=null===(r=i.field)||void 0===r?void 0:r.fontSize)&&void 0!==n?n:"md",l=Zn.fontSizes[s];return Xn({field:(0,o.A)((0,o.A)({},i.field),{},{paddingInlineEnd:Qn.reference,verticalAlign:"top"}),stepper:{fontSize:Yn(l).multiply(.75).toString(),_first:{borderTopEndRadius:a[e]},_last:{borderBottomEndRadius:a[e],mt:"-1px",borderTopWidth:1}}})}const cr=Jn({baseStyle:Xn((e=>{var t;return{root:ir,field:null!==(t=be(or,e))&&void 0!==t?t:{},stepperGroup:ar,stepper:sr}})),sizes:{xs:lr("xs"),sm:lr("sm"),md:lr("md"),lg:lr("lg")},variants:fn.variants,defaultProps:fn.defaultProps});var dr,ur,hr;const pr={baseStyle:(0,o.A)((0,o.A)({},null===(dr=fn.baseStyle)||void 0===dr?void 0:dr.field),{},{textAlign:"center"}),sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},variants:{outline:e=>{var t,n,r;return null!==(t=null===(n=be(null===(r=fn.variants)||void 0===r?void 0:r.outline,e))||void 0===n?void 0:n.field)&&void 0!==t?t:{}},flushed:e=>{var t,n,r;return null!==(t=null===(n=be(null===(r=fn.variants)||void 0===r?void 0:r.flushed,e))||void 0===n?void 0:n.field)&&void 0!==t?t:{}},filled:e=>{var t,n,r;return null!==(t=null===(n=be(null===(r=fn.variants)||void 0===r?void 0:r.filled,e))||void 0===n?void 0:n.field)&&void 0!==t?t:{}},unstyled:null!==(ur=null===(hr=fn.variants)||void 0===hr?void 0:hr.unstyled.field)&&void 0!==ur?ur:{}},defaultProps:fn.defaultProps},{defineMultiStyleConfig:fr,definePartsStyle:mr}=E(j.keys),gr=yt("popper-bg"),vr=yt("popper-arrow-bg"),yr=yt("popper-arrow-shadow-color"),xr=fr({baseStyle:mr({popper:{zIndex:"popover"},content:{[gr.variable]:"colors.white",bg:gr.reference,[vr.variable]:gr.reference,[yr.variable]:"colors.gray.200",_dark:{[gr.variable]:"colors.gray.700",[yr.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),{defineMultiStyleConfig:br,definePartsStyle:jr}=E(w.keys),wr=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,a=Ue(oe(),oe("1rem","rgba(0,0,0,0.1)"))(e),s=Ue("".concat(t,".500"),"".concat(t,".200"))(e),l="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(ne(n,s)," 50%,\n    transparent 100%\n  )"),c=!r&&i;return(0,o.A)((0,o.A)({},c&&a),r?{bgImage:l}:{bgColor:s})},kr={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Sr=e=>({bg:Ue("gray.100","whiteAlpha.300")(e)}),_r=e=>(0,o.A)({transitionProperty:"common",transitionDuration:"slow"},wr(e)),Ar=jr((e=>({label:kr,filledTrack:_r(e),track:Sr(e)}))),Cr=br({sizes:{xs:jr({track:{h:"1"}}),sm:jr({track:{h:"2"}}),md:jr({track:{h:"3"}}),lg:jr({track:{h:"4"}})},baseStyle:Ar,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Pr,definePartsStyle:Ir}=E(k.keys),Tr=e=>{var t;const n=null===(t=be(ft.baseStyle,e))||void 0===t?void 0:t.control;return(0,o.A)((0,o.A)({},n),{},{borderRadius:"full",_checked:(0,o.A)((0,o.A)({},null===n||void 0===n?void 0:n._checked),{},{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},Nr=Pr({baseStyle:Ir((e=>{var t,n;return{label:null===(t=ft.baseStyle)||void 0===t?void 0:t.call(ft,e).label,container:null===(n=ft.baseStyle)||void 0===n?void 0:n.call(ft,e).container,control:Tr(e)}})),sizes:{md:Ir({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Ir({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Ir({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}});var Er,zr,Or,Lr,Dr,Rr,Mr,Br,Fr;const{defineMultiStyleConfig:Wr,definePartsStyle:Ur}=E(S.keys),qr=B("select-bg"),Hr={paddingInlineEnd:"8"},Vr=Wr({baseStyle:Ur({field:(0,o.A)((0,o.A)({},null===(Er=fn.baseStyle)||void 0===Er?void 0:Er.field),{},{appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:qr.reference,[qr.variable]:"colors.white",_dark:{[qr.variable]:"colors.gray.700"},"> option, > optgroup":{bg:qr.reference}}),icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:(0,o.A)((0,o.A)({},null===(zr=fn.sizes)||void 0===zr?void 0:zr.lg),{},{field:(0,o.A)((0,o.A)({},null===(Or=fn.sizes)||void 0===Or?void 0:Or.lg.field),Hr)}),md:(0,o.A)((0,o.A)({},null===(Lr=fn.sizes)||void 0===Lr?void 0:Lr.md),{},{field:(0,o.A)((0,o.A)({},null===(Dr=fn.sizes)||void 0===Dr?void 0:Dr.md.field),Hr)}),sm:(0,o.A)((0,o.A)({},null===(Rr=fn.sizes)||void 0===Rr?void 0:Rr.sm),{},{field:(0,o.A)((0,o.A)({},null===(Mr=fn.sizes)||void 0===Mr?void 0:Mr.sm.field),Hr)}),xs:(0,o.A)((0,o.A)({},null===(Br=fn.sizes)||void 0===Br?void 0:Br.xs),{},{field:(0,o.A)((0,o.A)({},null===(Fr=fn.sizes)||void 0===Fr?void 0:Fr.xs.field),Hr),icon:{insetEnd:"1"}})},variants:fn.variants,defaultProps:fn.defaultProps}),Gr=B("skeleton-start-color"),Kr=B("skeleton-end-color"),Yr={baseStyle:{[Gr.variable]:"colors.gray.100",[Kr.variable]:"colors.gray.400",_dark:{[Gr.variable]:"colors.gray.800",[Kr.variable]:"colors.gray.600"},background:Gr.reference,borderColor:Kr.reference,opacity:.7,borderRadius:"sm"}},Zr=B("skip-link-bg"),Jr={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Zr.variable]:"colors.white",_dark:{[Zr.variable]:"colors.gray.700"},bg:Zr.reference}}};function Xr(e){return Fn(e)&&e.reference?e.reference:String(e)}const $r=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(Xr).join(" ".concat(e," ")).replace(/calc/g,"")},Qr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($r("+",...t),")")},ei=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($r("-",...t),")")},ti=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($r("*",...t),")")},ni=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($r("/",...t),")")},ri=e=>{const t=Xr(e);return null==t||Number.isNaN(parseFloat(t))?ti(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},ii=Object.assign((e=>({add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ii(Qr(e,...n))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ii(ei(e,...n))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ii(ti(e,...n))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ii(ni(e,...n))},negate:()=>ii(ri(e)),toString:()=>e.toString()})),{add:Qr,subtract:ei,multiply:ti,divide:ni,negate:ri}),{defineMultiStyleConfig:oi,definePartsStyle:ai}=E(_.keys),si=B("slider-thumb-size"),li=B("slider-track-size"),ci=B("slider-bg"),di=e=>{const{orientation:t}=e;return(0,o.A)({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},qe({orientation:t,vertical:{h:"100%",px:ii(si.reference).divide(2).toString()},horizontal:{w:"100%",py:ii(si.reference).divide(2).toString()}}))},ui=e=>{const t=qe({orientation:e.orientation,horizontal:{h:li.reference},vertical:{w:li.reference}});return(0,o.A)((0,o.A)({},t),{},{overflow:"hidden",borderRadius:"sm",[ci.variable]:"colors.gray.200",_dark:{[ci.variable]:"colors.whiteAlpha.200"},_disabled:{[ci.variable]:"colors.gray.300",_dark:{[ci.variable]:"colors.whiteAlpha.300"}},bg:ci.reference})},hi=e=>{const{orientation:t}=e,n=qe({orientation:t,vertical:{left:"50%"},horizontal:{top:"50%"}});return(0,o.A)((0,o.A)({},n),{},{w:si.reference,h:si.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}})},pi=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[ci.variable]:"colors.".concat(t,".500"),_dark:{[ci.variable]:"colors.".concat(t,".200")},bg:ci.reference}},fi=oi({baseStyle:ai((e=>({container:di(e),track:ui(e),thumb:hi(e),filledTrack:pi(e)}))),sizes:{lg:ai({container:{[si.variable]:"sizes.4",[li.variable]:"sizes.1"}}),md:ai({container:{[si.variable]:"sizes.3.5",[li.variable]:"sizes.1"}}),sm:ai({container:{[si.variable]:"sizes.2.5",[li.variable]:"sizes.0.5"}})},defaultProps:{size:"md",colorScheme:"blue"}}),mi=yt("spinner-size"),gi={baseStyle:{width:[mi.reference],height:[mi.reference]},sizes:{xs:{[mi.variable]:"sizes.3"},sm:{[mi.variable]:"sizes.4"},md:{[mi.variable]:"sizes.6"},lg:{[mi.variable]:"sizes.8"},xl:{[mi.variable]:"sizes.12"}},defaultProps:{size:"md"}},{defineMultiStyleConfig:vi,definePartsStyle:yi}=E(A.keys),xi=vi({baseStyle:yi({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:yi({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),{defineMultiStyleConfig:bi,definePartsStyle:ji}=E(["stepper","step","title","description","indicator","separator","icon","number"]),wi=B("stepper-indicator-size"),ki=B("stepper-icon-size"),Si=B("stepper-title-font-size"),_i=B("stepper-description-font-size"),Ai=B("stepper-accent-color"),Ci=ji((e=>{let{colorScheme:t}=e;return{stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Ai.variable]:"colors.".concat(t,".500"),_dark:{[Ai.variable]:"colors.".concat(t,".200")}},title:{fontSize:Si.reference,fontWeight:"medium"},description:{fontSize:_i.reference,color:"chakra-subtle-text"},number:{fontSize:Si.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:ki.reference,height:ki.reference},indicator:{flexShrink:0,borderRadius:"full",width:wi.reference,height:wi.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Ai.reference},"&[data-status=complete]":{bg:Ai.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Ai.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:"calc(100% - ".concat(wi.reference," - 8px)"),top:"calc(".concat(wi.reference," + 4px)"),insetStart:"calc(".concat(wi.reference," / 2 - 1px)")}}}})),Pi=bi({baseStyle:Ci,sizes:{xs:ji({stepper:{[wi.variable]:"sizes.4",[ki.variable]:"sizes.3",[Si.variable]:"fontSizes.xs",[_i.variable]:"fontSizes.xs"}}),sm:ji({stepper:{[wi.variable]:"sizes.6",[ki.variable]:"sizes.4",[Si.variable]:"fontSizes.sm",[_i.variable]:"fontSizes.xs"}}),md:ji({stepper:{[wi.variable]:"sizes.8",[ki.variable]:"sizes.5",[Si.variable]:"fontSizes.md",[_i.variable]:"fontSizes.sm"}}),lg:ji({stepper:{[wi.variable]:"sizes.10",[ki.variable]:"sizes.6",[Si.variable]:"fontSizes.lg",[_i.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Ii,definePartsStyle:Ti}=E(C.keys),Ni=yt("switch-track-width"),Ei=yt("switch-track-height"),zi=yt("switch-track-diff"),Oi=Yn.subtract(Ni,Ei),Li=yt("switch-thumb-x"),Di=yt("switch-bg"),Ri=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[Ni.reference],height:[Ei.reference],transitionProperty:"common",transitionDuration:"fast",[Di.variable]:"colors.gray.300",_dark:{[Di.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Di.variable]:"colors.".concat(t,".500"),_dark:{[Di.variable]:"colors.".concat(t,".200")}},bg:Di.reference}},Mi={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ei.reference],height:[Ei.reference],_checked:{transform:"translateX(".concat(Li.reference,")")}},Bi=Ii({baseStyle:Ti((e=>({container:{[zi.variable]:Oi,[Li.variable]:zi.reference,_rtl:{[Li.variable]:Yn(zi).negate().toString()}},track:Ri(e),thumb:Mi}))),sizes:{sm:Ti({container:{[Ni.variable]:"1.375rem",[Ei.variable]:"sizes.3"}}),md:Ti({container:{[Ni.variable]:"1.875rem",[Ei.variable]:"sizes.4"}}),lg:Ti({container:{[Ni.variable]:"2.875rem",[Ei.variable]:"sizes.6"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Fi,definePartsStyle:Wi}=E(P.keys),Ui=Wi({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),qi={"&[data-is-numeric=true]":{textAlign:"end"}},Hi=Wi((e=>{const{colorScheme:t}=e;return{th:(0,o.A)({color:Ue("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Ue("".concat(t,".100"),"".concat(t,".700"))(e)},qi),td:(0,o.A)({borderBottom:"1px",borderColor:Ue("".concat(t,".100"),"".concat(t,".700"))(e)},qi),caption:{color:Ue("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Vi=Wi((e=>{const{colorScheme:t}=e;return{th:(0,o.A)({color:Ue("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Ue("".concat(t,".100"),"".concat(t,".700"))(e)},qi),td:(0,o.A)({borderBottom:"1px",borderColor:Ue("".concat(t,".100"),"".concat(t,".700"))(e)},qi),caption:{color:Ue("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ue("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:Ue("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Gi=Fi({baseStyle:Ui,variants:{simple:Hi,striped:Vi,unstyled:{}},sizes:{sm:Wi({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Wi({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Wi({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Ki=B("tabs-color"),Yi=B("tabs-bg"),Zi=B("tabs-border-color"),{defineMultiStyleConfig:Ji,definePartsStyle:Xi}=E(I.keys),$i=e=>{const{orientation:t}=e;return{display:"vertical"===t?"flex":"block"}},Qi=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},eo=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:"vertical"===n?"column":"row"}},to={p:4},no=Xi((e=>({root:$i(e),tab:Qi(e),tablist:eo(e),tabpanel:to}))),ro={sm:Xi({tab:{py:1,px:4,fontSize:"sm"}}),md:Xi({tab:{fontSize:"md",py:2,px:4}}),lg:Xi({tab:{fontSize:"lg",py:3,px:4}})},io=Xi((e=>{const{colorScheme:t,orientation:n}=e,r="vertical"===n,i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[Ki.variable]:"colors.".concat(t,".600"),_dark:{[Ki.variable]:"colors.".concat(t,".300")},borderColor:"currentColor"},_active:{[Yi.variable]:"colors.gray.200",_dark:{[Yi.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Ki.reference,bg:Yi.reference}}})),oo=Xi((e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Zi.variable]:"transparent",_selected:{[Ki.variable]:"colors.".concat(t,".600"),[Zi.variable]:"colors.white",_dark:{[Ki.variable]:"colors.".concat(t,".300"),[Zi.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Zi.reference},color:Ki.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),ao=Xi((e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[Yi.variable]:"colors.gray.50",_dark:{[Yi.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Yi.variable]:"colors.white",[Ki.variable]:"colors.".concat(t,".600"),_dark:{[Yi.variable]:"colors.gray.800",[Ki.variable]:"colors.".concat(t,".300")},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Ki.reference,bg:Yi.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),so=Xi((e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ne(n,"".concat(t,".700")),bg:ne(n,"".concat(t,".100"))}}}})),lo=Xi((e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[Ki.variable]:"colors.gray.600",_dark:{[Ki.variable]:"inherit"},_selected:{[Ki.variable]:"colors.white",[Yi.variable]:"colors.".concat(t,".600"),_dark:{[Ki.variable]:"colors.gray.800",[Yi.variable]:"colors.".concat(t,".300")}},color:Ki.reference,bg:Yi.reference}}})),co=Ji({baseStyle:no,sizes:ro,variants:{line:io,enclosed:oo,"enclosed-colored":ao,"soft-rounded":so,"solid-rounded":lo,unstyled:Xi({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:uo,definePartsStyle:ho}=E(T.keys),po=B("tag-bg"),fo=B("tag-color"),mo=B("tag-shadow"),go=B("tag-min-height"),vo=B("tag-min-width"),yo=B("tag-font-size"),xo=B("tag-padding-inline"),bo=ho({container:{fontWeight:"medium",lineHeight:1.2,outline:0,[fo.variable]:ze.color.reference,[po.variable]:ze.bg.reference,[mo.variable]:ze.shadow.reference,color:fo.reference,bg:po.reference,boxShadow:mo.reference,borderRadius:"md",minH:go.reference,minW:vo.reference,fontSize:yo.reference,px:xo.reference,_focusVisible:{[mo.variable]:"shadows.outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),jo={sm:ho({container:{[go.variable]:"sizes.5",[vo.variable]:"sizes.5",[yo.variable]:"fontSizes.xs",[xo.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ho({container:{[go.variable]:"sizes.6",[vo.variable]:"sizes.6",[yo.variable]:"fontSizes.sm",[xo.variable]:"space.2"}}),lg:ho({container:{[go.variable]:"sizes.8",[vo.variable]:"sizes.8",[yo.variable]:"fontSizes.md",[xo.variable]:"space.3"}})},wo=uo({variants:{subtle:ho((e=>{var t;return{container:null===(t=Re.variants)||void 0===t?void 0:t.subtle(e)}})),solid:ho((e=>{var t;return{container:null===(t=Re.variants)||void 0===t?void 0:t.solid(e)}})),outline:ho((e=>{var t;return{container:null===(t=Re.variants)||void 0===t?void 0:t.outline(e)}}))},baseStyle:bo,sizes:jo,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var ko,So,_o,Ao,Co,Po,Io,To,No,Eo,zo;const Oo=(0,o.A)((0,o.A)({},null===(ko=fn.baseStyle)||void 0===ko?void 0:ko.field),{},{paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"}),Lo={outline:e=>{var t,n;return null!==(t=null===(n=fn.variants)||void 0===n?void 0:n.outline(e).field)&&void 0!==t?t:{}},flushed:e=>{var t,n;return null!==(t=null===(n=fn.variants)||void 0===n?void 0:n.flushed(e).field)&&void 0!==t?t:{}},filled:e=>{var t,n;return null!==(t=null===(n=fn.variants)||void 0===n?void 0:n.filled(e).field)&&void 0!==t?t:{}},unstyled:null!==(So=null===(_o=fn.variants)||void 0===_o?void 0:_o.unstyled.field)&&void 0!==So?So:{}},Do={baseStyle:Oo,sizes:{xs:null!==(Ao=null===(Co=fn.sizes)||void 0===Co?void 0:Co.xs.field)&&void 0!==Ao?Ao:{},sm:null!==(Po=null===(Io=fn.sizes)||void 0===Io?void 0:Io.sm.field)&&void 0!==Po?Po:{},md:null!==(To=null===(No=fn.sizes)||void 0===No?void 0:No.md.field)&&void 0!==To?To:{},lg:null!==(Eo=null===(zo=fn.sizes)||void 0===zo?void 0:zo.lg.field)&&void 0!==Eo?Eo:{}},variants:Lo,defaultProps:{size:"md",variant:"outline"}},Ro=yt("tooltip-bg"),Mo=yt("tooltip-fg"),Bo=yt("popper-arrow-bg"),Fo={bg:Ro.reference,color:Mo.reference,[Ro.variable]:"colors.gray.700",[Mo.variable]:"colors.whiteAlpha.900",_dark:{[Ro.variable]:"colors.gray.300",[Mo.variable]:"colors.gray.900"},[Bo.variable]:Ro.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},Wo={Accordion:L,Alert:ve,Avatar:Ee,Badge:Re,Breadcrumb:We,Button:Ze,Checkbox:ft,CloseButton:wt,Code:_t,Container:At,Divider:Ct,Drawer:Ft,Editable:qt,Form:Kt,FormError:Xt,FormLabel:$t,Heading:Qt,Input:fn,Kbd:gn,Link:vn,List:bn,Menu:_n,Modal:Mn,NumberInput:cr,PinInput:pr,Popover:xr,Progress:Cr,Radio:Nr,Select:Vr,Skeleton:Yr,SkipLink:Jr,Slider:fi,Spinner:gi,Stat:xi,Switch:Bi,Table:Gi,Tabs:co,Tag:wo,Textarea:Do,Tooltip:{baseStyle:Fo},Card:at,Stepper:Pi},Uo={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},qo=(0,o.A)((0,o.A)({breakpoints:{base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},blur:{none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},colors:{transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}}},Zn),{},{sizes:xe,shadows:{xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},space:ye,borders:{none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},transition:Uo}),Ho={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Vo={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},Go={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},Ko=(0,o.A)((0,o.A)({semanticTokens:Ho,direction:"ltr"},qo),{},{components:Wo,styles:Vo,config:Go}),Yo=(0,o.A)((0,o.A)({semanticTokens:Ho,direction:"ltr",components:{}},qo),{},{styles:Vo,config:Go});function Zo(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Jo(e,t){if(null==e)return{};var n,r,i=Zo(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Xo=n(579);function $o(e){return null!=e&&"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function Qo(e){return!(!e.parentElement||!Qo(e.parentElement))||e.hidden}var ea=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ta=Math.abs,na=String.fromCharCode,ra=Object.assign;function ia(e){return e.trim()}function oa(e,t,n){return e.replace(t,n)}function aa(e,t){return e.indexOf(t)}function sa(e,t){return 0|e.charCodeAt(t)}function la(e,t,n){return e.slice(t,n)}function ca(e){return e.length}function da(e){return e.length}function ua(e,t){return t.push(e),e}var ha=1,pa=1,fa=0,ma=0,ga=0,va="";function ya(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ha,column:pa,length:a,return:""}}function xa(e,t){return ra(ya("",null,null,"",null,null,0),e,{length:-e.length},t)}function ba(){return ga=ma>0?sa(va,--ma):0,pa--,10===ga&&(pa=1,ha--),ga}function ja(){return ga=ma<fa?sa(va,ma++):0,pa++,10===ga&&(pa=1,ha++),ga}function wa(){return sa(va,ma)}function ka(){return ma}function Sa(e,t){return la(va,e,t)}function _a(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Aa(e){return ha=pa=1,fa=ca(va=e),ma=0,[]}function Ca(e){return va="",e}function Pa(e){return ia(Sa(ma-1,Na(91===e?e+2:40===e?e+1:e)))}function Ia(e){for(;(ga=wa())&&ga<33;)ja();return _a(e)>2||_a(ga)>3?"":" "}function Ta(e,t){for(;--t&&ja()&&!(ga<48||ga>102||ga>57&&ga<65||ga>70&&ga<97););return Sa(e,ka()+(t<6&&32==wa()&&32==ja()))}function Na(e){for(;ja();)switch(ga){case e:return ma;case 34:case 39:34!==e&&39!==e&&Na(ga);break;case 40:41===e&&Na(e);break;case 92:ja()}return ma}function Ea(e,t){for(;ja()&&e+ga!==57&&(e+ga!==84||47!==wa()););return"/*"+Sa(t,ma-1)+"*"+na(47===e?e:ja())}function za(e){for(;!_a(wa());)ja();return Sa(e,ma)}var Oa="-ms-",La="-moz-",Da="-webkit-",Ra="comm",Ma="rule",Ba="decl",Fa="@keyframes";function Wa(e,t){for(var n="",r=da(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Ua(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ba:return e.return=e.return||e.value;case Ra:return"";case Fa:return e.return=e.value+"{"+Wa(e.children,r)+"}";case Ma:e.value=e.props.join(",")}return ca(n=Wa(e.children,r))?e.return=e.value+"{"+n+"}":""}function qa(e){return Ca(Ha("",null,null,null,[""],e=Aa(e),0,[0],e))}function Ha(e,t,n,r,i,o,a,s,l){for(var c=0,d=0,u=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,x="",b=i,j=o,w=r,k=x;g;)switch(f=y,y=ja()){case 40:if(108!=f&&58==sa(k,u-1)){-1!=aa(k+=oa(Pa(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Pa(y);break;case 9:case 10:case 13:case 32:k+=Ia(f);break;case 92:k+=Ta(ka()-1,7);continue;case 47:switch(wa()){case 42:case 47:ua(Ga(Ea(ja(),ka()),t,n),l);break;default:k+="/"}break;case 123*m:s[c++]=ca(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==v&&(k=oa(k,/\f/g,"")),p>0&&ca(k)-u&&ua(p>32?Ka(k+";",r,n,u-1):Ka(oa(k," ","")+";",r,n,u-2),l);break;case 59:k+=";";default:if(ua(w=Va(k,t,n,c,d,i,s,x,b=[],j=[],u),o),123===y)if(0===d)Ha(k,t,w,w,b,o,u,s,j);else switch(99===h&&110===sa(k,3)?100:h){case 100:case 108:case 109:case 115:Ha(e,w,w,r&&ua(Va(e,w,w,0,0,i,s,x,i,b=[],u),j),i,j,u,s,r?b:j);break;default:Ha(k,w,w,w,[""],j,0,s,j)}}c=d=p=0,m=v=1,x=k="",u=a;break;case 58:u=1+ca(k),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ba())continue;switch(k+=na(y),y*m){case 38:v=d>0?1:(k+="\f",-1);break;case 44:s[c++]=(ca(k)-1)*v,v=1;break;case 64:45===wa()&&(k+=Pa(ja())),h=wa(),d=u=ca(x=k+=za(ka())),y++;break;case 45:45===f&&2==ca(k)&&(m=0)}}return o}function Va(e,t,n,r,i,o,a,s,l,c,d){for(var u=i-1,h=0===i?o:[""],p=da(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=la(e,u+1,u=ta(m=a[f])),x=e;v<p;++v)(x=ia(m>0?h[v]+" "+y:oa(y,/&\f/g,h[v])))&&(l[g++]=x);return ya(e,t,n,0===i?Ma:s,l,c,d)}function Ga(e,t,n){return ya(e,t,n,Ra,na(ga),la(e,2,-2),0)}function Ka(e,t,n,r){return ya(e,t,n,Ba,la(e,0,r),la(e,r+1,-1),r)}var Ya=function(e,t,n){for(var r=0,i=0;r=i,i=wa(),38===r&&12===i&&(t[n]=1),!_a(i);)ja();return Sa(e,ma)},Za=function(e,t){return Ca(function(e,t){var n=-1,r=44;do{switch(_a(r)){case 0:38===r&&12===wa()&&(t[n]=1),e[n]+=Ya(ma-1,t,n);break;case 2:e[n]+=Pa(r);break;case 4:if(44===r){e[++n]=58===wa()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=na(r)}}while(r=ja());return e}(Aa(e),t))},Ja=new WeakMap,Xa=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ja.get(n))&&!r){Ja.set(e,!0);for(var i=[],o=Za(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},$a=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Qa(e,t){switch(function(e,t){return 45^sa(e,0)?(((t<<2^sa(e,0))<<2^sa(e,1))<<2^sa(e,2))<<2^sa(e,3):0}(e,t)){case 5103:return Da+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Da+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Da+e+La+e+Oa+e+e;case 6828:case 4268:return Da+e+Oa+e+e;case 6165:return Da+e+Oa+"flex-"+e+e;case 5187:return Da+e+oa(e,/(\w+).+(:[^]+)/,Da+"box-$1$2"+Oa+"flex-$1$2")+e;case 5443:return Da+e+Oa+"flex-item-"+oa(e,/flex-|-self/,"")+e;case 4675:return Da+e+Oa+"flex-line-pack"+oa(e,/align-content|flex-|-self/,"")+e;case 5548:return Da+e+Oa+oa(e,"shrink","negative")+e;case 5292:return Da+e+Oa+oa(e,"basis","preferred-size")+e;case 6060:return Da+"box-"+oa(e,"-grow","")+Da+e+Oa+oa(e,"grow","positive")+e;case 4554:return Da+oa(e,/([^-])(transform)/g,"$1"+Da+"$2")+e;case 6187:return oa(oa(oa(e,/(zoom-|grab)/,Da+"$1"),/(image-set)/,Da+"$1"),e,"")+e;case 5495:case 3959:return oa(e,/(image-set\([^]*)/,Da+"$1$`$1");case 4968:return oa(oa(e,/(.+:)(flex-)?(.*)/,Da+"box-pack:$3"+Oa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Da+e+e;case 4095:case 3583:case 4068:case 2532:return oa(e,/(.+)-inline(.+)/,Da+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ca(e)-1-t>6)switch(sa(e,t+1)){case 109:if(45!==sa(e,t+4))break;case 102:return oa(e,/(.+:)(.+)-([^]+)/,"$1"+Da+"$2-$3$1"+La+(108==sa(e,t+3)?"$3":"$2-$3"))+e;case 115:return~aa(e,"stretch")?Qa(oa(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==sa(e,t+1))break;case 6444:switch(sa(e,ca(e)-3-(~aa(e,"!important")&&10))){case 107:return oa(e,":",":"+Da)+e;case 101:return oa(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Da+(45===sa(e,14)?"inline-":"")+"box$3$1"+Da+"$2$3$1"+Oa+"$2box$3")+e}break;case 5936:switch(sa(e,t+11)){case 114:return Da+e+Oa+oa(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Da+e+Oa+oa(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Da+e+Oa+oa(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Da+e+Oa+e+e}return e}var es=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ba:e.return=Qa(e.value,e.length);break;case Fa:return Wa([xa(e,{value:oa(e.value,"@","@"+Da)})],r);case Ma:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wa([xa(e,{props:[oa(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Wa([xa(e,{props:[oa(t,/:(plac\w+)/,":"+Da+"input-$1")]}),xa(e,{props:[oa(t,/:(plac\w+)/,":-moz-$1")]}),xa(e,{props:[oa(t,/:(plac\w+)/,Oa+"input-$1")]})],r)}return""}))}}],ts=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||es,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c,d=[Ua,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=da(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([Xa,$a].concat(o,d));i=function(e,t,n,r){l=n,function(e){Wa(qa(e),u)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new ea({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(s),h};function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(null,arguments)}var rs=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};function is(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var os=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},as=function(e,t,n){os(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var ss={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ls(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var cs=/[A-Z]|^ms/g,ds=/_EMO_([^_]+?)_([^]*?)_EMO_/g,us=function(e){return 45===e.charCodeAt(1)},hs=function(e){return null!=e&&"boolean"!==typeof e},ps=ls((function(e){return us(e)?e:e.replace(cs,"-$&").toLowerCase()})),fs=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ds,(function(e,t,n){return gs={name:t,styles:n,next:gs},t}))}return 1===ss[e]||us(e)||"number"!==typeof t||0===t?t:t+"px"};function ms(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return gs={name:i.name,styles:i.styles,next:gs},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)gs={name:a.name,styles:a.styles,next:gs},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ms(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":hs(s)&&(r+=ps(o)+":"+fs(o,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=ms(e,t,a);switch(o){case"animation":case"animationName":r+=ps(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<a.length;c++)hs(a[c])&&(r+=ps(o)+":"+fs(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=gs,l=n(e);return gs=s,ms(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var gs,vs=/label:\s*([^\s;{]+)\s*(;|$)/g;function ys(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";gs=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ms(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++){if(i+=ms(n,t,e[a]),r)i+=o[a]}vs.lastIndex=0;for(var s,l="";null!==(s=vs.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:gs}}var xs=!!r.useInsertionEffect&&r.useInsertionEffect,bs=xs||function(e){return e()},js=xs||t.useLayoutEffect,ws=t.createContext("undefined"!==typeof HTMLElement?ts({key:"css"}):null),ks=(ws.Provider,function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(ws);return e(n,i,r)}))}),Ss=t.createContext({}),_s=rs((function(e){return rs((function(t){return function(e,t){return"function"===typeof t?t(e):ns({},e,t)}(e,t)}))})),As=function(e){var n=t.useContext(Ss);return e.theme!==n&&(n=_s(n)(e.theme)),t.createElement(Ss.Provider,{value:n},e.children)};var Cs={}.hasOwnProperty,Ps="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Is=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return os(t,n,r),bs((function(){return as(t,n,r)})),null},Ts=ks((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=e[Ps],a=[i],s="";"string"===typeof e.className?s=is(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=ys(a,void 0,t.useContext(Ss));s+=n.key+"-"+l.name;var c={};for(var d in e)Cs.call(e,d)&&"css"!==d&&d!==Ps&&(c[d]=e[d]);return c.className=s,r&&(c.ref=r),t.createElement(t.Fragment,null,t.createElement(Is,{cache:n,serialized:l,isStringTag:"string"===typeof o}),t.createElement(o,c))}));const Ns=(0,t.createContext)({});function Es(){const e=(0,t.useContext)(Ns);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function zs(e,t){const{colorMode:n}=Es();return"dark"===n?t:e}Ns.displayName="ColorModeContext";const Os="chakra-ui-light",Ls="chakra-ui-dark";const Ds="chakra-ui-color-mode";const Rs=(Ms=Ds,{ssr:!1,type:"localStorage",get(e){if(null===globalThis||void 0===globalThis||!globalThis.document)return e;let t;try{t=localStorage.getItem(Ms)||e}catch(n){}return t||e},set(e){try{localStorage.setItem(Ms,e)}catch(t){}}});var Ms;function Bs(e,t){const n=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null===n||void 0===n?void 0:n[2]}function Fs(e,t){return{ssr:!!t,type:"cookie",get:n=>t?Bs(t,e):null!==globalThis&&void 0!==globalThis&&globalThis.document&&Bs(document.cookie,e)||n,set(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}Fs(Ds);const Ws=()=>{},Us=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect;function qs(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}const Hs=function(e){const{value:n,children:r,options:{useSystemColorMode:i,initialColorMode:o,disableTransitionOnChange:a}={},colorModeManager:s=Rs}=e,l=(0,t.useContext)(ws),c="dark"===o?"dark":"light",[d,u]=(0,t.useState)((()=>qs(s,c))),[h,p]=(0,t.useState)((()=>qs(s))),{getSystemTheme:f,setClassName:m,setDataset:g,addListener:v}=(0,t.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{preventTransition:t=!0,nonce:n}=e,r={setDataset:e=>{const n=t?r.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null===n||void 0===n||n()},setClassName(e){document.body.classList.add(e?Ls:Os),document.body.classList.remove(e?Os:Ls)},query:()=>window.matchMedia("(prefers-color-scheme: dark)"),getSystemTheme(e){var t;return(null!==(t=r.query().matches)&&void 0!==t?t:"dark"===e)?"dark":"light"},addListener(e){const t=r.query(),n=t=>{e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(n):t.addEventListener("change",n),()=>{"function"===typeof t.removeListener?t.removeListener(n):t.removeEventListener("change",n)}},preventTransition(){const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),void 0!==n&&(e.nonce=n),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.head.removeChild(e)}))}))}}};return r}({preventTransition:a,nonce:null===l||void 0===l?void 0:l.nonce})),[a,null===l||void 0===l?void 0:l.nonce]),y="system"!==o||d?d:h,x=(0,t.useCallback)((e=>{const t="system"===e?f():e;u(t),m("dark"===t),g(t),s.set(t)}),[s,f,m,g]);Us((()=>{"system"===o&&p(f())}),[]),(0,t.useEffect)((()=>{const e=s.get();x(e||("system"!==o?c:"system"))}),[s,c,o,x]);const b=(0,t.useCallback)((()=>{x("dark"===y?"light":"dark")}),[y,x]);(0,t.useEffect)((()=>{if(i)return v(x)}),[i,v,x]);const j=(0,t.useMemo)((()=>({colorMode:null!==n&&void 0!==n?n:y,toggleColorMode:n?Ws:b,setColorMode:n?Ws:x,forced:void 0!==n})),[y,b,x,n]);return(0,Xo.jsx)(Ns.Provider,{value:j,children:r})};function Vs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Hs.displayName="ColorModeProvider";n(219);var Gs=function(e,n){var r=arguments;if(null==n||!Cs.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Ts,o[1]=function(e,t){var n={};for(var r in t)Cs.call(t,r)&&(n[r]=t[r]);return n[Ps]=e,n}(e,n);for(var a=2;a<i;a++)o[a]=r[a];return t.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Gs||(Gs={}));var Ks=ks((function(e,n){var r=ys([e.styles],void 0,t.useContext(Ss)),i=t.useRef();return js((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),i.current=[t,o],function(){t.flush()}}),[n]),js((function(){var e=i.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&as(n,r.next,!0),t.tags.length){var o=t.tags[t.tags.length-1].nextElementSibling;t.before=o,t.flush()}n.insert("",r,t,!1)}}),[n,r.name]),null}));function Ys(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ys(t)}function Zs(){var e=Ys.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Js,Xs;const $s=String.raw,Qs=$s(Js||(Js=Vs(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),el=()=>(0,Xo.jsx)(Ks,{styles:Qs}),tl=e=>{let{scope:t=""}=e;return(0,Xo.jsx)(Ks,{styles:$s(Xs||(Xs=Vs(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,Qs)})};function nl(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}function rl(e){if(null==e)return e;const{unitless:t}=function(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t||"number"===typeof e?"".concat(e,"px"):e}const il=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,ol=e=>Object.fromEntries(Object.entries(e).sort(il));function al(e){const t=ol(e);return Object.assign(Object.values(t),t)}function sl(e){var t;if(!e)return e;e=null!==(t=rl(e))&&void 0!==t?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/([0-9]+\.?[0-9]*)/,(e=>"".concat(parseFloat(e)+-.02)))}function ll(e,t){const n=["@media screen"];return e&&n.push("and","(min-width: ".concat(rl(e),")")),t&&n.push("and","(max-width: ".concat(rl(t),")")),n.join(" ")}function cl(e){var t;if(!e)return null;e.base=null!==(t=e.base)&&void 0!==t?t:"0px";const n=al(e),r=Object.entries(e).sort(il).map(((e,t,n)=>{var r;let[i,o]=e,[,a]=null!==(r=n[t+1])&&void 0!==r?r:[];return a=parseFloat(a)>0?sl(a):void 0,{_minW:sl(o),breakpoint:i,minW:o,maxW:a,maxWQuery:ll(null,a),minWQuery:ll(o),minMaxQuery:ll(o,a)}})),i=function(e){const t=Object.keys(ol(e));return new Set(t)}(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(e){const t=Object.keys(e);return t.length>0&&t.every((e=>i.has(e)))},asObject:ol(e),asArray:al(e),details:r,get:e=>r.find((t=>t.breakpoint===e)),media:[null,...n.map((e=>ll(e))).slice(1)],toArrayValue(e){if(!Fn(e))throw new Error("toArrayValue: value must be an object");const t=o.map((t=>{var n;return null!==(n=e[t])&&void 0!==n?n:null}));for(;null===nl(t);)t.pop();return t},toObjectValue(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce(((e,t,n)=>{const r=o[n];return null!=r&&null!=t&&(e[r]=t),e}),{})}}}var dl=n(9611);function ul(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{stop:r,getKey:i}=n;return function e(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Fn(n)||Array.isArray(n)){const s={};for(const[l,c]of Object.entries(n)){var a;const d=null!==(a=null===i||void 0===i?void 0:i(l))&&void 0!==a?a:l,u=[...o,d];if(null!==r&&void 0!==r&&r(n,u))return t(n,o);s[d]=e(c,u)}return s}return t(n,o)}(e)}const hl=(e,t)=>"".concat(e,"[data-closed], ").concat(e,"[data-state=closed] ").concat(t),pl=(e,t)=>"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t),fl=(e,t)=>"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t),ml=(e,t)=>"".concat(e,":focus-visible ").concat(t),gl=(e,t)=>"".concat(e,":focus-within ").concat(t),vl=(e,t)=>"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t),yl=(e,t)=>"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t),xl=(e,t)=>"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t),bl=(e,t)=>"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t),jl=(e,t)=>"".concat(e,":placeholder-shown ").concat(t),wl=e=>Sl((t=>e(t,"&")),"[role=group]","[data-group]",".group"),kl=e=>Sl((t=>e(t,"~ &")),"[data-peer]",".peer"),Sl=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(e).join(", ")},_l={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:wl(((e,t)=>"".concat(e,"[data-open], ").concat(e,"[open], ").concat(e,"[data-state=open] ").concat(t))),_groupClosed:wl(hl),_groupHover:wl(pl),_peerHover:kl(pl),_groupFocus:wl(fl),_peerFocus:kl(fl),_groupFocusVisible:wl(ml),_peerFocusVisible:kl(ml),_groupActive:wl(vl),_peerActive:kl(vl),_groupDisabled:wl(yl),_peerDisabled:kl(yl),_groupInvalid:wl(xl),_peerInvalid:kl(xl),_groupChecked:wl(bl),_peerChecked:kl(bl),_groupFocusWithin:wl(gl),_peerFocusWithin:kl(gl),_peerPlaceholderShown:kl(jl),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},Al=Object.keys(_l);function Cl(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}const Pl=["__cssMap","__cssVars","__breakpoints"],Il=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Tl(e){return Cl(e,Il)}function Nl(e,t){return B(String(e).replace(/\./g,"-"),void 0,t)}function El(e){var t;const n=function(e){const t=Tl(e),n=function(e){return e.semanticTokens}(e),r=e=>Al.includes(e)||"default"===e,i={};return ul(t,((e,t)=>{null!=e&&(i[t.join(".")]={isSemantic:!1,value:e})})),ul(n,((e,t)=>{null!=e&&(i[t.join(".")]={isSemantic:!0,value:e})}),{stop:e=>Object.keys(e).every(r)}),i}(e),r=null===(t=e.config)||void 0===t?void 0:t.cssVarPrefix;let i={};const o={};function a(e,t){const i=[String(e).split(".")[0],t].join(".");if(!n[i])return t;const{reference:o}=Nl(i,r);return o}for(const[s,l]of Object.entries(n)){const{isSemantic:e,value:t}=l,{variable:n,reference:c}=Nl(s,r);if(!e){if(s.startsWith("space")){const e=s.split("."),[r,...i]=e,a="".concat(r,".-").concat(i.join(".")),l=ii.negate(t),d=ii.negate(c);o[a]={value:l,var:n,varRef:d}}i[n]=t,o[s]={value:t,var:n,varRef:c};continue}const d=Fn(t)?t:{default:t};i=dl(i,Object.entries(d).reduce(((e,t)=>{var r;let[i,o]=t;if(!o)return e;const l=a(s,"".concat(o));if("default"===i)return e[n]=l,e;return e[null!==(r=null===_l||void 0===_l?void 0:_l[i])&&void 0!==r?r:i]={[n]:l},e}),{})),o[s]={value:c,var:n,varRef:c}}return{cssVars:i,cssMap:o}}function zl(e){const t=function(e){const{__cssMap:t,__cssVars:n,__breakpoints:r}=e;return Jo(e,Pl)}(e),{cssMap:n,cssVars:r}=El(t);return Object.assign(t,{__cssVars:(0,o.A)((0,o.A)({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"}),r),__cssMap:n,__breakpoints:cl(t.breakpoints)}),t}function Ol(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(e=>"function"===typeof e)(e)?e(...n):e}const Ll=e=>"string"===typeof e?e.replace(/!(important)?$/,"").trim():e;function Dl(e){const{scale:t,transform:n,compose:r}=e;return(e,i)=>{var o;const a=((e,t)=>n=>{const r=String(t),i=(e=>/!(important)?$/.test(e))(r),o=Ll(r),a=e?"".concat(e,".").concat(o):o;let s=Fn(n.__cssMap)&&a in n.__cssMap?n.__cssMap[a].varRef:t;return s=Ll(s),i?"".concat(s," !important"):s})(t,e)(i);let s=null!==(o=null===n||void 0===n?void 0:n(a,i))&&void 0!==o?o:a;return r&&(s=r(s,i)),s}}const Rl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)};function Ml(e,t){return n=>{const r={property:n,scale:e};return r.transform=Dl({scale:e,transform:t}),r}}const Bl=e=>{let{rtl:t,ltr:n}=e;return e=>"rtl"===e.direction?t:n};const Fl=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];const Wl={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Ul={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};const ql={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Hl={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Vl=new Set(Object.values(Hl)),Gl=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Kl=e=>e.trim();const Yl=e=>"string"===typeof e&&e.includes("(")&&e.includes(")");const Zl=e=>t=>"".concat(e,"(").concat(t,")"),Jl={filter:e=>"auto"!==e?e:Wl,backdropFilter:e=>"auto"!==e?e:Ul,ring:e=>function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Jl.px(e)),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...Fl].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...Fl].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;const{unitless:t}=(e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}})(e);return t||"number"===typeof e?"".concat(e,"px"):e},fraction:e=>"number"!==typeof e||e>1?e:"".concat(100*e,"%"),float:(e,t)=>"rtl"===t.direction?{left:"right",right:"left"}[e]:e,degree(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;const t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:(e,t)=>function(e,t){if(null==e||Gl.has(e))return e;if(!Yl(e)&&!Gl.has(e))return"url('".concat(e,"')");const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null===n||void 0===n?void 0:n[1],i=null===n||void 0===n?void 0:n[2];if(!r||!i)return e;const o=r.includes("-gradient")?r:"".concat(r,"-gradient"),[a,...s]=i.split(",").map(Kl).filter(Boolean);if(0===(null===s||void 0===s?void 0:s.length))return e;const l=a in Hl?Hl[a]:a;s.unshift(l);const c=s.map((e=>{if(Vl.has(e))return e;const n=e.indexOf(" "),[r,i]=-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],o=Yl(i)?i:i&&i.split(" "),a="colors.".concat(r),s=a in t.__cssMap?t.__cssMap[a].varRef:r;return o?[s,...Array.isArray(o)?o:[o]].join(" "):s}));return"".concat(o,"(").concat(c.join(", "),")")}(e,null!==t&&void 0!==t?t:{}),blur:Zl("blur"),opacity:Zl("opacity"),brightness:Zl("brightness"),contrast:Zl("contrast"),dropShadow:Zl("drop-shadow"),grayscale:Zl("grayscale"),hueRotate:e=>Zl("hue-rotate")(Jl.degree(e)),invert:Zl("invert"),saturate:Zl("saturate"),sepia:Zl("sepia"),bgImage(e){if(null==e)return e;return Yl(e)||Gl.has(e)?e:"url(".concat(e,")")},outline(e){const t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=null!==(t=ql[e])&&void 0!==t?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},Xl={borderWidths:Ml("borderWidths"),borderStyles:Ml("borderStyles"),colors:Ml("colors"),borders:Ml("borders"),gradients:Ml("gradients",Jl.gradient),radii:Ml("radii",Jl.px),space:Ml("space",Rl(Jl.vh,Jl.px)),spaceT:Ml("space",Rl(Jl.vh,Jl.px)),degreeT:e=>({property:e,transform:Jl.degree}),prop:(e,t,n)=>(0,o.A)({property:e,scale:t},t&&{transform:Dl({scale:t,transform:n})}),propT:(e,t)=>({property:e,transform:t}),sizes:Ml("sizes",Rl(Jl.vh,Jl.px)),sizesT:Ml("sizes",Rl(Jl.vh,Jl.fraction)),shadows:Ml("shadows"),logical:function(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:Bl(t),transform:n?Dl({scale:n,compose:r}):r}},blur:Ml("blur",Jl.blur)},$l={background:Xl.colors("background"),backgroundColor:Xl.colors("backgroundColor"),backgroundImage:Xl.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Jl.bgClip},bgSize:Xl.prop("backgroundSize"),bgPosition:Xl.prop("backgroundPosition"),bg:Xl.colors("background"),bgColor:Xl.colors("backgroundColor"),bgPos:Xl.prop("backgroundPosition"),bgRepeat:Xl.prop("backgroundRepeat"),bgAttachment:Xl.prop("backgroundAttachment"),bgGradient:Xl.gradients("backgroundImage"),bgClip:{transform:Jl.bgClip}};Object.assign($l,{bgImage:$l.backgroundImage,bgImg:$l.backgroundImage});const Ql={border:Xl.borders("border"),borderWidth:Xl.borderWidths("borderWidth"),borderStyle:Xl.borderStyles("borderStyle"),borderColor:Xl.colors("borderColor"),borderRadius:Xl.radii("borderRadius"),borderTop:Xl.borders("borderTop"),borderBlockStart:Xl.borders("borderBlockStart"),borderTopLeftRadius:Xl.radii("borderTopLeftRadius"),borderStartStartRadius:Xl.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Xl.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Xl.radii("borderTopRightRadius"),borderStartEndRadius:Xl.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Xl.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Xl.borders("borderRight"),borderInlineEnd:Xl.borders("borderInlineEnd"),borderBottom:Xl.borders("borderBottom"),borderBlockEnd:Xl.borders("borderBlockEnd"),borderBottomLeftRadius:Xl.radii("borderBottomLeftRadius"),borderBottomRightRadius:Xl.radii("borderBottomRightRadius"),borderLeft:Xl.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Xl.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Xl.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Xl.borders(["borderLeft","borderRight"]),borderInline:Xl.borders("borderInline"),borderY:Xl.borders(["borderTop","borderBottom"]),borderBlock:Xl.borders("borderBlock"),borderTopWidth:Xl.borderWidths("borderTopWidth"),borderBlockStartWidth:Xl.borderWidths("borderBlockStartWidth"),borderTopColor:Xl.colors("borderTopColor"),borderBlockStartColor:Xl.colors("borderBlockStartColor"),borderTopStyle:Xl.borderStyles("borderTopStyle"),borderBlockStartStyle:Xl.borderStyles("borderBlockStartStyle"),borderBottomWidth:Xl.borderWidths("borderBottomWidth"),borderBlockEndWidth:Xl.borderWidths("borderBlockEndWidth"),borderBottomColor:Xl.colors("borderBottomColor"),borderBlockEndColor:Xl.colors("borderBlockEndColor"),borderBottomStyle:Xl.borderStyles("borderBottomStyle"),borderBlockEndStyle:Xl.borderStyles("borderBlockEndStyle"),borderLeftWidth:Xl.borderWidths("borderLeftWidth"),borderInlineStartWidth:Xl.borderWidths("borderInlineStartWidth"),borderLeftColor:Xl.colors("borderLeftColor"),borderInlineStartColor:Xl.colors("borderInlineStartColor"),borderLeftStyle:Xl.borderStyles("borderLeftStyle"),borderInlineStartStyle:Xl.borderStyles("borderInlineStartStyle"),borderRightWidth:Xl.borderWidths("borderRightWidth"),borderInlineEndWidth:Xl.borderWidths("borderInlineEndWidth"),borderRightColor:Xl.colors("borderRightColor"),borderInlineEndColor:Xl.colors("borderInlineEndColor"),borderRightStyle:Xl.borderStyles("borderRightStyle"),borderInlineEndStyle:Xl.borderStyles("borderInlineEndStyle"),borderTopRadius:Xl.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Xl.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Xl.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Xl.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ql,{rounded:Ql.borderRadius,roundedTop:Ql.borderTopRadius,roundedTopLeft:Ql.borderTopLeftRadius,roundedTopRight:Ql.borderTopRightRadius,roundedTopStart:Ql.borderStartStartRadius,roundedTopEnd:Ql.borderStartEndRadius,roundedBottom:Ql.borderBottomRadius,roundedBottomLeft:Ql.borderBottomLeftRadius,roundedBottomRight:Ql.borderBottomRightRadius,roundedBottomStart:Ql.borderEndStartRadius,roundedBottomEnd:Ql.borderEndEndRadius,roundedLeft:Ql.borderLeftRadius,roundedRight:Ql.borderRightRadius,roundedStart:Ql.borderInlineStartRadius,roundedEnd:Ql.borderInlineEndRadius,borderStart:Ql.borderInlineStart,borderEnd:Ql.borderInlineEnd,borderTopStartRadius:Ql.borderStartStartRadius,borderTopEndRadius:Ql.borderStartEndRadius,borderBottomStartRadius:Ql.borderEndStartRadius,borderBottomEndRadius:Ql.borderEndEndRadius,borderStartRadius:Ql.borderInlineStartRadius,borderEndRadius:Ql.borderInlineEndRadius,borderStartWidth:Ql.borderInlineStartWidth,borderEndWidth:Ql.borderInlineEndWidth,borderStartColor:Ql.borderInlineStartColor,borderEndColor:Ql.borderInlineEndColor,borderStartStyle:Ql.borderInlineStartStyle,borderEndStyle:Ql.borderInlineEndStyle});const ec={color:Xl.colors("color"),textColor:Xl.colors("color"),fill:Xl.colors("fill"),stroke:Xl.colors("stroke"),accentColor:Xl.colors("accentColor"),textFillColor:Xl.colors("textFillColor")},tc={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Jl.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Xl.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Xl.space("gap"),rowGap:Xl.space("rowGap"),columnGap:Xl.space("columnGap")};Object.assign(tc,{flexDir:tc.flexDirection});const nc={width:Xl.sizesT("width"),inlineSize:Xl.sizesT("inlineSize"),height:Xl.sizes("height"),blockSize:Xl.sizes("blockSize"),boxSize:Xl.sizes(["width","height"]),minWidth:Xl.sizes("minWidth"),minInlineSize:Xl.sizes("minInlineSize"),minHeight:Xl.sizes("minHeight"),minBlockSize:Xl.sizes("minBlockSize"),maxWidth:Xl.sizes("maxWidth"),maxInlineSize:Xl.sizes("maxInlineSize"),maxHeight:Xl.sizes("maxHeight"),maxBlockSize:Xl.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r;const i=null!==(n=null===(r=t.__breakpoints)||void 0===r||null===(r=r.get(e))||void 0===r?void 0:r.minW)&&void 0!==n?n:e,o="@media screen and (min-width: ".concat(i,")");return{[o]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r;const i=null!==(n=null===(r=t.__breakpoints)||void 0===r||null===(r=r.get(e))||void 0===r?void 0:r._minW)&&void 0!==n?n:e,o="@media screen and (max-width: ".concat(i,")");return{[o]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Xl.propT("float",Jl.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(nc,{w:nc.width,h:nc.height,minW:nc.minWidth,maxW:nc.maxWidth,minH:nc.minHeight,maxH:nc.maxHeight,overscroll:nc.overscrollBehavior,overscrollX:nc.overscrollBehaviorX,overscrollY:nc.overscrollBehaviorY});const rc={filter:{transform:Jl.filter},blur:Xl.blur("--chakra-blur"),brightness:Xl.propT("--chakra-brightness",Jl.brightness),contrast:Xl.propT("--chakra-contrast",Jl.contrast),hueRotate:Xl.propT("--chakra-hue-rotate",Jl.hueRotate),invert:Xl.propT("--chakra-invert",Jl.invert),saturate:Xl.propT("--chakra-saturate",Jl.saturate),dropShadow:Xl.propT("--chakra-drop-shadow",Jl.dropShadow),backdropFilter:{transform:Jl.backdropFilter},backdropBlur:Xl.blur("--chakra-backdrop-blur"),backdropBrightness:Xl.propT("--chakra-backdrop-brightness",Jl.brightness),backdropContrast:Xl.propT("--chakra-backdrop-contrast",Jl.contrast),backdropHueRotate:Xl.propT("--chakra-backdrop-hue-rotate",Jl.hueRotate),backdropInvert:Xl.propT("--chakra-backdrop-invert",Jl.invert),backdropSaturate:Xl.propT("--chakra-backdrop-saturate",Jl.saturate)},ic={ring:{transform:Jl.ring},ringColor:Xl.colors("--chakra-ring-color"),ringOffset:Xl.prop("--chakra-ring-offset-width"),ringOffsetColor:Xl.colors("--chakra-ring-offset-color"),ringInset:Xl.prop("--chakra-ring-inset")},oc={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Jl.outline},outlineOffset:!0,outlineColor:Xl.colors("outlineColor")},ac={gridGap:Xl.space("gridGap"),gridColumnGap:Xl.space("gridColumnGap"),gridRowGap:Xl.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};const sc=(e=>{const t=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);const a=t.get(n);if(a.has(r))return a.get(r);const s=e(n,r,i,o);return a.set(r,s),s}})((function(e,t,n,r){const i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e})),lc={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},cc={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},dc=(e,t,n)=>{const r={},i=sc(e,t,{});for(const o in i){o in n&&null!=n[o]||(r[o]=i[o])}return r},uc={srOnly:{transform:e=>!0===e?lc:"focusable"===e?cc:{}},layerStyle:{processResult:!0,transform:(e,t,n)=>dc(t,"layerStyles.".concat(e),n)},textStyle:{processResult:!0,transform:(e,t,n)=>dc(t,"textStyles.".concat(e),n)},apply:{processResult:!0,transform:(e,t,n)=>dc(t,e,n)}},hc={position:!0,pos:Xl.prop("position"),zIndex:Xl.prop("zIndex","zIndices"),inset:Xl.spaceT("inset"),insetX:Xl.spaceT(["left","right"]),insetInline:Xl.spaceT("insetInline"),insetY:Xl.spaceT(["top","bottom"]),insetBlock:Xl.spaceT("insetBlock"),top:Xl.spaceT("top"),insetBlockStart:Xl.spaceT("insetBlockStart"),bottom:Xl.spaceT("bottom"),insetBlockEnd:Xl.spaceT("insetBlockEnd"),left:Xl.spaceT("left"),insetInlineStart:Xl.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Xl.spaceT("right"),insetInlineEnd:Xl.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(hc,{insetStart:hc.insetInlineStart,insetEnd:hc.insetInlineEnd});const pc={boxShadow:Xl.shadows("boxShadow"),mixBlendMode:!0,blendMode:Xl.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Xl.prop("backgroundBlendMode"),opacity:!0};Object.assign(pc,{shadow:pc.boxShadow});const fc={margin:Xl.spaceT("margin"),marginTop:Xl.spaceT("marginTop"),marginBlockStart:Xl.spaceT("marginBlockStart"),marginRight:Xl.spaceT("marginRight"),marginInlineEnd:Xl.spaceT("marginInlineEnd"),marginBottom:Xl.spaceT("marginBottom"),marginBlockEnd:Xl.spaceT("marginBlockEnd"),marginLeft:Xl.spaceT("marginLeft"),marginInlineStart:Xl.spaceT("marginInlineStart"),marginX:Xl.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Xl.spaceT("marginInline"),marginY:Xl.spaceT(["marginTop","marginBottom"]),marginBlock:Xl.spaceT("marginBlock"),padding:Xl.space("padding"),paddingTop:Xl.space("paddingTop"),paddingBlockStart:Xl.space("paddingBlockStart"),paddingRight:Xl.space("paddingRight"),paddingBottom:Xl.space("paddingBottom"),paddingBlockEnd:Xl.space("paddingBlockEnd"),paddingLeft:Xl.space("paddingLeft"),paddingInlineStart:Xl.space("paddingInlineStart"),paddingInlineEnd:Xl.space("paddingInlineEnd"),paddingX:Xl.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Xl.space("paddingInline"),paddingY:Xl.space(["paddingTop","paddingBottom"]),paddingBlock:Xl.space("paddingBlock")};Object.assign(fc,{m:fc.margin,mt:fc.marginTop,mr:fc.marginRight,me:fc.marginInlineEnd,marginEnd:fc.marginInlineEnd,mb:fc.marginBottom,ml:fc.marginLeft,ms:fc.marginInlineStart,marginStart:fc.marginInlineStart,mx:fc.marginX,my:fc.marginY,p:fc.padding,pt:fc.paddingTop,py:fc.paddingY,px:fc.paddingX,pb:fc.paddingBottom,pl:fc.paddingLeft,ps:fc.paddingInlineStart,paddingStart:fc.paddingInlineStart,pr:fc.paddingRight,pe:fc.paddingInlineEnd,paddingEnd:fc.paddingInlineEnd});const mc={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Xl.spaceT("scrollMargin"),scrollMarginTop:Xl.spaceT("scrollMarginTop"),scrollMarginBottom:Xl.spaceT("scrollMarginBottom"),scrollMarginLeft:Xl.spaceT("scrollMarginLeft"),scrollMarginRight:Xl.spaceT("scrollMarginRight"),scrollMarginX:Xl.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Xl.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Xl.spaceT("scrollPadding"),scrollPaddingTop:Xl.spaceT("scrollPaddingTop"),scrollPaddingBottom:Xl.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Xl.spaceT("scrollPaddingLeft"),scrollPaddingRight:Xl.spaceT("scrollPaddingRight"),scrollPaddingX:Xl.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Xl.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},gc={fontFamily:Xl.prop("fontFamily","fonts"),fontSize:Xl.prop("fontSize","fontSizes",Jl.px),fontWeight:Xl.prop("fontWeight","fontWeights"),lineHeight:Xl.prop("lineHeight","lineHeights"),letterSpacing:Xl.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},vc={textDecorationColor:Xl.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Xl.shadows("textShadow")},yc={clipPath:!0,transform:Xl.propT("transform",Jl.transform),transformOrigin:!0,translateX:Xl.spaceT("--chakra-translate-x"),translateY:Xl.spaceT("--chakra-translate-y"),skewX:Xl.degreeT("--chakra-skew-x"),skewY:Xl.degreeT("--chakra-skew-y"),scaleX:Xl.prop("--chakra-scale-x"),scaleY:Xl.prop("--chakra-scale-y"),scale:Xl.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Xl.degreeT("--chakra-rotate")},xc={listStyleType:!0,listStylePosition:!0,listStylePos:Xl.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Xl.prop("listStyleImage")},bc={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Xl.prop("transitionDuration","transition.duration"),transitionProperty:Xl.prop("transitionProperty","transition.property"),transitionTimingFunction:Xl.prop("transitionTimingFunction","transition.easing")},jc=dl({},$l,Ql,ec,tc,nc,rc,ic,oc,ac,uc,hc,pc,fc,mc,gc,vc,yc,xc,bc),wc=Object.assign({},fc,nc,tc,ac,hc),kc=Object.keys(wc),Sc=[...Object.keys(jc),...Al],_c=(0,o.A)((0,o.A)({},jc),_l),Ac=e=>e in _c;const Cc=(e,t)=>e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t),Pc=(e,t)=>{var n,r;if(null==t)return t;const i=t=>{var n;return null===(n=e.__cssMap)||void 0===n||null===(n=n[t])||void 0===n?void 0:n.varRef},o=e=>{var t;return null!==(t=i(e))&&void 0!==t?t:e},[a,s]=function(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];"("===o?(r=!0,n+=o):")"===o?(r=!1,n+=o):","!==o||r?n+=o:(t.push(n),n="")}return n=n.trim(),n&&t.push(n),t}(t);return t=null!==(n=null!==(r=i(a))&&void 0!==r?r:o(s))&&void 0!==n?n:o(t)};function Ic(e){const{configs:t={},pseudos:n={},theme:r}=e,i=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=Ol(e,r),s=(e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const a in e){let s=Ol(e[a],t);if(null==s)continue;if(s=Fn(s)&&n(s)?r(s):s,!Array.isArray(s)){o[a]=s;continue}const l=s.slice(0,i.length).length;for(let e=0;e<l;e+=1){const t=null===i||void 0===i?void 0:i[e];t?(o[t]=o[t]||{},null!=s[e]&&(o[t][a]=s[e])):o[a]=s[e]}}return o})(a)(r);let l={};for(let g in s){var c,d,u,h,p,f;let e=Ol(s[g],r);g in n&&(g=n[g]),Cc(g,e)&&(e=Pc(r,e));let v=t[g];if(!0===v&&(v={property:g}),Fn(e)){var m;l[g]=null!==(m=l[g])&&void 0!==m?m:{},l[g]=dl({},l[g],i(e,!0));continue}let y=null!==(c=null===(d=v)||void 0===d||null===(u=d.transform)||void 0===u?void 0:u.call(d,e,r,a))&&void 0!==c?c:e;y=null!==(h=v)&&void 0!==h&&h.processResult?i(y,!0):y;const x=Ol(null===(p=v)||void 0===p?void 0:p.property,r);if(!o&&null!==(f=v)&&void 0!==f&&f.static){const e=Ol(v.static,r);l=dl({},l,e)}if(x&&Array.isArray(x))for(const t of x)l[t]=y;else x?"&"===x&&Fn(y)?l=dl({},l,y):l[x]=y:Fn(y)?l=dl({},l,y):l[g]=y}return l};return i}const Tc=e=>t=>Ic({theme:t,pseudos:_l,configs:jc})(e);function Nc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:n,strict:r=!0,hookName:i="useContext",providerName:o="Provider",errorMessage:a,defaultValue:s}=e,l=(0,t.createContext)(s);return l.displayName=n,[l.Provider,function e(){const n=(0,t.useContext)(l);if(!n&&r){var s;const t=new Error(null!==a&&void 0!==a?a:(c=o,"".concat(i," returned `undefined`. Seems you forgot to wrap component within ").concat(c)));throw t.name="ContextError",null===(s=Error.captureStackTrace)||void 0===s||s.call(Error,t,e),t}var c;return n},l]}const Ec=(e=>{const t=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);const a=t.get(n);if(a.has(r))return a.get(r);const s=e(n,r,i,o);return a.set(r,s),s}})((function(e,t,n,r){const i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e}));function zc(e){const{cssVarsRoot:n,theme:r,children:i}=e,o=(0,t.useMemo)((()=>zl(r)),[r]);return(0,Xo.jsxs)(As,{theme:o,children:[(0,Xo.jsx)(Oc,{root:n}),i]})}function Oc(e){let{root:t=":host, :root"}=e;const n=[t,"[data-theme]"].join(",");return(0,Xo.jsx)(Ks,{styles:e=>({[n]:e.__cssVars})})}const[Lc,Dc]=Nc({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function Rc(e){return Nc({name:"".concat(e,"StylesContext"),errorMessage:'useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<'.concat(e,' />" ')})}function Mc(){const{colorMode:e}=Es();return(0,Xo.jsx)(Ks,{styles:t=>{const n=Ol(Ec(t,"styles.global"),{theme:t,colorMode:e});if(!n)return;return Tc(n)(t)}})}const[Bc,Fc]=Nc({strict:!1,name:"PortalManagerContext"});function Wc(e){const{children:t,zIndex:n}=e;return(0,Xo.jsx)(Bc,{value:{zIndex:n},children:t})}Wc.displayName="PortalManager";const Uc=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect,qc=(0,t.createContext)({getDocument:()=>document,getWindow:()=>window});function Hc(e){const{children:n,environment:r,disabled:i}=e,o=(0,t.useRef)(null),a=(0,t.useMemo)((()=>r||{getDocument:()=>{var e,t;return null!==(e=null===(t=o.current)||void 0===t?void 0:t.ownerDocument)&&void 0!==e?e:document},getWindow:()=>{var e,t;return null!==(e=null===(t=o.current)||void 0===t?void 0:t.ownerDocument.defaultView)&&void 0!==e?e:window}}),[r]),s=!i||!r;return(0,Xo.jsxs)(qc.Provider,{value:a,children:[n,s&&(0,Xo.jsx)("span",{id:"__chakra_env",hidden:!0,ref:o})]})}qc.displayName="EnvironmentContext",Hc.displayName="EnvironmentProvider";const Vc=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:a={},environment:s,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:d}=e,u=(0,Xo.jsx)(Hc,{environment:s,disabled:c,children:t});return(0,Xo.jsx)(zc,{theme:a,cssVarsRoot:l,children:(0,Xo.jsxs)(Hs,{colorModeManager:n,options:a.config,children:[o?(0,Xo.jsx)(tl,{scope:i}):(0,Xo.jsx)(el,{}),!d&&(0,Xo.jsx)(Mc,{}),r?(0,Xo.jsx)(Wc,{zIndex:r,children:u}):u]})})},Gc="undefined"!==typeof document,Kc=Gc?t.useLayoutEffect:t.useEffect;function Yc(){const e=(0,t.useRef)(!1);return Kc((()=>(e.current=!0,()=>{e.current=!1})),[]),e}const Zc=e=>e;class Jc{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Xc=["prepare","read","update","preRender","render","postRender"];const{schedule:$c,cancel:Qc,state:ed,steps:td}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Xc.reduce(((e,t)=>(e[t]=function(e){let t=new Jc,n=new Jc,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>n=!0)),e)),{}),a=e=>o[e].process(i),s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,Xc.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=Xc.reduce(((t,a)=>{const l=o[a];return t[a]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),l.schedule(t,o,a)},t}),{});return{schedule:l,cancel:e=>Xc.forEach((t=>o[t].cancel(e))),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Zc,!0);const nd=(0,t.createContext)(null);function rd(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}class id extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function od(e){let{children:n,isPresent:r}=e;const i=(0,t.useId)(),o=(0,t.useRef)(null),a=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:s}=a.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[r]),t.createElement(id,{isPresent:r,childRef:o,sizeRef:a},t.cloneElement(n,{ref:o}))}const ad=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:l}=e;const c=rd(sd),d=(0,t.useId)(),u=(0,t.useMemo)((()=>({id:d,initial:r,isPresent:i,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;o&&o()},register:e=>(c.set(e,!1),()=>c.delete(e))})),s?void 0:[i]);return(0,t.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[i]),t.useEffect((()=>{!i&&!c.size&&o&&o()}),[i]),"popLayout"===l&&(n=t.createElement(od,{isPresent:i},n)),t.createElement(nd.Provider,{value:u},n)};function sd(){return new Map}const ld=(0,t.createContext)({});let cd=Zc,dd=Zc;const ud=e=>e.key||"";const hd=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:o,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:l="sync"}=e;dd(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useContext)(ld).forceRender||function(){const e=Yc(),[n,r]=(0,t.useState)(0),i=(0,t.useCallback)((()=>{e.current&&r(n+1)}),[n]);return[(0,t.useCallback)((()=>$c.postRender(i)),[i]),n]}()[0],d=Yc(),u=function(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}(n);let h=u;const p=(0,t.useRef)(new Map).current,f=(0,t.useRef)(h),m=(0,t.useRef)(new Map).current,g=(0,t.useRef)(!0);var v;if(Kc((()=>{g.current=!1,function(e,t){e.forEach((e=>{const n=ud(e);t.set(n,e)}))}(u,m),f.current=h})),v=()=>{g.current=!0,m.clear(),p.clear()},(0,t.useEffect)((()=>()=>v()),[]),g.current)return t.createElement(t.Fragment,null,h.map((e=>t.createElement(ad,{key:ud(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:s,mode:l},e))));h=[...h];const y=f.current.map(ud),x=u.map(ud),b=y.length;for(let t=0;t<b;t++){const e=y[t];-1!==x.indexOf(e)||p.has(e)||p.set(e,void 0)}return"wait"===l&&p.size&&(h=[]),p.forEach(((e,n)=>{if(-1!==x.indexOf(n))return;const i=m.get(n);if(!i)return;const a=y.indexOf(n);let g=e;if(!g){const e=()=>{p.delete(n);const e=Array.from(m.keys()).filter((e=>!x.includes(e)));if(e.forEach((e=>m.delete(e))),f.current=u.filter((t=>{const r=ud(t);return r===n||e.includes(r)})),!p.size){if(!1===d.current)return;c(),o&&o()}};g=t.createElement(ad,{key:ud(i),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:s,mode:l},i),p.set(n,g)}h.splice(a,0,g)})),h=h.map((e=>{const n=e.key;return p.has(n)?e:t.createElement(ad,{key:ud(e),isPresent:!0,presenceAffectsLayout:s,mode:l},e)})),t.createElement(t.Fragment,null,p.size?h:h.map((e=>(0,t.cloneElement)(e))))},pd=(e,n)=>{const r=(0,t.useRef)(!1),i=(0,t.useRef)(!1);(0,t.useEffect)((()=>{if(r.current&&i.current)return e();i.current=!0}),n),(0,t.useEffect)((()=>(r.current=!0,()=>{r.current=!1})),[])};function fd(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e);return(0,t.useEffect)((()=>{r.current=e})),(0,t.useCallback)((function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null===(e=r.current)||void 0===e?void 0:e.call(r,...n)}),n)}function md(){const e=(0,t.useContext)(nd);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=(0,t.useId)();(0,t.useEffect)((()=>i(o)),[]);return!n&&r?[!1,()=>r&&r(o)]:[!0]}function gd(){return null===(e=(0,t.useContext)(nd))||e.isPresent;var e}const vd=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yd=(0,t.createContext)({}),xd=(0,t.createContext)({strict:!1}),bd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jd="data-"+bd("framerAppearId");function wd(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function kd(e){return"string"===typeof e||Array.isArray(e)}function Sd(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const _d=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ad=["initial",..._d];function Cd(e){return Sd(e.animate)||Ad.some((t=>kd(e[t])))}function Pd(e){return Boolean(Cd(e)||e.variants)}function Id(e){const{initial:n,animate:r}=function(e,t){if(Cd(e)){const{initial:t,animate:n}=e;return{initial:!1===t||kd(t)?t:void 0,animate:kd(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(yd));return(0,t.useMemo)((()=>({initial:n,animate:r})),[Td(n),Td(r)])}function Td(e){return Array.isArray(e)?e.join(" "):e}const Nd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ed={};for(const n in Nd)Ed[n]={isEnabled:e=>Nd[n].some((t=>!!e[t]))};const zd=(0,t.createContext)({}),Od=Symbol.for("motionComponentSymbol");function Ld(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:a,Component:s}=e;n&&function(e){for(const t in e)Ed[t]=(0,o.A)((0,o.A)({},Ed[t]),e[t])}(n);const l=(0,t.forwardRef)((function(e,l){let c;const d=(0,o.A)((0,o.A)((0,o.A)({},(0,t.useContext)(vd)),e),{},{layoutId:Dd(e)}),{isStatic:u}=d,h=Id(e),p=a(e,u);if(!u&&Gc){h.visualElement=function(e,n,r,i){const{visualElement:o}=(0,t.useContext)(yd),a=(0,t.useContext)(xd),s=(0,t.useContext)(nd),l=(0,t.useContext)(vd).reducedMotion,c=(0,t.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:o,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const d=c.current;(0,t.useInsertionEffect)((()=>{d&&d.update(r,s)}));const u=(0,t.useRef)(Boolean(r[jd]&&!window.HandoffComplete));return Kc((()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())})),(0,t.useEffect)((()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))})),d}(s,p,d,r);const e=(0,t.useContext)(zd),i=(0,t.useContext)(xd).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,i,n,e))}return t.createElement(yd.Provider,{value:h},c&&h.visualElement?t.createElement(c,(0,o.A)({visualElement:h.visualElement},d)):null,i(s,e,function(e,n,r){return(0,t.useCallback)((t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):wd(r)&&(r.current=t))}),[n])}(p,h.visualElement,l),p,u,h.visualElement))}));return l[Od]=s,l}function Dd(e){let{layoutId:n}=e;const r=(0,t.useContext)(ld).id;return r&&void 0!==n?r+"-"+n:n}function Rd(e){function t(t){return Ld(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Md=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bd(e){return"string"===typeof e&&!e.includes("-")&&!!(Md.indexOf(e)>-1||/[A-Z]/.test(e))}const Fd={};const Wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ud=new Set(Wd);function qd(e,t){let{layout:n,layoutId:r}=t;return Ud.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Fd[e]||"opacity"===e)}const Hd=e=>Boolean(e&&e.getVelocity),Vd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gd=Wd.length;const Kd=e=>t=>"string"===typeof t&&t.startsWith(e),Yd=Kd("--"),Zd=Kd("var(--"),Jd=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Xd=(e,t,n)=>Math.min(Math.max(n,e),t),$d={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Qd=(0,o.A)((0,o.A)({},$d),{},{transform:e=>Xd(0,1,e)}),eu=(0,o.A)((0,o.A)({},$d),{},{default:1}),tu=e=>Math.round(1e5*e)/1e5,nu=/(-)?([\d]*\.?[\d])+/g,ru=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,iu=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ou(e){return"string"===typeof e}const au=e=>({test:t=>ou(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),su=au("deg"),lu=au("%"),cu=au("px"),du=au("vh"),uu=au("vw"),hu=(0,o.A)((0,o.A)({},lu),{},{parse:e=>lu.parse(e)/100,transform:e=>lu.transform(100*e)}),pu=(0,o.A)((0,o.A)({},$d),{},{transform:Math.round}),fu={borderWidth:cu,borderTopWidth:cu,borderRightWidth:cu,borderBottomWidth:cu,borderLeftWidth:cu,borderRadius:cu,radius:cu,borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomRightRadius:cu,borderBottomLeftRadius:cu,width:cu,maxWidth:cu,height:cu,maxHeight:cu,size:cu,top:cu,right:cu,bottom:cu,left:cu,padding:cu,paddingTop:cu,paddingRight:cu,paddingBottom:cu,paddingLeft:cu,margin:cu,marginTop:cu,marginRight:cu,marginBottom:cu,marginLeft:cu,rotate:su,rotateX:su,rotateY:su,rotateZ:su,scale:eu,scaleX:eu,scaleY:eu,scaleZ:eu,skew:su,skewX:su,skewY:su,distance:cu,translateX:cu,translateY:cu,translateZ:cu,x:cu,y:cu,z:cu,perspective:cu,transformPerspective:cu,opacity:Qd,originX:hu,originY:hu,originZ:cu,zIndex:pu,fillOpacity:Qd,strokeOpacity:Qd,numOctaves:pu};function mu(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if(Yd(u)){o[u]=e;continue}const n=fu[u],r=Jd(e,n);if(Ud.has(u)){if(l=!0,a[u]=r,!d)continue;e!==(n.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,s[u]=r):i[u]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,a="";for(let s=0;s<Gd;s++){const t=Wd[s];void 0!==e[t]&&(a+="".concat(Vd[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):o&&n&&(a="none"),a}(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const gu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vu(e,t,n){for(const r in t)Hd(t[r])||qd(r,n)||(e[r]=t[r])}function yu(e,n,r){const i={};return vu(i,e.style||{},e),Object.assign(i,function(e,n,r){let{transformTemplate:i}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return mu(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function xu(e,t,n){const r={},i=yu(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const bu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ju(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bu.has(e)}let wu=e=>!ju(e);try{(ku=require("@emotion/is-prop-valid").default)&&(wu=e=>e.startsWith("on")?!ju(e):ku(e))}catch(Aee){}var ku;function Su(e,t,n){return"string"===typeof e?e:cu.transform(t+n*e)}const _u={offset:"stroke-dashoffset",array:"stroke-dasharray"},Au={offset:"strokeDashoffset",array:"strokeDasharray"};const Cu=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Pu(e,t,n,r,i){let{attrX:o,attrY:a,attrScale:s,originX:l,originY:c,pathLength:d,pathSpacing:u=1,pathOffset:h=0}=t;if(mu(e,Jo(t,Cu),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==l||void 0!==c||f.transform)&&(f.transformOrigin=function(e,t,n){const r=Su(t,e.x,e.width),i=Su(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(p.x=o),void 0!==a&&(p.y=a),void 0!==s&&(p.scale=s),void 0!==d&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?_u:Au;e[o.offset]=cu.transform(-r);const a=cu.transform(t),s=cu.transform(n);e[o.array]="".concat(a," ").concat(s)}(p,d,u,h,!1)}const Iu=()=>(0,o.A)((0,o.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Tu=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Nu(e,n,r,i){const a=(0,t.useMemo)((()=>{const t=Iu();return Pu(t,n,{enableHardwareAcceleration:!1},Tu(i),e.transformTemplate),(0,o.A)((0,o.A)({},t.attrs),{},{style:(0,o.A)({},t.style)})}),[n]);if(e.style){const t={};vu(t,e.style,e),a.style=(0,o.A)((0,o.A)({},t),a.style)}return a}function Eu(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,a,s)=>{let{latestValues:l}=a;const c=(Bd(n)?Nu:xu)(r,l,s,n),d=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(wu(i)||!0===n&&ju(i)||!t&&!ju(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),u=(0,o.A)((0,o.A)((0,o.A)({},d),c),{},{ref:i}),{children:h}=r,p=(0,t.useMemo)((()=>Hd(h)?h.get():h),[h]);return(0,t.createElement)(n,(0,o.A)((0,o.A)({},u),{},{children:p}))}}function zu(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const Ou=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lu(e,t,n,r){zu(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ou.has(i)?i:bd(i),t.attrs[i])}function Du(e,t){const{style:n}=e,r={};for(const i in n)(Hd(n[i])||t.style&&Hd(t.style[i])||qd(i,e))&&(r[i]=n[i]);return r}function Ru(e,t){const n=Du(e,t);for(const r in e)if(Hd(e[r])||Hd(t[r])){n[-1!==Wd.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Mu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const Bu=e=>Array.isArray(e);function Fu(e){const t=Hd(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const Wu=["transitionEnd","transition"];const Uu=e=>(n,r)=>{const i=(0,t.useContext)(yd),o=(0,t.useContext)(nd),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:a}=e;const s={latestValues:qu(t,n,r,i),renderState:o()};return a&&(s.mount=e=>a(t,e,s)),s}(e,n,i,o);return r?a():rd(a)};function qu(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=Fu(o[h]);let{initial:a,animate:s}=e;const l=Cd(e),c=Pd(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?s:a;if(u&&"boolean"!==typeof u&&!Sd(u)){(Array.isArray(u)?u:[u]).forEach((t=>{const n=Mu(e,t);if(!n)return;const{transitionEnd:r,transition:o}=n,a=Jo(n,Wu);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const Hu={useVisualState:Uu({scrapeMotionValuesFromProps:Ru,createRenderState:Iu,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;$c.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),$c.render((()=>{Pu(r,i,{enableHardwareAcceleration:!1},Tu(t.tagName),e.transformTemplate),Lu(t,r)}))}})},Vu={useVisualState:Uu({scrapeMotionValuesFromProps:Du,createRenderState:gu})};function Gu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ku=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Yu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Zu(e,t,n,r){return Gu(e,t,(e=>t=>Ku(t)&&e(t,Yu(t)))(n),r)}const Ju=(e,t)=>n=>t(e(n)),Xu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ju)};function $u(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Qu=$u("dragHorizontal"),eh=$u("dragVertical");function th(e){let t=!1;if("y"===e)t=eh();else if("x"===e)t=Qu();else{const e=Qu(),n=eh();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function nh(){const e=th(!0);return!e||(e(),!1)}class rh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ih(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Zu(e.current,n,((n,i)=>{if("touch"===n.pointerType||nh())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&$c.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}const oh=(e,t)=>!!t&&(e===t||oh(e,t.parentElement));function ah(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Yu(n))}const sh=["root"],lh=new WeakMap,ch=new WeakMap,dh=e=>{const t=lh.get(e.target);t&&t(e)},uh=e=>{e.forEach(dh)};function hh(e,t,n){const r=function(e){let{root:t}=e,n=Jo(e,sh);const r=t||document;ch.has(r)||ch.set(r,{});const i=ch.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(uh,(0,o.A)({root:t},n))),i[a]}(t);return lh.set(e,n),r.observe(e),()=>{lh.delete(e),r.unobserve(e)}}const ph={some:0,all:1};const fh={inView:{Feature:class extends rh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ph[r]};return hh(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends rh{constructor(){super(...arguments),this.removeStartListeners=Zc,this.removeEndListeners=Zc,this.removeAccessibleListeners=Zc,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Zu(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();$c.update((()=>{i||oh(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=Zu(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Xu(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Gu(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Gu(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&ah("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&$c.update((()=>n(e,t)))}))})),ah("down",((e,t)=>{this.startPress(e,t)}))})),t=Gu(this.node.current,"blur",(()=>{this.isPressing&&ah("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Xu(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&$c.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nh()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&$c.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Zu(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Gu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xu(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends rh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xu(Gu(this.node.current,"focus",(()=>this.onFocus())),Gu(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends rh{mount(){this.unmount=Xu(ih(this.node,!0),ih(this.node,!1))}unmount(){}}}};function mh(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function gh(e,t,n){const r=e.getProps();return Mu(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}const vh=e=>1e3*e,yh=e=>e/1e3,xh=!1,bh=e=>Array.isArray(e)&&"number"===typeof e[0];function jh(e){return Boolean(!e||"string"===typeof e&&kh[e]||bh(e)||Array.isArray(e)&&e.every(jh))}const wh=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},kh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wh([0,.65,.55,1]),circOut:wh([.55,0,1,.45]),backIn:wh([.31,.01,.66,-.59]),backOut:wh([.33,1.53,.69,.99])};function Sh(e){if(e)return bh(e)?wh(e):Array.isArray(e)?e.map(Sh):kh[e]}const _h=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ah(e,t,n,r){if(e===t&&n===r)return Zc;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=_h(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:_h(i(e),t,r)}const Ch=Ah(.42,0,1,1),Ph=Ah(0,0,.58,1),Ih=Ah(.42,0,.58,1),Th=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Nh=e=>t=>1-e(1-t),Eh=e=>1-Math.sin(Math.acos(e)),zh=Nh(Eh),Oh=Th(Eh),Lh=Ah(.33,1.53,.69,.99),Dh=Nh(Lh),Rh=Th(Dh),Mh={linear:Zc,easeIn:Ch,easeInOut:Ih,easeOut:Ph,circIn:Eh,circInOut:Oh,circOut:zh,backIn:Dh,backInOut:Rh,backOut:Lh,anticipate:e=>(e*=2)<1?.5*Dh(e):.5*(2-Math.pow(2,-10*(e-1)))},Bh=e=>{if(Array.isArray(e)){dd(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Ah(t,n,r,i)}return"string"===typeof e?(dd(void 0!==Mh[e],"Invalid easing type '".concat(e,"'")),Mh[e]):e},Fh=(e,t)=>n=>Boolean(ou(n)&&iu.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Wh=(e,t,n)=>r=>{if(!ou(r))return r;const[i,o,a,s]=r.match(nu);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Uh=(0,o.A)((0,o.A)({},$d),{},{transform:e=>Math.round((e=>Xd(0,255,e))(e))}),qh={test:Fh("rgb","red"),parse:Wh("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Uh.transform(t)+", "+Uh.transform(n)+", "+Uh.transform(r)+", "+tu(Qd.transform(i))+")"}};const Hh={test:Fh("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:qh.transform},Vh={test:Fh("hsl","hue"),parse:Wh("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+lu.transform(tu(n))+", "+lu.transform(tu(r))+", "+tu(Qd.transform(i))+")"}},Gh={test:e=>qh.test(e)||Hh.test(e)||Vh.test(e),parse:e=>qh.test(e)?qh.parse(e):Vh.test(e)?Vh.parse(e):Hh.parse(e),transform:e=>ou(e)?e:e.hasOwnProperty("red")?qh.transform(e):Vh.transform(e)},Kh=(e,t,n)=>-n*e+n*t+e;function Yh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Zh=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Jh=[Hh,qh,Vh];function Xh(e){const t=(n=e,Jh.find((e=>e.test(n))));var n;dd(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Vh&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Yh(i,e,t+1/3),a=Yh(i,e,t),s=Yh(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(r)),r}const $h=(e,t)=>{const n=Xh(e),r=Xh(t),i=(0,o.A)({},n);return e=>(i.red=Zh(n.red,r.red,e),i.green=Zh(n.green,r.green,e),i.blue=Zh(n.blue,r.blue,e),i.alpha=Kh(n.alpha,r.alpha,e),qh.transform(i))};const Qh={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Zc},ep={regex:ru,countKey:"Colors",token:"${c}",parse:Gh.parse},tp={regex:nu,countKey:"Numbers",token:"${n}",parse:$d.parse};function np(e,t){let{regex:n,countKey:r,token:i,parse:o}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(o)))}function rp(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&np(n,Qh),np(n,ep),np(n,tp),n}function ip(e){return rp(e).values}function op(e){const{values:t,numColors:n,numVars:r,tokenised:i}=rp(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace(Qh.token,e[i]):i<r+n?t.replace(ep.token,Gh.transform(e[i])):t.replace(tp.token,tu(e[i]));return t}}const ap=e=>"number"===typeof e?0:e;const sp={test:function(e){var t,n;return isNaN(e)&&ou(e)&&((null===(t=e.match(nu))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(ru))||void 0===n?void 0:n.length)||0)>0},parse:ip,createTransformer:op,getAnimatableNone:function(e){const t=ip(e);return op(e)(t.map(ap))}},lp=(e,t)=>n=>"".concat(n>0?t:e);function cp(e,t){return"number"===typeof e?n=>Kh(e,t,n):Gh.test(e)?$h(e,t):e.startsWith("var(")?lp(e,t):hp(e,t)}const dp=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>cp(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},up=(e,t)=>{const n=(0,o.A)((0,o.A)({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=cp(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},hp=(e,t)=>{const n=sp.createTransformer(t),r=rp(e),i=rp(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Xu(dp(r.values,i.values),n):(cd(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),lp(e,t))},pp=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},fp=(e,t)=>n=>Kh(e,t,n);function mp(e,t,n){const r=[],i=n||("number"===typeof(o=e[0])?fp:"string"===typeof o?Gh.test(o)?$h:hp:Array.isArray(o)?dp:"object"===typeof o?up:fp);var o;const a=e.length-1;for(let s=0;s<a;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Zc:t;n=Xu(e,n)}r.push(n)}return r}function gp(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(dd(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=mp(t,r,i),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=pp(e[n],e[n+1],t);return a[n](r)};return n?t=>l(Xd(e[0],e[o-1],t)):l}function vp(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=pp(0,t,r);e.push(Kh(n,1,i))}}(t,e.length-1),t}function yp(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Bh):Bh(i),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:vp(n),t),l=gp(s,n,{ease:Array.isArray(o)?o:(c=n,d=o,c.map((()=>d||Ih)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function xp(e,t){return t?e*(1e3/t):0}function bp(e,t,n){const r=Math.max(t-5,0);return xp(n-e(r),t-r)}const jp=.001;function wp(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=e;cd(r<=vh(10),"Spring duration must be 10 seconds or less");let s=1-i;s=Xd(.05,1,s),r=Xd(.01,10,yh(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=Sp(e,s),l=Math.exp(-n);return jp-i/a*l},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Sp(Math.pow(e,2),s);return(-t(e)+jp>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<kp;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=vh(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const kp=12;function Sp(e,t){return e*Math.sqrt(1-t*t)}const _p=["keyframes","restDelta","restSpeed"],Ap=["duration","bounce"],Cp=["stiffness","damping","mass"];function Pp(e,t){return t.some((t=>void 0!==e[t]))}function Ip(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=Jo(e,_p);const a=t[0],s=t[t.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:p,isResolvedFromDuration:f}=function(e){let t=(0,o.A)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Pp(e,Cp)&&Pp(e,Ap)){const n=wp(e);t=(0,o.A)((0,o.A)((0,o.A)({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}((0,o.A)((0,o.A)({},i),{},{velocity:-yh(i.velocity||0)})),m=p||0,g=d/(2*Math.sqrt(c*u)),v=s-a,y=yh(Math.sqrt(c/u)),x=Math.abs(v)<5;let b;if(r||(r=x?.01:2),n||(n=x?.005:.5),g<1){const e=Sp(y,g);b=t=>{const n=Math.exp(-g*y*t);return s-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>s-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return s-n*((m+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)l.done=e>=h;else{let i=m;0!==e&&(i=g<1?bp(b,e,t):0);const o=Math.abs(i)<=r,a=Math.abs(s-t)<=n;l.done=o&&a}return l.value=l.done?s:t,l}}}function Tp(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===s?g:s(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);p.done=Math.abs(t)<=d,p.value=p.done?v:n};let j,w;const k=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(j=e,w=Ip({keyframes:[p.value,f(p.value)],velocity:bp(x,e,p.value),damping:o,stiffness:a,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==j||(t=!0,b(e),k(e)),void 0!==j&&e>j?w.next(e-j):(!t&&b(e),p)}}}const Np=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>$c.update(t,!0),stop:()=>Qc(t),now:()=>ed.isProcessing?ed.timestamp:performance.now()}};function Ep(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const zp=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Op={decay:Tp,inertia:Tp,tween:yp,keyframes:yp,spring:Ip};function Lp(e){let t,n,{autoplay:r=!0,delay:i=0,driver:a=Np,keyframes:s,type:l="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:u="loop",onPlay:h,onStop:p,onComplete:f,onUpdate:m}=e,g=Jo(e,zp),v=1,y=!1;const x=()=>{n=new Promise((e=>{t=e}))};let b;x();const j=Op[l]||yp;let w;j!==yp&&"number"!==typeof s[0]&&(w=gp([0,100],s,{clamp:!1}),s=[0,100]);const k=j((0,o.A)((0,o.A)({},g),{},{keyframes:s}));let S;"mirror"===u&&(S=j((0,o.A)((0,o.A)({},g),{},{keyframes:[...s].reverse(),velocity:-(g.velocity||0)})));let _="idle",A=null,C=null,P=null;null===k.calculatedDuration&&c&&(k.calculatedDuration=Ep(k));const{calculatedDuration:I}=k;let T=1/0,N=1/0;null!==I&&(T=I+d,N=T*(c+1)-d);let E=0;const z=e=>{if(null===C)return;v>0&&(C=Math.min(C,e)),v<0&&(C=Math.min(e-N/v,C)),E=null!==A?A:Math.round(e-C)*v;const t=E-i*(v>=0?1:-1),n=v>=0?t<0:t>N;E=Math.max(t,0),"finished"===_&&null===A&&(E=N);let r=E,o=k;if(c){const e=Math.min(E,N)/T;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===u?(n=1-n,d&&(n-=d/T)):"mirror"===u&&(o=S)),r=Xd(0,1,n)*T}const a=n?{done:!1,value:s[0]}:o.next(r);w&&(a.value=w(a.value));let{done:l}=a;n||null===I||(l=v>=0?E>=N:E<=0);const h=null===A&&("finished"===_||"running"===_&&l);return m&&m(a.value),h&&D(),a},O=()=>{b&&b.stop(),b=void 0},L=()=>{_="idle",O(),t(),x(),C=P=null},D=()=>{_="finished",f&&f(),O(),t()},R=()=>{if(y)return;b||(b=a(z));const e=b.now();h&&h(),null!==A?C=e-A:C&&"finished"!==_||(C=e),"finished"===_&&x(),P=C,A=null,_="running",b.start()};r&&R();const M={then:(e,t)=>n.then(e,t),get time(){return yh(E)},set time(e){e=vh(e),E=e,null===A&&b&&0!==v?C=b.now()-e/v:A=e},get duration(){const e=null===k.calculatedDuration?Ep(k):k.calculatedDuration;return yh(e)},get speed(){return v},set speed(e){e!==v&&b&&(v=e,M.time=yh(E))},get state(){return _},play:R,pause:()=>{_="paused",A=E},stop:()=>{y=!0,"idle"!==_&&(_="idle",p&&p(),L())},cancel:()=>{null!==P&&z(P),L()},complete:()=>{_="finished"},sample:e=>(C=0,z(e))};return M}const Dp=["onUpdate","onComplete"],Rp=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Mp=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Bp(e,t,n){let{onUpdate:r,onComplete:i}=n,a=Jo(n,Dp);if(!(Rp()&&Mp.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let s,l,c=!1,d=!1;const u=()=>{l=new Promise((e=>{s=e}))};u();let{keyframes:h,duration:p=300,ease:f,times:m}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!jh(t.ease))(t,a)){const e=Lp((0,o.A)((0,o.A)({},a),{},{repeat:0,delay:0}));let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;m=void 0,h=n,p=r-10,f="linear"}const g=function(e,t,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const d=Sh(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,h,(0,o.A)((0,o.A)({},a),{},{duration:p,ease:f,times:m})),v=()=>{d=!1,g.cancel()},y=()=>{d=!0,$c.update(v),s(),u()};g.onfinish=()=>{d||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,a)),i&&i(),y())};return{then:(e,t)=>l.then(e,t),attachTimeline:e=>(g.timeline=e,g.onfinish=null,Zc),get time(){return yh(g.currentTime||0)},set time(e){g.currentTime=vh(e)},get speed(){return g.playbackRate},set speed(e){g.playbackRate=e},get duration(){return yh(p)},play:()=>{c||(g.play(),Qc(v))},pause:()=>g.pause(),stop:()=>{if(c=!0,"idle"===g.playState)return;const{currentTime:t}=g;if(t){const n=Lp((0,o.A)((0,o.A)({},a),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{d||g.finish()},cancel:y}}const Fp={type:"spring",stiffness:500,damping:25,restSpeed:10},Wp={type:"keyframes",duration:.8},Up={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qp=(e,t)=>{let{keyframes:n}=t;return n.length>2?Wp:Ud.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Fp:Up},Hp=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!sp.test(t)&&"0"!==t||t.startsWith("url("))),Vp=new Set(["brightness","contrast","saturate","opacity"]);function Gp(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(nu)||[];if(!r)return e;const i=n.replace(r,"");let o=Vp.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Kp=/([a-z-]*)\(.*?\)/g,Yp=(0,o.A)((0,o.A)({},sp),{},{getAnimatableNone:e=>{const t=e.match(Kp);return t?t.map(Gp).join(" "):e}}),Zp=(0,o.A)((0,o.A)({},fu),{},{color:Gh,backgroundColor:Gh,outlineColor:Gh,fill:Gh,stroke:Gh,borderColor:Gh,borderTopColor:Gh,borderRightColor:Gh,borderBottomColor:Gh,borderLeftColor:Gh,filter:Yp,WebkitFilter:Yp}),Jp=e=>Zp[e];function Xp(e,t){let n=Jp(e);return n!==Yp&&(n=sp),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $p=e=>/^0[^.\s]+$/.test(e);function Qp(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||$p(e):void 0}const ef=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function tf(e,t){return e[t]||e.default||e}const nf=!1,rf=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const a=tf(r,e)||{},s=a.delay||r.delay||0;let{elapsed:l=0}=r;l-=vh(s);const c=function(e,t,n,r){const i=Hp(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let s;const l=[];for(let c=0;c<o.length;c++)null===o[c]&&(o[c]=0===c?a:o[c-1]),Qp(o[c])&&l.push(c),"string"===typeof o[c]&&"none"!==o[c]&&"0"!==o[c]&&(s=o[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++)o[l[c]]=Xp(t,s);return o}(t,e,n,a),d=c[0],u=c[c.length-1],h=Hp(e,d),p=Hp(e,u);cd(h===p,"You are trying to animate ".concat(e,' from "').concat(d,'" to "').concat(u,'". ').concat(d," is not an animatable value - to enable this animation set ").concat(d," to a value animatable to ").concat(u," via the `style` property."));let f=(0,o.A)((0,o.A)({keyframes:c,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-l,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:d}=e,u=Jo(e,ef);return!!Object.keys(u).length}(a)||(f=(0,o.A)((0,o.A)({},f),qp(e,f))),f.duration&&(f.duration=vh(f.duration)),f.repeatDelay&&(f.repeatDelay=vh(f.repeatDelay)),!h||!p||xh||!1===a.type||nf)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const o=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Zc,pause:Zc,stop:Zc,then:e=>(e(),Promise.resolve()),cancel:Zc,complete:Zc});return n?Lp({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(xh?(0,o.A)((0,o.A)({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Bp(t,e,f);if(n)return n}return Lp(f)}};function of(e){return Boolean(Hd(e)&&e.add)}const af=e=>/^\-?\d*\.?\d+$/.test(e);function sf(e,t){-1===e.indexOf(t)&&e.push(t)}function lf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cf{constructor(){this.subscriptions=[]}add(e){return sf(this.subscriptions,e),()=>lf(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const df={current:void 0};class uf{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=ed;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,$c.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>$c.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cf);const n=this.events[e].add(t);return"change"===e?()=>{n(),$c.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return df.current&&df.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hf(e,t){return new uf(e,t)}const pf=e=>t=>t.test(e),ff=[$d,cu,lu,su,uu,du,{test:e=>"auto"===e,parse:e=>e}],mf=e=>ff.find(pf(e)),gf=[...ff,Gh,sp],vf=["transitionEnd","transition"];function yf(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hf(n))}function xf(e,t){const n=gh(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:a={}}=r,s=Jo(r,vf);s=(0,o.A)((0,o.A)({},s),i);for(const o in s){yf(e,o,(l=s[o],Bu(l)?l[l.length-1]||0:l))}var l}function bf(e,t){if(!t)return;return(t[e]||t.default||t).from}const jf=["transition","transitionEnd"];function wf(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function kf(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Sf(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.makeTargetAnimatable(t),{transition:s=e.getDefaultTransition(),transitionEnd:l}=a,c=Jo(a,jf);const d=e.getValue("willChange");r&&(s=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const t=e.getValue(p),r=c[p];if(!t||void 0===r||h&&wf(h,p))continue;const i=(0,o.A)({delay:n,elapsed:0},tf(s||{},p));if(window.HandoffAppearAnimations){const n=e.getProps()[jd];if(n){const e=window.HandoffAppearAnimations(n,p,t,$c);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let a=!i.isHandoff&&!kf(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(rf(p,t,r,e.shouldReduceMotion&&Ud.has(p)?{type:!1}:i));const l=t.animation;of(d)&&(d.add(p),l.then((()=>d.remove(p)))),u.push(l)}return l&&Promise.all(u).then((()=>{l&&xf(e,l)})),u}function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=gh(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Sf(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:s,staggerDirection:l}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const s=[],l=(e.variantChildren.size-1)*r,c=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return l-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Af).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(_f(e,t,(0,o.A)((0,o.A)({},a),{},{delay:n+c(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,a+r,s,l,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then((()=>t()))}return Promise.all([a(),s(n.delay)])}function Af(e,t){return e.sortNodePosition(t)}const Cf=["transition","transitionEnd"],Pf=[..._d].reverse(),If=_d.length;function Tf(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>_f(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=_f(e,t,r);else{const i="function"===typeof t?gh(e,t,r.custom):t;n=Promise.all(Sf(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Nf(e){let t=Tf(e);const n={animate:zf(!0),whileInView:zf(),whileHover:zf(),whileTap:zf(),whileDrag:zf(),whileFocus:zf(),exit:zf()};let r=!0;const i=(t,n)=>{const r=gh(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=Jo(r,Cf);t=(0,o.A)((0,o.A)((0,o.A)({},t),i),n)}return t};function a(a,s){const l=e.getProps(),c=e.getVariantContext(!0)||{},d=[],u=new Set;let h={},p=1/0;for(let t=0;t<If;t++){const f=Pf[t],m=n[f],g=void 0!==l[f]?l[f]:c[f],v=kd(g),y=f===s?m.isActive:null;!1===y&&(p=t);let x=g===c[f]&&g!==l[f]&&v;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys=(0,o.A)({},h),!m.isActive&&null===y||!g&&!m.prevProp||Sd(g)||"boolean"===typeof g)continue;let b=Ef(m.prevProp,g)||f===s&&m.isActive&&!x&&v||t>p&&v,j=!1;const w=Array.isArray(g)?g:[g];let k=w.reduce(i,{});!1===y&&(k={});const{prevResolvedValues:S={}}=m,_=(0,o.A)((0,o.A)({},S),k),A=e=>{b=!0,u.has(e)&&(j=!0,u.delete(e)),m.needsAnimating[e]=!0};for(const e in _){const t=k[e],n=S[e];if(h.hasOwnProperty(e))continue;let r=!1;r=Bu(t)&&Bu(n)?!mh(t,n):t!==n,r?void 0!==t?A(e):u.add(e):void 0!==t&&u.has(e)?A(e):m.protectedKeys[e]=!0}m.prevProp=g,m.prevResolvedValues=k,m.isActive&&(h=(0,o.A)((0,o.A)({},h),k)),r&&e.blockInitialAnimation&&(b=!1),!b||x&&!j||d.push(...w.map((e=>({animation:e,options:(0,o.A)({type:f},a)}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),d.push({animation:t})}let f=Boolean(d.length);return!r||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(d):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=a(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Ef(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!mh(t,e)}function zf(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Of=0;const Lf={animation:{Feature:class extends rh{constructor(e){super(e),e.animationState||(e.animationState=Nf(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Sd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends rh{constructor(){super(...arguments),this.id=Of++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Df=(e,t)=>Math.abs(e-t);class Rf{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ff(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Df(e.x,t.x),r=Df(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=ed;this.history.push((0,o.A)((0,o.A)({},r),{},{timestamp:i}));const{onStart:a,onMove:s}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Mf(t,this.transformPagePoint),$c.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Ff("pointercancel"===e.type?this.lastMoveEventInfo:Mf(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!Ku(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=Mf(Yu(e),this.transformPagePoint),{point:s}=a,{timestamp:l}=ed;this.history=[(0,o.A)((0,o.A)({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,Ff(a,this.history)),this.removeListeners=Xu(Zu(this.contextWindow,"pointermove",this.handlePointerMove),Zu(this.contextWindow,"pointerup",this.handlePointerUp),Zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qc(this.updatePoint)}}function Mf(e,t){return t?{point:t(e.point)}:e}function Bf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ff(e,t){let{point:n}=e;return{point:n,delta:Bf(n,Uf(t)),offset:Bf(n,Wf(t)),velocity:qf(t,.1)}}function Wf(e){return e[0]}function Uf(e){return e[e.length-1]}function qf(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Uf(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>vh(t)));)n--;if(!r)return{x:0,y:0};const o=yh(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Hf(e){return e.max-e.min}function Vf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Gf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Kh(t.min,t.max,e.origin),e.scale=Hf(n)/Hf(t),(Vf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Kh(n.min,n.max,e.origin)-e.originPoint,(Vf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Kf(e,t,n,r){Gf(e.x,t.x,n.x,r?r.originX:void 0),Gf(e.y,t.y,n.y,r?r.originY:void 0)}function Yf(e,t,n){e.min=n.min+t.min,e.max=e.min+Hf(t)}function Zf(e,t,n){e.min=t.min-n.min,e.max=e.min+Hf(t)}function Jf(e,t,n){Zf(e.x,t.x,n.x),Zf(e.y,t.y,n.y)}function Xf(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function $f(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Qf=.35;function em(e,t,n){return{min:tm(e,t),max:tm(e,n)}}function tm(e,t){return"number"===typeof e?e:e[t]||0}function nm(e){return[e("x"),e("y")]}function rm(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function im(e){return void 0===e||1===e}function om(e){let{scale:t,scaleX:n,scaleY:r}=e;return!im(t)||!im(n)||!im(r)}function am(e){return om(e)||sm(e)||e.z||e.rotate||e.rotateX||e.rotateY}function sm(e){return lm(e.x)||lm(e.y)}function lm(e){return e&&"0%"!==e}function cm(e,t,n){return n+t*(e-n)}function dm(e,t,n,r,i){return void 0!==i&&(e=cm(e,i,r)),cm(e,n,r)+t}function um(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=dm(e.min,t,n,r,i),e.max=dm(e.max,t,n,r,i)}function hm(e,t){let{x:n,y:r}=t;um(e.x,n.translate,n.scale,n.originPoint),um(e.y,r.translate,r.scale,r.originPoint)}function pm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fm(e,t){e.min=e.min+t,e.max=e.max+t}function mm(e,t,n){let[r,i,o]=n;const a=void 0!==t[o]?t[o]:.5,s=Kh(e.min,e.max,a);um(e,t[r],t[i],s,t.scale)}const gm=["x","scaleX","originX"],vm=["y","scaleY","originY"];function ym(e,t){mm(e.x,t,gm),mm(e.y,t,vm)}function xm(e,t){return rm(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const bm=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},jm=new WeakMap;class wm{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Rf(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Yu(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=th(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nm((e=>{let t=this.getAxisMotionValue(e).get()||0;if(lu.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Hf(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&$c.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>nm((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:bm(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&$c.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!km(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Kh(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Kh(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&wd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:Xf(e.x,r,o),y:Xf(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf;return!1===e?e=0:!0===e&&(e=Qf),{x:em(e,"left","right"),y:em(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nm((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wd(e))return!1;const n=e.current;dd(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=xm(e,n),{scroll:i}=t;return i&&(fm(r.x,i.offset.x),fm(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:$f(e.x,t.x),y:$f(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=rm(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=nm((s=>{if(!km(s,t,this.currentDirection))return;let c=l&&l[s]||{};a&&(c={min:0,max:0});const d=r?200:1e6,u=r?40:1e7,h=(0,o.A)((0,o.A)({type:"inertia",velocity:n?e[s]:0,bounceStiffness:d,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),c);return this.startAxisValueAnimation(s,h)}));return Promise.all(c).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(rf(e,n,0,t))}stopAnimation(){nm((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){nm((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){nm((t=>{const{drag:n}=this.getProps();if(!km(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Kh(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!wd(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};nm((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Hf(e),i=Hf(t);return i>r?n=pp(t.min,t.max-r,e.min):r>i&&(n=pp(e.min,e.max-i,t.min)),Xd(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),nm((t=>{if(!km(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Kh(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;jm.set(this.visualElement,this);const e=Zu(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();wd(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Gu(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(nm((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Qf,dragMomentum:s=!0}=e;return(0,o.A)((0,o.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:s})}}function km(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Sm=e=>(t,n)=>{e&&$c.update((()=>e(t,n)))};const _m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Am(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cm={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!cu.test(e))return e;e=parseFloat(e)}const n=Am(e,t.target.x),r=Am(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Pm={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=sp.parse(e);if(o.length>5)return i;const a=sp.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const d=Kh(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=d),"number"===typeof o[3+s]&&(o[3+s]/=d),a(o)}};class Im extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var a;a=Nm,Object.assign(Fd,a),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions((0,o.A)((0,o.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),_m.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||$c.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tm(e){const[n,r]=md(),i=(0,t.useContext)(ld);return t.createElement(Im,(0,o.A)((0,o.A)({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(zd),isPresent:n,safeToRemove:r}))}const Nm={borderRadius:(0,o.A)((0,o.A)({},Cm),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Cm,borderTopRightRadius:Cm,borderBottomLeftRadius:Cm,borderBottomRightRadius:Cm,boxShadow:Pm},Em=["TopLeft","TopRight","BottomLeft","BottomRight"],zm=Em.length,Om=e=>"string"===typeof e?parseFloat(e):e,Lm=e=>"number"===typeof e||cu.test(e);function Dm(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Rm=Bm(0,.5,zh),Mm=Bm(.5,.95,Zc);function Bm(e,t,n){return r=>r<e?0:r>t?1:n(pp(e,t,r))}function Fm(e,t){e.min=t.min,e.max=t.max}function Wm(e,t){Fm(e.x,t.x),Fm(e.y,t.y)}function Um(e,t,n,r,i){return e=cm(e-=t,1/n,r),void 0!==i&&(e=cm(e,1/i,r)),e}function qm(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;lu.test(t)&&(t=parseFloat(t),t=Kh(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Kh(o.min,o.max,r);e===o&&(s-=t),e.min=Um(e.min,t,n,s,i),e.max=Um(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const Hm=["x","scaleX","originX"],Vm=["y","scaleY","originY"];function Gm(e,t,n,r){qm(e.x,t,Hm,n?n.x:void 0,r?r.x:void 0),qm(e.y,t,Vm,n?n.y:void 0,r?r.y:void 0)}function Km(e){return 0===e.translate&&1===e.scale}function Ym(e){return Km(e.x)&&Km(e.y)}function Zm(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Jm(e){return Hf(e.x)/Hf(e.y)}class Xm{constructor(){this.members=[]}add(e){sf(this.members,e),e.scheduleRender()}remove(e){if(lf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $m(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,s=e.y.scale*t.y;return 1===a&&1===s||(r+="scale(".concat(a,", ").concat(s,")")),r||"none"}const Qm=(e,t)=>e.depth-t.depth;class eg{constructor(){this.children=[],this.isDirty=!1}add(e){sf(this.children,e),this.isDirty=!0}remove(e){lf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qm),this.isDirty=!1,this.children.forEach(e)}}const tg=["","X","Y","Z"],ng={visibility:"hidden"};let rg=0;const ig={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function og(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=rg++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ig.totalNodes=ig.resolvedTargetDeltas=ig.recalculatedProjection=0,this.nodes.forEach(lg),this.nodes.forEach(mg),this.nodes.forEach(gg),this.nodes.forEach(cg),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(ig)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new eg)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new cf),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:a,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(Qc(r),e(a-t))};return $c.read(r,!0),()=>Qc(r)}(r,250),_m.hasAnimatedSinceResize&&(_m.hasAnimatedSinceResize=!1,this.nodes.forEach(fg))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||a)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||s.getDefaultTransition()||wg,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=s.getProps(),d=!this.targetLayout||!Zm(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=(0,o.A)((0,o.A)({},tf(a,"layout")),{},{onPlay:l,onComplete:c});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||fg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vg),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ug);this.isUpdating||this.nodes.forEach(hg),this.isUpdating=!1,this.nodes.forEach(pg),this.nodes.forEach(ag),this.nodes.forEach(sg),this.clearAllSnapshots();const e=performance.now();ed.delta=Xd(0,1e3/60,e-ed.timestamp),ed.timestamp=e,ed.isProcessing=!0,td.update.process(ed),td.preRender.process(ed),td.render.process(ed),ed.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(dg),this.sharedNodes.forEach(yg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$c.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$c.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Ym(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||am(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),_g((r=n).x),_g(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(fm(t.x,n.offset.x),fm(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Wm(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){Wm(t,e);const{scroll:n}=this.root;n&&(fm(t.x,-n.offset.x),fm(t.y,-n.offset.y))}fm(t.x,i.offset.x),fm(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Wm(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ym(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),am(e.latestValues)&&ym(n,e.latestValues)}return am(this.latestValues)&&ym(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Wm(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!am(e.latestValues))continue;om(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Wm(r,e.measurePageBox()),Gm(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return am(this.latestValues)&&Gm(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,o.A)((0,o.A)((0,o.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ed.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=ed.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Jf(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Wm(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Yf(a.x,s.x,l.x),Yf(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Wm(this.target,this.layout.layoutBox),hm(this.target,this.targetDelta)):Wm(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Jf(this.relativeTargetOrigin,this.target,e.target),Wm(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ig.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!om(this.parent.latestValues)&&!sm(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===ed.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Wm(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ym(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,hm(e,a)),r&&am(o.latestValues)&&ym(e,o.latestValues))}t.x=pm(t.x),t.y=pm(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Kf(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=$m(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ig.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,o.A)({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),d=!c||c.members.length<=1,u=Boolean(l&&!d&&!0===this.options.crossfade&&!this.path.some(jg));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;xg(a.x,e.x,n),xg(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jf(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){bg(e.x,t.x,n.x,r),bg(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Wm(h,this.relativeTarget)),l&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Kh(0,void 0!==n.opacity?n.opacity:1,Rm(r)),e.opacityExit=Kh(void 0!==t.opacity?t.opacity:1,0,Mm(r))):o&&(e.opacity=Kh(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<zm;a++){const i="border".concat(Em[a],"Radius");let o=Dm(t,i),s=Dm(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||Lm(o)===Lm(s)?(e[i]=Math.max(Kh(Om(o),Om(s),r),0),(lu.test(s)||lu.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Kh(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$c.update((()=>{_m.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Hd(e)?e:hf(e);return r.start(rf("",r,t,n)),r.animation}(0,1e3,(0,o.A)((0,o.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Ag(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Hf(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Hf(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Wm(t,n),ym(t,i),Kf(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Xm);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<tg.length;i++){const t="rotate"+tg[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ng;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Fu(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Fu(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!am(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=$m(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Fd){if(void 0===a[c])continue;const{correct:e,applyTo:t}=Fd[c],n="none"===r.transform?a[c]:e(a[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Fu(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ug),this.root.sharedNodes.clear()}}}function ag(e){e.updateLayout()}function sg(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?nm((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Hf(r);r.min=t[e].min,r.max=r.min+i})):Ag(i,n.layoutBox,t)&&nm((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=Hf(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Kf(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?Kf(s,e.applyTransform(r,!0),n.measuredBox):Kf(s,t,n.layoutBox);const l=!Ym(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a={x:{min:0,max:0},y:{min:0,max:0}};Jf(a,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Jf(s,t,o.layoutBox),Zm(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function lg(e){ig.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cg(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dg(e){e.clearSnapshot()}function ug(e){e.clearMeasurements()}function hg(e){e.isLayoutDirty=!1}function pg(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mg(e){e.resolveTargetDelta()}function gg(e){e.calcProjection()}function vg(e){e.resetRotation()}function yg(e){e.removeLeadSnapshot()}function xg(e,t,n){e.translate=Kh(t.translate,0,n),e.scale=Kh(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bg(e,t,n,r){e.min=Kh(t.min,n.min,r),e.max=Kh(t.max,n.max,r)}function jg(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const wg={duration:.45,ease:[.4,0,.1,1]},kg=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Sg=kg("applewebkit/")&&!kg("chrome/")?Math.round:Zc;function _g(e){e.min=Sg(e.min),e.max=Sg(e.max)}function Ag(e,t,n){return"position"===e||"preserve-aspect"===e&&!Vf(Jm(t),Jm(n),.2)}const Cg=og({attachResizeListener:(e,t)=>Gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pg={current:void 0},Ig=og({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pg.current){const e=new Cg({});e.mount(window),e.setOptions({layoutScroll:!0}),Pg.current=e}return Pg.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Tg={pan:{Feature:class extends rh{constructor(){super(...arguments),this.removePointerDownListener=Zc}onPointerDown(e){this.session=new Rf(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bm(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Sm(e),onStart:Sm(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&$c.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Zu(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends rh{constructor(e){super(e),this.removeGroupControls=Zc,this.removeListeners=Zc,this.controls=new wm(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zc}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ig,MeasureLayout:Tm}};const Ng=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Eg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;dd(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Ng.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return af(e)?parseFloat(e):e}return Zd(i)?Eg(i,t,n+1):i}function zg(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=(0,o.A)({},n)),e.values.forEach((e=>{const t=e.get();if(!Zd(t))return;const n=Eg(t,i);n&&e.set(n)}));for(const o in r){const e=r[o];if(!Zd(e))continue;const t=Eg(e,i);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}const Og=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lg=e=>Og.has(e),Dg=e=>e===$d||e===cu,Rg=(e,t)=>parseFloat(e.split(", ")[t]),Mg=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return Rg(o[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Rg(t[1],e):0}},Bg=new Set(["x","y","z"]),Fg=Wd.filter((e=>!Bg.has(e)));const Wg={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Mg(4,13),y:Mg(5,14)};Wg.translateX=Wg.x,Wg.translateY=Wg.y;const Ug=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=(0,o.A)({},t),r=(0,o.A)({},r);const i=Object.keys(t).filter(Lg);let a=[],s=!1;const l=[];if(i.forEach((i=>{const o=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],d=mf(c);const u=t[i];let h;if(Bu(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=mf(c);for(let n=t;n<e&&null!==u[n];n++)h?dd(mf(u[n])===h,"All keyframes must be of the same type"):(h=mf(u[n]),dd(h===d||Dg(d)&&Dg(h),"Keyframes must be of the same dimension as the current value"))}else h=mf(u);if(d!==h)if(Dg(d)&&Dg(h)){const e=o.get();"string"===typeof e&&o.set(parseFloat(e)),"string"===typeof u?t[i]=parseFloat(u):Array.isArray(u)&&h===cu&&(t[i]=u.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===u)?0===c?o.set(h.transform(c)):t[i]=d.transform(u):(s||(a=function(e){const t=[];return Fg.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),l.push(i),r[i]=void 0!==r[i]?r[i]:t[i],o.jump(u))})),l.length){const n=l.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=Wg[e](r,o)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=Wg[n](l,o)})),e})(t,e,l);return a.length&&a.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),Gc&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function qg(e,t,n,r){return(e=>Object.keys(e).some(Lg))(t)?Ug(e,t,n,r):{target:t,transitionEnd:r}}const Hg={current:null},Vg={current:!1};const Gg=new WeakMap,Kg=["willChange"],Yg=["children"],Zg=Object.keys(Ed),Jg=Zg.length,Xg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$g=Ad.length;class Qg{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$c.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget=(0,o.A)({},l),this.initialValues=n.initial?(0,o.A)({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Cd(n),this.isVariantNode=Pd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=d,h=Jo(d,Kg);for(const o in h){const e=h[o];void 0!==l[o]&&Hd(e)&&(e.set(l[o],!1),of(u)&&u.add(o))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Gg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Vg.current||function(){if(Vg.current=!0,Gc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hg.current=e.matches;e.addListener(t),t()}else Hg.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Hg.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gg.delete(this.current),this.projection&&this.projection.unmount(),Qc(this.notifyUpdate),Qc(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ud.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&$c.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,o,{children:a}=e,s=Jo(e,Yg);for(let l=0;l<Jg;l++){const e=Zg[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=Ed[e];r&&(i=r),t(s)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(o=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:a,layoutRoot:l}=s;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&wd(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Xg.length;n++){const t=Xg[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(Hd(o))e.addValue(i,o),of(r)&&r.add(i);else if(Hd(a))e.addValue(i,hf(o,{owner:e})),of(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,hf(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<$g;t++){const n=Ad[t],r=this.props[n];(kd(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=hf(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Mu(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Hd(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new cf),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const ev=["transition","transitionEnd"];class tv extends Qg{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,a=Jo(e,ev),{transformValues:s}=t,l=function(e,t,n){const r={};for(const i in e){const e=bf(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(a,r||{},this);if(s&&(i&&(i=s(i)),a&&(a=s(a)),l&&(l=s(l))),n){!function(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),a=o.length;var s;if(a)for(let l=0;l<a;l++){const a=o[l],c=t[a];let d=null;Array.isArray(c)&&(d=c[0]),null===d&&(d=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==d&&null!==d&&("string"===typeof d&&(af(d)||$p(d))?d=parseFloat(d):(s=d,!gf.find(pf(s))&&sp.test(c)&&(d=Xp(a,c))),e.addValue(a,hf(d,{owner:e})),void 0===n[a]&&(n[a]=d),null!==d&&e.setBaseTarget(a,d))}}(this,a,l);const e=((e,t,n,r)=>{const i=zg(e,t,r);return qg(e,t=i.target,n,r=i.transitionEnd)})(this,a,l,i);i=e.transitionEnd,a=e.target}return(0,o.A)({transition:r,transitionEnd:i},a)}}class nv extends tv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ud.has(t)){const e=Jp(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Yd(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return xm(e,n)}build(e,t,n,r){mu(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Du(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hd(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){zu(e,t,n,r)}}class rv extends tv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ud.has(t)){const e=Jp(t);return e&&e.default||0}return t=Ou.has(t)?t:bd(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Ru(e,t)}build(e,t,n,r){Pu(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Lu(e,t,0,r)}mount(e){this.isSVGTag=Tu(e.tagName),super.mount(e)}}const iv=(e,t)=>Bd(e)?new rv(t,{enableHardwareAcceleration:!1}):new nv(t,{enableHardwareAcceleration:!0}),ov={layout:{ProjectionNode:Ig,MeasureLayout:Tm}},av=(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},Lf),fh),Tg),ov),sv=Rd(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;const a=Bd(e)?Hu:Vu;return(0,o.A)((0,o.A)({},a),{},{preloadedFeatures:n,useRender:Eu(i),createVisualElement:r,Component:e})}(e,t,av,iv)));const lv=(e,t)=>e.find((e=>e.id===t));function cv(e,t){const n=dv(e,t);return{position:n,index:n?e[n].findIndex((e=>e.id===t)):-1}}function dv(e,t){for(const[n,r]of Object.entries(e))if(lv(r,t))return n}function uv(e){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function hv(e){const t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}var pv=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fv=ls((function(e){return pv.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),mv=function(e){return"theme"!==e},gv=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?fv:mv},vv=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},yv=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return os(t,n,r),bs((function(){return as(t,n,r)})),null},xv=function e(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var l=vv(n,r,a),c=l||gv(s),d=!c("as");return function(){var u=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{var p=u[0];h.push(p[0]);for(var f=u.length,m=1;m<f;m++)h.push(u[m],p[m])}var g=ks((function(e,n,r){var i=d&&e.as||s,a="",u=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=t.useContext(Ss)}"string"===typeof e.className?a=is(n.registered,u,e.className):null!=e.className&&(a=e.className+" ");var m=ys(h.concat(u),n.registered,p);a+=n.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=d&&void 0===l?gv(i):c,v={};for(var y in e)d&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,r&&(v.ref=r),t.createElement(t.Fragment,null,t.createElement(yv,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,v))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,n){return e(t,ns({},r,n,{shouldForwardProp:vv(g,n,!0)})).apply(void 0,h)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){xv[e]=xv(e)}));const bv=new Set([...Sc,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),jv=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function wv(e){return(jv.has(e)||!bv.has(e))&&"_"!==e[0]}const kv=["theme","css","__css","sx"],Sv=["baseStyle"],_v=["children"],Av=(Cv=xv).default||Cv;var Cv;const Pv=e=>{let{baseStyle:t}=e;return e=>{const{theme:n,css:r,__css:i,sx:a}=e,s=Jo(e,kv),[l]=function(e){const t=Object.getOwnPropertyDescriptors(e),n=Object.keys(t),r=e=>{const n={};for(let r=0;r<e.length;r++){const i=e[r];t[i]&&(Object.defineProperty(n,i,t[i]),delete t[i])}return n};for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.map((e=>r(Array.isArray(e)?e:n.filter(e)))).concat(r(n))}(s,Ac),c=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=(0,o.A)({},e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)if(null!=o)for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(e in t&&delete t[e],t[e]=o[e]);return t}({},i,Ol(t,e),hv(l),a),d=Tc(c)(e.theme);return r?[d,r]:d}};function Iv(e,n){const r=null!==n&&void 0!==n?n:{},{baseStyle:i}=r,a=Jo(r,Sv);a.shouldForwardProp||(a.shouldForwardProp=wv);const s=Pv({baseStyle:i}),l=Av(e,a)(s);return(0,t.forwardRef)((function(e,n){const{children:r}=e,i=Jo(e,_v),{colorMode:a,forced:s}=Es(),c=s?a:void 0;return(0,t.createElement)(l,(0,o.A)({ref:n,"data-theme":c},i),r)}))}const Tv=function(){const e=new Map;return new Proxy(Iv,{apply:(e,t,n)=>Iv(...n),get:(t,n)=>(e.has(n)||e.set(n,Iv(n)),e.get(n))})}(),Nv={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),{opacity:0,[n]:24*r}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Ev=(0,t.memo)((e=>{const{id:n,message:r,onCloseComplete:i,onRequestRemove:a,requestClose:s=!1,position:l="bottom",duration:c=5e3,containerStyle:d,motionVariants:u=Nv,toastSpacing:h="0.5rem"}=e,[p,f]=(0,t.useState)(c),m=gd();pd((()=>{m||null===i||void 0===i||i()}),[m]),pd((()=>{f(c)}),[c]);const g=()=>{m&&a()};(0,t.useEffect)((()=>{m&&s&&a()}),[m,s,a]),function(e,n){const r=fd(e);(0,t.useEffect)((()=>{if(null==n)return;let e=null;return e=window.setTimeout((()=>{r()}),n),()=>{e&&window.clearTimeout(e)}}),[n,r])}(g,p);const v=(0,t.useMemo)((()=>(0,o.A)({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:h},d)),[d,h]),y=(0,t.useMemo)((()=>function(e){let t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(l)),[l]);return(0,Xo.jsx)(sv.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:()=>f(null),onHoverEnd:()=>f(c),custom:{position:l},style:y,children:(0,Xo.jsx)(Tv.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:v,children:Ol(r,{id:n,onClose:g})})})}));function zv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function Ov(e){return zv(e,["styleConfig","size","variant","colorScheme"])}Ev.displayName="ToastComponent";const Lv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function Dv(e){return(0,t.forwardRef)(e)}function Rv(e,t){for(let n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}function Mv(e){const t=e.__breakpoints;return function(e,n,r,i){if(!t)return;const o={},a=function(e,t){return Array.isArray(e)?e:Fn(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!a)return o;const s=a.length,l=1===s,c=!!e.parts;for(let h=0;h<s;h++){var d;const r=t.details[h],s=t.details[Rv(a,h)],p=ll(r.minW,null===s||void 0===s?void 0:s._minW),f=Ol(null===(d=e[n])||void 0===d?void 0:d[a[h]],i);var u;if(f)if(c)null===(u=e.parts)||void 0===u||u.forEach((e=>{dl(o,{[e]:l?f[e]:{[p]:f[e]}})}));else c?o[p]=f:l?dl(o,f):o[p]=f}return o}}var Bv=n(6366);function Fv(){const e=(0,t.useContext)(Ss);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function Wv(){const e=Es(),t=Fv();return(0,o.A)((0,o.A)({},e),{},{theme:t})}function Uv(e,t,n){const r=Array.isArray(t)?t:[t],i=Array.isArray(n)?n:[n];return n=>{const o=i.filter(Boolean),a=r.map(((t,r)=>{var i,a;if("breakpoints"===e)return function(e,t,n){var r,i;if(null==t)return t;const o=t=>{var n;return null===(n=e.__breakpoints)||void 0===n||null===(n=n.asArray)||void 0===n?void 0:n[t]};return null!==(r=null!==(i=o(t))&&void 0!==i?i:o(n))&&void 0!==r?r:n}(n,t,null!==(a=o[r])&&void 0!==a?a:t);const s="".concat(e,".").concat(t);return function(e,t,n){var r,i;if(null==t)return t;const o=t=>{var n;return null===(n=e.__cssMap)||void 0===n||null===(n=n[t])||void 0===n?void 0:n.value};return null!==(r=null!==(i=o(t))&&void 0!==i?i:o(n))&&void 0!==r?r:n}(n,s,null!==(i=o[r])&&void 0!==i?i:t)}));return Array.isArray(t)?a:a[0]}}const qv=["styleConfig"];function Hv(e){var n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{styleConfig:i}=r,o=Jo(r,qv),{theme:a,colorMode:s}=Wv(),l=e?Ec(a,"components.".concat(e)):void 0,c=i||l,d=dl({theme:a,colorMode:s},null!==(n=null===c||void 0===c?void 0:c.defaultProps)&&void 0!==n?n:{},hv(zv(o,["children"])),((e,t)=>e?void 0:t)),u=(0,t.useRef)({});if(c){const e=function(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,a=Mv(o);return dl({},Ol(null!==(n=e.baseStyle)&&void 0!==n?n:{},t),a(e,"sizes",i,t),a(e,"variants",r,t))}}(c),t=e(d);Bv(u.current,t)||(u.current=t)}return u.current}function Vv(e){return Hv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Gv(e){return Hv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Kv=["as","viewBox","color","focusable","children","className","__css"],Yv={path:(0,Xo.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Xo.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Xo.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Xo.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Zv=Dv(((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:a=!1,children:s,className:l,__css:c}=e,d=Jo(e,Kv),u=Lv("chakra-icon",l),h=Vv("Icon",e),p={ref:t,focusable:a,className:u,__css:(0,o.A)((0,o.A)({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i},c),h)},f=null!==r&&void 0!==r?r:Yv.viewBox;if(n&&"string"!==typeof n)return(0,Xo.jsx)(Tv.svg,(0,o.A)((0,o.A)({as:n},p),d));const m=null!==s&&void 0!==s?s:Yv.path;return(0,Xo.jsx)(Tv.svg,(0,o.A)((0,o.A)((0,o.A)({verticalAlign:"middle",viewBox:f},p),d),{},{children:m}))}));function Jv(e){return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({viewBox:"0 0 24 24"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))}Zv.displayName="Icon";const Xv=["label","thickness","speed","emptyColor","className"],$v=Zs({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Qv=Dv(((e,t)=>{const n=Vv("Spinner",e),r=Ov(e),{label:i="Loading...",thickness:a="2px",speed:s="0.45s",emptyColor:l="transparent",className:c}=r,d=Jo(r,Xv),u=Lv("chakra-spinner",c),h=(0,o.A)({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:a,borderBottomColor:l,borderLeftColor:l,animation:"".concat($v," ").concat(s," linear infinite")},n);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,__css:h,className:u},d),{},{children:i&&(0,Xo.jsx)(Tv.span,{srOnly:!0,children:i})}))}));Qv.displayName="Spinner";const[ey,ty]=Nc({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[ny,ry]=Nc({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),iy={info:{icon:function(e){return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({viewBox:"0 0 24 24"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})}))},colorScheme:"blue"},warning:{icon:Jv,colorScheme:"orange"},success:{icon:function(e){return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({viewBox:"0 0 24 24"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}))},colorScheme:"green"},error:{icon:Jv,colorScheme:"red"},loading:{icon:Qv,colorScheme:"blue"}};const oy=["status","addRole"],ay=Dv((function(e,t){var n;const r=Ov(e),{status:i="info",addRole:a=!0}=r,s=Jo(r,oy),l=null!==(n=e.colorScheme)&&void 0!==n?n:function(e){return iy[e].colorScheme}(i),c=Gv("Alert",(0,o.A)((0,o.A)({},e),{},{colorScheme:l})),d=(0,o.A)({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},c.container);return(0,Xo.jsx)(ey,{value:{status:i},children:(0,Xo.jsx)(ny,{value:c,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({"data-status":i,role:a?"alert":void 0,ref:t},s),{},{className:Lv("chakra-alert",e.className),__css:d}))})})}));function sy(e){const{status:t}=ty(),n=function(e){return iy[e].icon}(t),r=ry(),i="loading"===t?r.spinner:r.icon;return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({display:"inherit","data-status":t},e),{},{className:Lv("chakra-alert__icon",e.className),__css:i,children:e.children||(0,Xo.jsx)(n,{h:"100%",w:"100%"})}))}ay.displayName="Alert",sy.displayName="AlertIcon";const ly=Dv((function(e,t){const n=ry(),{status:r}=ty();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,"data-status":r},e),{},{className:Lv("chakra-alert__title",e.className),__css:n.title}))}));ly.displayName="AlertTitle";const cy=Dv((function(e,t){const{status:n}=ty(),r=ry(),i=(0,o.A)({display:"inline"},r.description);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,"data-status":n},e),{},{className:Lv("chakra-alert__desc",e.className),__css:i}))}));cy.displayName="AlertDescription";const dy=["children","isDisabled","__css"];function uy(e){return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({focusable:"false","aria-hidden":!0},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})}))}const hy=Dv((function(e,t){const n=Vv("CloseButton",e),r=Ov(e),{children:i,isDisabled:a,__css:s}=r,l=Jo(r,dy);return(0,Xo.jsx)(Tv.button,(0,o.A)((0,o.A)({type:"button","aria-label":"Close",ref:t,disabled:a,__css:(0,o.A)((0,o.A)((0,o.A)({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),n),s)},l),{},{children:i||(0,Xo.jsx)(uy,{width:"1em",height:"1em"})}))}));hy.displayName="CloseButton";const py=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:a,description:s,colorScheme:l,icon:c}=e,d=r?{root:"toast-".concat(r),title:"toast-".concat(r,"-title"),description:"toast-".concat(r,"-description")}:void 0;return(0,Xo.jsxs)(ay,{addRole:!1,status:t,variant:n,id:null===d||void 0===d?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[(0,Xo.jsx)(sy,{children:c}),(0,Xo.jsxs)(Tv.div,{flex:"1",maxWidth:"100%",children:[i&&(0,Xo.jsx)(ly,{id:null===d||void 0===d?void 0:d.title,children:i}),s&&(0,Xo.jsx)(cy,{id:null===d||void 0===d?void 0:d.description,display:"block",children:s})]}),o&&(0,Xo.jsx)(hy,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{render:t,toastComponent:n=py}=e;return r=>"function"===typeof t?t((0,o.A)((0,o.A)({},r),e)):(0,Xo.jsx)(n,(0,o.A)((0,o.A)({},r),e))}const my=function(e){let t=e;const n=new Set,r=e=>{t=e(t),n.forEach((e=>e()))};return{getState:()=>t,subscribe:t=>(n.add(t),()=>{r((()=>e)),n.delete(t)}),removeToast:(e,t)=>{r((n=>(0,o.A)((0,o.A)({},n),{},{[t]:n[t].filter((t=>t.id!=e))})))},notify:(e,t)=>{const n=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gy+=1;const i=null!==(t=r.id)&&void 0!==t?t:gy,o=null!==(n=r.position)&&void 0!==n?n:"bottom";return{id:i,message:e,position:o,duration:r.duration,onCloseComplete:r.onCloseComplete,onRequestRemove:()=>my.removeToast(String(i),o),status:r.status,requestClose:!1,containerStyle:r.containerStyle}}(e,t),{position:i,id:a}=n;return r((e=>{var t,r;const a=i.includes("top")?[n,...null!==(t=e[i])&&void 0!==t?t:[]]:[...null!==(r=e[i])&&void 0!==r?r:[],n];return(0,o.A)((0,o.A)({},e),{},{[i]:a})})),a},update:(e,t)=>{e&&r((n=>{const r=(0,o.A)({},n),{position:i,index:a}=cv(r,e);return i&&-1!==a&&(r[i][a]=(0,o.A)((0,o.A)((0,o.A)({},r[i][a]),t),{},{message:fy(t)})),r}))},closeAll:function(){let{positions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r((t=>(null!==e&&void 0!==e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce(((e,n)=>(e[n]=t[n].map((e=>(0,o.A)((0,o.A)({},e),{},{requestClose:!0}))),e)),(0,o.A)({},t))))},close:e=>{r((t=>{const n=dv(t,e);return n?(0,o.A)((0,o.A)({},t),{},{[n]:t[n].map((t=>t.id==e?(0,o.A)((0,o.A)({},t),{},{requestClose:!0}):t))}):t}))},isActive:e=>Boolean(cv(my.getState(),e).position)}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});let gy=0;var vy=n(7950),yy=n.t(vy,2);const xy=["containerRef"],[by,jy]=Nc({strict:!1,name:"PortalContext"}),wy="chakra-portal",ky=e=>(0,Xo.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),Sy=e=>{const{appendToParentPortal:n,children:r}=e,[i,o]=(0,t.useState)(null),a=(0,t.useRef)(null),[,s]=(0,t.useState)({});(0,t.useEffect)((()=>s({})),[]);const l=jy(),c=Fc();Uc((()=>{if(!i)return;const e=i.ownerDocument,t=n&&null!==l&&void 0!==l?l:e.body;if(!t)return;a.current=e.createElement("div"),a.current.className=wy,t.appendChild(a.current),s({});const r=a.current;return()=>{t.contains(r)&&t.removeChild(r)}}),[i]);const d=null!==c&&void 0!==c&&c.zIndex?(0,Xo.jsx)(ky,{zIndex:null===c||void 0===c?void 0:c.zIndex,children:r}):r;return a.current?(0,vy.createPortal)((0,Xo.jsx)(by,{value:a.current,children:d}),a.current):(0,Xo.jsx)("span",{ref:e=>{e&&o(e)}})},_y=e=>{const{children:n,containerRef:r,appendToParentPortal:i}=e,o=r.current,a=null!==o&&void 0!==o?o:"undefined"!==typeof window?document.body:void 0,s=(0,t.useMemo)((()=>{const e=null===o||void 0===o?void 0:o.ownerDocument.createElement("div");return e&&(e.className=wy),e}),[o]),[,l]=(0,t.useState)({});return Uc((()=>l({})),[]),Uc((()=>{if(s&&a)return a.appendChild(s),()=>{a.removeChild(s)}}),[s,a]),a&&s?(0,vy.createPortal)((0,Xo.jsx)(by,{value:i?s:null,children:n}),s):null};function Ay(e){const t=(0,o.A)({appendToParentPortal:!0},e),{containerRef:n}=t,r=Jo(t,xy);return n?(0,Xo.jsx)(_y,(0,o.A)({containerRef:n},r)):(0,Xo.jsx)(Sy,(0,o.A)({},r))}Ay.className=wy,Ay.selector=".chakra-portal",Ay.displayName="Portal";const[Cy,Py]=Nc({name:"ToastOptionsContext",strict:!1}),Iy=e=>{const n=(0,t.useSyncExternalStore)(my.subscribe,my.getState,my.getState),{motionVariants:r,component:i=Ev,portalProps:a,animatePresenceProps:s}=e,l=Object.keys(n).map((e=>{const t=n[e];return(0,Xo.jsx)("div",{role:"region","aria-live":"polite","aria-label":"Notifications-".concat(e),id:"chakra-toast-manager-".concat(e),style:uv(e),children:(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},s),{},{initial:!1,children:t.map((e=>(0,Xo.jsx)(i,(0,o.A)({motionVariants:r},e),e.id)))}))},e)}));return(0,Xo.jsx)(Ay,(0,o.A)((0,o.A)({},a),{},{children:l}))},Ty=["children","theme","toastOptions"],Ny=(Ey=Ko,function(e){let{children:t,theme:n=Ey,toastOptions:r}=e,i=Jo(e,Ty);return(0,Xo.jsxs)(Vc,(0,o.A)((0,o.A)({theme:n},i),{},{children:[(0,Xo.jsx)(Cy,{value:null===r||void 0===r?void 0:r.defaultOptions,children:t}),(0,Xo.jsx)(Iy,(0,o.A)({},r))]}))});var Ey,zy;function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(zy||(zy={}));const Ly="popstate";function Dy(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ry(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function My(e,t){return{usr:e.state,key:e.key,idx:t}}function By(e,t,n,r){return void 0===n&&(n=null),Oy({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Wy(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Fy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Wy(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Uy(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=zy.Pop,l=null,c=d();function d(){return(a.state||{idx:null}).idx}function u(){s=zy.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Fy(e);return n=n.replace(/ $/,"%20"),Dy(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(Oy({},a.state,{idx:c}),""));let p={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ly,u),l=e,()=>{i.removeEventListener(Ly,u),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=zy.Push;let r=By(p.location,e,t);n&&n(r,e),c=d()+1;let u=My(r,c),h=p.createHref(r);try{a.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s=zy.Replace;let r=By(p.location,e,t);n&&n(r,e),c=d();let i=My(r,c),u=p.createHref(r);a.replaceState(i,"",u),o&&l&&l({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}var qy;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(qy||(qy={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Hy(e,t,n){return void 0===n&&(n="/"),Vy(e,t,n,!1)}function Vy(e,t,n,r){let i=ox(("string"===typeof t?Wy(t):t).pathname||"/",n);if(null==i)return null;let o=Gy(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=ix(i);a=nx(o[s],e,r)}return a}function Gy(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Dy(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=dx([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Dy(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Gy(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:tx(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Ky(e.path))i(e,t,r);else i(e,t)})),t}function Ky(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=Ky(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const Yy=/^:[\w-]+$/,Zy=3,Jy=2,Xy=1,$y=10,Qy=-2,ex=e=>"*"===e;function tx(e,t){let n=e.split("/"),r=n.length;return n.some(ex)&&(r+=Qy),t&&(r+=Jy),n.filter((e=>!ex(e))).reduce(((e,t)=>e+(Yy.test(t)?Zy:""===t?Xy:$y)),r)}function nx(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",d=rx({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=rx({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:dx([o,d.pathname]),pathnameBase:ux(dx([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=dx([o,d.pathnameBase]))}return a}function rx(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Ry("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function ix(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ry(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ox(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ax(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function sx(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function lx(e,t){let n=sx(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function cx(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Wy(e):(i=Oy({},e),Dy(!i.pathname||!i.pathname.includes("?"),ax("?","pathname","search",i)),Dy(!i.pathname||!i.pathname.includes("#"),ax("#","pathname","hash",i)),Dy(!i.search||!i.search.includes("#"),ax("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Wy(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:hx(r),hash:px(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const dx=e=>e.join("/").replace(/\/\/+/g,"/"),ux=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hx=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",px=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function fx(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const mx=["post","put","patch","delete"],gx=(new Set(mx),["get",...mx]);new Set(gx),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vx.apply(this,arguments)}const yx=t.createContext(null);const xx=t.createContext(null);const bx=t.createContext(null);const jx=t.createContext(null);const wx=t.createContext({outlet:null,matches:[],isDataRoute:!1});const kx=t.createContext(null);function Sx(){return null!=t.useContext(jx)}function _x(){return Sx()||Dy(!1),t.useContext(jx).location}function Ax(e){t.useContext(bx).static||t.useLayoutEffect(e)}function Cx(){let{isDataRoute:e}=t.useContext(wx);return e?function(){let{router:e}=Mx(Dx.UseNavigateStable),n=Fx(Rx.UseNavigateStable),r=t.useRef(!1);Ax((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,vx({fromRouteId:n},i)))}),[e,n]);return i}():function(){Sx()||Dy(!1);let e=t.useContext(yx),{basename:n,future:r,navigator:i}=t.useContext(bx),{matches:o}=t.useContext(wx),{pathname:a}=_x(),s=JSON.stringify(lx(o,r.v7_relativeSplatPath)),l=t.useRef(!1);Ax((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=cx(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:dx([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,s,a,e]);return c}()}function Px(){let{matches:e}=t.useContext(wx),n=e[e.length-1];return n?n.params:{}}function Ix(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(bx),{matches:o}=t.useContext(wx),{pathname:a}=_x(),s=JSON.stringify(lx(o,i.v7_relativeSplatPath));return t.useMemo((()=>cx(e,JSON.parse(s),a,"path"===r)),[e,s,a,r])}function Tx(e,n,r,i){Sx()||Dy(!1);let{navigator:o,static:a}=t.useContext(bx),{matches:s}=t.useContext(wx),l=s[s.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,h=_x();if(n){var p;let e="string"===typeof n?Wy(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||Dy(!1),u=e}else u=h;let f=u.pathname||"/",m=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!a&&r&&r.matches&&r.matches.length>0?r.matches:Hy(e,{pathname:m});let v=Lx(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:dx([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:dx([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&v?t.createElement(jx.Provider,{value:{location:vx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zy.Pop}},v):v}function Nx(){let e=function(){var e;let n=t.useContext(kx),r=Bx(Rx.UseRouteError),i=Fx(Rx.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=fx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const Ex=t.createElement(Nx,null);class zx extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(wx.Provider,{value:this.props.routeContext},t.createElement(kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ox(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(yx);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(wx.Provider,{value:n},i)}function Lx(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||Dy(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,u=!1,h=null,p=null;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||Ex,c&&(d<0&&0===o?(!function(e,t){t||Wx[e]||(Wx[e]=!0)}("route-fallback",!1),u=!0,p=null):d===o&&(u=!0,p=i.route.hydrateFallbackElement||null)));let f=n.concat(s.slice(0,o+1)),m=()=>{let n;return n=a?h:u?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ox,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(zx,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var Dx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dx||{}),Rx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rx||{});function Mx(e){let n=t.useContext(yx);return n||Dy(!1),n}function Bx(e){let n=t.useContext(xx);return n||Dy(!1),n}function Fx(e){let n=function(){let e=t.useContext(wx);return e||Dy(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||Dy(!1),r.route.id}const Wx={};function Ux(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function qx(e){let{to:n,replace:r,state:i,relative:o}=e;Sx()||Dy(!1);let{future:a,static:s}=t.useContext(bx),{matches:l}=t.useContext(wx),{pathname:c}=_x(),d=Cx(),u=cx(n,lx(l,a.v7_relativeSplatPath),c,"path"===o),h=JSON.stringify(u);return t.useEffect((()=>d(JSON.parse(h),{replace:r,state:i,relative:o})),[d,h,o,r,i]),null}function Hx(e){Dy(!1)}function Vx(e){let{basename:n="/",children:r=null,location:i,navigationType:o=zy.Pop,navigator:a,static:s=!1,future:l}=e;Sx()&&Dy(!1);let c=n.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:c,navigator:a,static:s,future:vx({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"===typeof i&&(i=Wy(i));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:m="default"}=i,g=t.useMemo((()=>{let e=ox(u,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:m},navigationType:o}}),[c,u,h,p,f,m,o]);return null==g?null:t.createElement(bx.Provider,{value:d},t.createElement(jx.Provider,{children:r,value:g}))}function Gx(e){let{children:t,location:n}=e;return Tx(Kx(t),n)}new Promise((()=>{}));t.Component;function Kx(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Kx(e.props.children,o));e.type!==Hx&&Dy(!1),e.props.index&&e.props.children&&Dy(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Kx(e.props.children,o)),r.push(a)})),r}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(this,arguments)}function Zx(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Jx(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Xx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Cee){}new Map;const $x=r.startTransition;yy.flushSync,r.useId;function Qx(e){let{basename:n,children:r,future:i,window:o}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),Uy((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return By("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Fy(t)}),null,e)}({window:o,v5Compat:!0}));let s=a.current,[l,c]=t.useState({action:s.action,location:s.location}),{v7_startTransition:d}=i||{},u=t.useCallback((e=>{d&&$x?$x((()=>c(e))):c(e)}),[c,d]);return t.useLayoutEffect((()=>s.listen(u)),[s,u]),t.useEffect((()=>Ux(i)),[i]),t.createElement(Vx,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s,future:i})}const eb="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,p=Zx(e,Xx),{basename:f}=t.useContext(bx),m=!1;if("string"===typeof d&&tb.test(d)&&(r=d,eb))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=ox(t.pathname,f);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:m=!0}catch(Cee){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;Sx()||Dy(!1);let{basename:i,navigator:o}=t.useContext(bx),{hash:a,pathname:s,search:l}=Ix(e,{relative:r}),c=s;return"/"!==i&&(c="/"===s?i:dx([i,s])),o.createHref({pathname:c,search:l,hash:a})}(d,{relative:o}),v=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===n?{}:n,c=Cx(),d=_x(),u=Ix(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:Fy(d)===Fy(u);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[d,c,u,i,o,r,e,a,s,l])}(d,{replace:s,state:l,target:c,preventScrollReset:u,relative:o,viewTransition:h});return t.createElement("a",Yx({},p,{href:r||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var rb,ib;function ob(e){let n=t.useRef(Jx(e)),r=t.useRef(!1),i=_x(),o=t.useMemo((()=>function(e,t){let n=Jx(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),a=Cx(),s=t.useCallback(((e,t)=>{const n=Jx("function"===typeof e?e(o):e);r.current=!0,a("?"+n,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rb||(rb={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ib||(ib={}));const ab=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function sb(e){return"function"===typeof e}const lb=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=[...n],o=n[n.length-1];return function(e){return!!Fn(e)&&ab.every((t=>Object.prototype.hasOwnProperty.call(e,t)))}(o)&&i.length>1?i=i.slice(0,i.length-1):o=e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)}(...i.map((e=>t=>sb(e)?e(t):function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dl({},...t,db)}(t,e))))(o)},cb=lb(Ko);lb(Yo);function db(e,t,n,r){return(sb(e)||sb(t))&&Object.prototype.hasOwnProperty.call(r,n)?function(){const n=sb(e)?e(...arguments):e,r=sb(t)?t(...arguments):t;return dl({},n,r,db)}:Fn(e)&&Bn(t)||Bn(e)&&Fn(t)?t:void 0}function ub(e,t){var n;const r=null!==e&&void 0!==e?e:"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return null!==(n=null===i||void 0===i?void 0:i[t])&&void 0!==n?n:r}function hb(e){const{theme:n}=Wv(),r=Py();return(0,t.useMemo)((()=>function(e,t){const n=n=>{var r;return(0,o.A)((0,o.A)((0,o.A)({},t),n),{},{position:ub(null!==(r=null===n||void 0===n?void 0:n.position)&&void 0!==r?r:null===t||void 0===t?void 0:t.position,e)})},r=e=>{const t=n(e),r=fy(t);return my.notify(r,t)};return r.update=(e,t)=>{my.update(e,n(t))},r.promise=(e,t)=>{const n=r((0,o.A)((0,o.A)({},t.loading),{},{status:"loading",duration:null}));e.then((e=>r.update(n,(0,o.A)({status:"success",duration:5e3},Ol(t.success,e))))).catch((e=>r.update(n,(0,o.A)({status:"error",duration:5e3},Ol(t.error,e)))))},r.closeAll=my.closeAll,r.close=my.close,r.isActive=my.isActive,r}(n.direction,(0,o.A)((0,o.A)({},r),e))),[e,n.direction,r])}var pb=n(9371);const fb={login:async(e,t)=>{try{var n;console.log("\ud83d\udd10 AuthService: Attempting login with baseURL:",pb.default.defaults.baseURL);const r=await pb.default.post("/auth/login",{email:e,password:t});console.log("\u2705 AuthService: Login successful");const i=r.data.user;return{success:!0,user:(0,o.A)((0,o.A)({},i),{},{id:i.userId,name:i.fullName,role:(null===(n=i.role)||void 0===n?void 0:n.name)||i.role}),token:r.data.token}}catch(r){throw new Error(r.message||"Login failed")}},register:async e=>{try{return{success:!0,user:(await pb.default.post("/auth/register",e)).data.user}}catch(t){throw new Error(t.message||"Registration failed")}},verifyToken:async e=>{try{var t;console.log("\ud83d\udd0d AuthService: Verifying admin token..."),console.log("\ud83d\udd11 AuthService: Token being verified (first 50 chars):",(null===e||void 0===e?void 0:e.substring(0,50))+"..."),console.log("\ud83d\udd11 AuthService: Token length:",null===e||void 0===e?void 0:e.length);const n=await pb.default.post("/auth/verify-token",{token:e});if(console.log("\ud83d\udce5 AuthService: Verification response:",n.data),!n.data.valid||!n.data.user)throw console.error("\u274c AuthService: Token verification failed - invalid token or no user data"),new Error("Token verification failed");const r=n.data.user,i=(0,o.A)((0,o.A)({},r),{},{id:r.user_id||r.userId||r.id,name:r.full_name||r.fullName||r.name,role:(null===(t=r.role)||void 0===t?void 0:t.name)||r.role});return console.log("\u2705 AuthService: Normalized user data:",i),i}catch(r){var n;throw console.error("\u274c AuthService: Token verification failed:",r),console.error("\u274c AuthService: Error response:",null===(n=r.response)||void 0===n?void 0:n.data),new Error("Token verification failed")}},forgotPassword:async e=>{try{return{success:!0,message:(await pb.default.post("/auth/forgot-password",{email:e})).data.message}}catch(t){throw new Error(t.message||"Failed to send reset email")}},resetPassword:async(e,t)=>{try{return{success:!0,message:(await pb.default.post("/auth/reset-password",{token:e,new_password:t})).data.message}}catch(n){throw new Error(n.message||"Failed to reset password")}}},mb=fb,gb=(0,t.createContext)(),vb=()=>{const e=(0,t.useContext)(gb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},yb=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!0),c=hb(),d=(e,t)=>{try{localStorage.setItem("adminToken",t),localStorage.setItem("adminUser",JSON.stringify(e)),console.log("\ud83d\udcbe Auth data saved to localStorage")}catch(n){console.error("\u274c Failed to save auth data to localStorage:",n)}},u=()=>{try{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),localStorage.removeItem("token"),localStorage.removeItem("tenant_token"),localStorage.removeItem("tenant"),console.log("\ud83d\uddd1\ufe0f Auth data cleared from localStorage")}catch(e){console.error("\u274c Failed to clear auth data from localStorage:",e)}};(0,t.useEffect)((()=>{(async()=>{try{console.log("\ud83d\udd04 Starting auth initialization...");let t=localStorage.getItem("adminToken"),n=localStorage.getItem("adminUser");if(console.log("\ufffd Admin token from localStorage:",t?"\u2705 EXISTS":"\u274c NOT FOUND"),console.log("\ud83d\udc64 Admin user from localStorage:",n?"\u2705 EXISTS":"\u274c NOT FOUND"),t){if(n)try{const e=JSON.parse(n);return console.log("\u26a1 Using cached user data:",e),i(e),a(!0),l(!1),console.log("\ud83d\udd04 About to verify token, length:",null===t||void 0===t?void 0:t.length),console.log("\ud83d\udd04 Token (first 50 chars):",(null===t||void 0===t?void 0:t.substring(0,50))+"..."),void mb.verifyToken(t).then((n=>{console.log("\ud83d\udd04 Background token verification successful"),JSON.stringify(n)!==JSON.stringify(e)&&(console.log("\ud83d\udcdd Updating user data with fresh data"),i(n),d(n,t))})).catch((e=>{console.error("\u274c Background token verification failed:",e),u(),i(null),a(!1)}))}catch(e){console.error("\u274c Failed to parse saved user data:",e),localStorage.removeItem("adminUser")}console.log("\ufffd\ud83d\udd0d Verifying token...");const r=await mb.verifyToken(t);console.log("\u2705 Token verification successful:",r),i(r),a(!0),d(r,t),console.log("\ud83c\udf89 Auth state updated - user logged in")}else console.log("\u26a0\ufe0f No token found, user not authenticated"),u()}catch(t){console.error("\u274c Token verification failed:",t),console.log("\ud83d\uddd1\ufe0f Removing invalid auth data"),u(),i(null),a(!1)}finally{console.log("\ud83c\udfc1 Auth initialization complete, setting loading to false"),l(!1)}})()}),[]);const h={user:r,isAuthenticated:o,isLoading:s,login:async(e,t)=>{try{l(!0);const n=await mb.login(e,t);if(n.success)return i(n.user),a(!0),d(n.user,n.token),c({title:"Login Successful",description:"Welcome back, ".concat(n.user.name,"!"),status:"success",duration:3e3,isClosable:!0}),{success:!0}}catch(n){return c({title:"Login Failed",description:n.message||"Invalid credentials",status:"error",duration:5e3,isClosable:!0}),{success:!1,error:n.message}}finally{l(!1)}},forgotPassword:async e=>{try{l(!0);if((await mb.forgotPassword(e)).success)return c({title:"Reset Email Sent",description:"If the email exists, a reset link has been sent with a 6-digit code.",status:"success",duration:5e3,isClosable:!0}),{success:!0}}catch(t){return c({title:"Request Failed",description:t.message||"Failed to send reset email",status:"error",duration:5e3,isClosable:!0}),{success:!1,error:t.message}}finally{l(!1)}},resetPassword:async(e,t)=>{try{l(!0);if((await mb.resetPassword(e,t)).success)return c({title:"Password Reset Successful",description:"Your password has been reset successfully. Please login with your new password.",status:"success",duration:5e3,isClosable:!0}),{success:!0}}catch(n){return c({title:"Reset Failed",description:n.message||"Failed to reset password",status:"error",duration:5e3,isClosable:!0}),{success:!1,error:n.message}}finally{l(!1)}},logout:()=>{i(null),a(!1),u(),c({title:"Logged Out",description:"You have been successfully logged out.",status:"info",duration:3e3,isClosable:!0})},updateUser:e=>{i(e)}};return(0,Xo.jsx)(gb.Provider,{value:h,children:n})},xb=["axis"],bb=Tv("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});bb.displayName="Center";const jb={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Dv((function(e,t){const{axis:n="both"}=e,r=Jo(e,xb);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,__css:jb[n]},r),{},{position:"absolute"}))}));function wb(e){return t.Children.toArray(e).filter((e=>(0,t.isValidElement)(e)))}const kb=e=>(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({className:"chakra-stack__item"},e),{},{__css:(0,o.A)({display:"inline-block",flex:"0 0 auto",minWidth:0},e.__css)}));kb.displayName="StackItem";const Sb=Object.freeze(["base","sm","md","lg","xl","2xl"]);function _b(e,t){return Array.isArray(e)?e.map((e=>null===e?null:t(e))):Fn(e)?Object.keys(e).reduce(((n,r)=>(n[r]=t(e[r]),n)),{}):null!=e?t(e):null}const Ab=["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"],Cb=Dv(((e,n)=>{const{isInline:r,direction:i,align:a,justify:s,spacing:l="0.5rem",wrap:c,children:d,divider:u,className:h,shouldWrapChildren:p}=e,f=Jo(e,Ab),m=r?"row":null!==i&&void 0!==i?i:"column",g=(0,t.useMemo)((()=>function(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":_b(n,(e=>r[e]))}}({spacing:l,direction:m})),[l,m]),v=!!u,y=!p&&!v,x=(0,t.useMemo)((()=>{const e=wb(d);return y?e:e.map(((n,r)=>{const i="undefined"!==typeof n.key?n.key:r,o=r+1===e.length,a=p?(0,Xo.jsx)(kb,{children:n},i):n;if(!v)return a;const s=(0,t.cloneElement)(u,{__css:g}),l=o?null:s;return(0,Xo.jsxs)(t.Fragment,{children:[a,l]},i)}))}),[u,g,v,y,p,d]),b=Lv("chakra-stack",h);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:n,display:"flex",alignItems:a,justifyContent:s,flexDirection:m,flexWrap:c,gap:v?void 0:l,className:b},f),{},{children:x}))}));Cb.displayName="Stack";const Pb=Dv(((e,t)=>(0,Xo.jsx)(Cb,(0,o.A)((0,o.A)({align:"center"},e),{},{direction:"column",ref:t}))));Pb.displayName="VStack";const Ib=["className","align","decoration","casing"],Tb=Dv((function(e,t){const n=Vv("Text",e),r=Ov(e),{className:i,align:a,decoration:s,casing:l}=r,c=Jo(r,Ib),d=hv({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,Xo.jsx)(Tv.p,(0,o.A)((0,o.A)((0,o.A)({ref:t,className:Lv("chakra-text",e.className)},d),c),{},{__css:n}))}));Tb.displayName="Text";const Nb=e=>{let{children:t,requiredRole:n,allowedRoles:r,requiresApprovalPermission:i=!1}=e;const{isAuthenticated:o,isLoading:a,user:s}=vb();return a?(0,Xo.jsx)(bb,{h:"100vh",children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500"})}):o?n&&(null===s||void 0===s?void 0:s.role)!==n?(0,Xo.jsx)(bb,{h:"100vh",children:(0,Xo.jsxs)(ay,{status:"error",maxW:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Access Denied"}),(0,Xo.jsxs)(Tb,{children:["Your role (",null===s||void 0===s?void 0:s.role,") does not have permission to access this page."]}),(0,Xo.jsxs)(Tb,{children:["Required role: ",n]})]})]})}):r&&r.length>0&&!r.includes(null===s||void 0===s?void 0:s.role)?(0,Xo.jsx)(bb,{h:"100vh",children:(0,Xo.jsxs)(ay,{status:"error",maxW:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Access Denied"}),(0,Xo.jsxs)(Tb,{children:["Your role (",null===s||void 0===s?void 0:s.role,") does not have permission to access this page."]}),(0,Xo.jsxs)(Tb,{children:["Allowed roles: ",r.join(", ")]})]})]})}):i&&"wakil_direktorat"!==(null===s||void 0===s?void 0:s.role)&&"super_admin"!==(null===s||void 0===s?void 0:s.role)?(0,Xo.jsx)(bb,{h:"100vh",children:(0,Xo.jsxs)(ay,{status:"warning",maxW:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Approval Access Required"}),(0,Xo.jsxs)(Tb,{children:["Your role (",null===s||void 0===s?void 0:s.role,") can view this page but cannot perform approval actions."]}),(0,Xo.jsx)(Tb,{children:"Only wakil_direktorat can approve bookings, payments, and documents."})]})]})}):(0,Xo.jsx)(Xo.Fragment,{children:t}):(0,Xo.jsx)(qx,{to:"/admin/login",replace:!0})},Eb=Tv("div");Eb.displayName="Box";const zb=["className","centerContent"],Ob=Dv((function(e,t){const n=Ov(e),{className:r,centerContent:i}=n,a=Jo(n,zb),s=Vv("Container",e);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-container",r)},a),{},{__css:(0,o.A)((0,o.A)({},s),i&&{display:"flex",flexDirection:"column",alignItems:"center"})}))}));Ob.displayName="Container";const Lb=["htmlWidth","htmlHeight","alt"],Db=Dv((function(e,t){const{htmlWidth:n,htmlHeight:r,alt:i}=e,a=Jo(e,Lb);return(0,Xo.jsx)("img",(0,o.A)({width:n,height:r,ref:t,alt:i},a))}));function Rb(e){const{loading:n,src:r,srcSet:i,onLoad:o,onError:a,crossOrigin:s,sizes:l,ignoreFallback:c}=e,[d,u]=(0,t.useState)("pending");(0,t.useEffect)((()=>{u(r?"loading":"pending")}),[r]);const h=(0,t.useRef)(null),p=(0,t.useCallback)((()=>{if(!r)return;f();const e=new Image;e.src=r,s&&(e.crossOrigin=s),i&&(e.srcset=i),l&&(e.sizes=l),n&&(e.loading=n),e.onload=e=>{f(),u("loaded"),null===o||void 0===o||o(e)},e.onerror=e=>{f(),u("failed"),null===a||void 0===a||a(e)},h.current=e}),[r,s,i,l,o,a,n]),f=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return Uc((()=>{if(!c)return"loading"===d&&p(),()=>{f()}}),[d,p,c]),c?"loaded":d}Db.displayName="NativeImage";const Mb=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin","fallbackStrategy","referrerPolicy"],Bb=Dv((function(e,t){const{fallbackSrc:n,fallback:r,src:i,srcSet:a,align:s,fit:l,loading:c,ignoreFallback:d,crossOrigin:u,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:p}=e,f=Jo(e,Mb),m=null!=c||d||!(void 0!==n||void 0!==r),g=((e,t)=>"loaded"!==e&&"beforeLoadOrError"===t||"failed"===e&&"onError"===t)(Rb((0,o.A)((0,o.A)({},e),{},{crossOrigin:u,ignoreFallback:m})),h),v=(0,o.A)({ref:t,objectFit:l,objectPosition:s},m?f:zv(f,["onError","onLoad"]));return g?r||(0,Xo.jsx)(Tv.img,(0,o.A)({as:Db,className:"chakra-image__placeholder",src:n},v)):(0,Xo.jsx)(Tv.img,(0,o.A)({as:Db,src:i,srcSet:a,crossOrigin:u,loading:c,referrerPolicy:p,className:"chakra-image"},v))}));Bb.displayName="Image";const Fb=["className"],Wb=Dv((function(e,t){const n=Vv("Heading",e),r=Ov(e),{className:i}=r,a=Jo(r,Fb);return(0,Xo.jsx)(Tv.h2,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-heading",e.className)},a),{},{__css:n}))}));Wb.displayName="Heading";const[Ub,qb]=Rc("Card"),Hb=["className","children","direction","justify","align"],Vb=Dv((function(e,t){const n=Ov(e),{className:r,children:i,direction:a="column",justify:s,align:l}=n,c=Jo(n,Hb),d=Gv("Card",e);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-card",r),__css:(0,o.A)({display:"flex",flexDirection:a,justifyContent:s,alignItems:l,position:"relative",minWidth:0,wordWrap:"break-word"},d.container)},c),{},{children:(0,Xo.jsx)(Ub,{value:d,children:i})}))})),Gb=["className"],Kb=Dv((function(e,t){const{className:n}=e,r=Jo(e,Gb),i=qb();return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:t,className:Lv("chakra-card__body",n),__css:i.body},r))}));function Yb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function Zb(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((()=>Yb(...n)),n)}const Jb=e=>e?"":void 0,Xb=e=>!!e||void 0,$b=["id","isRequired","isInvalid","isDisabled","isReadOnly"],Qb=["getRootProps","htmlProps"],[ej,tj]=Nc({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[nj,rj]=Nc({strict:!1,name:"FormControlContext"});const ij=Dv((function(e,n){const r=Gv("Form",e),i=function(e){const{id:n,isRequired:r,isInvalid:i,isDisabled:a,isReadOnly:s}=e,l=Jo(e,$b),c=(0,t.useId)(),d=n||"field-".concat(c),u="".concat(d,"-label"),h="".concat(d,"-feedback"),p="".concat(d,"-helptext"),[f,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),b=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({id:p},e),{},{ref:Yb(t,(e=>{e&&v(!0)}))})}),[p]),j=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,"data-focus":Jb(y),"data-disabled":Jb(a),"data-invalid":Jb(i),"data-readonly":Jb(s),id:void 0!==e.id?e.id:u,htmlFor:void 0!==e.htmlFor?e.htmlFor:d})}),[d,a,y,i,s,u]),w=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({id:h},e),{},{ref:Yb(t,(e=>{e&&m(!0)})),"aria-live":"polite"})}),[h]),k=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)((0,o.A)({},e),l),{},{ref:t,role:"group","data-focus":Jb(y),"data-disabled":Jb(a),"data-invalid":Jb(i),"data-readonly":Jb(s)})}),[l,a,y,i,s]),S=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!s,isDisabled:!!a,isFocused:!!y,onFocus:()=>x(!0),onBlur:()=>x(!1),hasFeedbackText:f,setHasFeedbackText:m,hasHelpText:g,setHasHelpText:v,id:d,labelId:u,feedbackId:h,helpTextId:p,htmlProps:l,getHelpTextProps:b,getErrorMessageProps:w,getRootProps:k,getLabelProps:j,getRequiredIndicatorProps:S}}(Ov(e)),{getRootProps:a,htmlProps:s}=i,l=Jo(i,Qb),c=Lv("chakra-form-control",e.className);return(0,Xo.jsx)(nj,{value:l,children:(0,Xo.jsx)(ej,{value:r,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},a({},n)),{},{className:c,__css:r.container}))})})}));ij.displayName="FormControl";const oj=Dv((function(e,t){const n=rj(),r=tj(),i=Lv("chakra-form__helper-text",e.className);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},null===n||void 0===n?void 0:n.getHelpTextProps(e,t)),{},{__css:r.helperText,className:i}))}));oj.displayName="FormHelperText";const aj=["className","children","requiredIndicator","optionalIndicator"],sj=Dv((function(e,t){var n;const r=Vv("FormLabel",e),i=Ov(e),{className:a,children:s,requiredIndicator:l=(0,Xo.jsx)(lj,{}),optionalIndicator:c=null}=i,d=Jo(i,aj),u=rj(),h=null!==(n=null===u||void 0===u?void 0:u.getLabelProps(d,t))&&void 0!==n?n:(0,o.A)({ref:t},d);return(0,Xo.jsxs)(Tv.label,(0,o.A)((0,o.A)({},h),{},{className:Lv("chakra-form__label",i.className),__css:(0,o.A)({display:"block",textAlign:"start"},r),children:[s,null!==u&&void 0!==u&&u.isRequired?l:c]}))}));sj.displayName="FormLabel";const lj=Dv((function(e,t){const n=rj(),r=tj();if(null===n||void 0===n||!n.isRequired)return null;const i=Lv("chakra-form__required-indicator",e.className);return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({},null===n||void 0===n?void 0:n.getRequiredIndicatorProps(e,t)),{},{__css:r.requiredIndicator,className:i}))}));function cj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((e=>null===e||void 0===e?void 0:e(...n)))}}function dj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.some((t=>(null===t||void 0===t||t(e),null===e||void 0===e?void 0:e.defaultPrevented)))}}lj.displayName="RequiredIndicator";const uj=["isDisabled","isInvalid","isReadOnly","isRequired"],hj=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function pj(e){const t=fj(e),{isDisabled:n,isInvalid:r,isReadOnly:i,isRequired:a}=t,s=Jo(t,uj);return(0,o.A)((0,o.A)({},s),{},{disabled:n,readOnly:i,required:a,"aria-invalid":Xb(r),"aria-required":Xb(a),"aria-readonly":Xb(i)})}function fj(e){var t,n,r;const i=rj(),{id:a,disabled:s,readOnly:l,required:c,isRequired:d,isInvalid:u,isReadOnly:h,isDisabled:p,onFocus:f,onBlur:m}=e,g=Jo(e,hj),v=e["aria-describedby"]?[e["aria-describedby"]]:[];return null!==i&&void 0!==i&&i.hasFeedbackText&&null!==i&&void 0!==i&&i.isInvalid&&v.push(i.feedbackId),null!==i&&void 0!==i&&i.hasHelpText&&v.push(i.helpTextId),(0,o.A)((0,o.A)({},g),{},{"aria-describedby":v.join(" ")||void 0,id:null!==a&&void 0!==a?a:null===i||void 0===i?void 0:i.id,isDisabled:null!==(t=null!==s&&void 0!==s?s:p)&&void 0!==t?t:null===i||void 0===i?void 0:i.isDisabled,isReadOnly:null!==(n=null!==l&&void 0!==l?l:h)&&void 0!==n?n:null===i||void 0===i?void 0:i.isReadOnly,isRequired:null!==(r=null!==c&&void 0!==c?c:d)&&void 0!==r?r:null===i||void 0===i?void 0:i.isRequired,isInvalid:null!==u&&void 0!==u?u:null===i||void 0===i?void 0:i.isInvalid,onFocus:dj(null===i||void 0===i?void 0:i.onFocus,f),onBlur:dj(null===i||void 0===i?void 0:i.onBlur,m)})}const mj=["htmlSize"],gj=Dv((function(e,t){const{htmlSize:n}=e,r=Jo(e,mj),i=Gv("Input",r),a=pj(Ov(r)),s=Lv("chakra-input",e.className);return(0,Xo.jsx)(Tv.input,(0,o.A)((0,o.A)({size:n},a),{},{__css:i.field,ref:t,className:s}))}));gj.displayName="Input",gj.id="Input";const[vj,yj]=Nc({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),xj=Dv(((e,t)=>{const n=Gv("FormError",e),r=Ov(e),i=rj();return null!==i&&void 0!==i&&i.isInvalid?(0,Xo.jsx)(vj,{value:n,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},null===i||void 0===i?void 0:i.getErrorMessageProps(r,t)),{},{className:Lv("chakra-form__error-message",e.className),__css:(0,o.A)({display:"flex",alignItems:"center"},n.text)}))}):null}));xj.displayName="FormErrorMessage";const bj=Dv(((e,t)=>{const n=yj(),r=rj();if(null===r||void 0===r||!r.isInvalid)return null;const i=Lv("chakra-form__error-icon",e.className);return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({ref:t,"aria-hidden":!0},e),{},{__css:n.icon,className:i,children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))}));bj.displayName="FormErrorIcon";const jj=["children","className"],[wj,kj]=Nc({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),Sj=Dv((function(e,n){const r=Gv("Input",e),i=Ov(e),{children:a,className:s}=i,l=Jo(i,jj),c=Lv("chakra-input__group",s),d={},u=wb(a),h=r.field;u.forEach((e=>{if(r){var t,n;if(h&&"InputLeftElement"===e.type.id)d.paddingStart=null!==(t=h.height)&&void 0!==t?t:h.h;if(h&&"InputRightElement"===e.type.id)d.paddingEnd=null!==(n=h.height)&&void 0!==n?n:h.h;"InputRightAddon"===e.type.id&&(d.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(d.borderStartRadius=0)}}));const p=u.map((n=>{var r,i;const o=hv({size:(null===(r=n.props)||void 0===r?void 0:r.size)||e.size,variant:(null===(i=n.props)||void 0===i?void 0:i.variant)||e.variant});return"Input"!==n.type.id?(0,t.cloneElement)(n,o):(0,t.cloneElement)(n,Object.assign(o,d,n.props))}));return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({className:c,ref:n,__css:(0,o.A)({width:"100%",display:"flex",position:"relative",isolation:"isolate"},r.group),"data-group":!0},l),{},{children:(0,Xo.jsx)(wj,{value:r,children:p})}))}));Sj.displayName="InputGroup";const _j=["placement"],Aj=["className"],Cj=["className"],Pj=Tv("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Ij=Dv((function(e,t){var n,r;const{placement:i="left"}=e,a=Jo(e,_j),s=kj(),l=s.field,c="left"===i?"insetStart":"insetEnd",d=(0,o.A)({[c]:"0",width:null!==(n=null===l||void 0===l?void 0:l.height)&&void 0!==n?n:null===l||void 0===l?void 0:l.h,height:null!==(r=null===l||void 0===l?void 0:l.height)&&void 0!==r?r:null===l||void 0===l?void 0:l.h,fontSize:null===l||void 0===l?void 0:l.fontSize},s.element);return(0,Xo.jsx)(Pj,(0,o.A)({ref:t,__css:d},a))}));Ij.id="InputElement",Ij.displayName="InputElement";const Tj=Dv((function(e,t){const{className:n}=e,r=Jo(e,Aj),i=Lv("chakra-input__left-element",n);return(0,Xo.jsx)(Ij,(0,o.A)({ref:t,placement:"left",className:i},r))}));Tj.id="InputLeftElement",Tj.displayName="InputLeftElement";const Nj=Dv((function(e,t){const{className:n}=e,r=Jo(e,Cj),i=Lv("chakra-input__right-element",n);return(0,Xo.jsx)(Ij,(0,o.A)({ref:t,placement:"right",className:i},r))}));Nj.id="InputRightElement",Nj.displayName="InputRightElement";const[Ej,zj]=Nc({strict:!1,name:"ButtonGroupContext"}),Oj=["children","className"];function Lj(e){const{children:n,className:r}=e,i=Jo(e,Oj),a=(0,t.isValidElement)(n)?(0,t.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,s=Lv("chakra-button__icon",r);return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({display:"inline-flex",alignSelf:"center",flexShrink:0},i),{},{className:s,children:a}))}Lj.displayName="ButtonIcon";const Dj=["label","placement","spacing","children","className","__css"];function Rj(e){const{label:n,placement:r,spacing:i="0.5rem",children:a=(0,Xo.jsx)(Qv,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:l}=e,c=Jo(e,Dj),d=Lv("chakra-button__spinner",s),u="start"===r?"marginEnd":"marginStart",h=(0,t.useMemo)((()=>(0,o.A)({display:"flex",alignItems:"center",position:n?"relative":"absolute",[u]:n?i:0,fontSize:"1em",lineHeight:"normal"},l)),[l,n,u,i]);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({className:d},c),{},{__css:h,children:a}))}Rj.displayName="ButtonSpinner";const Mj=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as","shouldWrapChildren"],Bj=Dv(((e,n)=>{const r=zj(),i=Vv("Button",(0,o.A)((0,o.A)({},r),e)),a=Ov(e),{isDisabled:s=(null===r||void 0===r?void 0:r.isDisabled),isLoading:l,isActive:c,children:d,leftIcon:u,rightIcon:h,loadingText:p,iconSpacing:f="0.5rem",type:m,spinner:g,spinnerPlacement:v="start",className:y,as:x,shouldWrapChildren:b}=a,j=Jo(a,Mj),w=(0,t.useMemo)((()=>{const e=(0,o.A)((0,o.A)({},null===i||void 0===i?void 0:i._focus),{},{zIndex:1});return(0,o.A)((0,o.A)({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},i),!!r&&{_focus:e})}),[i,r]),{ref:k,type:S}=function(e){const[n,r]=(0,t.useState)(!e),i=(0,t.useCallback)((e=>{e&&r("BUTTON"===e.tagName)}),[]);return{ref:i,type:n?"button":void 0}}(x),_={rightIcon:h,leftIcon:u,iconSpacing:f,children:d,shouldWrapChildren:b};return(0,Xo.jsxs)(Tv.button,(0,o.A)((0,o.A)({disabled:s||l,ref:Zb(n,k),as:x,type:null!==m&&void 0!==m?m:S,"data-active":Jb(c),"data-loading":Jb(l),__css:w,className:Lv("chakra-button",y)},j),{},{children:[l&&"start"===v&&(0,Xo.jsx)(Rj,{className:"chakra-button__spinner--start",label:p,placement:"start",spacing:f,children:g}),l?p||(0,Xo.jsx)(Tv.span,{opacity:0,children:(0,Xo.jsx)(Fj,(0,o.A)({},_))}):(0,Xo.jsx)(Fj,(0,o.A)({},_)),l&&"end"===v&&(0,Xo.jsx)(Rj,{className:"chakra-button__spinner--end",label:p,placement:"end",spacing:f,children:g})]}))}));function Fj(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i,shouldWrapChildren:o}=e;return o?(0,Xo.jsxs)("span",{style:{display:"contents"},children:[t&&(0,Xo.jsx)(Lj,{marginEnd:i,children:t}),r,n&&(0,Xo.jsx)(Lj,{marginStart:i,children:n})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[t&&(0,Xo.jsx)(Lj,{marginEnd:i,children:t}),r,n&&(0,Xo.jsx)(Lj,{marginStart:i,children:n})]})}Bj.displayName="Button";const Wj=["icon","children","isRound","aria-label"],Uj=Dv(((e,n)=>{const{icon:r,children:i,isRound:a,"aria-label":s}=e,l=Jo(e,Wj),c=r||i,d=(0,t.isValidElement)(c)?(0,t.cloneElement)(c,{"aria-hidden":!0,focusable:!1}):null;return(0,Xo.jsx)(Bj,(0,o.A)((0,o.A)({px:"0",py:"0",borderRadius:a?"full":void 0,ref:n,"aria-label":s},l),{},{children:d}))}));Uj.displayName="IconButton";const qj=["className","isExternal"],Hj=Dv((function(e,t){const n=Vv("Link",e),r=Ov(e),{className:i,isExternal:a}=r,s=Jo(r,qj);return(0,Xo.jsx)(Tv.a,(0,o.A)((0,o.A)({target:a?"_blank":void 0,rel:a?"noopener":void 0,ref:t,className:Lv("chakra-link",i)},s),{},{__css:n}))}));function Vj(e){const{viewBox:n="0 0 24 24",d:r,displayName:i,defaultProps:a={}}=e,s=t.Children.toArray(e.path),l=Dv(((e,t)=>(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)((0,o.A)({ref:t,viewBox:n},a),e),{},{children:s.length?s:(0,Xo.jsx)("path",{fill:"currentColor",d:r})}))));return l.displayName=i,l}Hj.displayName="Link";const Gj=Vj({displayName:"ViewOffIcon",path:(0,Xo.jsxs)("g",{fill:"currentColor",children:[(0,Xo.jsx)("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),(0,Xo.jsx)("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),Kj=Vj({displayName:"ViewIcon",path:(0,Xo.jsxs)("g",{fill:"currentColor",children:[(0,Xo.jsx)("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),(0,Xo.jsx)("circle",{cx:"12",cy:"12",r:"2"})]})}),Yj=n.p+"static/media/rusunawa-logo.cdef218e9742edf7a549.png",Zj=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),[r,i]=(0,t.useState)({}),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),{login:h}=vb(),p=Cx(),f=hb(),m=e=>{const{name:t,value:a}=e.target;n((e=>(0,o.A)((0,o.A)({},e),{},{[t]:a}))),r[t]&&i((e=>(0,o.A)((0,o.A)({},e),{},{[t]:""}))),d&&u("")};return(0,Xo.jsx)(Eb,{minH:"100vh",bg:"gray.50",py:12,children:(0,Xo.jsx)(Ob,{maxW:"md",children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa Logo",maxH:"80px",mx:"auto"})}),(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Wb,{size:"xl",color:"gray.700",children:"Admin Login"}),(0,Xo.jsx)(Tb,{color:"gray.600",textAlign:"center",children:"Welcome back! Please sign in to your account."})]})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsxs)(Kb,{children:[d&&(0,Xo.jsxs)(ay,{status:"error",mb:4,borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),d]}),(0,Xo.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Please enter a valid email address"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",i(t),0===Object.keys(t).length})()){c(!0),u("");try{const t=await h(e.email,e.password);if(t.success)f({title:"Login successful",description:"Welcome back!",status:"success",duration:3e3,isClosable:!0}),p("/admin/dashboard");else if(t.error){let e="Invalid email or password";e=t.error.includes("invalid email or password")?"Invalid email or password. Please check your credentials.":t.error.includes("Login failed")?"Login failed. Please verify your email and password.":t.error,u(e),f({title:"Login Failed",description:e,status:"error",duration:5e3,isClosable:!0})}else u("Login failed. Please try again.")}catch(n){console.error("Login error:",n);let e="An error occurred. Please try again.";if(n.response&&n.response.data){const t=n.response.data;t.message&&t.message.includes("invalid email or password")?e="Invalid email or password. Please check your credentials.":t.message&&(e=t.message)}else n.message&&(e=n.message);u(e),f({title:"Login Error",description:e,status:"error",duration:5e3,isClosable:!0})}finally{c(!1)}}},children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isInvalid:!!r.email,children:[(0,Xo.jsx)(sj,{children:"Email Address"}),(0,Xo.jsx)(gj,{type:"email",name:"email",value:e.email,onChange:m,placeholder:"Enter your email",size:"lg"}),(0,Xo.jsx)(xj,{children:r.email})]}),(0,Xo.jsxs)(ij,{isInvalid:!!r.password,children:[(0,Xo.jsx)(sj,{children:"Password"}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{type:a?"text":"password",name:"password",value:e.password,onChange:m,placeholder:"Enter your password",size:"lg"}),(0,Xo.jsx)(Nj,{h:"full",children:(0,Xo.jsx)(Uj,{variant:"ghost",icon:a?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{}),onClick:()=>s(!a),"aria-label":a?"Hide password":"Show password"})})]}),(0,Xo.jsx)(xj,{children:r.password})]}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",width:"full",isLoading:l,loadingText:"Signing in...",children:"Sign In"})]})})]})}),(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Hj,{as:nb,to:"/admin/forgot-password",color:"brand.500",children:"Forgot your password?"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"sm",children:"Contact your system administrator for account creation."})]})]})})})},Jj=["direction","align","justify","wrap","basis","grow","shrink"],Xj=Dv((function(e,t){const{direction:n,align:r,justify:i,wrap:a,basis:s,grow:l,shrink:c}=e,d=Jo(e,Jj),u={display:"flex",flexDirection:n,alignItems:r,justifyContent:i,flexWrap:a,flexBasis:s,flexGrow:l,flexShrink:c};return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:t,__css:u},d))}));Xj.displayName="Flex";const $j=["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"],Qj=["className","orientation","__css"],ew=Dv((function(e,t){const n=Vv("Divider",e),{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:a,borderRightWidth:s,borderWidth:l,borderStyle:c,borderColor:d}=n,u=Jo(n,$j),h=Ov(e),{className:p,orientation:f="horizontal",__css:m}=h,g=Jo(h,Qj),v={vertical:{borderLeftWidth:r||s||l||"1px",height:"100%"},horizontal:{borderBottomWidth:i||a||l||"1px",width:"100%"}};return(0,Xo.jsx)(Tv.hr,(0,o.A)((0,o.A)({ref:t,"aria-orientation":f},g),{},{__css:(0,o.A)((0,o.A)((0,o.A)({},u),{},{border:"0",borderColor:d,borderStyle:c},v[f]),m),className:Lv("chakra-divider",p)}))}));ew.displayName="Divider";const tw=Vj({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"});var nw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rw=t.createContext&&t.createContext(nw),iw=function(){return iw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iw.apply(this,arguments)},ow=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function aw(e){return e&&e.map((function(e,n){return t.createElement(e.tag,iw({key:n},e.attr),aw(e.child))}))}function sw(e){return function(n){return t.createElement(lw,iw({attr:iw({},e.attr)},n),aw(e.child))}}function lw(e){var n=function(n){var r,i=e.attr,o=e.size,a=e.title,s=ow(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",iw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:iw(iw({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==rw?t.createElement(rw.Consumer,null,(function(e){return n(e)})):n(nw)}function cw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function dw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function uw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function hw(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function pw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function fw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function mw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"}}]})(e)}function gw(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"}}]})(e)}function vw(e){return sw({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"}}]})(e)}function yw(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}}]})(e)}function xw(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"}}]})(e)}function bw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function jw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"}}]})(e)}function ww(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function kw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"}}]})(e)}function Sw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function _w(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Aw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Cw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function Pw(e){return sw({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function Iw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function Tw(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}}]})(e)}function Nw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Ew(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"}}]})(e)}function zw(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"}}]})(e)}function Ow(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function Lw(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function Dw(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(e)}function Rw(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M160 224v64h320v-64c0-35.3 28.7-64 64-64h32c0-53-43-96-96-96H160c-53 0-96 43-96 96h32c35.3 0 64 28.7 64 64zm416-32h-32c-17.7 0-32 14.3-32 32v96H128v-96c0-17.7-14.3-32-32-32H64c-35.3 0-64 28.7-64 64 0 23.6 13 44 32 55.1V432c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-16h384v16c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16V311.1c19-11.1 32-31.5 32-55.1 0-35.3-28.7-64-64-64z"}}]})(e)}function Mw(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(e)}function Bw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Fw(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"}}]})(e)}function Ww(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Uw(e){return sw({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"}}]})(e)}function qw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Hw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Vw(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Gw(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function Kw(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function Yw(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Zw(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Jw(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"}}]})(e)}function Xw(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"}}]})(e)}function $w(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(e)}function Qw(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"}}]})(e)}function ek(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function tk(e){return sw({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function nk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(e)}function rk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"}}]})(e)}function ik(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(e)}function ok(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function ak(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 64c8.84 0 16-7.16 16-16V16c0-8.84-7.16-16-16-16H16C7.16 0 0 7.16 0 16v32c0 8.84 7.16 16 16 16h15.98v384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h240v-80c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v80h240c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16h-16V64h16zm-304 44.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zm0 96c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zm-128-96c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zM179.2 256h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8zM192 384c0-53.02 42.98-96 96-96s96 42.98 96 96H192zm256-140.8c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-96c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4z"}}]})(e)}function sk(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"}}]})(e)}function lk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function ck(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function dk(e){return sw({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"}}]})(e)}function uk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function hk(e){return sw({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function pk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function fk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function mk(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function gk(e){return sw({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"}}]})(e)}function vk(e){return sw({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function yk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(e)}function xk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"}}]})(e)}function bk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function jk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"}}]})(e)}function wk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function kk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Sk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"}}]})(e)}function _k(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function Ak(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"}}]})(e)}function Ck(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function Pk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"}}]})(e)}function Ik(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(e)}function Tk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function Nk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"}}]})(e)}function Ek(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function zk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function Ok(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Lk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"}}]})(e)}function Dk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function Rk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function Mk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"}}]})(e)}function Bk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function Fk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"}}]})(e)}function Wk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function Uk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function qk(e){return sw({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Hk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"}}]})(e)}function Vk(e){return sw({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M468 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7C294.5 104.1 268.2 96 240 96c-28.2 0-54.5 8.1-76.7 22.1l-16.5-16.5 19.8-19.8c4.7-4.7 4.7-12.3 0-17l-28.3-28.3c-4.7-4.7-12.3-4.7-17 0l-19.8 19.8-19-19 16.9-16.9C107.1 12.9 101.7 0 91 0H12C5.4 0 0 5.4 0 12v79c0 10.7 12.9 16 20.5 8.5l16.9-16.9 19 19-19.8 19.8c-4.7 4.7-4.7 12.3 0 17l28.3 28.3c4.7 4.7 12.3 4.7 17 0l19.8-19.8 16.5 16.5C104.1 185.5 96 211.8 96 240c0 68.5 47.9 125.9 112 140.4V408h-36c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v28c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-28h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-27.6c64.1-14.6 112-71.9 112-140.4 0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V12c0-6.6-5.4-12-12-12zM240 320c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Gk(e){return sw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M372 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7C198.5 104.1 172.2 96 144 96 64.5 96 0 160.5 0 240c0 68.5 47.9 125.9 112 140.4V408H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v28c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-28h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-27.6c64.1-14.6 112-71.9 112-140.4 0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V12c0-6.6-5.4-12-12-12zM144 320c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Kk(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Yk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"}}]})(e)}function Zk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"}}]})(e)}function Jk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(e)}function Xk(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function $k(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"}}]})(e)}function Qk(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"}}]})(e)}function eS(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"}}]})(e)}function tS(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function nS(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function rS(e){return sw({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"}}]})(e)}function iS(e){return sw({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M562.1 383.9c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144C540.6 93.4 520 85.4 504.2 73 490.1 61.9 470 61.7 456 73c-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3z"}}]})(e)}function oS(e){return sw({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"}}]})(e)}function aS(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"}}]})(e)}function sS(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"}}]})(e)}function lS(e){return sw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"}}]})(e)}const cS=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)({}),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),{forgotPassword:d}=vb();Cx(),hb();return l?(0,Xo.jsx)(Ob,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsxs)(Cb,{spacing:"8",children:[(0,Xo.jsxs)(Xj,{direction:"column",align:"center",children:[(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa PNJ Logo",boxSize:"80px",mb:4}),(0,Xo.jsx)(Wb,{size:"lg",color:"brand.700",textAlign:"center",children:"Reset Link Sent"})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Email Sent Successfully!"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"If an account with that email exists, we've sent a password reset email containing a 6-digit code."})]})]}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",width:"100%",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Check your email for a message from Rusunawa PNJ. The email will contain a 6-digit code that you can use to reset your password."}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"The reset code will expire in 24 hours for security reasons."})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/admin/reset-password",colorScheme:"brand",size:"lg",mt:4,children:"Continue to Reset Password"}),(0,Xo.jsx)(Bj,{as:nb,to:"/admin/login",leftIcon:(0,Xo.jsx)(tw,{}),variant:"outline",mt:2,children:"Back to Login"})]})})}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",textAlign:"center",children:["Didn't receive the email? Check your spam folder or"," ",(0,Xo.jsxs)(Hj,{as:nb,to:"/admin/login",alignSelf:"center",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:tw,mr:1}),"try logging in again"]})]})]})}):(0,Xo.jsx)(Ob,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsxs)(Cb,{spacing:"8",children:[(0,Xo.jsxs)(Xj,{direction:"column",align:"center",children:[(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa PNJ Logo",boxSize:"80px",mb:4}),(0,Xo.jsx)(Wb,{size:"lg",color:"brand.700",textAlign:"center",children:"Reset Your Password"}),(0,Xo.jsx)(Tb,{mt:2,fontSize:"sm",color:"gray.600",textAlign:"center",children:"Enter your email address and we'll send you a 6-digit reset code"})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e?/\S+@\S+\.\S+/.test(e)||(t.email="Email is invalid"):t.email="Email is required",i(t),0===Object.keys(t).length})()){s(!0);try{(await d(e)).success&&c(!0)}catch(n){console.error("Forgot password error:",n)}finally{s(!1)}}},children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Admin Password Reset"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"This is for Rusunawa PNJ admin accounts only. Enter your admin email address to receive a reset code."})]})]}),(0,Xo.jsxs)(ij,{isInvalid:r.email,isRequired:!0,children:[(0,Xo.jsxs)(sj,{color:"gray.700",fontWeight:"medium",children:[(0,Xo.jsx)(Zv,{as:qw,mr:2}),"Admin Email Address"]}),(0,Xo.jsx)(gj,{type:"email",value:e,onChange:e=>{n(e.target.value),r.email&&i((e=>(0,o.A)((0,o.A)({},e),{},{email:""})))},placeholder:"your.admin@rusunawa.com",size:"lg",focusBorderColor:"brand.500"}),(0,Xo.jsx)(xj,{children:r.email})]}),(0,Xo.jsxs)(Pb,{spacing:3,width:"100%",children:[(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",width:"100%",isLoading:a,loadingText:"Sending Reset Code...",leftIcon:(0,Xo.jsx)(zk,{}),children:"Send Reset Code"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsx)(Bj,{as:nb,to:"/admin/login",variant:"ghost",leftIcon:(0,Xo.jsx)(tw,{}),size:"lg",width:"100%",children:"Back to Login"})]})]})})})}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"For security reasons, we'll send the reset code only if the email is registered in our system. If you don't receive an email within a few minutes, please check your spam folder."})]})})},dS=Dv(((e,t)=>(0,Xo.jsx)(Cb,(0,o.A)((0,o.A)({align:"center"},e),{},{direction:"row",ref:t}))));function uS(e){const{value:n,defaultValue:r,onChange:i,shouldUpdate:o=(e,t)=>e!==t}=e,a=fd(i),s=fd(o),[l,c]=(0,t.useState)(r),d=void 0!==n,u=d?n:l,h=fd((e=>{const t="function"===typeof e?e(u):e;s(u,t)&&(d||c(t),a(t))}),[d,a,u,s]);return[u,h]}function hS(e){return e.sort(((e,t)=>{const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(n&Node.DOCUMENT_POSITION_DISCONNECTED||n&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0}))}dS.displayName="HStack";function pS(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function fS(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}const mS="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var gS=Object.defineProperty,vS=(e,t,n)=>(((e,t,n)=>{t in e?gS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class yS{constructor(){var e=this;vS(this,"descendants",new Map),vS(this,"register",(e=>{var t;if(null!=e)return"object"==typeof(t=e)&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE?this.registerNode(e):t=>{this.registerNode(t,e)}})),vS(this,"unregister",(e=>{this.descendants.delete(e);const t=hS(Array.from(this.descendants.keys()));this.assignIndex(t)})),vS(this,"destroy",(()=>{this.descendants.clear()})),vS(this,"assignIndex",(e=>{this.descendants.forEach((t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()}))})),vS(this,"count",(()=>this.descendants.size)),vS(this,"enabledCount",(()=>this.enabledValues().length)),vS(this,"values",(()=>Array.from(this.descendants.values()).sort(((e,t)=>e.index-t.index)))),vS(this,"enabledValues",(()=>this.values().filter((e=>!e.disabled)))),vS(this,"item",(e=>{if(0!==this.count())return this.values()[e]})),vS(this,"enabledItem",(e=>{if(0!==this.enabledCount())return this.enabledValues()[e]})),vS(this,"first",(()=>this.item(0))),vS(this,"firstEnabled",(()=>this.enabledItem(0))),vS(this,"last",(()=>this.item(this.descendants.size-1))),vS(this,"lastEnabled",(()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)})),vS(this,"indexOf",(e=>{var t,n;return e&&null!==(t=null===(n=this.descendants.get(e))||void 0===n?void 0:n.index)&&void 0!==t?t:-1})),vS(this,"enabledIndexOf",(e=>null==e?-1:this.enabledValues().findIndex((t=>t.node.isSameNode(e))))),vS(this,"next",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=pS(t,e.count(),n);return e.item(r)})),vS(this,"nextEnabled",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=e.item(t);if(!r)return;const i=pS(e.enabledIndexOf(r.node),e.enabledCount(),n);return e.enabledItem(i)})),vS(this,"prev",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=fS(t,e.count()-1,n);return e.item(r)})),vS(this,"prevEnabled",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=e.item(t);if(!r)return;const i=fS(e.enabledIndexOf(r.node),e.enabledCount()-1,n);return e.enabledItem(i)})),vS(this,"registerNode",((e,t)=>{if(!e||this.descendants.has(e))return;const n=hS(Array.from(this.descendants.keys()).concat(e));null!==t&&void 0!==t&&t.disabled&&(t.disabled=!!t.disabled);const r=(0,o.A)({node:e,index:-1},t);this.descendants.set(e,r),this.assignIndex(n)}))}}function xS(){const[e,n]=Nc({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[e,n,()=>{const e=(0,t.useRef)(new yS);return mS((()=>()=>e.current.destroy())),e.current},e=>{const r=n(),[i,o]=(0,t.useState)(-1),a=(0,t.useRef)(null);mS((()=>()=>{a.current&&r.unregister(a.current)}),[]),mS((()=>{if(!a.current)return;const e=Number(a.current.dataset.index);i==e||Number.isNaN(e)||o(e)}));const s=e?r.register(e):r.register;return{descendants:r,index:i,enabledIndex:r.enabledIndexOf(a.current),register:Yb(s,a)}}]}const bS=["index"],[jS,wS,kS,SS]=xS(),[_S,AS]=Nc({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to place all pin input fields within `<PinInput />`"}),CS=e=>null===e||void 0===e?void 0:e.split("");function PS(e,t){return("alphanumeric"===t?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(e)}const IS=["children"],TS=["descendants"];function NS(e){const n=Vv("PinInput",e),r=Ov(e),{children:i}=r,a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoFocus:n,value:r,defaultValue:i,onChange:a,onComplete:s,placeholder:l="\u25cb",manageFocus:c=!0,otp:d=!1,id:u,isDisabled:h,isInvalid:p,type:f="number",mask:m}=e,g=(0,t.useId)(),v=null!==u&&void 0!==u?u:"pin-input-".concat(g),y=kS(),[x,b]=(0,t.useState)(!0),[j,w]=(0,t.useState)(-1),[k,S]=uS({defaultValue:CS(i)||[],value:CS(r),onChange:e=>null===a||void 0===a?void 0:a(e.join(""))});(0,t.useEffect)((()=>{if(n){const e=y.first();e&&requestAnimationFrame((()=>{e.node.focus()}))}}),[y]);const _=(0,t.useCallback)((e=>{if(!x||!c)return;const t=y.next(e,!1);t&&requestAnimationFrame((()=>{t.node.focus()}))}),[y,x,c]),A=(0,t.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[...k];r[t]=e,S(r),""!==e&&r.length===y.count()&&r.every((e=>null!=e&&""!==e))?null===s||void 0===s||s(r.join("")):n&&_(t)}),[k,S,_,s,y]),C=(0,t.useCallback)((()=>{var e;const t=Array(y.count()).fill("");S(t);const n=y.first();null===n||void 0===n||null===(e=n.node)||void 0===e||e.focus()}),[y,S]),P=(0,t.useCallback)(((e,t)=>{let n=t;return(null===e||void 0===e?void 0:e.length)>0&&(e[0]===t.charAt(0)?n=t.charAt(1):e[0]===t.charAt(1)&&(n=t.charAt(0))),n}),[]);return{getInputProps:(0,t.useCallback)((e=>{const{index:t}=e,n=Jo(e,bS),r=j===t,i="number"===f?"tel":"text";return(0,o.A)((0,o.A)({"aria-label":"Please enter your pin code",inputMode:"number"===f?"numeric":"text",type:m?"password":i},n),{},{id:"".concat(v,"-").concat(t),disabled:h,"aria-invalid":Xb(p),onChange:dj(n.onChange,(e=>{const n=e.currentTarget.value,r=k[t],i=P(r,n);if(""!==i)if(n.length>2){if(PS(n,f)){const e=n.split("").filter(((e,t)=>t<y.count()));S(e),e.length===y.count()&&(null===s||void 0===s||s(e.join("")))}}else PS(i,f)&&A(i,t),b(!0);else A("",t)})),onKeyDown:dj(n.onKeyDown,(e=>{if("Backspace"===e.key&&c)if(""===e.currentTarget.value){const e=y.prev(t,!1);var n;e&&(A("",t-1,!1),null===(n=e.node)||void 0===n||n.focus(),b(!0))}else b(!1)})),onFocus:dj(n.onFocus,(()=>{w(t)})),onBlur:dj(n.onBlur,(()=>{w(-1)})),value:k[t]||"",autoComplete:d?"one-time-code":"off",placeholder:r?"":l})}),[y,j,P,v,h,m,p,c,s,d,l,A,S,f,k]),id:v,descendants:y,values:k,setValue:A,setValues:S,clear:C}}(Jo(r,IS)),{descendants:s}=a,l=Jo(a,TS),c=wb(i).map((e=>(0,t.cloneElement)(e,{__css:n})));return(0,Xo.jsx)(jS,{value:s,children:(0,Xo.jsx)(_S,{value:l,children:c})})}NS.displayName="PinInput";const ES=Dv((function(e,t){const n=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{getInputProps:r}=AS(),{index:i,register:a}=SS();return r((0,o.A)((0,o.A)({},t),{},{ref:Yb(a,n),index:null!==(e=t.index)&&void 0!==e?e:i}))}(e,t);return(0,Xo.jsx)(Tv.input,(0,o.A)((0,o.A)({},n),{},{className:Lv("chakra-pin-input",e.className)}))}));ES.displayName="PinInputField";const zS=()=>{const[e,n]=(0,t.useState)({token:"",newPassword:"",confirmPassword:""}),[r,i]=(0,t.useState)({}),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),{resetPassword:f}=vb(),m=Cx(),g=(hb(),e=>{const{name:t,value:a}=e.target;n((e=>(0,o.A)((0,o.A)({},e),{},{[t]:a}))),r[t]&&i((e=>(0,o.A)((0,o.A)({},e),{},{[t]:""})))});return h?(0,Xo.jsx)(Ob,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsxs)(Cb,{spacing:"8",children:[(0,Xo.jsxs)(Xj,{direction:"column",align:"center",children:[(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa PNJ Logo",boxSize:"80px",mb:4}),(0,Xo.jsx)(Wb,{size:"lg",color:"brand.700",textAlign:"center",children:"Password Reset Successful"})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Password Updated!"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Your admin password has been successfully reset. You can now login with your new password."})]})]}),(0,Xo.jsx)(Bj,{as:Hj,to:"/admin/login",colorScheme:"brand",width:"full",children:"Continue to Login"})]})})})]})}):(0,Xo.jsx)(Ob,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsxs)(Cb,{spacing:"8",children:[(0,Xo.jsxs)(Xj,{direction:"column",align:"center",children:[(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa PNJ Logo",boxSize:"80px",mb:4}),(0,Xo.jsx)(Wb,{size:"lg",color:"brand.700",textAlign:"center",children:"Reset Your Password"}),(0,Xo.jsx)(Tb,{mt:2,fontSize:"sm",color:"gray.600",textAlign:"center",children:"Enter the 6-digit code from your email and create a new password"})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.token&&6===e.token.length||(t.token="Please enter the complete 6-digit code"),e.newPassword?e.newPassword.length<6&&(t.newPassword="Password must be at least 6 characters"):t.newPassword="New password is required",e.confirmPassword?e.newPassword!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",i(t),0===Object.keys(t).length})()){u(!0);try{(await f(e.token,e.newPassword)).success&&(p(!0),setTimeout((()=>{m("/admin/login")}),3e3))}catch(n){console.error("Reset password error:",n)}finally{u(!1)}}},children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Reset Code Required"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Enter the 6-digit code sent to your admin email address."})]})]}),(0,Xo.jsxs)(ij,{isInvalid:r.token,isRequired:!0,children:[(0,Xo.jsxs)(sj,{color:"gray.700",fontWeight:"medium",children:[(0,Xo.jsx)(Zv,{as:uk,mr:2}),"6-Digit Reset Code"]}),(0,Xo.jsx)(dS,{justify:"center",children:(0,Xo.jsxs)(NS,{size:"lg",value:e.token,onChange:e=>{n((t=>(0,o.A)((0,o.A)({},t),{},{token:e}))),r.token&&i((e=>(0,o.A)((0,o.A)({},e),{},{token:""})))},placeholder:"",focusBorderColor:"brand.500",errorBorderColor:"red.500",children:[(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{})]})}),(0,Xo.jsx)(xj,{textAlign:"center",children:r.token}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",textAlign:"center",mt:2,children:"Check your email for the 6-digit code"})]}),(0,Xo.jsxs)(ij,{isInvalid:r.newPassword,isRequired:!0,children:[(0,Xo.jsxs)(sj,{color:"gray.700",fontWeight:"medium",children:[(0,Xo.jsx)(Zv,{as:fk,mr:2}),"New Password"]}),(0,Xo.jsxs)(Sj,{size:"lg",children:[(0,Xo.jsx)(gj,{type:a?"text":"password",name:"newPassword",value:e.newPassword,onChange:g,placeholder:"Enter your new password",focusBorderColor:"brand.500"}),(0,Xo.jsx)(Nj,{children:(0,Xo.jsx)(Uj,{variant:"ghost",onClick:()=>s(!a),icon:a?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{}),size:"sm"})})]}),(0,Xo.jsx)(xj,{children:r.newPassword})]}),(0,Xo.jsxs)(ij,{isInvalid:r.confirmPassword,isRequired:!0,children:[(0,Xo.jsxs)(sj,{color:"gray.700",fontWeight:"medium",children:[(0,Xo.jsx)(Zv,{as:fk,mr:2}),"Confirm New Password"]}),(0,Xo.jsxs)(Sj,{size:"lg",children:[(0,Xo.jsx)(gj,{type:l?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:g,placeholder:"Confirm your new password",focusBorderColor:"brand.500"}),(0,Xo.jsx)(Nj,{children:(0,Xo.jsx)(Uj,{variant:"ghost",onClick:()=>c(!l),icon:l?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{}),size:"sm"})})]}),(0,Xo.jsx)(xj,{children:r.confirmPassword})]}),(0,Xo.jsxs)(Pb,{spacing:3,width:"100%",children:[(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",width:"100%",isLoading:d,loadingText:"Resetting Password...",leftIcon:(0,Xo.jsx)(zk,{}),children:"Reset Password"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{spacing:4,width:"100%",children:[(0,Xo.jsx)(Bj,{as:nb,to:"/admin/login",variant:"outline",leftIcon:(0,Xo.jsx)(tw,{}),flex:1,children:"Back to Login"}),(0,Xo.jsx)(Bj,{as:nb,to:"/admin/forgot-password",variant:"ghost",flex:1,children:"Resend Code"})]})]})]})})})}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Your reset code will expire in 24 hours. If you need help, please contact system administrator."})]})})};const OS=["startColor","endColor","isLoaded","fadeDuration","speed","className","fitContent","animation"],LS=Tv("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),DS=B("skeleton-start-color"),RS=B("skeleton-end-color"),MS=Zs({from:{opacity:0},to:{opacity:1}}),BS=Zs({from:{borderColor:DS.reference,background:DS.reference},to:{borderColor:RS.reference,background:RS.reference}}),FS=Dv(((e,n)=>{const r=(0,o.A)((0,o.A)({},e),{},{fadeDuration:"number"===typeof e.fadeDuration?e.fadeDuration:.4,speed:"number"===typeof e.speed?e.speed:.8}),i=Vv("Skeleton",r),a=function(){const e=(0,t.useRef)(!0);return(0,t.useEffect)((()=>{e.current=!1}),[]),e.current}(),s=Ov(r),{startColor:l="",endColor:c="",isLoaded:d,fadeDuration:u,speed:h,className:p,fitContent:f,animation:m}=s,g=Jo(s,OS),[v,y]=function(e,t,n){const r=Fv();return Uv(e,t,n)(r)}("colors",[l,c]),x=function(e){const n=(0,t.useRef)(void 0);return(0,t.useEffect)((()=>{n.current=e}),[e]),n.current}(d),b=Lv("chakra-skeleton",p),j=(0,o.A)((0,o.A)({},v&&{[DS.variable]:v}),y&&{[RS.variable]:y});if(d){const e=a||x?"none":"".concat(MS," ").concat(u,"s");return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:n,className:b,__css:{animation:e}},g))}return(0,Xo.jsx)(LS,(0,o.A)((0,o.A)({ref:n,className:b},g),{},{__css:(0,o.A)((0,o.A)((0,o.A)({width:f?"fit-content":void 0},i),j),{},{_dark:(0,o.A)((0,o.A)({},i._dark),j),animation:m||"".concat(h,"s linear infinite alternate ").concat(BS)})}))}));FS.displayName="Skeleton";const WS=["className","children"],[US,qS]=Nc({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),HS=Dv((function(e,t){const n=Gv("Stat",e),r=(0,o.A)({position:"relative",flex:"1 1 0%"},n.container),i=Ov(e),{className:a,children:s}=i,l=Jo(i,WS);return(0,Xo.jsx)(US,{value:n,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t},l),{},{className:Lv("chakra-stat",a),__css:r,children:(0,Xo.jsx)("dl",{children:s})}))})}));HS.displayName="Stat";const VS=Dv((function(e,t){const n=qS();return(0,Xo.jsx)(Tv.dt,(0,o.A)((0,o.A)({ref:t},e),{},{className:Lv("chakra-stat__label",e.className),__css:n.label}))}));VS.displayName="StatLabel";const GS=Dv((function(e,t){const n=qS();return(0,Xo.jsx)(Tv.dd,(0,o.A)((0,o.A)({ref:t},e),{},{className:Lv("chakra-stat__number",e.className),__css:(0,o.A)((0,o.A)({},n.number),{},{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));GS.displayName="StatNumber";const KS=Dv((function(e,t){const n=qS();return(0,Xo.jsx)(Tv.dd,(0,o.A)((0,o.A)({ref:t},e),{},{className:Lv("chakra-stat__help-text",e.className),__css:n.helpText}))}));KS.displayName="StatHelpText";const YS=["type","aria-label"],ZS=e=>(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({color:"red.400"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}));function JS(e){return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({color:"green.400"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})}))}function XS(e){const{type:t,"aria-label":n}=e,r=Jo(e,YS),i=qS(),a="increase"===t?JS:ZS,s=n||("increase"===t?"increased by":"decreased by");return(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Tv.span,{srOnly:!0,children:s}),(0,Xo.jsx)(a,(0,o.A)((0,o.A)({"aria-hidden":!0},r),{},{__css:i.icon}))]})}ZS.displayName="StatDownArrow",JS.displayName="StatUpArrow",XS.displayName="StatArrow";const $S=["className"],QS=Dv((function(e,t){const{className:n}=e,r=Jo(e,$S),i=qb();return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:t,className:Lv("chakra-card__header",n),__css:i.header},r))})),e_=["templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"],t_=Dv((function(e,t){const{templateAreas:n,gap:r,rowGap:i,columnGap:a,column:s,row:l,autoFlow:c,autoRows:d,templateRows:u,autoColumns:h,templateColumns:p}=e,f=Jo(e,e_),m={display:"grid",gridTemplateAreas:n,gridGap:r,gridRowGap:i,gridColumnGap:a,gridAutoColumns:h,gridColumn:s,gridRow:l,gridAutoFlow:c,gridAutoRows:d,gridTemplateRows:u,gridTemplateColumns:p};return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:t,__css:m},f))}));t_.displayName="Grid";const n_=["className"],r_=Dv((function(e,t){const n=Vv("Badge",e),r=Ov(e),{className:i}=r,a=Jo(r,n_);return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-badge",e.className)},a),{},{__css:(0,o.A)({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},n)}))}));function i_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function o_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"}},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}}]})(e)}function a_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function s_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function l_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function c_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"}}]})(e)}function d_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function u_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function h_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function p_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function f_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function m_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function g_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(e)}function v_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function y_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function x_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}}]})(e)}function b_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function j_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function w_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function k_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}},{tag:"polyline",attr:{points:"13 2 13 9 20 9"}}]})(e)}function S_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function __(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function A_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function C_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function P_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function I_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function T_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(e)}function N_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function E_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function z_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function O_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"}}]})(e)}function L_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"}}]})(e)}function D_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function R_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(e)}function M_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function B_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function F_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function W_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function U_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function q_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function H_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function V_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}}]})(e)}function G_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}}]})(e)}function K_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}}]})(e)}function Y_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(e)}function Z_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}}]})(e)}function J_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function X_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function $_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function Q_(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function eA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function tA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function nA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"}},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"}},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"}}]})(e)}function rA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function iA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function oA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}}]})(e)}function aA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}}]})(e)}function sA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}}]})(e)}function lA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}}]})(e)}function cA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 1h6v2H9zM19.03 7.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0012 4a9 9 0 00-9 9c0 4.97 4.02 9 9 9a8.994 8.994 0 007.03-14.61zM13 14h-2V8h2v6z"}}]})(e)}function dA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"}}]})(e)}function uA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}}]})(e)}function hA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}}]})(e)}function pA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 002 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"}}]})(e)}function fA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z"}}]})(e)}function mA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}}]})(e)}function gA(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}]})(e)}function vA(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=vA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}r_.displayName="Badge";const yA=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=vA(e))&&(r&&(r+=" "),r+=t);return r};var xA=n(9889),bA=n.n(xA),jA=n(620),wA=n.n(jA),kA=n(5268),SA=n.n(kA),_A=n(3097),AA=n.n(_A),CA=n(9160),PA=n.n(CA),IA=function(e){return 0===e?0:e>0?1:-1},TA=function(e){return wA()(e)&&e.indexOf("%")===e.length-1},NA=function(e){return PA()(e)&&!SA()(e)},EA=function(e){return NA(e)||wA()(e)},zA=0,OA=function(e){var t=++zA;return"".concat(e||"").concat(t)},LA=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!NA(e)&&!wA()(e))return r;if(TA(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return SA()(n)&&(n=r),i&&n>t&&(n=t),n},DA=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},RA=function(e,t){return NA(e)&&NA(t)?function(n){return e+n*(t-e)}:function(){return t}};function MA(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):AA()(e,t))===n})):null}var BA=function(e,t){return NA(e)&&NA(t)?e-t:wA()(e)&&wA()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},FA=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},WA=n(9686),UA=n.n(WA),qA=n(1629),HA=n.n(qA),VA=n(6686),GA=n.n(VA),KA=n(9062);function YA(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ZA(e){return ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZA(e)}var JA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XA=["points","pathLength"],$A={svg:["viewBox","children"],polygon:XA,polyline:XA},QA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],eC=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!GA()(r))return null;var i={};return Object.keys(r).forEach((function(e){QA.includes(e)&&(i[e]=n||function(t){return r[e](r,t)})})),i},tC=function(e,t,n){if(!GA()(e)||"object"!==ZA(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];QA.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},nC=["children"],rC=["children"];function iC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},aC=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},sC=null,lC=null,cC=function e(n){if(n===sC&&Array.isArray(lC))return lC;var r=[];return t.Children.forEach(n,(function(t){UA()(t)||((0,KA.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),lC=r,sC=n,r};function dC(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return aC(e)})):[aC(t)],cC(e).forEach((function(e){var t=AA()(e,"type.displayName")||AA()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function uC(e,t){var n=dC(e,t);return n&&n[0]}var hC=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!NA(n)||n<=0||!NA(r)||r<=0)},pC=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fC=function(e){return e&&e.type&&wA()(e.type)&&pC.indexOf(e.type)>=0},mC=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),!GA()(i))return null;var o={};return Object.keys(i).forEach((function(e){var t;(function(e,t,n,r){var i,o=null!==(i=null===$A||void 0===$A?void 0:$A[r])&&void 0!==i?i:[];return t.startsWith("data-")||!HA()(e)&&(r&&o.includes(t)||JA.includes(t))||n&&QA.includes(t)})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(o[e]=i[e])})),o},gC=function e(n,r){if(n===r)return!0;var i=t.Children.count(n);if(i!==t.Children.count(r))return!1;if(0===i)return!0;if(1===i)return vC(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var o=0;o<i;o++){var a=n[o],s=r[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!vC(a,s))return!1}return!0},vC=function(e,t){if(UA()(e)&&UA()(t))return!0;if(!UA()(e)&&!UA()(t)){var n=e.props||{},r=n.children,i=iC(n,nC),o=t.props||{},a=o.children,s=iC(o,rC);return r&&a?YA(i,s)&&gC(r,a):!r&&!a&&YA(i,s)}return!1},yC=function(e,t){var n=[],r={};return cC(e).forEach((function(e,i){if(fC(e))n.push(e);else if(e){var o=aC(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n};function xC(e){return xC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xC(e)}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(n),!0).forEach((function(t){wC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return SC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _C=(0,t.forwardRef)((function(e,n){var r=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,h=e.minHeight,p=e.maxHeight,f=e.children,m=e.debounce,g=void 0===m?0:m,v=e.id,y=e.className,x=e.onResize,b=e.style,j=void 0===b?{}:b,w=(0,t.useRef)(null),k=(0,t.useRef)();k.current=x,(0,t.useImperativeHandle)(n,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var S=kC((0,t.useState)({containerWidth:o.width,containerHeight:o.height}),2),_=S[0],A=S[1],C=(0,t.useCallback)((function(e,t){A((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,t.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;C(r,i),null===(t=k.current)||void 0===t||t.call(k,r,i)};g>0&&(e=bA()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return C(r,i),t.observe(w.current),function(){t.disconnect()}}),[C,g]);var P=(0,t.useMemo)((function(){var e=_.containerWidth,n=_.containerHeight;if(e<0||n<0)return null;FA(TA(s)||TA(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),FA(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=TA(s)?e:s,o=TA(c)?n:c;r&&r>0&&(i?o=i/r:o&&(i=o*r),p&&o>p&&(o=p)),FA(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,u,h,r);var a=!Array.isArray(f)&&aC(f.type).endsWith("Chart");return t.Children.map(f,(function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,jC({width:i,height:o},a?{style:jC({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e}))}),[r,f,c,p,h,u,_,s]);return t.createElement("div",{id:v?"".concat(v):void 0,className:yA("recharts-responsive-container",y),style:jC(jC({},j),{},{width:s,height:c,minWidth:u,minHeight:h,maxHeight:p}),ref:w},P)})),AC=n(6604),CC=n.n(AC),PC=n(7424),IC=n.n(PC),TC="Invariant failed";function NC(e,t){if(!e)throw new Error(TC)}var EC=["children","width","height","viewBox","className","style","title","desc"];function zC(){return zC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC.apply(this,arguments)}function OC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LC(e){var n=e.children,r=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,d=OC(e,EC),u=o||{width:r,height:i,x:0,y:0},h=yA("recharts-surface",a);return t.createElement("svg",zC({},mC(d,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var DC=["children","className"];function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RC.apply(this,arguments)}function MC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var BC=t.forwardRef((function(e,n){var r=e.children,i=e.className,o=MC(e,DC),a=yA("recharts-layer",i);return t.createElement("g",RC({className:a},mC(o,!0),{ref:n}),r)}));function FC(e){return FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FC(e)}function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(this,arguments)}function UC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HC(Object(n),!0).forEach((function(t){GC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=FC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KC(e){return Array.isArray(e)&&EA(e[0])&&EA(e[1])?e.join(" ~ "):e}var YC=function(e){var n=e.separator,r=void 0===n?" : ":n,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,h=e.itemSorter,p=e.wrapperClassName,f=e.labelClassName,m=e.label,g=e.labelFormatter,v=e.accessibilityLayer,y=void 0!==v&&v,x=VC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=VC({margin:0},c),j=!UA()(m),w=j?m:"",k=yA("recharts-default-tooltip",p),S=yA("recharts-tooltip-label",f);j&&g&&void 0!==d&&null!==d&&(w=g(m,d));var _=y?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",WC({className:k,style:x},_),t.createElement("p",{className:S,style:b},t.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(h?IC()(d,h):d).map((function(e,n){if("none"===e.type)return null;var i=VC({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||u||KC,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var p=o(a,l,e,n,d);if(Array.isArray(p)){var f=UC(p,2);c=f[0],h=f[1]}else c=p}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:i},EA(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,EA(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function ZC(e){return ZC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZC(e)}function JC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ZC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XC="recharts-tooltip-wrapper",$C={visibility:"hidden"};function QC(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return yA(XC,JC(JC(JC(JC({},"".concat(XC,"-right"),NA(n)&&t&&NA(t.x)&&n>=t.x),"".concat(XC,"-left"),NA(n)&&t&&NA(t.x)&&n<t.x),"".concat(XC,"-bottom"),NA(r)&&t&&NA(t.y)&&r>=t.y),"".concat(XC,"-top"),NA(r)&&t&&NA(t.y)&&r<t.y))}function eP(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&NA(o[r]))return o[r];var d=n[r]-s-i,u=n[r]+i;return t[r]?a[r]?d:u:a[r]?d<l[r]?Math.max(u,l[r]):Math.max(d,l[r]):u+s>l[r]+c?Math.max(d,l[r]):Math.max(u,l[r])}function tP(e){return tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tP(e)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach((function(t){cP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dP(r.key),r)}}function oP(e,t,n){return t=sP(t),function(e,t){if(t&&("object"===tP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aP()?Reflect.construct(t,n||[],sP(e).constructor):t.apply(e,n))}function aP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aP=function(){return!!e})()}function sP(e){return sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sP(e)}function lP(e,t){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lP(e,t)}function cP(e,t,n){return(t=dP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dP(e){var t=function(e,t){if("object"!=tP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tP(t)?t:t+""}var uP=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return cP(e=oP(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cP(e,"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lP(e,t)}(n,e),r=n,i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,d=n.isAnimationActive,u=n.offset,h=n.position,p=n.reverseDirection,f=n.useTranslate3d,m=n.viewBox,g=n.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=eP({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=eP({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):$C,cssClasses:QC({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:u,position:h,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:m}),y=v.cssClasses,x=v.cssProperties,b=rP(rP({transition:d&&r?"transform ".concat(o,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},s)}}],i&&iP(r.prototype,i),o&&iP(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent),hP={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return hP[e]},set:function(e,t){if("string"===typeof e)hP[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){hP[t]=e[t]}))}}},pP=n(977),fP=n.n(pP);function mP(e,t,n){return!0===t?fP()(e,n):HA()(t)?fP()(e,t):e}function gP(e){return gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gP(e)}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(n),!0).forEach((function(t){SP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_P(r.key),r)}}function bP(e,t,n){return t=wP(t),function(e,t){if(t&&("object"===gP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jP()?Reflect.construct(t,n||[],wP(e).constructor):t.apply(e,n))}function jP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jP=function(){return!!e})()}function wP(e){return wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wP(e)}function kP(e,t){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kP(e,t)}function SP(e,t,n){return(t=_P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e){var t=function(e,t){if("object"!=gP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gP(t)?t:t+""}function AP(e){return e.dataKey}var CP=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),bP(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kP(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,d=n.isAnimationActive,u=n.offset,h=n.payload,p=n.payloadUniqBy,f=n.position,m=n.reverseDirection,g=n.useTranslate3d,v=n.viewBox,y=n.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=mP(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),p,AP));var b=x.length>0;return t.createElement(uP,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:d,active:r,coordinate:l,hasPayload:b,offset:u,position:f,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:y},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(YC,n)}(s,yP(yP({},this.props),{},{payload:x})))}}],i&&xP(r.prototype,i),o&&xP(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);SP(CP,"displayName","Tooltip"),SP(CP,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hP.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var PP=n(643),IP=n.n(PP);Math.abs,Math.atan2;const TP=Math.cos,NP=(Math.max,Math.min,Math.sin),EP=Math.sqrt,zP=Math.PI,OP=2*zP;const LP={draw(e,t){const n=EP(t/zP);e.moveTo(n,0),e.arc(0,0,n,0,OP)}},DP={draw(e,t){const n=EP(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},RP=EP(1/3),MP=2*RP,BP={draw(e,t){const n=EP(t/MP),r=n*RP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},FP={draw(e,t){const n=EP(t),r=-n/2;e.rect(r,r,n,n)}},WP=NP(zP/10)/NP(7*zP/10),UP=NP(OP/10)*WP,qP=-TP(OP/10)*WP,HP={draw(e,t){const n=EP(.8908130915292852*t),r=UP*n,i=qP*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=OP*o/5,a=TP(t),s=NP(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},VP=EP(3),GP={draw(e,t){const n=-EP(t/(3*VP));e.moveTo(0,2*n),e.lineTo(-VP*n,-n),e.lineTo(VP*n,-n),e.closePath()}},KP=-.5,YP=EP(3)/2,ZP=1/EP(12),JP=3*(ZP/2+1),XP={draw(e,t){const n=EP(t/JP),r=n/2,i=n*ZP,o=r,a=n*ZP+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(KP*r-YP*i,YP*r+KP*i),e.lineTo(KP*o-YP*a,YP*o+KP*a),e.lineTo(KP*s-YP*l,YP*s+KP*l),e.lineTo(KP*r+YP*i,KP*i-YP*r),e.lineTo(KP*o+YP*a,KP*a-YP*o),e.lineTo(KP*s+YP*l,KP*l-YP*s),e.closePath()}};function $P(e){return function(){return e}}var QP,eI,tI,nI,rI,iI,oI,aI,sI,lI,cI,dI,uI,hI;const pI=Math.PI,fI=2*pI,mI=1e-6,gI=fI-mI;function vI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class yI{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?vI:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return vI;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(QP||(QP=Vs(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(eI||(eI=Vs(["Z"]))))}lineTo(e,t){this._append(tI||(tI=Vs(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(nI||(nI=Vs(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(rI||(rI=Vs(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,d=a-t,u=c*c+d*d;if(null===this._x1)this._append(iI||(iI=Vs(["M",",",""])),this._x1=e,this._y1=t);else if(u>mI)if(Math.abs(d*s-l*c)>mI&&i){let h=n-o,p=r-a,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(u),y=i*Math.tan((pI-Math.acos((f+u-m)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>mI&&this._append(aI||(aI=Vs(["L",",",""])),e+x*c,t+x*d),this._append(sI||(sI=Vs(["A",",",",0,0,",",",",",""])),i,i,+(d*h>c*p),this._x1=e+b*s,this._y1=t+b*l)}else this._append(oI||(oI=Vs(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,d=1^o,u=o?r-i:i-r;null===this._x1?this._append(lI||(lI=Vs(["M",",",""])),l,c):(Math.abs(this._x1-l)>mI||Math.abs(this._y1-c)>mI)&&this._append(cI||(cI=Vs(["L",",",""])),l,c),n&&(u<0&&(u=u%fI+fI),u>gI?this._append(dI||(dI=Vs(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-a,t-s,n,n,d,this._x1=l,this._y1=c):u>mI&&this._append(uI||(uI=Vs(["A",",",",0,",",",",",",",""])),n,n,+(u>=pI),d,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(hI||(hI=Vs(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function xI(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new yI(t)}EP(3),EP(3);function bI(e){return bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bI(e)}var jI=["type","size","sizeType"];function wI(){return wI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wI.apply(this,arguments)}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kI(Object(n),!0).forEach((function(t){_I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _I(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var CI={symbolCircle:LP,symbolCross:DP,symbolDiamond:BP,symbolSquare:FP,symbolStar:HP,symbolTriangle:GP,symbolWye:XP},PI=Math.PI/180,II=function(e){var n=e.type,r=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,l=SI(SI({},AI(e,jI)),{},{type:r,size:o,sizeType:s}),c=l.className,d=l.cx,u=l.cy,h=mC(l,!0);return d===+d&&u===+u&&o===+o?t.createElement("path",wI({},h,{className:yA("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(IP()(e));return CI[t]||LP}(r),t=function(e,t){let n=null,r=xI(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:$P(e||LP),t="function"===typeof t?t:$P(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:$P(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:$P(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*PI;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,r));return t()}()})):null};function TI(e){return TI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TI(e)}function NI(){return NI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NI.apply(this,arguments)}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BI(r.key),r)}}function OI(e,t,n){return t=DI(t),function(e,t){if(t&&("object"===TI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LI()?Reflect.construct(t,n||[],DI(e).constructor):t.apply(e,n))}function LI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LI=function(){return!!e})()}function DI(e){return DI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DI(e)}function RI(e,t){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RI(e,t)}function MI(e,t,n){return(t=BI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BI(e){var t=function(e,t){if("object"!=TI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TI(t)?t:t+""}II.registerSymbol=function(e,t){CI["symbol".concat(IP()(e))]=t};var FI=32,WI=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),OI(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RI(e,t)}(n,e),r=n,i=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,i=FI/6,o=FI/3,a=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:FI,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(FI,"M").concat(2*o,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(FI,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(n),!0).forEach((function(t){MI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(II,{fill:a,cx:r,cy:r,size:FI,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,i=n.iconSize,o=n.layout,a=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:FI,height:FI},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(n,r){var o=n.formatter||a,u=yA(MI(MI({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=HA()(n.value)?null:n.value;FA(!HA()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=n.inactive?s:n.color;return t.createElement("li",NI({className:u,style:c,key:"legend-item-".concat(r)},tC(e.props,n,r)),t.createElement(LC,{width:i,height:i,viewBox:l,style:d},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},o?o(h,n,r):h))}))}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,i=e.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?i:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&zI(r.prototype,i),o&&zI(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function UI(e){return UI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UI(e)}MI(WI,"displayName","Legend"),MI(WI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qI=["ref"];function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HI(Object(n),!0).forEach((function(t){XI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$I(r.key),r)}}function KI(e,t,n){return t=ZI(t),function(e,t){if(t&&("object"===UI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YI()?Reflect.construct(t,n||[],ZI(e).constructor):t.apply(e,n))}function YI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YI=function(){return!!e})()}function ZI(e){return ZI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZI(e)}function JI(e,t){return JI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JI(e,t)}function XI(e,t,n){return(t=$I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $I(e){var t=function(e,t){if("object"!=UI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UI(t)?t:t+""}function QI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eT(e){return e.value}var tT=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return XI(e=KI(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JI(e,t)}(n,e),r=n,i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?VI({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),VI(VI({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,i=n.width,o=n.height,a=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=VI(VI({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=QI(n,qI);return t.createElement(WI,r)}(r,VI(VI({},this.props),{},{payload:mP(l,s,eT)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=VI(VI({},this.defaultProps),e.props).layout;return"vertical"===n&&NA(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],i&&GI(r.prototype,i),o&&GI(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function nT(){return nT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nT.apply(this,arguments)}XI(tT,"displayName","Legend"),XI(tT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var rT=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=yA("recharts-dot",o);return n===+n&&r===+r&&i===+i?t.createElement("circle",nT({},mC(e,!1),eC(e),{className:a,cx:n,cy:r,r:i})):null},iT=n(5173),oT=n.n(iT),aT=Object.getOwnPropertyNames,sT=Object.getOwnPropertySymbols,lT=Object.prototype.hasOwnProperty;function cT(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function dT(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function uT(e){return aT(e).concat(sT(e))}var hT=Object.hasOwn||function(e,t){return lT.call(e,t)};function pT(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var fT=Object.getOwnPropertyDescriptor,mT=Object.keys;function gT(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function vT(e,t){return pT(e.getTime(),t.getTime())}function yT(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xT(e,t){return e===t}function bT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),d=!1,u=0;(o=c.next())&&!o.done;)if(a[u])u++;else{var h=i.value,p=o.value;if(n.equals(h[0],p[0],l,u,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=a[u]=!0;break}u++}if(!d)return!1;l++}return!0}var jT=pT;function wT(e,t,n){var r=mT(e),i=r.length;if(mT(t).length!==i)return!1;for(;i-- >0;)if(!IT(e,t,n,r[i]))return!1;return!0}function kT(e,t,n){var r,i,o,a=uT(e),s=a.length;if(uT(t).length!==s)return!1;for(;s-- >0;){if(!IT(e,t,n,r=a[s]))return!1;if(i=fT(e,r),o=fT(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function ST(e,t){return pT(e.valueOf(),t.valueOf())}function _T(e,t){return e.source===t.source&&e.flags===t.flags}function AT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!a[d]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function CT(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function PT(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function IT(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||hT(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var TT=Array.isArray,NT="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,ET=Object.assign,zT=Object.prototype.toString.call.bind(Object.prototype.toString);var OT=LT();LT({strict:!0}),LT({circular:!0}),LT({circular:!0,strict:!0}),LT({createInternalComparator:function(){return pT}}),LT({strict:!0,createInternalComparator:function(){return pT}}),LT({circular:!0,createInternalComparator:function(){return pT}}),LT({circular:!0,createInternalComparator:function(){return pT},strict:!0});function LT(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?kT:gT,areDatesEqual:vT,areErrorsEqual:yT,areFunctionsEqual:xT,areMapsEqual:r?cT(bT,kT):bT,areNumbersEqual:jT,areObjectsEqual:r?kT:wT,arePrimitiveWrappersEqual:ST,areRegExpsEqual:_T,areSetsEqual:r?cT(AT,kT):AT,areTypedArraysEqual:r?kT:CT,areUrlsEqual:PT};if(n&&(i=ET({},i,n(i))),t){var o=dT(i.areArraysEqual),a=dT(i.areMapsEqual),s=dT(i.areObjectsEqual),l=dT(i.areSetsEqual);i=ET({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,p,f){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?a(e,p,f):"function"===m&&i(e,p,f);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(e,p,f);if(TT(e))return t(e,p,f);if(null!=NT&&NT(e))return u(e,p,f);if(g===Date)return n(e,p,f);if(g===RegExp)return c(e,p,f);if(g===Map)return o(e,p,f);if(g===Set)return d(e,p,f);var v=zT(e);return"[object Date]"===v?n(e,p,f):"[object RegExp]"===v?c(e,p,f):"[object Map]"===v?o(e,p,f):"[object Set]"===v?d(e,p,f):"[object Object]"===v?"function"!==typeof e.then&&"function"!==typeof p.then&&s(e,p,f):"[object URL]"===v?h(e,p,f):"[object Error]"===v?r(e,p,f):"[object Arguments]"===v?s(e,p,f):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,p,f)}}(l),d=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,d=s.meta;return n(e,a,{cache:c,equals:i,meta:d,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:d,strict:s})}function DT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function RT(e){return RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RT(e)}function MT(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return BT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FT(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=MT(r),o=i[0],a=i.slice(1);return"number"===typeof o?void DT(n.bind(null,a),o):(n(o),void DT(n.bind(null,a)))}"object"===RT(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function WT(e){return WT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WT(e)}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(n),!0).forEach((function(t){HT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==WT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==WT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===WT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VT=function(e){return e},GT=function(e,t){return Object.keys(t).reduce((function(n,r){return qT(qT({},n),{},HT({},r,e(r,t[r])))}),{})},KT=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function YT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||JT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZT(e){return function(e){if(Array.isArray(e))return XT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JT(e,t){if(e){if("string"===typeof e)return XT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XT(e,t):void 0}}function XT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $T=1e-4,QT=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},eN=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},tN=function(e,t){return function(n){var r=QT(e,t);return eN(r,n)}},nN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=YT(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],i=l[1],o=l[2],a=l[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,d,u=tN(r,o),h=tN(i,a),p=(c=r,d=o,function(e){var t=QT(c,d),n=[].concat(ZT(t.map((function(e,t){return e*t})).slice(1)),[0]);return eN(n,e)}),f=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,o=p(n);if(Math.abs(i-t)<$T||o<$T)return h(n);n=f(n-i/o)}return h(n)};return m.isStepper=!1,m},rN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nN(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<$T&&Math.abs(o)<$T?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return nN(r)}return"function"===typeof r?r:null};function iN(e){return iN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iN(e)}function oN(e){return function(e){if(Array.isArray(e))return uN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aN(Object(n),!0).forEach((function(t){lN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==iN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==iN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||dN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dN(e,t){if(e){if("string"===typeof e)return uN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uN(e,t):void 0}}function uN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hN=function(e,t,n){return e+(t-e)*n},pN=function(e){return e.from!==e.to},fN=function e(t,n,r){var i=GT((function(e,n){if(pN(n)){var r=cN(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return sN(sN({},n),{},{from:i,velocity:o})}return n}),n);return r<1?GT((function(e,t){return pN(t)?sN(sN({},t),{},{velocity:hN(t.velocity,i[e].velocity,r),from:hN(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const mN=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),d=c.reduce((function(n,r){return sN(sN({},n),{},lN({},r,[e[r],t[r]]))}),{}),u=c.reduce((function(n,r){return sN(sN({},n),{},lN({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;u=fN(n,u,o),i(sN(sN(sN({},e),t),GT((function(e,t){return t.from}),u))),s=r,Object.values(u).filter(pN).length&&(h=requestAnimationFrame(p))}:function(o){l||(l=o);var a=(o-l)/r,s=GT((function(e,t){return hN.apply(void 0,oN(t).concat([n(a)]))}),d);if(i(sN(sN(sN({},e),t),s)),a<1)h=requestAnimationFrame(p);else{var c=GT((function(e,t){return hN.apply(void 0,oN(t).concat([n(1)]))}),d);i(sN(sN(sN({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function gN(e){return gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gN(e)}var vN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xN(e){return function(e){if(Array.isArray(e))return bN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jN(Object(n),!0).forEach((function(t){kN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kN(e,t,n){return(t=_N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_N(r.key),r)}}function _N(e){var t=function(e,t){if("object"!==gN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gN(t)?t:String(t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AN(e,t)}function CN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Cee){return!1}}();return function(){var n,r=TN(e);if(t){var i=TN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return PN(this,n)}}function PN(e,t){if(t&&("object"===gN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IN(e)}function IN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TN(e){return TN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TN(e)}var NN=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}(a,e);var n,r,i,o=CN(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,d=r.steps,u=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(IN(n)),n.changeStyle=n.changeStyle.bind(IN(n)),!i||h<=0)return n.state={style:{}},"function"===typeof u&&(n.state={style:c}),PN(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"===typeof u)return n.state={style:l},PN(n);n.state={style:s?kN({},s,l):l}}else n.state={style:{}};return n}return n=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(OT(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||o?s:e.to;if(this.state&&l){var u={style:i?kN({},i,d):d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(u)}this.runAnimation(wN(wN({},this.props),{},{from:d,begin:0}))}}else{var h={style:i?kN({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=mN(n,r,rN(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(xN(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,d=r.onAnimationEnd,u=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(xN(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:o,easing:s}),o]);var p=KT(h,o,s),f=wN(wN(wN({},u.style),l),{},{transition:p});return[].concat(xN(e),[f,o,d]).filter(VT)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=FT());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var u=r?kN({},r,i):i,h=KT(Object.keys(u),n,o);d.start([a,t,wN(wN({},u),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,yN(e,vN)),a=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!i||0===a||r<=0)return n;var l=function(e){var n=e.props,r=n.style,i=void 0===r?{}:r,a=n.className;return(0,t.cloneElement)(e,wN(wN({},o),{},{style:wN(wN({},i),s),className:a}))};return 1===a?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,(function(e){return l(e)})))}}],r&&SN(n.prototype,r),i&&SN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent);NN.displayName="Animate",NN.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},NN.propTypes={from:oT().oneOfType([oT().object,oT().string]),to:oT().oneOfType([oT().object,oT().string]),attributeName:oT().string,duration:oT().number,begin:oT().number,easing:oT().oneOfType([oT().string,oT().func]),steps:oT().arrayOf(oT().shape({duration:oT().number.isRequired,style:oT().object.isRequired,easing:oT().oneOfType([oT().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oT().func]),properties:oT().arrayOf("string"),onAnimationEnd:oT().func})),children:oT().oneOfType([oT().node,oT().func]),isActive:oT().bool,canBegin:oT().bool,onAnimationEnd:oT().func,shouldReAnimate:oT().bool,onAnimationStart:oT().func,onAnimationReStart:oT().func};const EN=NN;function zN(e){return zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zN(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(this,arguments)}function LN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return DN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(n),!0).forEach((function(t){BN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FN=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=i[u]>a?a:i[u];o="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(o+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),o+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(o+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*d[1])),o+="L ".concat(e+n,",").concat(t+r-s*d[2]),d[2]>0&&(o+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+r)),o+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(o+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*d[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},WN=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),d=Math.min(o,o+s),u=Math.max(o,o+s);return n>=l&&n<=c&&r>=d&&r<=u}return!1},UN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qN=function(e){var n=MN(MN({},UN),e),r=(0,t.useRef)(),i=LN((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=n.x,l=n.y,c=n.width,d=n.height,u=n.radius,h=n.className,p=n.animationEasing,f=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,v=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var y=yA("recharts-rectangle",h);return v?t.createElement(EN,{canBegin:o>0,from:{width:c,height:d,x:s,y:l},to:{width:c,height:d,x:s,y:l},duration:f,animationEasing:p,isActive:v},(function(e){var i=e.width,a=e.height,s=e.x,l=e.y;return t.createElement(EN,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,isActive:g,easing:p},t.createElement("path",ON({},mC(n,!0),{className:y,d:FN(s,l,i,a,u),ref:r})))})):t.createElement("path",ON({},mC(n,!0),{className:y,d:FN(s,l,c,d,u)}))};function HN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function VN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class GN extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JN;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(KN(this,e))}has(e){return super.has(KN(this,e))}set(e,t){return super.set(YN(this,e),t)}delete(e){return super.delete(ZN(this,e))}}Set;function KN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function YN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function ZN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function JN(e){return null!==e&&"object"===typeof e?e.valueOf():e}const XN=Symbol("implicit");function $N(){var e=new GN,t=[],n=[],r=XN;function i(i){let o=e.get(i);if(void 0===o){if(r!==XN)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new GN;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return $N(t,n).unknown(r)},HN.apply(i,arguments),i}function QN(){var e,t,n=$N().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,d=.5;function u(){var n=r().length,u=a<o,h=u?a:o,p=u?o:a;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*d,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(u?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,u()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,u()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return QN(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},HN.apply(u(),arguments)}function eE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eE(t())},e}function tE(){return eE(QN.apply(null,arguments).paddingInner(1))}function nE(e){return nE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(e)}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rE(Object(n),!0).forEach((function(t){oE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aE={widthCache:{},cacheCount:0},sE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lE="recharts_measurement_span";var cE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||hP.isSsr)return{width:0,height:0};var n=function(e){var t=iE({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(aE.widthCache[r])return aE.widthCache[r];try{var i=document.getElementById(lE);i||((i=document.createElement("span")).setAttribute("id",lE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=iE(iE({},sE),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return aE.widthCache[r]=s,++aE.cacheCount>2e3&&(aE.cacheCount=0,aE.widthCache={}),s}catch(Cee){return{width:0,height:0}}};function dE(e){return dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dE(e)}function uE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fE(r.key),r)}}function fE(e){var t=function(e,t){if("object"!=dE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dE(t)?t:t+""}var mE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vE=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yE=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},bE=Object.keys(xE),jE="NaN";var wE=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||vE.test(n)||(this.num=NaN,this.unit=""),bE.includes(n)&&(this.num=function(e,t){return e*xE[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=uE(null!==(n=yE.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&pE(t.prototype,n),r&&pE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function kE(e){if(e.includes(jE))return jE;for(var t=e;t.includes("*")||t.includes("/");){var n,r=uE(null!==(n=mE.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=wE.parse(null!==i&&void 0!==i?i:""),l=wE.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return jE;t=t.replace(mE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=uE(null!==(d=gE.exec(t))&&void 0!==d?d:[],4),h=u[1],p=u[2],f=u[3],m=wE.parse(null!==h&&void 0!==h?h:""),g=wE.parse(null!==f&&void 0!==f?f:""),v="+"===p?m.add(g):m.subtract(g);if(v.isNaN())return jE;t=t.replace(gE,v.toString())}return t}var SE=/\(([^()]*)\)/;function _E(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=uE(SE.exec(t),2)[1];t=t.replace(SE,kE(n))}return t}(t),t=kE(t)}function AE(e){var t=function(e){try{return _E(e)}catch(Cee){return jE}}(e.slice(5,-1));return t===jE?"":t}var CE=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PE=["dx","dy","angle","className","breakAll"];function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(this,arguments)}function TE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return EE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zE=/[ \f\n\r\t\v\u2028\u2029]+/,OE=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return UA()(t)||(i=n?t.toString().split(""):t.toString().split(zE)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:cE(e,r).width}})),spaceWidth:n?0:cE("\xa0",r).width}}catch(Cee){return null}},LE=function(e){return[{words:UA()(e)?[]:e.toString().split(zE)}]},DE=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!hP.isSsr){var s=OE({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=NA(o),d=a,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},h=u(t);if(!c)return h;for(var p,f=function(e){var t=d.slice(0,e),n=OE({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=u(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=d.length-1,v=0;m<=g&&v<=d.length-1;){var y=Math.floor((m+g)/2),x=NE(f(y-1),2),b=x[0],j=x[1],w=NE(f(y),1)[0];if(b||w||(m=y+1),b&&w&&(g=y-1),!b&&w){p=j;break}v++}return p||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):LE(r)}return LE(r)},RE="#808080",ME=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,h=e.textAnchor,p=void 0===h?"start":h,f=e.verticalAnchor,m=void 0===f?"end":f,g=e.fill,v=void 0===g?RE:g,y=TE(e,CE),x=(0,t.useMemo)((function(){return DE({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),b=y.dx,j=y.dy,w=y.angle,k=y.className,S=y.breakAll,_=TE(y,PE);if(!EA(r)||!EA(o))return null;var A,C=r+(NA(b)?b:0),P=o+(NA(j)?j:0);switch(m){case"start":A=AE("calc(".concat(c,")"));break;case"middle":A=AE("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:A=AE("calc(".concat(x.length-1," * -").concat(s,")"))}var I=[];if(u){var T=x[0].width,N=y.width;I.push("scale(".concat((NA(N)?N/T:1)/T,")"))}return w&&I.push("rotate(".concat(w,", ").concat(C,", ").concat(P,")")),I.length&&(_.transform=I.join(" ")),t.createElement("text",IE({},mC(_,!0),{x:C,y:P,className:yA("recharts-text",k),textAnchor:p,fill:v.includes("url")?RE:v}),x.map((function(e,n){var r=e.words.join(S?"":" ");return t.createElement("tspan",{x:C,dy:0===n?A:s,key:"".concat(r,"-").concat(n)},r)})))};const BE=Math.sqrt(50),FE=Math.sqrt(10),WE=Math.sqrt(2);function UE(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=BE?10:o>=FE?5:o>=WE?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?UE(e,t,2*n):[s,l,c]}function qE(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?UE(t,e,n):UE(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function HE(e,t,n){return UE(e=+e,t=+t,n=+n)[2]}function VE(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?HE(t,e,n):HE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function GE(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KE(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YE(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=GE,n=(t,n)=>GE(e(t),n),r=(t,n)=>e(t)-n):(t=e===GE||e===KE?e:ZE,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function ZE(){return 0}function JE(e){return null===e?NaN:+e}const XE=YE(GE),$E=XE.right,QE=(XE.left,YE(JE).center,$E);function ez(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nz(){}var rz=.7,iz=1/rz,oz="\\s*([+-]?\\d+)\\s*",az="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lz=/^#([0-9a-f]{3,8})$/,cz=new RegExp("^rgb\\(".concat(oz,",").concat(oz,",").concat(oz,"\\)$")),dz=new RegExp("^rgb\\(".concat(sz,",").concat(sz,",").concat(sz,"\\)$")),uz=new RegExp("^rgba\\(".concat(oz,",").concat(oz,",").concat(oz,",").concat(az,"\\)$")),hz=new RegExp("^rgba\\(".concat(sz,",").concat(sz,",").concat(sz,",").concat(az,"\\)$")),pz=new RegExp("^hsl\\(".concat(az,",").concat(sz,",").concat(sz,"\\)$")),fz=new RegExp("^hsla\\(".concat(az,",").concat(sz,",").concat(sz,",").concat(az,"\\)$")),mz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gz(){return this.rgb().formatHex()}function vz(){return this.rgb().formatRgb()}function yz(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lz.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?xz(t):3===n?new wz(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?bz(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?bz(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=cz.exec(e))?new wz(t[1],t[2],t[3],1):(t=dz.exec(e))?new wz(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=uz.exec(e))?bz(t[1],t[2],t[3],t[4]):(t=hz.exec(e))?bz(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=pz.exec(e))?Pz(t[1],t[2]/100,t[3]/100,1):(t=fz.exec(e))?Pz(t[1],t[2]/100,t[3]/100,t[4]):mz.hasOwnProperty(e)?xz(mz[e]):"transparent"===e?new wz(NaN,NaN,NaN,0):null}function xz(e){return new wz(e>>16&255,e>>8&255,255&e,1)}function bz(e,t,n,r){return r<=0&&(e=t=n=NaN),new wz(e,t,n,r)}function jz(e,t,n,r){return 1===arguments.length?((i=e)instanceof nz||(i=yz(i)),i?new wz((i=i.rgb()).r,i.g,i.b,i.opacity):new wz):new wz(e,t,n,null==r?1:r);var i}function wz(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function kz(){return"#".concat(Cz(this.r)).concat(Cz(this.g)).concat(Cz(this.b))}function Sz(){const e=_z(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Az(this.r),", ").concat(Az(this.g),", ").concat(Az(this.b)).concat(1===e?")":", ".concat(e,")"))}function _z(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Az(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cz(e){return((e=Az(e))<16?"0":"")+e.toString(16)}function Pz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tz(e,t,n,r)}function Iz(e){if(e instanceof Tz)return new Tz(e.h,e.s,e.l,e.opacity);if(e instanceof nz||(e=yz(e)),!e)return new Tz;if(e instanceof Tz)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Tz(a,s,l,e.opacity)}function Tz(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Nz(e){return(e=(e||0)%360)<0?e+360:e}function Ez(e){return Math.max(0,Math.min(1,e||0))}function zz(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Oz(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}ez(nz,yz,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gz,formatHex:gz,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Iz(this).formatHsl()},formatRgb:vz,toString:vz}),ez(wz,jz,tz(nz,{brighter(e){return e=null==e?iz:Math.pow(iz,e),new wz(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?rz:Math.pow(rz,e),new wz(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wz(Az(this.r),Az(this.g),Az(this.b),_z(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kz,formatHex:kz,formatHex8:function(){return"#".concat(Cz(this.r)).concat(Cz(this.g)).concat(Cz(this.b)).concat(Cz(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Sz,toString:Sz})),ez(Tz,(function(e,t,n,r){return 1===arguments.length?Iz(e):new Tz(e,t,n,null==r?1:r)}),tz(nz,{brighter(e){return e=null==e?iz:Math.pow(iz,e),new Tz(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?rz:Math.pow(rz,e),new Tz(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wz(zz(e>=240?e-240:e+120,i,r),zz(e,i,r),zz(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Tz(Nz(this.h),Ez(this.s),Ez(this.l),_z(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_z(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Nz(this.h),", ").concat(100*Ez(this.s),"%, ").concat(100*Ez(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Lz=e=>()=>e;function Dz(e,t){return function(n){return e+n*t}}function Rz(e){return 1===(e=+e)?Mz:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Lz(isNaN(t)?n:t)}}function Mz(e,t){var n=t-e;return n?Dz(e,n):Lz(isNaN(e)?t:e)}const Bz=function e(t){var n=Rz(t);function r(e,t){var r=n((e=jz(e)).r,(t=jz(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Mz(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Fz(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=jz(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Fz((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Oz((n-r/t)*t,a,i,o,s)}})),Fz((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Oz((n-r/t)*t,i,o,a,s)}}));function Wz(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Zz(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Uz(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qz(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hz(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Zz(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Vz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gz=new RegExp(Vz.source,"g");function Kz(e,t){var n,r,i,o=Vz.lastIndex=Gz.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Vz.exec(e))&&(r=Gz.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:qz(n,r)})),o=Gz.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Yz(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Zz(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Lz(t):("number"===i?qz:"string"===i?(n=yz(t))?(t=n,Bz):Kz:t instanceof yz?Bz:t instanceof Date?Uz:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Wz:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Hz:qz:Yz))(e,t)}function Jz(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Xz(e){return+e}var $z=[0,1];function Qz(e){return e}function eO(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function tO(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=eO(i,r),o=n(a,o)):(r=eO(r,i),o=n(o,a)),function(e){return o(r(e))}}function nO(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=eO(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=QE(e,t,1,r)-1;return o[n](i[n](t))}}function rO(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function iO(){var e,t,n,r,i,o,a=$z,s=$z,l=Zz,c=Qz;function d(){var e=Math.min(a.length,s.length);return c!==Qz&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?nO:tO,i=o=null,u}function u(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return u.invert=function(n){return c(t((o||(o=r(s,a.map(e),qz)))(n)))},u.domain=function(e){return arguments.length?(a=Array.from(e,Xz),d()):a.slice()},u.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},u.rangeRound=function(e){return s=Array.from(e),l=Jz,d()},u.clamp=function(e){return arguments.length?(c=!!e||Qz,d()):c!==Qz},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function oO(){return iO()(Qz,Qz)}var aO,sO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lO(e){if(!(t=sO.exec(e)))throw new Error("invalid format: "+e);var t;return new cO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function cO(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function dO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uO(e){return(e=dO(Math.abs(e)))?e[1]:NaN}function hO(e,t){var n=dO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}lO.prototype=cO.prototype,cO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const pO={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hO(100*e,t),r:hO,s:function(e,t){var n=dO(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(aO=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dO(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fO(e){return e}var mO,gO,vO,yO=Array.prototype.map,xO=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function bO(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?fO:(t=yO.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?fO:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(yO.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=lO(e)).fill,n=e.align,u=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):pO[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?l:"",j=pO[y],w=/[defgprs%]/.test(y);function k(e){var i,o,l,h=x,k=b;if("c"===y)k=j(e)+k,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==u&&(S=!1),h=(S?"("===u?u:c:"-"===u||"("===u?"":u)+h,k=("s"===y?xO[8+aO/3]:"")+k+(S&&"("===u?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var _=h.length+e.length+k.length,A=_<f?new Array(f-_+1).join(t):"";switch(m&&p&&(e=r(A+e,A.length?f-k.length:1/0),A=""),n){case"<":e=h+e+k+A;break;case"=":e=h+A+e+k;break;case"^":e=A.slice(0,_=A.length>>1)+h+e+k+A.slice(_);break;default:e=A+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:u,formatPrefix:function(e,t){var n=u(((e=lO(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(uO(t)/3))),i=Math.pow(10,-r),o=xO[8+r/3];return function(e){return n(i*e)+o}}}}function jO(e,t,n,r){var i,o=VE(e,t,n);switch((r=lO(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(uO(t)/3)))-uO(Math.abs(e)))}(o,a))||(r.precision=i),vO(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uO(t)-uO(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-uO(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return gO(r)}function wO(e){var t=e.domain;return e.ticks=function(e){var n=t();return qE(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return jO(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],d=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);d-- >0;){if((i=HE(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function kO(){var e=oO();return e.copy=function(){return rO(e,kO())},HN.apply(e,arguments),wO(e)}function SO(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Xz),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return SO(e).unknown(t)},e=arguments.length?Array.from(e,Xz):[0,1],wO(n)}function _O(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function AO(e){return Math.log(e)}function CO(e){return Math.exp(e)}function PO(e){return-Math.log(-e)}function IO(e){return-Math.exp(-e)}function TO(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NO(e){return(t,n)=>-e(-t,n)}function EO(e){const t=e(AO,CO),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?TO:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=NO(r),i=NO(i),e(PO,IO)):e(AO,CO),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,d,u=r(a),h=r(s);const p=null==e?10:+e;let f=[];if(!(o%1)&&h-u<p){if(u=Math.floor(u),h=Math.ceil(h),a>0){for(;u<=h;++u)for(c=1;c<o;++c)if(d=u<0?c/i(-u):c*i(u),!(d<a)){if(d>s)break;f.push(d)}}else for(;u<=h;++u)for(c=o-1;c>=1;--c)if(d=u>0?c/i(-u):c*i(u),!(d<a)){if(d>s)break;f.push(d)}2*f.length<p&&(f=qE(a,s,p))}else f=qE(u,h,Math.min(h-u,p)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=lO(n)).precision||(n.trim=!0),n=gO(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(_O(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function zO(){const e=EO(iO()).domain([1,10]);return e.copy=()=>rO(e,zO()).base(e.base()),HN.apply(e,arguments),e}function OO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DO(e){var t=1,n=e(OO(t),LO(t));return n.constant=function(n){return arguments.length?e(OO(t=+n),LO(t)):t},wO(n)}function RO(){var e=DO(iO());return e.copy=function(){return rO(e,RO()).constant(e.constant())},HN.apply(e,arguments)}function MO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BO(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FO(e){return e<0?-e*e:e*e}function WO(e){var t=e(Qz,Qz),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Qz,Qz):.5===n?e(BO,FO):e(MO(n),MO(1/n)):n},wO(t)}function UO(){var e=WO(iO());return e.copy=function(){return rO(e,UO()).exponent(e.exponent())},HN.apply(e,arguments),e}function qO(){return UO.apply(null,arguments).exponent(.5)}function HO(e){return Math.sign(e)*e*e}function VO(){var e,t=oO(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(HO(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Xz)).map(HO)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return VO(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},HN.apply(i,arguments),wO(i)}function GO(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function KO(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function YO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE;if(e===GE)return ZO;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function ZO(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function JO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?ZO:YO(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);JO(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(XO(e,n,t),i(e[r],o)>0&&XO(e,n,r);a<s;){for(XO(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?XO(e,n,s):(++s,XO(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function XO(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $O(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return KO(e);if(t>=1)return GO(e);var r,i=(r-1)*t,o=Math.floor(i),a=GO(JO(e,o).subarray(0,o+1));return a+(KO(e.subarray(o+1))-a)*(i-o)}}function QO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JE;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function eL(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=QO(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[QE(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(GE),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return eL().domain(t).range(n).unknown(e)},HN.apply(o,arguments)}function tL(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[QE(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return tL().domain([t,n]).range(o).unknown(e)},HN.apply(wO(a),arguments)}function nL(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[QE(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return nL().domain(t).range(n).unknown(e)},HN.apply(i,arguments)}mO=bO({thousands:",",grouping:[3],currency:["$",""]}),gO=mO.format,vO=mO.formatPrefix;const rL=1e3,iL=6e4,oL=36e5,aL=864e5,sL=6048e5,lL=2592e6,cL=31536e6,dL=new Date,uL=new Date;function hL(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>hL((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(dL.setTime(+t),uL.setTime(+r),e(dL),e(uL),Math.floor(n(dL,uL))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const pL=hL((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));pL.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?hL((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):pL:null);pL.range;const fL=hL((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*rL)}),((e,t)=>(t-e)/rL),(e=>e.getUTCSeconds())),mL=(fL.range,hL((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rL)}),((e,t)=>{e.setTime(+e+t*iL)}),((e,t)=>(t-e)/iL),(e=>e.getMinutes()))),gL=(mL.range,hL((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*iL)}),((e,t)=>(t-e)/iL),(e=>e.getUTCMinutes()))),vL=(gL.range,hL((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rL-e.getMinutes()*iL)}),((e,t)=>{e.setTime(+e+t*oL)}),((e,t)=>(t-e)/oL),(e=>e.getHours()))),yL=(vL.range,hL((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*oL)}),((e,t)=>(t-e)/oL),(e=>e.getUTCHours()))),xL=(yL.range,hL((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*iL)/aL),(e=>e.getDate()-1))),bL=(xL.range,hL((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/aL),(e=>e.getUTCDate()-1))),jL=(bL.range,hL((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/aL),(e=>Math.floor(e/aL))));jL.range;function wL(e){return hL((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*iL)/sL))}const kL=wL(0),SL=wL(1),_L=wL(2),AL=wL(3),CL=wL(4),PL=wL(5),IL=wL(6);kL.range,SL.range,_L.range,AL.range,CL.range,PL.range,IL.range;function TL(e){return hL((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/sL))}const NL=TL(0),EL=TL(1),zL=TL(2),OL=TL(3),LL=TL(4),DL=TL(5),RL=TL(6),ML=(NL.range,EL.range,zL.range,OL.range,LL.range,DL.range,RL.range,hL((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),BL=(ML.range,hL((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),FL=(BL.range,hL((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));FL.every=e=>isFinite(e=Math.floor(e))&&e>0?hL((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;FL.range;const WL=hL((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));WL.every=e=>isFinite(e=Math.floor(e))&&e>0?hL((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;WL.range;function UL(e,t,n,r,i,o){const a=[[fL,1,rL],[fL,5,5e3],[fL,15,15e3],[fL,30,3e4],[o,1,iL],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,oL],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,aL],[r,2,1728e5],[n,1,sL],[t,1,lL],[t,3,7776e6],[e,1,cL]];function s(t,n,r){const i=Math.abs(n-t)/r,o=YE((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(VE(t/cL,n/cL,r));if(0===o)return pL.every(Math.max(VE(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[qL,HL]=UL(WL,BL,NL,jL,yL,gL),[VL,GL]=UL(FL,ML,kL,xL,vL,mL);function KL(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YL(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ZL(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var JL,XL,$L,QL={"-":"",_:" ",0:"0"},eD=/^\s*\d+/,tD=/^%/,nD=/[\\^$*+?|[\]().{}]/g;function rD(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function iD(e){return e.replace(nD,"\\$&")}function oD(e){return new RegExp("^(?:"+e.map(iD).join("|")+")","i")}function aD(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function sD(e,t,n){var r=eD.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lD(e,t,n){var r=eD.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function cD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function uD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hD(e,t,n){var r=eD.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mD(e,t,n){var r=eD.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function gD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function vD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yD(e,t,n){var r=eD.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jD(e,t,n){var r=eD.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function wD(e,t,n){var r=eD.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kD(e,t,n){var r=eD.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function SD(e,t,n){var r=tD.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _D(e,t,n){var r=eD.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function AD(e,t,n){var r=eD.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function CD(e,t){return rD(e.getDate(),t,2)}function PD(e,t){return rD(e.getHours(),t,2)}function ID(e,t){return rD(e.getHours()%12||12,t,2)}function TD(e,t){return rD(1+xL.count(FL(e),e),t,3)}function ND(e,t){return rD(e.getMilliseconds(),t,3)}function ED(e,t){return ND(e,t)+"000"}function zD(e,t){return rD(e.getMonth()+1,t,2)}function OD(e,t){return rD(e.getMinutes(),t,2)}function LD(e,t){return rD(e.getSeconds(),t,2)}function DD(e){var t=e.getDay();return 0===t?7:t}function RD(e,t){return rD(kL.count(FL(e)-1,e),t,2)}function MD(e){var t=e.getDay();return t>=4||0===t?CL(e):CL.ceil(e)}function BD(e,t){return e=MD(e),rD(CL.count(FL(e),e)+(4===FL(e).getDay()),t,2)}function FD(e){return e.getDay()}function WD(e,t){return rD(SL.count(FL(e)-1,e),t,2)}function UD(e,t){return rD(e.getFullYear()%100,t,2)}function qD(e,t){return rD((e=MD(e)).getFullYear()%100,t,2)}function HD(e,t){return rD(e.getFullYear()%1e4,t,4)}function VD(e,t){var n=e.getDay();return rD((e=n>=4||0===n?CL(e):CL.ceil(e)).getFullYear()%1e4,t,4)}function GD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rD(t/60|0,"0",2)+rD(t%60,"0",2)}function KD(e,t){return rD(e.getUTCDate(),t,2)}function YD(e,t){return rD(e.getUTCHours(),t,2)}function ZD(e,t){return rD(e.getUTCHours()%12||12,t,2)}function JD(e,t){return rD(1+bL.count(WL(e),e),t,3)}function XD(e,t){return rD(e.getUTCMilliseconds(),t,3)}function $D(e,t){return XD(e,t)+"000"}function QD(e,t){return rD(e.getUTCMonth()+1,t,2)}function eR(e,t){return rD(e.getUTCMinutes(),t,2)}function tR(e,t){return rD(e.getUTCSeconds(),t,2)}function nR(e){var t=e.getUTCDay();return 0===t?7:t}function rR(e,t){return rD(NL.count(WL(e)-1,e),t,2)}function iR(e){var t=e.getUTCDay();return t>=4||0===t?LL(e):LL.ceil(e)}function oR(e,t){return e=iR(e),rD(LL.count(WL(e),e)+(4===WL(e).getUTCDay()),t,2)}function aR(e){return e.getUTCDay()}function sR(e,t){return rD(EL.count(WL(e)-1,e),t,2)}function lR(e,t){return rD(e.getUTCFullYear()%100,t,2)}function cR(e,t){return rD((e=iR(e)).getUTCFullYear()%100,t,2)}function dR(e,t){return rD(e.getUTCFullYear()%1e4,t,4)}function uR(e,t){var n=e.getUTCDay();return rD((e=n>=4||0===n?LL(e):LL.ceil(e)).getUTCFullYear()%1e4,t,4)}function hR(){return"+0000"}function pR(){return"%"}function fR(e){return+e}function mR(e){return Math.floor(+e/1e3)}function gR(e){return new Date(e)}function vR(e){return e instanceof Date?+e:+new Date(+e)}function yR(e,t,n,r,i,o,a,s,l,c){var d=oO(),u=d.invert,h=d.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function j(e){return(l(e)<e?p:s(e)<e?f:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?x:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,vR)):h().map(gR)},d.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(_O(n,e)):d},d.copy=function(){return rO(d,yR(e,t,n,r,i,o,a,s,l,c))},d}function xR(){return HN.apply(yR(VL,GL,FL,ML,kL,xL,vL,mL,fL,XL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bR(){return HN.apply(yR(qL,HL,WL,BL,NL,bL,yL,gL,fL,$L).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jR(){var e,t,n,r,i,o=0,a=1,s=Qz,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=d(Zz),c.rangeRound=d(Jz),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function wR(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kR(){var e=wO(jR()(Qz));return e.copy=function(){return wR(e,kR())},VN.apply(e,arguments)}function SR(){var e=EO(jR()).domain([1,10]);return e.copy=function(){return wR(e,SR()).base(e.base())},VN.apply(e,arguments)}function _R(){var e=DO(jR());return e.copy=function(){return wR(e,_R()).constant(e.constant())},VN.apply(e,arguments)}function AR(){var e=WO(jR());return e.copy=function(){return wR(e,AR()).exponent(e.exponent())},VN.apply(e,arguments)}function CR(){return AR.apply(null,arguments).exponent(.5)}function PR(){var e=[],t=Qz;function n(n){if(null!=n&&!isNaN(n=+n))return t((QE(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(GE),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>$O(e,r/t)))},n.copy=function(){return PR(t).domain(e)},VN.apply(n,arguments)}function IR(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,d=1,u=Qz,h=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(d*e<d*t?r:i),u(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,u=function(e,t){void 0===t&&(t=e,e=Zz);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[u(0),u(.5),u(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=f(Zz),p.rangeRound=f(Jz),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d=t<e?-1:1,p}}function TR(){var e=wO(IR()(Qz));return e.copy=function(){return wR(e,TR())},VN.apply(e,arguments)}function NR(){var e=EO(IR()).domain([.1,1,10]);return e.copy=function(){return wR(e,NR()).base(e.base())},VN.apply(e,arguments)}function ER(){var e=DO(IR());return e.copy=function(){return wR(e,ER()).constant(e.constant())},VN.apply(e,arguments)}function zR(){var e=WO(IR());return e.copy=function(){return wR(e,zR()).exponent(e.exponent())},VN.apply(e,arguments)}function OR(){return zR.apply(null,arguments).exponent(.5)}function LR(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){JL=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=oD(i),d=aD(i),u=oD(o),h=aD(o),p=oD(a),f=aD(a),m=oD(s),g=aD(s),v=oD(l),y=aD(l),x={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:CD,e:CD,f:ED,g:qD,G:VD,H:PD,I:ID,j:TD,L:ND,m:zD,M:OD,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:fR,s:mR,S:LD,u:DD,U:RD,V:BD,w:FD,W:WD,x:null,X:null,y:UD,Y:HD,Z:GD,"%":pR},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:KD,e:KD,f:$D,g:cR,G:uR,H:YD,I:ZD,j:JD,L:XD,m:QD,M:eR,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:fR,s:mR,S:tR,u:nR,U:rR,V:oR,w:aR,W:sR,x:null,X:null,y:lR,Y:dR,Z:hR,"%":pR},j={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:vD,e:vD,f:kD,g:pD,G:hD,H:xD,I:xD,j:yD,L:wD,m:gD,M:bD,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:mD,Q:_D,s:AD,S:jD,u:lD,U:cD,V:dD,w:sD,W:uD,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:pD,Y:hD,Z:fD,"%":SD};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=QL[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=ZL(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=YL(ZL(o.y,0,1))).getUTCDay(),r=i>4||0===i?EL.ceil(r):EL(r),r=bL.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=KL(ZL(o.y,0,1))).getDay(),r=i>4||0===i?SL.ceil(r):SL(r),r=xL.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?YL(ZL(o.y,0,1)).getUTCDay():KL(ZL(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,YL(o)):KL(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=j[i in QL?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),XL=JL.format,JL.parse,$L=JL.utcFormat,JL.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function DR(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function RR(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function MR(e,t){return e[t]}function BR(e){const t=[];return t.key=e,t}var FR=n(539),WR=n.n(FR),UR=n(6745),qR=n.n(UR),HR=n(3538),VR=n.n(HR),GR=n(9853),KR=n.n(GR),YR=n(8210),ZR=n.n(YR);function JR(e){return function(e){if(Array.isArray(e))return XR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return XR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $R=function(e){return e},QR={"@@functional/placeholder":!0},eM=function(e){return e===QR},tM=function(e){return function t(){return 0===arguments.length||1===arguments.length&&eM(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},nM=function e(t,n){return 1===t?n:tM((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==QR})).length;return a>=t?n.apply(void 0,i):e(t-a,tM((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return eM(e)?t.shift():e}));return n.apply(void 0,JR(o).concat(t))})))}))},rM=function(e){return nM(e.length,e)},iM=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},oM=rM((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),aM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return $R;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},sM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lM=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var cM=rM((function(e,t,n){var r=+e;return r+n*(+t-r)})),dM=rM((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uM=rM((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const hM={rangeStep:function(e,t,n){for(var r=new(ZR())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(ZR())(e).abs().log(10).toNumber())+1},interpolateNumber:cM,uninterpolateNumber:dM,uninterpolateTruncation:uM};function pM(e){return function(e){if(Array.isArray(e))return gM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||mM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||mM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mM(e,t){if(e){if("string"===typeof e)return gM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gM(e,t):void 0}}function gM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vM(e){var t=fM(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function yM(e,t,n){if(e.lte(0))return new(ZR())(0);var r=hM.getDigitCount(e.toNumber()),i=new(ZR())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(ZR())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(ZR())(Math.ceil(s))}function xM(e,t,n){var r=1,i=new(ZR())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(ZR())(10).pow(hM.getDigitCount(e)-1),i=new(ZR())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(ZR())(Math.floor(e)))}else 0===e?i=new(ZR())(Math.floor((t-1)/2)):n||(i=new(ZR())(Math.floor(e)));var a=Math.floor((t-1)/2);return aM(oM((function(e){return i.add(new(ZR())(e-a).mul(r)).toNumber()})),iM)(0,t)}function bM(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(ZR())(0),tickMin:new(ZR())(0),tickMax:new(ZR())(0)};var o,a=yM(new(ZR())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(ZR())(0):(o=new(ZR())(e).add(t).div(2)).sub(new(ZR())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(ZR())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?bM(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(ZR())(s).mul(a)),tickMax:o.add(new(ZR())(l).mul(a))})}var jM=lM((function(e){var t=fM(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=fM(vM([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(pM(iM(0,i-1).map((function(){return 1/0})))):[].concat(pM(iM(0,i-1).map((function(){return-1/0}))),[c]);return n>r?sM(d):d}if(l===c)return xM(l,i,o);var u=bM(l,c,a,o),h=u.step,p=u.tickMin,f=u.tickMax,m=hM.rangeStep(p,f.add(new(ZR())(.1).mul(h)),h);return n>r?sM(m):m})),wM=(lM((function(e){var t=fM(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=fM(vM([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return xM(l,i,o);var d=yM(new(ZR())(c).sub(l).div(a-1),o,0),u=aM(oM((function(e){return new(ZR())(l).add(new(ZR())(e).mul(d)).toNumber()})),iM)(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?sM(u):u})),lM((function(e,t){var n=fM(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=fM(vM([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),d=yM(new(ZR())(l).sub(s).div(c-1),o,0),u=[].concat(pM(hM.rangeStep(new(ZR())(s),new(ZR())(l).sub(new(ZR())(.99).mul(d)),d)),[l]);return r>i?sM(u):u}))),kM=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function SM(e){return SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(e)}function _M(){return _M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_M.apply(this,arguments)}function AM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LM(r.key),r)}}function TM(e,t,n){return t=EM(t),function(e,t){if(t&&("object"===SM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NM()?Reflect.construct(t,n||[],EM(e).constructor):t.apply(e,n))}function NM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NM=function(){return!!e})()}function EM(e){return EM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EM(e)}function zM(e,t){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zM(e,t)}function OM(e,t,n){return(t=LM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(e){var t=function(e,t){if("object"!=SM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SM(t)?t:t+""}var DM=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),TM(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zM(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=PM(e,kM),u=mC(d,!1);"x"===this.props.direction&&"number"!==l.type&&NC(!1);var h=a.map((function(e){var a=s(e,o),d=a.x,h=a.y,p=a.value,f=a.errorVal;if(!f)return null;var m,g,v=[];if(Array.isArray(f)){var y=AM(f,2);m=y[0],g=y[1]}else m=g=f;if("vertical"===r){var x=l.scale,b=h+n,j=b+i,w=b-i,k=x(p-m),S=x(p+g);v.push({x1:S,y1:j,x2:S,y2:w}),v.push({x1:k,y1:b,x2:S,y2:b}),v.push({x1:k,y1:j,x2:k,y2:w})}else if("horizontal"===r){var _=c.scale,A=d+n,C=A-i,P=A+i,I=_(p-m),T=_(p+g);v.push({x1:C,y1:T,x2:P,y2:T}),v.push({x1:A,y1:I,x2:A,y2:T}),v.push({x1:C,y1:I,x2:P,y2:I})}return t.createElement(BC,_M({className:"recharts-errorBar",key:"bar-".concat(v.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),v.map((function(e){return t.createElement("line",_M({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return t.createElement(BC,{className:"recharts-errorBars"},h)}}],i&&IM(r.prototype,i),o&&IM(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function RM(e){return RM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RM(e)}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(n),!0).forEach((function(t){FM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}OM(DM,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),OM(DM,"displayName","ErrorBar");var WM=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=uC(t,tT);if(!o)return null;var a,s=tT.defaultProps,l=void 0!==s?BM(BM({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?BM(BM({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:JM(t),value:o||i,payload:r}})),BM(BM(BM({},l),tT.getWithHeight(o,r)),{},{payload:a,item:o})};function UM(e){return UM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UM(e)}function qM(e){return function(e){if(Array.isArray(e))return HM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return HM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VM(Object(n),!0).forEach((function(t){KM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YM(e,t,n){return UA()(e)||UA()(t)?n:EA(t)?AA()(e,t,n):HA()(t)?t(e):n}function ZM(e,t,n,r){var i=VR()(e,(function(e){return YM(e,t)}));if("number"===n){var o=i.filter((function(e){return NA(e)||parseFloat(e)}));return o.length?[qR()(o),WR()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!UA()(e)})):i).map((function(e){return EA(e)||e instanceof Date?e:""}))}var JM=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?GM(GM({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},XM=function(e,t,n,r,i){var o=dC(t.props.children,DM).filter((function(e){return function(e,t,n){return!!UA()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=YM(t,n);if(UA()(r))return e;var i=Array.isArray(r)?[qR()(r),WR()(r)]:[r,r],o=a.reduce((function(e,n){var r=YM(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},$M=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&XM(e,t,o,r)||ZM(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},QM=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},eB=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},tB=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*IA(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!SA()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},nB=new WeakMap,rB=function(e,t){if("function"!==typeof t)return e;nB.has(e)||nB.set(e,new WeakMap);var n=nB.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},iB=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:QN(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:kO(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:tE(),realScaleType:"point"}:"category"===o?{scale:QN(),realScaleType:"band"}:{scale:kO(),realScaleType:"linear"};if(wA()(i)){var l="scale".concat(IP()(i));return{scale:(e[l]||tE)(),realScaleType:e[l]?l:"point"}}return HA()(i)?{scale:i}:{scale:tE(),realScaleType:"point"}},oB=1e-4,aB=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-oB,o=Math.max(r[0],r[1])+oB,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},sB={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=SA()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}LR(e,t)}},none:LR,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}LR(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var d=e[t[s]],u=d[a][1]||0,h=(u-(d[a-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[a][1]||0)-(f[a-1][1]||0)}l+=u,c+=h*u}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,LR(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=SA()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},lB=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=sB[n],o=function(){var e=$P([]),t=RR,n=LR,r=MR;function i(i){var o,a,s=Array.from(e.apply(this,arguments),BR),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=DR(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:$P(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:$P(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?RR:"function"===typeof e?e:$P(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?LR:e,i):n},i}().keys(r).value((function(e,t){return+YM(e,t,0)})).order(RR).offset(i);return o(e)},cB=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=jM(l,i,a);return e.domain([qR()(c),WR()(c)]),{niceTicks:c}}if(i&&"number"===r){var d=e.domain();return{niceTicks:wM(d,i,a)}}return null};var dB=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=YM(o,t.dataKey,t.domain[a]);return UA()(s)?null:t.scale(s)-i/2+r},uB=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[qR()(t.concat([e[0]]).filter(NA)),WR()(t.concat([e[1]]).filter(NA))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},hB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fB=function(e,t,n){if(HA()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(NA(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(hB.test(e[0])){var i=+hB.exec(e[0])[1];r[0]=t[0]-i}else HA()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(NA(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(pB.test(e[1])){var o=+pB.exec(e[1])[1];r[1]=t[1]+o}else HA()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},mB=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=IC()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},gB=function(e,t,n){return e&&e.length?KR()(e,AA()(n,"type.defaultProps.domain"))?t:e:t},vB=function(e,t){var n=e.type.defaultProps?GM(GM({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return GM(GM({},mC(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:JM(e),value:YM(t,r),type:s,payload:t,chartType:l,hide:c})};function yB(e){return yB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yB(e)}function xB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xB(Object(n),!0).forEach((function(t){jB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wB=["Webkit","Moz","O","ms"];function kB(e){return kB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kB(e)}function SB(){return SB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SB.apply(this,arguments)}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(n),!0).forEach((function(t){EB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zB(r.key),r)}}function PB(e,t,n){return t=TB(t),function(e,t){if(t&&("object"===kB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,IB()?Reflect.construct(t,n||[],TB(e).constructor):t.apply(e,n))}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(IB=function(){return!!e})()}function TB(e){return TB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TB(e)}function NB(e,t){return NB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NB(e,t)}function EB(e,t,n){return(t=zB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zB(e){var t=function(e,t){if("object"!=kB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kB(t)?t:t+""}var OB=function(e){return e.changedTouches&&!!e.changedTouches.length},LB=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),EB(t=PB(this,n,[e]),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),EB(t,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),EB(t,"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:i})})),t.detachDragEndListener()})),EB(t,"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),EB(t,"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),EB(t,"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),EB(t,"handleSlideDragStart",(function(e){var n=OB(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NB(e,t)}(n,e),r=n,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(t,r),c=Math.max(t,r),d=n.getIndexInRange(i,l),u=n.getIndexInRange(i,c);return{startIndex:d-d%a,endIndex:u===s?s:u-u%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=YM(n[e],i,e);return HA()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,d=o.endIndex,u=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var p=this.getIndex({startX:r+h,endX:i+h});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=OB(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,d=s.travellerWidth,u=s.onChange,h=s.gap,p=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-d-a):m<0&&(m=Math.max(m,l-a)),f[r]=a+m;var g=this.getIndex(f),v=g.startIndex,y=g.endIndex;this.setState(EB(EB({},r,a+m),"brushMoveStartX",e.pageX),(function(){u&&function(){var e=p.length-1;return"startX"===r&&(i>o?v%h===0:y%h===0)||i<o&&y===e||"endX"===r&&(i>o?y%h===0:v%h===0)||i>o&&y===e}()&&u(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var d=i[c];"startX"===t&&d>=a||"endX"===t&&d<=o||this.setState(EB({},t,d),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:a,x:n,y:r,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,r){var i,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,d=s.height,u=s.traveller,h=s.ariaLabel,p=s.data,f=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),v=AB(AB({},mC(this.props,!1)),{},{x:g,y:l,width:c,height:d}),y=h||"Min value: ".concat(null===(i=p[f])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=p[m])||void 0===o?void 0:o.name);return t.createElement(BC,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(u,v))}},{key:"renderSlide",value:function(e,n){var r=this.props,i=r.y,o=r.height,a=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:s};return t.createElement(BC,{className:"recharts-brush-texts"},t.createElement(ME,SB({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:i+o/2},u),this.getTextOfTick(n)),t.createElement(ME,SB({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+a+5,y:i+o/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,h=d.endX,p=d.isTextActive,f=d.isSlideMoving,m=d.isTravellerMoving,g=d.isTravellerFocused;if(!n||!n.length||!NA(o)||!NA(a)||!NA(s)||!NA(l)||s<=0||l<=0)return null;var v=yA("recharts-brush",r),y=1===t.Children.count(i),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=wB.reduce((function(e,r){return bB(bB({},e),{},jB({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return t.createElement(BC,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(p||f||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(r+o/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:i,height:o,fill:a,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+i-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):HA()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return AB({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=tE().domain(CC()(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&CB(r.prototype,i),o&&CB(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function DB(e){return DB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DB(e)}function RB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RB(Object(n),!0).forEach((function(t){BB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return WB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}EB(LB,"displayName","Brush"),EB(LB,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var UB=Math.PI/180,qB=function(e){return 180*e/Math.PI},HB=function(e,t,n,r){return{x:e+Math.cos(-UB*r)*n,y:t+Math.sin(-UB*r)*n}},VB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},GB=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:qB(l),angleInRadian:l}},KB=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},YB=function(e,t){var n=e.x,r=e.y,i=GB({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,d=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),u=d.startAngle,h=d.endAngle,p=a;if(u<=h){for(;p>h;)p-=360;for(;p<u;)p+=360;c=p>=u&&p<=h}else{for(;p>u;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=u}return c?MB(MB({},t),{},{radius:o,angle:KB(p,t)}):null},ZB=function(e){return(0,t.isValidElement)(e)||HA()(e)||"boolean"===typeof e?"":e.className};function JB(e){return JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JB(e)}var XB=["offset"];function $B(e){return function(e){if(Array.isArray(e))return QB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return QB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach((function(t){rF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=JB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(){return iF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iF.apply(this,arguments)}var oF=function(e,n,r){var i,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,d=s,u=d.cx,h=d.cy,p=d.innerRadius,f=d.outerRadius,m=d.startAngle,g=d.endAngle,v=d.clockWise,y=(p+f)/2,x=function(e,t){return IA(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===a?(i=m+b*l,o=v):"insideEnd"===a?(i=g-b*l,o=!v):"end"===a&&(i=g+b*l,o=v),o=x<=0?o:!o;var j=HB(u,h,y,i),w=HB(u,h,y,i+359*(o?1:-1)),k="M".concat(j.x,",").concat(j.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=UA()(e.id)?OA("recharts-radial-line-"):e.id;return t.createElement("text",iF({},r,{dominantBaseline:"central",className:yA("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))};function aF(e){var n,r=e.offset,i=nF({offset:void 0===r?5:r},eF(e,XB)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,u=void 0===d?"":d,h=i.textBreakAll;if(!o||UA()(s)&&UA()(l)&&!(0,t.isValidElement)(c)&&!HA()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,i);if(HA()(c)){if(n=(0,t.createElement)(c,i),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=UA()(e.children)?t:e.children;return HA()(n)?n(r):r}(i);var p=function(e){return"cx"in e&&NA(e.cx)}(o),f=mC(i,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return oF(i,n,f);var m=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var d=HB(o,a,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=HB(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,d=c>=0?1:-1,u=d*r,h=d>0?"end":"start",p=d>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",v=f>0?"start":"end";if("top"===i)return nF(nF({},{x:a+l/2,y:s-d*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return nF(nF({},{x:a+l/2,y:s+c+u,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var y={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return nF(nF({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===i){var x={x:a+l+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return nF(nF({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===i?nF({x:a+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideRight"===i?nF({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===i?nF({x:a+l/2,y:s+u,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===i?nF({x:a+l/2,y:s+c-u,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===i?nF({x:a+m,y:s+u,textAnchor:v,verticalAnchor:p},b):"insideTopRight"===i?nF({x:a+l-m,y:s+u,textAnchor:g,verticalAnchor:p},b):"insideBottomLeft"===i?nF({x:a+m,y:s+c-u,textAnchor:v,verticalAnchor:h},b):"insideBottomRight"===i?nF({x:a+l-m,y:s+c-u,textAnchor:g,verticalAnchor:h},b):GA()(i)&&(NA(i.x)||TA(i.x))&&(NA(i.y)||TA(i.y))?nF({x:a+LA(i.x,l),y:s+LA(i.y,c),textAnchor:"end",verticalAnchor:"end"},b):nF({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(i);return t.createElement(ME,iF({className:yA("recharts-label",u)},f,m,{breakAll:h}),n)}aF.displayName="Label";var sF=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(NA(f)&&NA(m)){if(NA(d)&&NA(u))return{x:d,y:u,width:f,height:m};if(NA(h)&&NA(p))return{x:h,y:p,width:f,height:m}}return NA(d)&&NA(u)?{x:d,y:u,width:0,height:0}:NA(t)&&NA(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};aF.parseViewBox=sF,aF.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=sF(e),a=dC(i,aF).map((function(e,r){return(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)})}));if(!r)return a;var s=function(e,n){return e?!0===e?t.createElement(aF,{key:"label-implicit",viewBox:n}):EA(e)?t.createElement(aF,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===aF?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(aF,{key:"label-implicit",content:e,viewBox:n}):HA()(e)?t.createElement(aF,{key:"label-implicit",content:e,viewBox:n}):GA()(e)?t.createElement(aF,iF({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||o);return[s].concat($B(a))};var lF=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},cF=n(1733),dF=n.n(cF),uF=n(7002),hF=n.n(uF),pF=function(e){return null};pF.displayName="Cell";var fF=n(4065),mF=n.n(fF);function gF(e){return gF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gF(e)}var vF=["valueAccessor"],yF=["data","dataKey","clockWise","id","textBreakAll"];function xF(e){return function(e){if(Array.isArray(e))return bF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jF(){return jF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jF.apply(this,arguments)}function wF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wF(Object(n),!0).forEach((function(t){SF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=gF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _F(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var AF=function(e){return Array.isArray(e.value)?mF()(e.value):e.value};function CF(e){var n=e.valueAccessor,r=void 0===n?AF:n,i=_F(e,vF),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,d=_F(i,yF);return o&&o.length?t.createElement(BC,{className:"recharts-label-list"},o.map((function(e,n){var i=UA()(a)?r(e,n):YM(e&&e.payload,a),o=UA()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(aF,jF({},mC(e,!0),d,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:aF.parseViewBox(UA()(s)?e:kF(kF({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))}))):null}CF.displayName="LabelList",CF.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=dC(e.children,CF).map((function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})}));if(!r)return i;var o=function(e,n){return e?!0===e?t.createElement(CF,{key:"labelList-implicit",data:n}):t.isValidElement(e)||HA()(e)?t.createElement(CF,{key:"labelList-implicit",data:n,content:e}):GA()(e)?t.createElement(CF,jF({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n);return[o].concat(xF(i))};var PF=n(2322),IF=n.n(PF),TF=n(6361),NF=n.n(TF);function EF(e){return EF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EF(e)}function zF(){return zF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zF.apply(this,arguments)}function OF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return LF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DF(Object(n),!0).forEach((function(t){MF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=EF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BF=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},FF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WF=function(e){var n=RF(RF({},FF),e),r=(0,t.useRef)(),i=OF((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=n.x,l=n.y,c=n.upperWidth,d=n.lowerWidth,u=n.height,h=n.className,p=n.animationEasing,f=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var v=yA("recharts-trapezoid",h);return g?t.createElement(EN,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:s,y:l},duration:f,animationEasing:p,isActive:g},(function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(EN,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,easing:p},t.createElement("path",zF({},mC(n,!0),{className:v,d:BF(l,c,i,a,s),ref:r})))})):t.createElement("g",null,t.createElement("path",zF({},mC(n,!0),{className:v,d:BF(s,l,c,d,u)})))};function UF(e){return UF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UF(e)}function qF(){return qF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qF.apply(this,arguments)}function HF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HF(Object(n),!0).forEach((function(t){GF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KF=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,d=Math.asin(s/c)/UB,u=l?i:i+o*d,h=l?i-o*d:i;return{center:HB(t,n,c,u),circleTangency:HB(t,n,r,u),lineTangency:HB(t,n,c*Math.cos(d*UB),h),theta:d}},YF=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return IA(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=HB(t,n,i,o),c=HB(t,n,i,s),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var u=HB(t,n,r,o),h=HB(t,n,r,s);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},ZF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JF=function(e){var n=VF(VF({},ZF),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,h=n.className;if(a<o||d===u)return null;var p,f=yA("recharts-sector",h),m=a-o,g=LA(s,m,0,!0);return p=g>0&&Math.abs(d-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=IA(c-l),u=KF({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:o,cornerIsExternal:s}),h=u.circleTangency,p=u.lineTangency,f=u.theta,m=KF({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,v=m.lineTangency,y=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-f-y;if(x<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):YF({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var j=KF({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=j.circleTangency,k=j.lineTangency,S=j.theta,_=KF({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),A=_.circleTangency,C=_.lineTangency,P=_.theta,I=s?Math.abs(l-c):Math.abs(l-c)-S-P;if(I<0&&0===o)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):YF({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:u}),t.createElement("path",qF({},mC(n,!0),{className:f,d:p,role:"img"}))},XF=["option","shapeType","propTransformer","activeClassName","isActive"];function $F(e){return $F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$F(e)}function QF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach((function(t){nW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$F(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e,t){return tW(tW({},t),e)}function iW(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(qN,r);case"trapezoid":return t.createElement(WF,r);case"sector":return t.createElement(JF,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(II,r);break;default:return null}}function oW(e){var n,r=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?rW:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,d=QF(e,XF);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,tW(tW({},d),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(HA()(r))n=r(d);else if(IF()(r)&&!NF()(r)){var u=a(r,d);n=t.createElement(iW,{shapeType:i,elementProps:u})}else{var h=d;n=t.createElement(iW,{shapeType:i,elementProps:h})}return c?t.createElement(BC,{className:l},n):n}function aW(e,t){return null!=t&&"trapezoids"in e.props}function sW(e,t){return null!=t&&"sectors"in e.props}function lW(e,t){return null!=t&&"points"in e.props}function cW(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function dW(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function uW(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function hW(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return aW(e,t)?n="trapezoids":sW(e,t)?n="sectors":lW(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return aW(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:sW(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:lW(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=KR()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return aW(e,t)?n=cW:sW(e,t)?n=dW:lW(e,t)&&(n=uW),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var pW=["x","y"];function fW(e){return fW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fW(e)}function mW(){return mW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mW.apply(this,arguments)}function gW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gW(Object(n),!0).forEach((function(t){yW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fW(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bW(e,t){var n=e.x,r=e.y,i=xW(e,pW),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),u="".concat(t.width||i.width),h=parseInt(u,10);return vW(vW(vW(vW(vW({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function jW(e){return t.createElement(oW,mW({shapeType:"rectangle",propTransformer:bW,activeClassName:"recharts-active-bar"},e))}var wW,kW=["value","background"];function SW(e){return SW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SW(e)}function _W(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AW(){return AW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AW.apply(this,arguments)}function CW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CW(Object(n),!0).forEach((function(t){OW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LW(r.key),r)}}function TW(e,t,n){return t=EW(t),function(e,t){if(t&&("object"===SW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NW()?Reflect.construct(t,n||[],EW(e).constructor):t.apply(e,n))}function NW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NW=function(){return!!e})()}function EW(e){return EW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EW(e)}function zW(e,t){return zW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zW(e,t)}function OW(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=function(e,t){if("object"!=SW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SW(t)?t:t+""}var DW=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return OW(e=TW(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),OW(e,"id",OA("recharts-bar-")),OW(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),OW(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zW(e,t)}(n,e),r=n,i=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,i=r.shape,o=r.dataKey,a=r.activeIndex,s=r.activeBar,l=mC(this.props,!1);return e&&e.map((function(e,r){var c=r===a,d=c?s:i,u=PW(PW(PW({},l),e),{},{isActive:c,option:d,index:r,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(BC,AW({className:"recharts-bar-rectangle"},tC(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(jW,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,i=n.layout,o=n.isAnimationActive,a=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,d=this.state.prevData;return t.createElement(EN,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var o=n.t,a=r.map((function(e,t){var n=d&&d[t];if(n){var r=RA(n.x,e.x),a=RA(n.y,e.y),s=RA(n.width,e.width),l=RA(n.height,e.height);return PW(PW({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=RA(0,e.height)(o);return PW(PW({},e),{},{y:e.y+e.height-c,height:c})}var u=RA(0,e.width)(o);return PW(PW({},e),{},{width:u})}));return t.createElement(BC,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&KR()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,i=n.dataKey,o=n.activeIndex,a=mC(this.props.background,!1);return r.map((function(n,r){n.value;var s=n.background,l=_W(n,kW);if(!s)return null;var c=PW(PW(PW(PW(PW({},l),{},{fill:"#eee"},s),a),tC(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(jW,AW({key:"background-bar-".concat(r),option:e.props.background,isActive:r===o},c))}))}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.data,o=r.xAxis,a=r.yAxis,s=r.layout,l=dC(r.children,DM);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,d=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:YM(e,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(BC,u,l.map((function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:d})})))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,h=e.background,p=e.id;if(n||!r||!r.length)return null;var f=this.state.isAnimationFinished,m=yA("recharts-bar",i),g=o&&o.allowDataOverflow,v=a&&a.allowDataOverflow,y=g||v,x=UA()(p)?this.id:p;return t.createElement(BC,{className:m},g||v?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?s:s-c/2,y:v?l:l-d/2,width:g?c:2*c,height:v?d:2*d}))):null,t.createElement(BC,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,x),(!u||f)&&CF.renderCallByParent(this.props,r))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&IW(r.prototype,i),o&&IW(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function RW(e){return RW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RW(e)}function MW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UW(r.key),r)}}function BW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BW(Object(n),!0).forEach((function(t){WW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=function(e,t){if("object"!=RW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RW(t)?t:t+""}wW=DW,OW(DW,"displayName","Bar"),OW(DW,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hP.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),OW(DW,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var f=t.layout,m=n.type.defaultProps,g=void 0!==m?PW(PW({},m),n.props):n.props,v=g.dataKey,y=g.children,x=g.minPointSize,b="horizontal"===f?a:o,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),k=dC(y,pF),S=u.map((function(e,t){var r,u,h,m,g,y;c?r=function(e,t){if(!t||2!==t.length||!NA(t[0])||!NA(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!NA(e[0])||e[0]<n)&&(i[0]=n),(!NA(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[d+t],j):(r=YM(e,v),Array.isArray(r)||(r=[w,r]));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||NC(!1),t)}}(x,wW.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var S,_=[a.scale(r[0]),a.scale(r[1])],A=_[0],C=_[1];u=dB({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:e,index:t}),h=null!==(S=null!==C&&void 0!==C?C:A)&&void 0!==S?S:void 0,m=p.size;var P=A-C;if(g=Number.isNaN(P)?0:P,y={x:u,y:a.y,width:m,height:a.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var I=IA(g||b)*(Math.abs(b)-Math.abs(g));h-=I,g+=I}}else{var T=[o.scale(r[0]),o.scale(r[1])],N=T[0],E=T[1];if(u=N,h=dB({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),m=E-N,g=p.size,y={x:o.x,y:h,width:o.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=IA(m||b)*(Math.abs(b)-Math.abs(m))}return PW(PW(PW({},e),{},{x:u,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:y},k&&k[t]&&k[t].props),{},{tooltipPayload:[vB(n,e)],tooltipPosition:{x:u+m/2,y:h+g/2}})}));return PW({data:S,layout:f},h)}));var qW=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},HW=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&MW(t.prototype,n),r&&MW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();WW(HW,"EPS",1e-4);var VW=function(e){var t=Object.keys(e).reduce((function(t,n){return FW(FW({},t),{},WW({},n,HW.create(e[n])))}),{});return FW(FW({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return dF()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return hF()(e,(function(e,n){return t[n].isInRange(e)}))}})};function GW(){return GW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GW.apply(this,arguments)}function KW(e){return KW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KW(e)}function YW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YW(Object(n),!0).forEach((function(t){tU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nU(r.key),r)}}function XW(e,t,n){return t=QW(t),function(e,t){if(t&&("object"===KW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$W()?Reflect.construct(t,n||[],QW(e).constructor):t.apply(e,n))}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($W=function(){return!!e})()}function QW(e){return QW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QW(e)}function eU(e,t){return eU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eU(e,t)}function tU(e,t,n){return(t=nU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nU(e){var t=function(e,t){if("object"!=KW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KW(t)?t:t+""}var rU=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),XW(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eU(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,r=e.x,i=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=EA(r),c=EA(i);if(FA(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=VW({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return lF(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!d)return null;var u=d.x,h=d.y,p=this.props,f=p.shape,m=p.className,g=ZW(ZW({clipPath:lF(this.props,"hidden")?"url(#".concat(s,")"):void 0},mC(this.props,!0)),{},{cx:u,cy:h});return t.createElement(BC,{className:yA("recharts-reference-dot",m)},n.renderDot(f,g),aF.renderCallByParent(this.props,{x:u-o,y:h-o,width:2*o,height:2*o}))}}],i&&JW(r.prototype,i),o&&JW(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);tU(rU,"displayName","ReferenceDot"),tU(rU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),tU(rU,"renderDot",(function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):HA()(e)?e(n):t.createElement(rT,GW({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))}));var iU=n(4597),oU=n.n(iU),aU=n(8990),sU=n.n(aU),lU=n(5797),cU=n.n(lU)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var dU=(0,t.createContext)(void 0),uU=(0,t.createContext)(void 0),hU=(0,t.createContext)(void 0),pU=(0,t.createContext)({}),fU=(0,t.createContext)(void 0),mU=(0,t.createContext)(0),gU=(0,t.createContext)(0),vU=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,d=cU(o);return t.createElement(dU.Provider,{value:r},t.createElement(uU.Provider,{value:i},t.createElement(pU.Provider,{value:o},t.createElement(hU.Provider,{value:d},t.createElement(fU.Provider,{value:a},t.createElement(mU.Provider,{value:c},t.createElement(gU.Provider,{value:l},s)))))))};var yU=function(e){var n=(0,t.useContext)(dU);null==n&&NC(!1);var r=n[e];return null==r&&NC(!1),r},xU=function(e){var n=(0,t.useContext)(uU);null==n&&NC(!1);var r=n[e];return null==r&&NC(!1),r},bU=function(){return(0,t.useContext)(gU)},jU=function(){return(0,t.useContext)(mU)};function wU(e){return wU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wU(e)}function kU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NU(r.key),r)}}function SU(e,t,n){return t=AU(t),function(e,t){if(t&&("object"===wU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_U()?Reflect.construct(t,n||[],AU(e).constructor):t.apply(e,n))}function _U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_U=function(){return!!e})()}function AU(e){return AU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AU(e)}function CU(e,t){return CU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CU(e,t)}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(n),!0).forEach((function(t){TU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TU(e,t,n){return(t=NU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NU(e){var t=function(e,t){if("object"!=wU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wU(t)?t:t+""}function EU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OU(){return OU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OU.apply(this,arguments)}function LU(e){var n=e.x,r=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=(0,t.useContext)(fU),u=yU(o),h=xU(a),p=(0,t.useContext)(hU);if(!d||!p)return null;FA(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,l){var c=i.x,d=i.y,u=i.width,h=i.height;if(n){var p=l.y,f=e.y.apply(p,{position:o});if(lF(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:c+u,y:f},{x:c,y:f}];return"left"===s?m.reverse():m}if(t){var g=l.x,v=e.x.apply(g,{position:o});if(lF(l,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:d+h},{x:v,y:d}];return"top"===a?y.reverse():y}if(r){var x=l.segment.map((function(t){return e.apply(t,{position:o})}));return lF(l,"discard")&&oU()(x,(function(t){return!e.isInRange(t)}))?null:x}return null}(VW({x:u.scale,y:h.scale}),EA(n),EA(r),i&&2===i.length,p,e.position,u.orientation,h.orientation,e);if(!f)return null;var m=EU(f,2),g=m[0],v=g.x,y=g.y,x=m[1],b=x.x,j=x.y,w=IU(IU({clipPath:lF(e,"hidden")?"url(#".concat(d,")"):void 0},mC(e,!0)),{},{x1:v,y1:y,x2:b,y2:j});return t.createElement(BC,{className:yA("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):HA()(e)?e(n):t.createElement("line",OU({},n,{className:"recharts-reference-line-line"}))}(s,w),aF.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return qW({x:t,y:n},{x:r,y:i})}({x1:v,y1:y,x2:b,y2:j})))}var DU=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),SU(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CU(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(LU,this.props)}}])&&kU(r.prototype,i),o&&kU(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function RU(){return RU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RU.apply(this,arguments)}function MU(e){return MU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MU(e)}function BU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BU(Object(n),!0).forEach((function(t){GU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KU(r.key),r)}}function UU(e,t,n){return t=HU(t),function(e,t){if(t&&("object"===MU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qU()?Reflect.construct(t,n||[],HU(e).constructor):t.apply(e,n))}function qU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qU=function(){return!!e})()}function HU(e){return HU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HU(e)}function VU(e,t){return VU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VU(e,t)}function GU(e,t,n){return(t=KU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KU(e){var t=function(e,t){if("object"!=MU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MU(t)?t:t+""}TU(DU,"displayName","ReferenceLine"),TU(DU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var YU=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),UU(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VU(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this.props,r=e.x1,i=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;FA(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=EA(r),u=EA(i),h=EA(o),p=EA(a),f=this.props.shape;if(!d&&!u&&!h&&!p&&!f)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,d=i.yAxis;if(!c||!d)return null;var u=VW({x:c.scale,y:d.scale}),h={x:e?u.x.apply(o,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(s,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(a,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!lF(i,"discard")||u.isInRange(h)&&u.isInRange(p)?qW(h,p):null}(d,u,h,p,this.props);if(!m&&!f)return null;var g=lF(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(BC,{className:yA("recharts-reference-area",s)},n.renderRect(f,FU(FU({clipPath:g},mC(this.props,!0)),m)),aF.renderCallByParent(this.props,m))}}])&&WU(r.prototype,i),o&&WU(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function ZU(e){return function(e){if(Array.isArray(e))return JU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return JU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}GU(YU,"displayName","ReferenceArea"),GU(YU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),GU(YU,"renderRect",(function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):HA()(e)?e(n):t.createElement(qN,RU({},n,{className:"recharts-reference-area-rect"}))}));var XU=function(e,t,n,r,i){var o=dC(e,DU),a=dC(e,rU),s=[].concat(ZU(o),ZU(a)),l=dC(e,YU),c="".concat(r,"Id"),d=r[0],u=t;if(s.length&&(u=s.reduce((function(e,t){if(t.props[c]===n&&lF(t.props,"extendDomain")&&NA(t.props[d])){var r=t.props[d];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),u)),l.length){var h="".concat(d,"1"),p="".concat(d,"2");u=l.reduce((function(e,t){if(t.props[c]===n&&lF(t.props,"extendDomain")&&NA(t.props[h])&&NA(t.props[p])){var r=t.props[h],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),u)}return i&&i.length&&(u=i.reduce((function(e,t){return NA(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},$U=n(7283),QU=new(n.n($U)()),eq="recharts.syncMouseEvents";function tq(e){return tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tq(e)}function nq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iq(r.key),r)}}function rq(e,t,n){return(t=iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e){var t=function(e,t){if("object"!=tq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tq(t)?t:t+""}var oq=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rq(this,"activeIndex",0),rq(this,"coordinateList",[]),rq(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,d=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&nq(e.prototype,t),n&&nq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function aq(){}function sq(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function lq(e){this._context=e}function cq(e){this._context=e}function dq(e){this._context=e}lq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sq(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cq.prototype={areaStart:aq,areaEnd:aq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class uq{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function hq(e){this._context=e}function pq(e){this._context=e}function fq(e){return new pq(e)}function mq(e){return e<0?-1:1}function gq(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(mq(o)+mq(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function vq(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function yq(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function xq(e){this._context=e}function bq(e){this._context=new jq(e)}function jq(e){this._context=e}function wq(e){this._context=e}function kq(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Sq(e,t){this._context=e,this._t=t}function _q(e){return e[0]}function Aq(e){return e[1]}function Cq(e,t){var n=$P(!0),r=null,i=fq,o=null,a=xI(s);function s(s){var l,c,d,u=(s=DR(s)).length,h=!1;for(null==r&&(o=i(d=a())),l=0;l<=u;++l)!(l<u&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(d)return o=null,d+""||null}return e="function"===typeof e?e:void 0===e?_q:$P(e),t="function"===typeof t?t:void 0===t?Aq:$P(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:$P(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:$P(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:$P(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function Pq(e,t,n){var r=null,i=$P(!0),o=null,a=fq,s=null,l=xI(c);function c(c){var d,u,h,p,f,m=(c=DR(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==o&&(s=a(f=l())),d=0;d<=m;++d){if(!(d<m&&i(p=c[d],d,c))===g)if(g=!g)u=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=d-1;h>=u;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[d]=+e(p,d,c),y[d]=+t(p,d,c),s.point(r?+r(p,d,c):v[d],n?+n(p,d,c):y[d]))}if(f)return s=null,f+""||null}function d(){return Cq().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?_q:$P(+e),t="function"===typeof t?t:$P(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Aq:$P(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:$P(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:$P(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:$P(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:$P(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:$P(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:$P(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:$P(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function Iq(e){return Iq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iq(e)}function Tq(){return Tq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tq.apply(this,arguments)}function Nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nq(Object(n),!0).forEach((function(t){zq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Iq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}hq.prototype={areaStart:aq,areaEnd:aq,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},pq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yq(this,this._t0,vq(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yq(this,vq(this,n=gq(this,e,t)),n);break;default:yq(this,this._t0,n=gq(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(bq.prototype=Object.create(xq.prototype)).point=function(e,t){xq.prototype.point.call(this,t,e)},jq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},wq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=kq(e),i=kq(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Sq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Oq={curveBasisClosed:function(e){return new cq(e)},curveBasisOpen:function(e){return new dq(e)},curveBasis:function(e){return new lq(e)},curveBumpX:function(e){return new uq(e,!0)},curveBumpY:function(e){return new uq(e,!1)},curveLinearClosed:function(e){return new hq(e)},curveLinear:fq,curveMonotoneX:function(e){return new xq(e)},curveMonotoneY:function(e){return new bq(e)},curveNatural:function(e){return new wq(e)},curveStep:function(e){return new Sq(e,.5)},curveStepAfter:function(e){return new Sq(e,1)},curveStepBefore:function(e){return new Sq(e,0)}},Lq=function(e){return e.x===+e.x&&e.y===+e.y},Dq=function(e){return e.x},Rq=function(e){return e.y},Mq=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(HA()(e))return e;var n="curve".concat(IP()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Oq[n]||fq:Oq["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),u=c?o.filter((function(e){return Lq(e)})):o;if(Array.isArray(a)){var h=c?a.filter((function(e){return Lq(e)})):a,p=u.map((function(e,t){return Eq(Eq({},e),{},{base:h[t]})}));return(t="vertical"===s?Pq().y(Rq).x1(Dq).x0((function(e){return e.base.x})):Pq().x(Dq).y1(Rq).y0((function(e){return e.base.y}))).defined(Lq).curve(d),t(p)}return(t="vertical"===s&&NA(a)?Pq().y(Rq).x1(Dq).x0(a):NA(a)?Pq().x(Dq).y1(Rq).y0(a):Cq().x(Dq).y(Rq)).defined(Lq).curve(d),t(u)},Bq=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Mq(e):i;return t.createElement("path",Tq({},mC(e,!1),eC(e),{className:yA("recharts-curve",n),d:a,ref:o}))};function Fq(e){return Fq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fq(e)}var Wq=["x","y","top","left","width","height","className"];function Uq(){return Uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uq.apply(this,arguments)}function qq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Gq=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},Kq=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,h=e.height,p=void 0===h?0:h,f=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qq(Object(n),!0).forEach((function(t){Hq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:r,y:o,top:s,left:c,width:u,height:p},Vq(e,Wq));return NA(r)&&NA(o)&&NA(u)&&NA(p)&&NA(s)&&NA(c)?t.createElement("path",Uq({},mC(m,!0),{className:yA("recharts-cross",f),d:Gq(r,o,u,p,s,c)})):null};function Yq(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[HB(t,n,r,i),HB(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Zq(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Yq(t);var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=HB(s,l,c,u),p=HB(s,l,d,u);r=h.x,i=h.y,o=p.x,a=p.y}return[{x:r,y:i},{x:o,y:a}]}function Jq(e){return Jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jq(e)}function Xq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xq(Object(n),!0).forEach((function(t){Qq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Jq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var n,r,i,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,p=e.layout,f=e.chartName,m=null!==(n=o.props.cursor)&&void 0!==n?n:null===(r=o.type.defaultProps)||void 0===r?void 0:r.cursor;if(!o||!m||!s||!l||"ScatterChart"!==f&&"axis"!==a)return null;var g=Bq;if("ScatterChart"===f)i=l,g=Kq;else if("BarChart"===f)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,d,h),g=qN;else if("radial"===p){var v=Yq(l),y=v.cx,x=v.cy,b=v.radius;i={cx:y,cy:x,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:b,outerRadius:b},g=JF}else i={points:Zq(p,l,d)},g=Bq;var j=$q($q($q($q({stroke:"#ccc",pointerEvents:"none"},d),i),mC(m,!1)),{},{payload:c,payloadIndex:u,className:yA("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,j):(0,t.createElement)(g,j)}var tH=["item"],nH=["children","className","width","height","style","compact","title","desc"];function rH(e){return rH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rH(e)}function iH(){return iH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iH.apply(this,arguments)}function oH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||pH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yH(r.key),r)}}function lH(e,t,n){return t=dH(t),function(e,t){if(t&&("object"===rH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cH()?Reflect.construct(t,n||[],dH(e).constructor):t.apply(e,n))}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cH=function(){return!!e})()}function dH(e){return dH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dH(e)}function uH(e,t){return uH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uH(e,t)}function hH(e){return function(e){if(Array.isArray(e))return fH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pH(e,t){if(e){if("string"===typeof e)return fH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fH(e,t):void 0}}function fH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mH(Object(n),!0).forEach((function(t){vH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vH(e,t,n){return(t=yH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=function(e,t){if("object"!=rH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rH(t)?t:t+""}var xH={xAxis:["bottom","top"],yAxis:["left","right"]},bH={width:"100%",height:"100%"},jH={x:0,y:0};function wH(e){return e}var kH=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(hH(e),hH(n)):e}),[]);return o.length>0?o:e&&e.length&&NA(r)&&NA(i)?e.slice(r,i+1):[]};function SH(e){return"number"===e?[0,"auto"]:void 0}var _H=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=kH(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,d=null!==(l=s.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=MA(void 0===d?a:d,o.dataKey,r):c=d&&d[n]||a[n];return c?[].concat(hH(i),[vB(s,c)]):i}),[])},AH=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,d=r[l].coordinate,u=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(IA(d-c)!==IA(u-d)){var p=[];if(IA(u-d)===IA(s[1]-s[0])){h=u;var f=d+s[1]-s[0];p[0]=Math.min(f,(f+c)/2),p[1]=Math.max(f,(f+c)/2)}else{h=c;var m=u+s[1]-s[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){o=r[l].index;break}}else{var v=Math.min(c,u),y=Math.max(c,u);if(e>(v+d)/2&&e<=(y+d)/2){o=r[l].index;break}}}else for(var x=0;x<a;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<a-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===a-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){o=n[x].index;break}return o}(o,a,l,s);if(c>=0&&l){var d=l[c]&&l[c].value,u=_H(e,t,c,d),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return gH(gH(gH({},r),HB(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return gH(gH(gH({},r),HB(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return jH}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},CH=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=QM(c,i);return n.reduce((function(t,n){var p,f=void 0!==n.type.defaultProps?gH(gH({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,v=f.allowDataOverflow,y=f.allowDuplicatedCategory,x=f.scale,b=f.ticks,j=f.includeHidden,w=f[o];if(t[w])return t;var k,S,_,A=kH(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===w})),dataStartIndex:s,dataEndIndex:l}),C=A.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&NA(r)&&NA(i))return!0}return!1})(f.domain,v,m)&&(k=fB(f.domain,null,v),!h||"number"!==m&&"auto"===x||(_=ZM(A,g,"category")));var P=SH(m);if(!k||0===k.length){var I,T=null!==(I=f.domain)&&void 0!==I?I:P;if(g){if(k=ZM(A,g,m),"category"===m&&h){var N=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);y&&N?(S=k,k=CC()(0,C)):y||(k=gB(T,k,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(hH(e),[t])}),[]))}else if("category"===m)k=y?k.filter((function(e){return""!==e&&!UA()(e)})):gB(T,k,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||UA()(t)?e:[].concat(hH(e),[t])}),[]);else if("number"===m){var E=function(e,t,n,r,i){var o=t.map((function(t){return XM(e,t,n,i,r)})).filter((function(e){return!UA()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(A,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(j||!i)})),g,i,c);E&&(k=E)}!h||"number"!==m&&"auto"===x||(_=ZM(A,g,"category"))}else k=h?CC()(0,C):a&&a[w]&&a[w].hasStack&&"number"===m?"expand"===u?[0,1]:uB(a[w].stackGroups,s,l):$M(A,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!n)})),m,c,!0);if("number"===m)k=XU(d,k,w,i,b),T&&(k=fB(T,k,v));else if("category"===m&&T){var z=T;k.every((function(e){return z.indexOf(e)>=0}))&&(k=z)}}return gH(gH({},t),{},vH({},w,gH(gH({},f),{},{axisType:i,domain:k,categoricalDomain:_,duplicateDomain:S,originalDomain:null!==(p=f.domain)&&void 0!==p?p:P,isCategorical:h,layout:c})))}),{})},PH=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(r,"Id"),u=dC(c,i),h={};return u&&u.length?h=CH(e,{axes:u,graphicalItems:o,axisType:r,axisIdKey:d,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=kH(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=u.length,p=QM(c,i),f=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?gH(gH({},t.type.defaultProps),t.props):t.props)[o],v=SH("number");return e[g]?e:(f++,p?m=CC()(0,h):a&&a[g]&&a[g].hasStack?(m=uB(a[g].stackGroups,s,l),m=XU(d,m,g,i)):(m=fB(v,$M(u,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=XU(d,m,g,i)),gH(gH({},e),{},vH({},g,gH(gH({axisType:i},r.defaultProps),{},{hide:!0,orientation:AA()(xH,"".concat(i,".").concat(f%2),null),domain:m,originalDomain:v,isCategorical:p,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:d,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},IH=function(e){var t=e.children,n=e.defaultShowTooltip,r=uC(t,LB),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},TH=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NH=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,d=n.margin||{},u=uC(c,LB),h=uC(c,tT),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:gH(gH({},e),{},vH({},r,e[r]+n.width))}),{left:d.left||0,right:d.right||0}),f=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:gH(gH({},e),{},vH({},r,AA()(e,"".concat(r))+n.height))}),{top:d.top||0,bottom:d.bottom||0}),m=gH(gH({},f),p),g=m.bottom;u&&(m.bottom+=u.props.height||LB.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=WM({children:i,legendWidth:s});if(l){var c=r||{},d=c.width,u=c.height,h=l.align,p=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==h&&NA(e[h]))return GM(GM({},e),{},KM({},h,e[h]+(d||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==p&&NA(e[p]))return GM(GM({},e),{},KM({},p,e[p]+(u||0)))}return e}(m,0,n,t));var v=s-m.left-m.right,y=l-m.top-m.bottom;return gH(gH({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(y,0)})},EH=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},zH=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,f=TH(d),m=f.numericAxisName,g=f.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=aC(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,f){var x=kH(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),b=void 0!==n.type.defaultProps?gH(gH({},n.type.defaultProps),n.props):n.props,j=b.dataKey,w=b.maxBarSize,k=b["".concat(m,"Id")],S=b["".concat(g,"Id")],_=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=b["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||NC(!1);var o=r[i];return gH(gH({},e),{},vH(vH({},n.axisType,o),"".concat(n.axisType,"Ticks"),tB(o)))}),{}),A=_[g],C=_["".concat(g,"Ticks")],P=r&&r[k]&&r[k].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?GM(GM({},e.type.defaultProps),e.props):e.props).stackId;if(EA(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[k].stackGroups),I=aC(n.type).indexOf("Bar")>=0,T=mB(A,C),N=[],E=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var p=c[d[u]],f=p.items,m=p.cateAxisId,g=f.filter((function(e){return aC(e.type).indexOf("Bar")>=0}));if(g&&g.length){var v=g[0].type.defaultProps,y=void 0!==v?GM(GM({},v),g[0].props):g[0].props,x=y.barSize,b=y[m];o[b]||(o[b]=[]);var j=UA()(x)?t:x;o[b].push({item:g[0],stackList:g.slice(1),barSize:UA()(j)?void 0:LA(j,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:EH(_,g)});if(I){var z,O,L=UA()(w)?p:w,D=null!==(z=null!==(O=mB(A,C,!0))&&void 0!==O?O:L)&&void 0!==z?z:0;N=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=LA(t,r,0,!0),d=[];if(o[0].barSize===+o[0].barSize){var u=!1,h=r/s,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*c)>=r&&(p-=(s-1)*c,c=0),p>=r&&h>0&&(u=!0,p=s*(h*=.9));var f={offset:((r-p)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+c,size:u?h:t.barSize}},r=[].concat(qM(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:f})})),r}),d)}else{var m=LA(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var v=a===+a?Math.min(g,a):g;l=o.reduce((function(e,t,n){var r=[].concat(qM(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),d)}return l}({barGap:u,barCategoryGap:h,bandSize:D!==T?D:T,sizeList:E[S],maxBarSize:L}),D!==T&&(N=N.map((function(e){return gH(gH({},e),{},{position:gH(gH({},e.position),{},{offset:e.position.offset-D/2})})})))}var R,M,B=n&&n.type&&n.type.getComposedData;B&&y.push({props:gH(gH({},B(gH(gH({},_),{},{displayedData:x,props:e,dataKey:j,item:n,bandSize:T,barPosition:N,offset:i,stackedData:P,layout:d,dataStartIndex:a,dataEndIndex:s}))),{},vH(vH(vH({key:n.key||"item-".concat(f)},m,_[m]),g,_[g]),"animationId",o)),childIndex:(R=n,M=e.children,cC(M).indexOf(R)),item:n})})),y},p=function(e,t){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!hC({props:i}))return null;var c=i.children,u=i.layout,p=i.stackOffset,f=i.data,m=i.reverseStackOrder,g=TH(u),v=g.numericAxisName,y=g.cateAxisName,x=dC(c,r),b=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?GM(GM({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(EA(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[OA("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return GM(GM({},e),{},KM({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return GM(GM({},t),{},KM({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:lB(e,a.items,i)}))}),{})),GM(GM({},t),{},KM({},o,s))}),{})}(f,x,"".concat(v,"Id"),"".concat(y,"Id"),p,m),j=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return gH(gH({},e),{},vH({},n,PH(i,gH(gH({},t),{},{graphicalItems:x,stackGroups:t.axisType===v&&b,dataStartIndex:o,dataEndIndex:a}))))}),{}),w=NH(gH(gH({},j),{},{props:i,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(j).forEach((function(e){j[e]=d(i,j[e],w,e.replace("Map",""),n)}));var k=function(e){var t=DA(e),n=tB(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:IC()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:mB(t,n)}}(j["".concat(y,"Map")]),S=h(i,gH(gH({},j),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:x,stackGroups:b,offset:w}));return gH(gH({formattedGraphicalItems:S,graphicalItems:x,offset:w,stackGroups:b},k),j)},f=function(e){function r(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),vH(a=lH(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vH(a,"accessibilityManager",new oq),vH(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(gH({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},gH(gH({},a.state),{},{legendBBox:e}))))}})),vH(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),vH(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return gH({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),vH(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=gH(gH({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;HA()(r)&&r(n,e)}})),vH(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?gH(gH({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;HA()(r)&&r(n,e)})),vH(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),vH(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),vH(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),vH(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;HA()(n)&&n(t,e)})),vH(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&oC[t]?oC[t]:null}(e),r=AA()(a.props,"".concat(n));n&&HA()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),vH(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=gH(gH({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;HA()(r)&&r(n,e)}})),vH(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;HA()(t)&&t(a.getMouseInfo(e),e)})),vH(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;HA()(t)&&t(a.getMouseInfo(e),e)})),vH(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),vH(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),vH(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),vH(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;HA()(t)&&t(a.getMouseInfo(e),e)})),vH(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;HA()(t)&&t(a.getMouseInfo(e),e)})),vH(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&QU.emit(eq,a.props.syncId,e,a.eventEmitterSymbol)})),vH(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(gH({dataStartIndex:o,dataEndIndex:s},p({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=a.state,h=u.offset,f=u.tooltipTicks;if(!h)return;if("function"===typeof r)d=r(f,e);else if("value"===r){d=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){d=m;break}}var g=gH(gH({},h),{},{x:h.left,y:h.top}),v=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),x=f[d]&&f[d].value,b=_H(a.state,a.props.data,d),j=f[d]?{x:"horizontal"===n?f[d].coordinate:v,y:"horizontal"===n?y:f[d].coordinate}:jH;a.setState(gH(gH({},e),{},{activeLabel:x,activeCoordinate:j,activePayload:b,activeTooltipIndex:d}))}else a.setState(e)})),vH(a,"renderCursor",(function(e){var r,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,d=i.activeTooltipIndex,u=i.tooltipAxisBandSize,h=a.getTooltipEventType(),p=null!==(r=e.props.active)&&void 0!==r?r:o,f=a.props.layout,m=e.key||"_recharts-cursor";return t.createElement(eH,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:d,chartName:n,element:e,isActive:p,layout:f,offset:c,tooltipAxisBandSize:u,tooltipEventType:h})})),vH(a,"renderPolarAxis",(function(e,n,r){var i=AA()(e,"type.axisType"),o=AA()(a.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?gH(gH({},s),e.props):e.props,c=o&&o[l["".concat(i,"Id")]];return(0,t.cloneElement)(e,gH(gH({},c),{},{className:yA(i,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:tB(c,!0)}))})),vH(a,"renderPolarGrid",(function(e){var n=e.props,r=n.radialLines,i=n.polarAngles,o=n.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,d=DA(l),u=DA(c),h=u.cx,p=u.cy,f=u.innerRadius,m=u.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(i)?i:tB(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:tB(d,!0).map((function(e){return e.coordinate})),cx:h,cy:p,innerRadius:f,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),vH(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,n=a.props,r=n.children,i=n.width,o=n.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),d=WM({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,h=aH(d,tH);return(0,t.cloneElement)(u,gH(gH({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),vH(a,"renderTooltip",(function(){var e,n=a.props,r=n.children,i=n.accessibilityLayer,o=uC(r,CP);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,d=s.activePayload,u=s.activeLabel,h=s.offset,p=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(o,{viewBox:gH(gH({},h),{},{x:h.left,y:h.top}),active:p,label:u,payload:p?d:[],coordinate:c,accessibilityLayer:i})})),vH(a,"renderBrush",(function(e){var n=a.props,r=n.margin,i=n.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,d=o.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:rB(a.handleBrushChange,e.props.onChange),data:i,x:NA(e.props.x)?e.props.x:s.left,y:NA(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:NA(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})})),vH(a,"renderReferenceElement",(function(e,n,r){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,d=e.type.defaultProps||{},u=e.props,h=u.xAxisId,p=void 0===h?d.xAxisId:h,f=u.yAxisId,m=void 0===f?d.yAxisId:f;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),vH(a,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?gH(gH({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=gH(gH({index:o,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:JM(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},mC(d,!1)),eC(d));return s.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(o))),i?s.push(r.renderActiveDot(d,gH(gH({},u),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),vH(a,"renderGraphicChild",(function(e,n,r){var i=a.filterFormatItem(e,n,r);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,d=s.activeTooltipIndex,u=s.activeLabel,h=uC(a.props.children,CP),p=i.props,f=p.points,m=p.isRange,g=p.baseLine,v=void 0!==i.item.type.defaultProps?gH(gH({},i.item.type.defaultProps),i.item.props):i.item.props,y=v.activeDot,x=v.hide,b=v.activeBar,j=v.activeShape,w=Boolean(!x&&l&&h&&(y||b||j)),k={};"axis"!==o&&h&&"click"===h.props.trigger?k={onClick:rB(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(k={onMouseLeave:rB(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:rB(a.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,t.cloneElement)(e,gH(gH({},i.props),k));if(w){if(!(d>=0)){var _,A=(null!==(_=a.getItemByXY(a.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:S}).graphicalItem,C=A.item,P=void 0===C?e:C,I=A.childIndex,T=gH(gH(gH({},i.props),k),{},{activeIndex:I});return[(0,t.cloneElement)(P,T),null,null]}var N,E;if(c.dataKey&&!c.allowDuplicatedCategory){var z="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());N=MA(f,z,u),E=m&&g&&MA(g,z,u)}else N=null===f||void 0===f?void 0:f[d],E=m&&g&&g[d];if(j||b){var O=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,t.cloneElement)(e,gH(gH(gH({},i.props),k),{},{activeIndex:O})),null,null]}if(!UA()(N))return[S].concat(hH(a.renderActivePoints({item:i,activePoint:N,basePoint:E,childIndex:d,isRange:m})))}return m?[S,null,null]:[S,null]})),vH(a,"renderCustomized",(function(e,n,r){return(0,t.cloneElement)(e,gH(gH({key:"recharts-customized-".concat(r)},a.props),a.state))})),vH(a,"renderMap",{CartesianGrid:{handler:wH,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:wH},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:wH},YAxis:{handler:wH},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:OA("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=bA()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uH(e,t)}(r,e),i=r,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=uC(t,CP);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=_H(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,d=(this.state.offset.top+r)/2,u="horizontal"===i?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(u=gH(gH({},u),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){gC([uC(e.children,CP)],[uC(this.props.children,CP)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=uC(this.props.children,CP);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),h=AH(this.state,this.props.data,this.props.layout,s);if("axis"!==u&&c&&d){var p=DA(c).scale,f=DA(d).scale,m=p&&p.invert?p.invert(o.chartX):null,g=f&&f.invert?f.invert(o.chartY):null;return gH(gH({},o),{},{xValue:m,yValue:g},h)}return h?gH(gH({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var d=DA(l);return YB({x:i,y:o},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=uC(e,CP),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),gH(gH({},eC(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){QU.on(eq,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){QU.removeListener(eq,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===aC(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,i=n.top,o=n.height,a=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=oH(t,2),r=n[0],i=n[1];return gH(gH({},e),{},vH({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=oH(t,2),r=n[0],i=n[1];return gH(gH({},e),{},vH({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?gH(gH({},l.type.defaultProps),l.props):l.props,d=aC(l.type);if("Bar"===d){var u=(s.data||[]).find((function(t){return WN(e,t)}));if(u)return{graphicalItem:a,payload:u}}else if("RadialBar"===d){var h=(s.data||[]).find((function(t){return YB(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(aW(a,r)||sW(a,r)||lW(a,r)){var p=hW({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),f=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:gH(gH({},a),{},{childIndex:f}),payload:lW(a,r)?c.data[p]:a.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!hC(this))return null;var n,r,i=this.props,o=i.children,a=i.className,s=i.width,l=i.height,c=i.style,d=i.compact,u=i.title,h=i.desc,p=aH(i,nH),f=mC(p,!1);if(d)return t.createElement(vU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(LC,iH({},f,{width:s,height:l,title:u,desc:h}),this.renderClipPath(),yC(o,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,f.role=null!==(r=this.props.role)&&void 0!==r?r:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(vU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",iH({className:yA("recharts-wrapper",a),style:gH({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(LC,iH({},f,{width:s,height:l,title:u,desc:h,style:bH}),this.renderClipPath(),yC(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&sH(i.prototype,a),l&&sH(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(t.Component);vH(f,"displayName",n),vH(f,"defaultProps",gH({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),vH(f,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var h=IH(e);return gH(gH(gH({},h),{},{updateId:0},p(gH(gH({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!YA(c,t.prevMargin)){var f=IH(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=gH(gH({},AH(t,r,s)),{},{updateId:t.updateId+1}),v=gH(gH(gH({},f),m),g);return gH(gH(gH({},v),p(gH({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!gC(i,t.prevChildren)){var y,x,b,j,w=uC(i,LB),k=w&&null!==(y=null===(x=w.props)||void 0===x?void 0:x.startIndex)&&void 0!==y?y:d,S=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:u,_=k!==d||S!==u,A=!UA()(r)&&!_?t.updateId:t.updateId+1;return gH(gH({updateId:A},p(gH(gH({props:e},t),{},{updateId:A,dataStartIndex:k,dataEndIndex:S}),t)),{},{prevChildren:i,dataStartIndex:k,dataEndIndex:S})}return null})),vH(f,"renderActiveDot",(function(e,n,r){var i;return i=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):HA()(e)?e(n):t.createElement(rT,n),t.createElement(BC,{className:"recharts-active-dot",key:r},i)}));var m=(0,t.forwardRef)((function(e,n){return t.createElement(f,iH({},e,{ref:n}))}));return m.displayName=f.displayName,m},OH=["points","className","baseLinePoints","connectNulls"];function LH(){return LH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LH.apply(this,arguments)}function DH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RH(e){return function(e){if(Array.isArray(e))return MH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return MH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BH=function(e){return e&&e.x===+e.x&&e.y===+e.y},FH=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){BH(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),BH(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(RH(e),RH(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},WH=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=DH(e,OH);if(!n||!n.length)return null;var s=yA("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&"none"!==a.stroke,c=function(e,t,n){var r=FH(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(FH(t.reverse(),n).slice(1))}(n,i,o);return t.createElement("g",{className:s},t.createElement("path",LH({},mC(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",stroke:"none",d:c})),l?t.createElement("path",LH({},mC(a,!0),{fill:"none",d:FH(n,o)})):null,l?t.createElement("path",LH({},mC(a,!0),{fill:"none",d:FH(i,o)})):null)}var d=FH(n,o);return t.createElement("path",LH({},mC(a,!0),{fill:"Z"===d.slice(-1)?a.fill:"none",className:s,d:d}))};function UH(e){return UH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UH(e)}function qH(){return qH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qH.apply(this,arguments)}function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach((function(t){XH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$H(r.key),r)}}function KH(e,t,n){return t=ZH(t),function(e,t){if(t&&("object"===UH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YH()?Reflect.construct(t,n||[],ZH(e).constructor):t.apply(e,n))}function YH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YH=function(){return!!e})()}function ZH(e){return ZH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZH(e)}function JH(e,t){return JH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JH(e,t)}function XH(e,t,n){return(t=$H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $H(e){var t=function(e,t){if("object"!=UH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UH(t)?t:t+""}var QH=Math.PI/180,eV=1e-5,tV=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),KH(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JH(e,t)}(n,e),r=n,i=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,s=HB(n,r,i,e.coordinate),l=HB(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*QH);return n>eV?"outer"===t?"start":"end":n<-eV?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.cx,r=e.cy,i=e.radius,o=e.axisLine,a=e.axisLineType,s=VH(VH({},mC(this.props,!1)),{},{fill:"none"},mC(o,!1));if("circle"===a)return t.createElement(rT,qH({className:"recharts-polar-angle-axis-line"},s,{cx:n,cy:r,r:i}));var l=this.props.ticks.map((function(e){return HB(n,r,i,e.coordinate)}));return t.createElement(WH,qH({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,i=r.ticks,o=r.tick,a=r.tickLine,s=r.tickFormatter,l=r.stroke,c=mC(this.props,!1),d=mC(o,!1),u=VH(VH({},c),{},{fill:"none"},mC(a,!1)),h=i.map((function(r,i){var h=e.getTickLineCoord(r),p=VH(VH(VH({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:i,payload:r,x:h.x2,y:h.y2});return t.createElement(BC,qH({className:yA("recharts-polar-angle-axis-tick",ZB(o)),key:"tick-".concat(r.coordinate)},tC(e.props,r,i)),a&&t.createElement("line",qH({className:"recharts-polar-angle-axis-tick-line"},u,h)),o&&n.renderTickItem(o,p,s?s(r.value,i):r.value))}));return t.createElement(BC,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,n=e.ticks,r=e.radius,i=e.axisLine;return r<=0||!n||!n.length?null:t.createElement(BC,{className:yA("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],o=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):HA()(e)?e(n):t.createElement(ME,qH({},n,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],i&&GH(r.prototype,i),o&&GH(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);XH(tV,"displayName","PolarAngleAxis"),XH(tV,"axisType","angleAxis"),XH(tV,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nV=n(2794),rV=n.n(nV),iV=n(9364),oV=n.n(iV),aV=["cx","cy","angle","ticks","axisLine"],sV=["ticks","tick","angle","tickFormatter","stroke"];function lV(e){return lV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lV(e)}function cV(){return cV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cV.apply(this,arguments)}function dV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dV(Object(n),!0).forEach((function(t){yV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xV(r.key),r)}}function fV(e,t,n){return t=gV(t),function(e,t){if(t&&("object"===lV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mV()?Reflect.construct(t,n||[],gV(e).constructor):t.apply(e,n))}function mV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mV=function(){return!!e})()}function gV(e){return gV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gV(e)}function vV(e,t){return vV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vV(e,t)}function yV(e,t,n){return(t=xV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=function(e,t){if("object"!=lV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lV(t)?t:t+""}var bV,jV=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),fV(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vV(e,t)}(n,e),r=n,i=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return HB(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=rV()(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:oV()(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.cx,r=e.cy,i=e.angle,o=e.ticks,a=e.axisLine,s=hV(e,aV),l=o.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=HB(n,r,l[0],i),d=HB(n,r,l[1],i),u=uV(uV(uV({},mC(s,!1)),{},{fill:"none"},mC(a,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return t.createElement("line",cV({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,i=r.ticks,o=r.tick,a=r.angle,s=r.tickFormatter,l=r.stroke,c=hV(r,sV),d=this.getTickTextAnchor(),u=mC(c,!1),h=mC(o,!1),p=i.map((function(r,i){var c=e.getTickValueCoord(r),p=uV(uV(uV(uV({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},h),{},{index:i},c),{},{payload:r});return t.createElement(BC,cV({className:yA("recharts-polar-radius-axis-tick",ZB(o)),key:"tick-".concat(r.coordinate)},tC(e.props,r,i)),n.renderTickItem(o,p,s?s(r.value,i):r.value))}));return t.createElement(BC,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,n=e.ticks,r=e.axisLine,i=e.tick;return n&&n.length?t.createElement(BC,{className:yA("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),i&&this.renderTicks(),aF.renderCallByParent(this.props,this.getViewBox())):null}}],o=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):HA()(e)?e(n):t.createElement(ME,cV({},n,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],i&&pV(r.prototype,i),o&&pV(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function wV(e){return wV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wV(e)}function kV(){return kV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kV.apply(this,arguments)}function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach((function(t){NV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EV(r.key),r)}}function CV(e,t,n){return t=IV(t),function(e,t){if(t&&("object"===wV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PV()?Reflect.construct(t,n||[],IV(e).constructor):t.apply(e,n))}function PV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PV=function(){return!!e})()}function IV(e){return IV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IV(e)}function TV(e,t){return TV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TV(e,t)}function NV(e,t,n){return(t=EV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(e){var t=function(e,t){if("object"!=wV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wV(t)?t:t+""}yV(jV,"displayName","PolarRadiusAxis"),yV(jV,"axisType","radiusAxis"),yV(jV,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var zV=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),NV(t=CV(this,n,[e]),"pieRef",null),NV(t,"sectorRefs",[]),NV(t,"id",OA("recharts-pie-")),NV(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),HA()(e)&&e()})),NV(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),HA()(e)&&e()})),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TV(e,t)}(n,e),r=n,i=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.label,o=r.labelLine,a=r.dataKey,s=r.valueKey,l=mC(this.props,!1),c=mC(i,!1),d=mC(o,!1),u=i&&i.offsetRadius||20,h=e.map((function(e,r){var h=(e.startAngle+e.endAngle)/2,p=HB(e.cx,e.cy,e.outerRadius+u,h),f=_V(_V(_V(_V({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:n.getTextAnchor(p.x,e.cx)},p),m=_V(_V(_V(_V({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[HB(e.cx,e.cy,e.outerRadius,h),p]}),g=a;return UA()(a)&&UA()(s)?g="value":UA()(a)&&(g=s),t.createElement(BC,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},o&&n.renderLabelLineItem(o,m,"line"),n.renderLabelItem(i,f,YM(e,g)))}));return t.createElement(BC,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var n=this,r=this.props,i=r.activeShape,o=r.blendStroke,a=r.inactiveShape;return e.map((function(r,s){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=n.isActiveIndex(s),c=a&&n.hasActiveIndex()?a:null,d=l?i:c,u=_V(_V({},r),{},{stroke:o?r.fill:r.stroke,tabIndex:-1});return t.createElement(BC,kV({ref:function(e){e&&!n.sectorRefs.includes(e)&&n.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},tC(n.props,r,s),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(s)}),t.createElement(oW,kV({option:d,isActive:l,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,n=this.props,r=n.sectors,i=n.isAnimationActive,o=n.animationBegin,a=n.animationDuration,s=n.animationEasing,l=n.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return t.createElement(EN,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(n){var i=n.t,o=[],a=(r&&r[0]).startAngle;return r.forEach((function(e,t){var n=d&&d[t],r=t>0?AA()(e,"paddingAngle",0):0;if(n){var s=RA(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=_V(_V({},e),{},{startAngle:a+r,endAngle:a+s(i)+r});o.push(l),a=l.endAngle}else{var c=e.endAngle,u=e.startAngle,h=RA(0,c-u)(i),p=_V(_V({},e),{},{startAngle:a+r,endAngle:a+h+r});o.push(p),a=p.endAngle}})),t.createElement(BC,null,e.renderSectorsStatically(o))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&KR()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,n=this.props,r=n.hide,i=n.sectors,o=n.className,a=n.label,s=n.cx,l=n.cy,c=n.innerRadius,d=n.outerRadius,u=n.isAnimationActive,h=this.state.isAnimationFinished;if(r||!i||!i.length||!NA(s)||!NA(l)||!NA(c)||!NA(d))return null;var p=yA("recharts-pie",o);return t.createElement(BC,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(i),aF.renderCallByParent(this.props,null,!1),(!u||h)&&CF.renderCallByParent(this.props,i,!1))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,n,r){if(t.isValidElement(e))return t.cloneElement(e,n);if(HA()(e))return e(n);var i=yA("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(Bq,kV({},n,{key:r,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(e,n,r){if(t.isValidElement(e))return t.cloneElement(e,n);var i=r;if(HA()(e)&&(i=e(n),t.isValidElement(i)))return i;var o=yA("recharts-pie-label-text","boolean"===typeof e||HA()(e)?"":e.className);return t.createElement(ME,kV({},n,{alignmentBaseline:"middle",className:o}),i)}}],i&&AV(r.prototype,i),o&&AV(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);bV=zV,NV(zV,"displayName","Pie"),NV(zV,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hP.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),NV(zV,"parseDeltaAngle",(function(e,t){return IA(t-e)*Math.min(Math.abs(t-e),360)})),NV(zV,"getRealPieData",(function(e){var t=e.data,n=e.children,r=mC(e,!1),i=dC(n,pF);return t&&t.length?t.map((function(e,t){return _V(_V(_V({payload:e},r),e),i&&i[t]&&i[t].props)})):i&&i.length?i.map((function(e){return _V(_V({},r),e.props)})):[]})),NV(zV,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=VB(i,o);return{cx:r+LA(e.cx,i,i/2),cy:n+LA(e.cy,o,o/2),innerRadius:LA(e.innerRadius,a,0),outerRadius:LA(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}})),NV(zV,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?_V(_V({},t.type.defaultProps),t.props):t.props,i=bV.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),f=bV.parseCoordinateOfPie(r,n),m=bV.parseDeltaAngle(a,s),g=Math.abs(m),v=c;UA()(c)&&UA()(u)?(FA(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):UA()(c)&&(FA(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=u);var y,x,b=i.filter((function(e){return 0!==YM(e,v,0)})).length,j=g-b*p-(g>=360?b:b-1)*l,w=i.reduce((function(e,t){var n=YM(t,v,0);return e+(NA(n)?n:0)}),0);w>0&&(y=i.map((function(e,t){var n,r=YM(e,v,0),i=YM(e,d,t),s=(NA(r)?r:0)/w,c=(n=t?x.endAngle+IA(m)*l*(0!==r?1:0):a)+IA(m)*((0!==r?p:0)+s*j),u=(n+c)/2,g=(f.innerRadius+f.outerRadius)/2,y=[{name:i,value:r,payload:e,dataKey:v,type:h}],b=HB(f.cx,f.cy,g,u);return x=_V(_V(_V({percent:s,cornerRadius:o,name:i,tooltipPayload:y,midAngle:u,middleRadius:g,tooltipPosition:b},e),f),{},{value:YM(e,v),startAngle:n,endAngle:c,payload:e,paddingAngle:IA(m)*l})})));return _V(_V({},f),{},{sectors:y,data:i})}));var OV=zH({chartName:"PieChart",GraphicalChild:zV,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tV},{axisType:"radiusAxis",AxisComp:jV}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.startAngle,l=e.endAngle,c=LA(e.cx,o,o/2),d=LA(e.cy,a,a/2),u=VB(o,a,n),h=LA(e.innerRadius,u,0),p=LA(e.outerRadius,u,.8*u);return Object.keys(t).reduce((function(e,n){var o,a=t[n],u=a.domain,f=a.reversed;if(UA()(a.range))"angleAxis"===r?o=[s,l]:"radiusAxis"===r&&(o=[h,p]),f&&(o=[o[1],o[0]]);else{var m=FB(o=a.range,2);s=m[0],l=m[1]}var g=iB(a,i),v=g.realScaleType,y=g.scale;y.domain(u).range(o),aB(y);var x=cB(y,MB(MB({},a),{},{realScaleType:v})),b=MB(MB(MB({},a),x),{},{range:o,radius:p,realScaleType:v,scale:y,cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:s,endAngle:l});return MB(MB({},e),{},BB({},n,b))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function LV(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function DV(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function RV(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function MV(e){return MV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MV(e)}function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BV(Object(n),!0).forEach((function(t){WV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=MV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!i||!i.length||!r)return[];if(NA(l)||hP.isSsr)return function(e,t){return LV(e,t+1)}(i,"number"===typeof l&&NA(l)?l:0);var h=[],p="top"===s||"bottom"===s?"width":"height",f=d&&"width"===p?cE(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=HA()(c)?c(e.value,r):e.value;return"width"===p?DV(cE(i,{fontSize:t,letterSpacing:n}),f,u):cE(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?IA(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,d=1,u=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:LV(r,d)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},p=t.coordinate,f=0===c||RV(e,p,h,u,l);f||(c=0,u=s,d+=1),f&&(u=p+e*(h()/2+i),c+=d)};d<=a.length;)if(o=h())return o.v;return[]}(g,v,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var d=r[s-1],u=n(d,s-1),h=e*(d.coordinate+e*u/2-c);a[s-1]=d=FV(FV({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),RV(e,d.tickCoord,(function(){return u}),l,c)&&(c=d.tickCoord-e*(u/2+i),a[s-1]=FV(FV({},d),{},{isShow:!0}))}for(var p=o?s-1:s,f=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var d=e*(o.coordinate-e*s()/2-l);a[t]=o=FV(FV({},o),{},{tickCoord:d<0?o.coordinate-d*e:o.coordinate})}else a[t]=o=FV(FV({},o),{},{tickCoord:o.coordinate});RV(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=FV(FV({},o),{},{isShow:!0}))},m=0;m<p;m++)f(m);return a}(g,v,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],d=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var u=e*(c.coordinate+e*d()/2-l);o[t]=c=FV(FV({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else o[t]=c=FV(FV({},c),{},{tickCoord:c.coordinate});RV(e,c.tickCoord,d,s,l)&&(l=c.tickCoord-e*(d()/2+i),o[t]=FV(FV({},c),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}(g,v,m,i,a),h.filter((function(e){return e.isShow})))}var qV=["viewBox"],HV=["viewBox"],VV=["ticks"];function GV(e){return GV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GV(e)}function KV(){return KV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KV.apply(this,arguments)}function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YV(Object(n),!0).forEach((function(t){nG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rG(r.key),r)}}function $V(e,t,n){return t=eG(t),function(e,t){if(t&&("object"===GV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QV()?Reflect.construct(t,n||[],eG(e).constructor):t.apply(e,n))}function QV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QV=function(){return!!e})()}function eG(e){return eG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eG(e)}function tG(e,t){return tG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tG(e,t)}function nG(e,t,n){return(t=rG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rG(e){var t=function(e,t){if("object"!=GV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GV(t)?t:t+""}var iG=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=$V(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tG(e,t)}(n,e),r=n,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=JV(e,qV),i=this.props,o=i.viewBox,a=JV(i,HV);return!YA(n,o)||!YA(r,a)||!YA(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,d=s.width,u=s.height,h=s.orientation,p=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,v=e.tickSize||p,y=NA(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!f*u)-g*v)-g*m,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!f*d)-g*v)-g*m,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +f*d)+g*v)+g*m,a=y;break;default:t=n=e.coordinate,a=(r=(i=c+ +f*u)+g*v)+g*m,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=ZV(ZV(ZV({},mC(this.props,!1)),mC(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var d=+("top"===a&&!s||"bottom"===a&&s);c=ZV(ZV({},c),{},{x1:n,y1:r+d*o,x2:n+i,y2:r+d*o})}else{var u=+("left"===a&&!s||"right"===a&&s);c=ZV(ZV({},c),{},{x1:n+u*i,y1:r,x2:n+u*i,y2:r+o})}return t.createElement("line",KV({},c,{className:yA("recharts-cartesian-axis-line",AA()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,d=a.tickFormatter,u=a.unit,h=UV(ZV(ZV({},this.props),{},{ticks:e}),r,i),p=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=mC(this.props,!1),g=mC(c,!1),v=ZV(ZV({},m),{},{fill:"none"},mC(s,!1)),y=h.map((function(e,r){var i=o.getTickLineCoord(e),a=i.line,y=i.tick,x=ZV(ZV(ZV(ZV({textAnchor:p,verticalAnchor:f},m),{},{stroke:"none",fill:l},g),y),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:d});return t.createElement(BC,KV({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},tC(o.props,e,r)),s&&t.createElement("line",KV({},v,a,{className:yA("recharts-cartesian-axis-tick-line",AA()(s,"className"))})),c&&n.renderTickItem(c,x,"".concat(HA()(d)?d(e.value,r):e.value).concat(u||"")))}));return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,i=n.width,o=n.height,a=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,d=JV(l,VV),u=c;return HA()(a)&&(u=c&&c.length>0?a(this.props):a(d)),i<=0||o<=0||!u||!u.length?null:t.createElement(BC,{className:yA("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),aF.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):HA()(e)?e(n):t.createElement(ME,KV({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],i&&XV(r.prototype,i),o&&XV(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function oG(e){return oG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oG(e)}function aG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hG(r.key),r)}}function sG(e,t,n){return t=cG(t),function(e,t){if(t&&("object"===oG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lG()?Reflect.construct(t,n||[],cG(e).constructor):t.apply(e,n))}function lG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lG=function(){return!!e})()}function cG(e){return cG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cG(e)}function dG(e,t){return dG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dG(e,t)}function uG(e,t,n){return(t=hG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hG(e){var t=function(e,t){if("object"!=oG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oG(t)?t:t+""}function pG(){return pG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pG.apply(this,arguments)}function fG(e){var n=e.xAxisId,r=bU(),i=jU(),o=yU(n);return null==o?null:t.createElement(iG,pG({},o,{className:yA("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return tB(e,!0)}}))}nG(iG,"displayName","CartesianAxis"),nG(iG,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mG=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),sG(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dG(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(fG,this.props)}}])&&aG(r.prototype,i),o&&aG(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function gG(e){return gG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gG(e)}function vG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kG(r.key),r)}}function yG(e,t,n){return t=bG(t),function(e,t){if(t&&("object"===gG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xG()?Reflect.construct(t,n||[],bG(e).constructor):t.apply(e,n))}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xG=function(){return!!e})()}function bG(e){return bG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bG(e)}function jG(e,t){return jG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jG(e,t)}function wG(e,t,n){return(t=kG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=function(e,t){if("object"!=gG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gG(t)?t:t+""}function SG(){return SG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SG.apply(this,arguments)}uG(mG,"displayName","XAxis"),uG(mG,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var _G=function(e){var n=e.yAxisId,r=bU(),i=jU(),o=xU(n);return null==o?null:t.createElement(iG,SG({},o,{className:yA("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return tB(e,!0)}}))},AG=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),yG(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jG(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(_G,this.props)}}])&&vG(r.prototype,i),o&&vG(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);wG(AG,"displayName","YAxis"),wG(AG,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var CG=zH({chartName:"BarChart",GraphicalChild:DW,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mG},{axisType:"yAxis",AxisComp:AG}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},u=!!uC(l,DW);return c.reduce((function(o,a){var l,c,h,p,f,m=t[a],g=m.orientation,v=m.domain,y=m.padding,x=void 0===y?{}:y,b=m.mirror,j=m.reversed,w="".concat(g).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var k=v[1]-v[0],S=1/0,_=m.categoricalDomain.sort(BA);if(_.forEach((function(e,t){t>0&&(S=Math.min((e||0)-(_[t-1]||0),S))})),Number.isFinite(S)){var A=S/k,C="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=A*C/2),"no-gap"===m.padding){var P=LA(e.barCategoryGap,A*C),I=A*C/2;l=I-P-(I-P)/C*P}}}c="xAxis"===r?[n.left+(x.left||0)+(l||0),n.left+n.width-(x.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(l||0),n.top+n.height-(x.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var T=iB(m,i,u),N=T.scale,E=T.realScaleType;N.domain(v).range(c),aB(N);var z=cB(N,FW(FW({},m),{},{realScaleType:E}));"xAxis"===r?(f="top"===g&&!b||"bottom"===g&&b,h=n.left,p=d[w]-f*m.height):"yAxis"===r&&(f="left"===g&&!b||"right"===g&&b,h=d[w]-f*m.width,p=n.top);var O=FW(FW(FW({},m),z),{},{realScaleType:E,x:h,y:p,scale:N,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return O.bandSize=mB(O,z),m.hide||"xAxis"!==r?m.hide||(d[w]+=(f?-1:1)*O.width):d[w]+=(f?-1:1)*O.height,FW(FW({},o),{},WW({},a,O))}),{})}}),PG=["x1","y1","x2","y2","key"],IG=["offset"];function TG(e){return TG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TG(e)}function NG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NG(Object(n),!0).forEach((function(t){zG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zG(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TG(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OG(){return OG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OG.apply(this,arguments)}function LG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var DG=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RG(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(HA()(e))r=e(n);else{var i=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.key,c=LG(n,PG),d=mC(c,!1),u=(d.offset,LG(d,IG));r=t.createElement("line",OG({},u,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:l}))}return r}function MG(e){var n=e.x,r=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(t,i){var a=EG(EG({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(i),index:i});return RG(o,a)}));return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function BG(e){var n=e.y,r=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(t,i){var a=EG(EG({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(i),index:i});return RG(o,a)}));return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function FG(e){var n=e.horizontalFill,r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var d=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==d[0]&&d.unshift(0);var u=d.map((function(e,l){var c=!d[l+1]?o+s-e:d[l+1]-e;if(c<=0)return null;var u=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:a,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function WG(e){var n=e.vertical,r=void 0===n||n,i=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!i||!i.length)return null;var u=d.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==u[0]&&u.unshift(0);var h=u.map((function(e,n){var r=!u[n+1]?a+l-e:u[n+1]-e;if(r<=0)return null;var d=n%i.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:r,height:c,stroke:"none",fill:i[d],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var UG=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return eB(UV(EG(EG(EG({},iG.defaultProps),n),{},{ticks:tB(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},qG=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return eB(UV(EG(EG(EG({},iG.defaultProps),n),{},{ticks:tB(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},HG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function VG(e){var n,r,i,o,a,s,l=bU(),c=jU(),d=(0,t.useContext)(pU),u=EG(EG({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:HG.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:HG.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:HG.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:HG.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:HG.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:HG.verticalFill,x:NA(e.x)?e.x:d.left,y:NA(e.y)?e.y:d.top,width:NA(e.width)?e.width:d.width,height:NA(e.height)?e.height:d.height}),h=u.x,p=u.y,f=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,x=function(){var e=(0,t.useContext)(dU);return DA(e)}(),b=function(){var e=(0,t.useContext)(uU);return sU()(e,(function(e){return hF()(e.domain,Number.isFinite)}))||DA(e)}();if(!NA(f)||f<=0||!NA(m)||m<=0||!NA(h)||h!==+h||!NA(p)||p!==+p)return null;var j=u.verticalCoordinatesGenerator||UG,w=u.horizontalCoordinatesGenerator||qG,k=u.horizontalPoints,S=u.verticalPoints;if((!k||!k.length)&&HA()(w)){var _=v&&v.length,A=w({yAxis:b?EG(EG({},b),{},{ticks:_?v:b.ticks}):void 0,width:l,height:c,offset:d},!!_||g);FA(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(TG(A),"]")),Array.isArray(A)&&(k=A)}if((!S||!S.length)&&HA()(j)){var C=y&&y.length,P=j({xAxis:x?EG(EG({},x),{},{ticks:C?y:x.ticks}):void 0,width:l,height:c,offset:d},!!C||g);FA(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(TG(P),"]")),Array.isArray(P)&&(S=P)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(DG,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),t.createElement(MG,OG({},u,{offset:d,horizontalPoints:k,xAxis:x,yAxis:b})),t.createElement(BG,OG({},u,{offset:d,verticalPoints:S,xAxis:x,yAxis:b})),t.createElement(FG,OG({},u,{horizontalPoints:k})),t.createElement(WG,OG({},u,{verticalPoints:S})))}function GG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onClose:n,onOpen:r,isOpen:i,id:a}=e,s=fd(r),l=fd(n),[c,d]=(0,t.useState)(e.defaultIsOpen||!1),u=void 0!==i?i:c,h=void 0!==i,p=(0,t.useId)(),f=null!==a&&void 0!==a?a:"disclosure-".concat(p),m=(0,t.useCallback)((()=>{h||d(!1),null===l||void 0===l||l()}),[h,l]),g=(0,t.useCallback)((()=>{h||d(!0),null===s||void 0===s||s()}),[h,s]),v=(0,t.useCallback)((()=>{u?m():g()}),[u,g,m]);return{isOpen:u,onOpen:g,onClose:m,onToggle:v,isControlled:h,getButtonProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)((0,o.A)({},e),{},{"aria-expanded":u,"aria-controls":f,onClick(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),v()}})},getDisclosureProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)((0,o.A)({},e),{},{hidden:!u,id:f})}}}function KG(e,t){var n,r,i;const o=null!==(n=null===(r=e.composedPath)||void 0===r?void 0:r.call(e)[0])&&void 0!==n?n:e.target;if(o){if(!YG(o).contains(o))return!1}return!(null!==(i=t.current)&&void 0!==i&&i.contains(o))}function YG(e){var t;return null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document}function ZG(e){return $o(e)?e.ownerDocument:document}VG.displayName="CartesianGrid";const JG=e=>e.hasAttribute("tabindex");function XG(e){if(!$o(e)||Qo(e)||function(e){return!0===Boolean(e.getAttribute("disabled"))||!0===Boolean(e.getAttribute("aria-disabled"))}(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const n={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in n?n[t]():!!function(e){const t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||JG(e)}function $G(e){return!!e&&($o(e)&&XG(e)&&!(e=>JG(e)&&-1===e.tabIndex)(e))}function QG(e){const t=e.current;if(!t)return!1;const n=function(e){return ZG(e).activeElement}(t);return!!n&&(!t.contains(n)&&!!$G(n))}function eK(e,n,r,i){const o=fd(r);return(0,t.useEffect)((()=>{const t="function"===typeof e?e():null!==e&&void 0!==e?e:document;if(r&&t)return t.addEventListener(n,o,i),()=>{t.removeEventListener(n,o,i)}}),[n,e,i,o,r]),()=>{const t="function"===typeof e?e():null!==e&&void 0!==e?e:document;null===t||void 0===t||t.removeEventListener(n,o,i)}}function tK(e){const{isOpen:n,ref:r}=e,[i,o]=(0,t.useState)(n),[a,s]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a||(o(n),s(!0))}),[n,a,i]),eK((()=>r.current),"animationend",(()=>{o(n)}));return{present:!(!n&&!i),onComplete(){var e;const t=function(e){var t,n;return null!==(t=null===(n=ZG(e))||void 0===n?void 0:n.defaultView)&&void 0!==t?t:window}(r.current),n=new t.CustomEvent("animationend",{bubbles:!0});null===(e=r.current)||void 0===e||e.dispatchEvent(n)}}}function nK(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=function(e,n){const r=(0,t.useId)();return(0,t.useMemo)((()=>e||[n,r].filter(Boolean).join("-")),[e,n,r])}(e);return(0,t.useMemo)((()=>r.map((e=>"".concat(e,"-").concat(o)))),[o,r])}function rK(e){const{wasSelected:t,enabled:n,isSelected:r,mode:i="unmount"}=e;return!n||(!!r||!("keepMounted"!==i||!t))}function iK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{timeout:n=300,preventDefault:r=()=>!0}=e,[i,o]=(0,t.useState)([]),a=(0,t.useRef)(void 0),s=()=>{a.current&&(clearTimeout(a.current),a.current=null)};return(0,t.useEffect)((()=>s),[]),function(e){return t=>{if("Backspace"===t.key){const e=[...i];return e.pop(),void o(e)}if(function(e){const{key:t}=e;return 1===t.length||t.length>1&&/[^a-zA-Z0-9]/.test(t)}(t)){const l=i.concat(t.key);r(t)&&(t.preventDefault(),t.stopPropagation()),o(l),e(l.join("")),s(),a.current=setTimeout((()=>{o([]),a.current=null}),n)}}}}function oK(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function aK(e){return e instanceof oK(e).Element||e instanceof Element}function sK(e){return e instanceof oK(e).HTMLElement||e instanceof HTMLElement}function lK(e){return"undefined"!==typeof ShadowRoot&&(e instanceof oK(e).ShadowRoot||e instanceof ShadowRoot)}var cK=Math.max,dK=Math.min,uK=Math.round;function hK(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function pK(){return!/^((?!chrome|android).)*safari/i.test(hK())}function fK(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&sK(e)&&(i=e.offsetWidth>0&&uK(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&uK(r.height)/e.offsetHeight||1);var a=(aK(e)?oK(e):window).visualViewport,s=!pK()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,d=r.width/i,u=r.height/o;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function mK(e){var t=oK(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function gK(e){return e?(e.nodeName||"").toLowerCase():null}function vK(e){return((aK(e)?e.ownerDocument:e.document)||window.document).documentElement}function yK(e){return fK(vK(e)).left+mK(e).scrollLeft}function xK(e){return oK(e).getComputedStyle(e)}function bK(e){var t=xK(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jK(e,t,n){void 0===n&&(n=!1);var r=sK(t),i=sK(t)&&function(e){var t=e.getBoundingClientRect(),n=uK(t.width)/e.offsetWidth||1,r=uK(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=vK(t),a=fK(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==gK(t)||bK(o))&&(s=function(e){return e!==oK(e)&&sK(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:mK(e);var t}(t)),sK(t)?((l=fK(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=yK(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function wK(e){var t=fK(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function kK(e){return"html"===gK(e)?e:e.assignedSlot||e.parentNode||(lK(e)?e.host:null)||vK(e)}function SK(e){return["html","body","#document"].indexOf(gK(e))>=0?e.ownerDocument.body:sK(e)&&bK(e)?e:SK(kK(e))}function _K(e,t){var n;void 0===t&&(t=[]);var r=SK(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=oK(r),a=i?[o].concat(o.visualViewport||[],bK(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(_K(kK(a)))}function AK(e){return["table","td","th"].indexOf(gK(e))>=0}function CK(e){return sK(e)&&"fixed"!==xK(e).position?e.offsetParent:null}function PK(e){for(var t=oK(e),n=CK(e);n&&AK(n)&&"static"===xK(n).position;)n=CK(n);return n&&("html"===gK(n)||"body"===gK(n)&&"static"===xK(n).position)?t:n||function(e){var t=/firefox/i.test(hK());if(/Trident/i.test(hK())&&sK(e)&&"fixed"===xK(e).position)return null;var n=kK(e);for(lK(n)&&(n=n.host);sK(n)&&["html","body"].indexOf(gK(n))<0;){var r=xK(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var IK="top",TK="bottom",NK="right",EK="left",zK="auto",OK=[IK,TK,NK,EK],LK="start",DK="end",RK="viewport",MK="popper",BK=OK.reduce((function(e,t){return e.concat([t+"-"+LK,t+"-"+DK])}),[]),FK=[].concat(OK,[zK]).reduce((function(e,t){return e.concat([t,t+"-"+LK,t+"-"+DK])}),[]),WK=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function UK(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function qK(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var HK={placement:"bottom",modifiers:[],strategy:"absolute"};function VK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function GK(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?HK:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},HK,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:aK(e)?_K(e):e.contextElement?_K(e.contextElement):[],popper:_K(t)};var d=function(e){var t=UK(e);return WK.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=d.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(VK(t,n)){i.rects={reference:jK(t,PK(n),"fixed"===i.options.strategy),popper:wK(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,d=void 0===c?{}:c,u=o.name;"function"===typeof a&&(i=a({state:i,options:d,name:u,instance:l})||i)}else i.reset=!1,r=-1}}},update:qK((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!VK(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var KK={passive:!0};const YK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=oK(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,KK)})),s&&l.addEventListener("resize",n.update,KK),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,KK)})),s&&l.removeEventListener("resize",n.update,KK)}},data:{}};function ZK(e){return e.split("-")[0]}function JK(e){return e.split("-")[1]}function XK(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $K(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?ZK(i):null,a=i?JK(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case IK:t={x:s,y:n.y-r.height};break;case TK:t={x:s,y:n.y+n.height};break;case NK:t={x:n.x+n.width,y:l};break;case EK:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?XK(o):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case LK:t[c]=t[c]-(n[d]/2-r[d]/2);break;case DK:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}const QK={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var eY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tY(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"===typeof d?d({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),x=EK,b=IK,j=window;if(c){var w=PK(n),k="clientHeight",S="clientWidth";if(w===oK(n)&&"static"!==xK(w=vK(n)).position&&"absolute"===s&&(k="scrollHeight",S="scrollWidth"),i===IK||(i===EK||i===NK)&&o===DK)b=TK,m-=(u&&w===j&&j.visualViewport?j.visualViewport.height:w[k])-r.height,m*=l?1:-1;if(i===EK||(i===IK||i===TK)&&o===DK)x=NK,p-=(u&&w===j&&j.visualViewport?j.visualViewport.width:w[S])-r.width,p*=l?1:-1}var _,A=Object.assign({position:s},c&&eY),C=!0===d?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:uK(n*i)/i||0,y:uK(r*i)/i||0}}({x:p,y:m},oK(n)):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},A,((_={})[b]=y?"0":"",_[x]=v?"0":"",_.transform=(j.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",_)):Object.assign({},A,((t={})[b]=y?m+"px":"",t[x]=v?p+"px":"",t.transform="",t))}const nY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:ZK(t.placement),variation:JK(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,tY(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,tY(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const rY={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];sK(i)&&gK(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});sK(r)&&gK(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const iY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=FK.reduce((function(e,n){return e[n]=function(e,t,n){var r=ZK(e),i=[EK,IK].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[EK,NK].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var oY={left:"right",right:"left",bottom:"top",top:"bottom"};function aY(e){return e.replace(/left|right|bottom|top/g,(function(e){return oY[e]}))}var sY={start:"end",end:"start"};function lY(e){return e.replace(/start|end/g,(function(e){return sY[e]}))}function cY(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&lK(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dY(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uY(e,t,n){return t===RK?dY(function(e,t){var n=oK(e),r=vK(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=pK();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+yK(e),y:l}}(e,n)):aK(t)?function(e,t){var n=fK(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):dY(function(e){var t,n=vK(e),r=mK(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=cK(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=cK(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+yK(e),l=-r.scrollTop;return"rtl"===xK(i||n).direction&&(s+=cK(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(vK(e)))}function hY(e,t,n,r){var i="clippingParents"===t?function(e){var t=_K(kK(e)),n=["absolute","fixed"].indexOf(xK(e).position)>=0&&sK(e)?PK(e):e;return aK(n)?t.filter((function(e){return aK(e)&&cY(e,n)&&"body"!==gK(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=uY(e,n,r);return t.top=cK(i.top,t.top),t.right=dK(i.right,t.right),t.bottom=dK(i.bottom,t.bottom),t.left=cK(i.left,t.left),t}),uY(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function pY(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fY(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function mY(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,d=void 0===c?RK:c,u=n.elementContext,h=void 0===u?MK:u,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=pY("number"!==typeof g?g:fY(g,OK)),y=h===MK?"reference":MK,x=e.rects.popper,b=e.elements[f?y:h],j=hY(aK(b)?b:b.contextElement||vK(e.elements.popper),l,d,a),w=fK(e.elements.reference),k=$K({reference:w,element:x,strategy:"absolute",placement:i}),S=dY(Object.assign({},x,k)),_=h===MK?S:w,A={top:j.top-_.top+v.top,bottom:_.bottom-j.bottom+v.bottom,left:j.left-_.left+v.left,right:_.right-j.right+v.right},C=e.modifiersData.offset;if(h===MK&&C){var P=C[i];Object.keys(A).forEach((function(e){var t=[NK,TK].indexOf(e)>=0?1:-1,n=[IK,TK].indexOf(e)>=0?"y":"x";A[e]+=P[n]*t}))}return A}const gY={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=ZK(g),y=l||(v===g||!f?[aY(g)]:function(e){if(ZK(e)===zK)return[];var t=aY(e);return[lY(e),t,lY(t)]}(g)),x=[g].concat(y).reduce((function(e,n){return e.concat(ZK(n)===zK?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?FK:l,d=JK(r),u=d?s?BK:BK.filter((function(e){return JK(e)===d})):OK,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,n){return t[n]=mY(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[ZK(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,j=t.rects.popper,w=new Map,k=!0,S=x[0],_=0;_<x.length;_++){var A=x[_],C=ZK(A),P=JK(A)===LK,I=[IK,TK].indexOf(C)>=0,T=I?"width":"height",N=mY(t,{placement:A,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),E=I?P?NK:EK:P?TK:IK;b[T]>j[T]&&(E=aY(E));var z=aY(E),O=[];if(o&&O.push(N[C]<=0),s&&O.push(N[E]<=0,N[z]<=0),O.every((function(e){return e}))){S=A,k=!1;break}w.set(A,O)}if(k)for(var L=function(e){var t=x.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=f?3:1;D>0;D--){if("break"===L(D))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vY(e,t,n){return cK(e,dK(t,n))}const yY={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=mY(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=ZK(t.placement),y=JK(t.placement),x=!y,b=XK(v),j="x"===b?"y":"x",w=t.modifiersData.popperOffsets,k=t.rects.reference,S=t.rects.popper,_="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(w){if(o){var I,T="y"===b?IK:EK,N="y"===b?TK:NK,E="y"===b?"height":"width",z=w[b],O=z+g[T],L=z-g[N],D=p?-S[E]/2:0,R=y===LK?k[E]:S[E],M=y===LK?-S[E]:-k[E],B=t.elements.arrow,F=p&&B?wK(B):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=W[T],q=W[N],H=vY(0,k[E],F[E]),V=x?k[E]/2-D-H-U-A.mainAxis:R-H-U-A.mainAxis,G=x?-k[E]/2+D+H+q+A.mainAxis:M+H+q+A.mainAxis,K=t.elements.arrow&&PK(t.elements.arrow),Y=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,Z=null!=(I=null==C?void 0:C[b])?I:0,J=z+G-Z,X=vY(p?dK(O,z+V-Z-Y):O,z,p?cK(L,J):L);w[b]=X,P[b]=X-z}if(s){var $,Q="x"===b?IK:EK,ee="x"===b?TK:NK,te=w[j],ne="y"===j?"height":"width",re=te+g[Q],ie=te-g[ee],oe=-1!==[IK,EK].indexOf(v),ae=null!=($=null==C?void 0:C[j])?$:0,se=oe?re:te-k[ne]-S[ne]-ae+A.altAxis,le=oe?te+k[ne]+S[ne]-ae-A.altAxis:ie,ce=p&&oe?function(e,t,n){var r=vY(e,t,n);return r>n?n:r}(se,te,le):vY(p?se:re,te,p?le:ie);w[j]=ce,P[j]=ce-te}t.modifiersData[r]=P}},requiresIfExists:["offset"]};const xY={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=ZK(n.placement),l=XK(s),c=[EK,NK].indexOf(s)>=0?"height":"width";if(o&&a){var d=function(e,t){return pY("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fY(e,OK))}(i.padding,n),u=wK(o),h="y"===l?IK:EK,p="y"===l?TK:NK,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=PK(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,x=d[h],b=v-u[c]-d[p],j=v/2-u[c]/2+y,w=vY(x,j,b),k=l;n.modifiersData[r]=((t={})[k]=w,t.centerOffset=w-j,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&cY(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bY(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function jY(e){return[IK,NK,TK,EK].some((function(t){return e[t]>=0}))}const wY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=mY(t,{elementContext:"reference"}),s=mY(t,{altBoundary:!0}),l=bY(a,r),c=bY(s,i,o),d=jY(l),u=jY(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}};var kY=GK({defaultModifiers:[YK,QK,nY,rY,iY,gY,yY,xY,wY]});const SY=(e,t)=>({var:e,varRef:t?"var(".concat(e,", ").concat(t,")"):"var(".concat(e,")")}),_Y={arrowShadowColor:SY("--popper-arrow-shadow-color"),arrowSize:SY("--popper-arrow-size","8px"),arrowSizeHalf:SY("--popper-arrow-size-half"),arrowBg:SY("--popper-arrow-bg"),transformOrigin:SY("--popper-transform-origin"),arrowOffset:SY("--popper-arrow-offset")};const AY={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},CY={scroll:!0,resize:!0};function PY(e){let t;return t="object"===typeof e?{enabled:!0,options:(0,o.A)((0,o.A)({},CY),e)}:{enabled:e,options:CY},t}const IY={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{let{state:t}=e;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:e=>{let{state:t}=e;return()=>{const e=t.elements.reference;t.elements.popper.style.width="".concat(e.offsetWidth,"px")}}},TY={name:"transformOrigin",enabled:!0,phase:"write",fn:e=>{let{state:t}=e;NY(t)},effect:e=>{let{state:t}=e;return()=>{NY(t)}}},NY=e=>{var t;e.elements.popper.style.setProperty(_Y.transformOrigin.var,(t=e.placement,AY[t]))},EY={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;zY(t)}},zY=e=>{var t;if(!e.placement)return;const n=OY(e.placement);if(null!==(t=e.elements)&&void 0!==t&&t.arrow&&n){Object.assign(e.elements.arrow.style,{[n.property]:n.value,width:_Y.arrowSize.varRef,height:_Y.arrowSize.varRef,zIndex:-1});const t={[_Y.arrowSizeHalf.var]:"calc(".concat(_Y.arrowSize.varRef," / 2 - 1px)"),[_Y.arrowOffset.var]:"calc(".concat(_Y.arrowSizeHalf.varRef," * -1)")};for(const n in t)e.elements.arrow.style.setProperty(n,t[n])}},OY=e=>e.startsWith("top")?{property:"bottom",value:_Y.arrowOffset.varRef}:e.startsWith("bottom")?{property:"top",value:_Y.arrowOffset.varRef}:e.startsWith("left")?{property:"right",value:_Y.arrowOffset.varRef}:e.startsWith("right")?{property:"left",value:_Y.arrowOffset.varRef}:void 0,LY={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:e=>{let{state:t}=e;DY(t)},effect:e=>{let{state:t}=e;return()=>{DY(t)}}},DY=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const n=(r=e.placement).includes("top")?"1px 1px 0px 0 var(--popper-arrow-shadow-color)":r.includes("bottom")?"-1px -1px 0px 0 var(--popper-arrow-shadow-color)":r.includes("right")?"-1px 1px 0px 0 var(--popper-arrow-shadow-color)":r.includes("left")?"1px -1px 0px 0 var(--popper-arrow-shadow-color)":void 0;var r;n&&t.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(t.style,{transform:"rotate(45deg)",background:_Y.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},RY={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},MY={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};const BY=["size","shadowColor","bg","style"];function FY(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{enabled:n=!0,modifiers:r,placement:i="bottom",strategy:a="absolute",arrowPadding:s=8,eventListeners:l=!0,offset:c,gutter:d=8,flip:u=!0,boundary:h="clippingParents",preventOverflow:p=!0,matchWidth:f,direction:m="ltr"}=e,g=(0,t.useRef)(null),v=(0,t.useRef)(null),y=(0,t.useRef)(null),x=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";const i=(null===(t=RY[e])||void 0===t?void 0:t[r])||e;return"ltr"===r?i:null!==(n=MY[e])&&void 0!==n?n:i}(i,m),b=(0,t.useRef)((()=>{})),j=(0,t.useCallback)((()=>{var e;n&&g.current&&v.current&&(null===(e=b.current)||void 0===e||e.call(b),y.current=kY(g.current,v.current,{placement:x,modifiers:[LY,EY,TY,(0,o.A)((0,o.A)({},IY),{},{enabled:!!f}),(0,o.A)({name:"eventListeners"},PY(l)),{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:null!==c&&void 0!==c?c:[0,d]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!p,options:{boundary:h}},...null!==r&&void 0!==r?r:[]],strategy:a}),y.current.forceUpdate(),b.current=y.current.destroy)}),[x,n,r,f,l,s,c,d,u,p,h,a]);(0,t.useEffect)((()=>()=>{var e;g.current||v.current||(null===(e=y.current)||void 0===e||e.destroy(),y.current=null)}),[]);const w=(0,t.useCallback)((e=>{g.current=e,j()}),[j]),k=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(w,t)})}),[w]),S=(0,t.useCallback)((e=>{v.current=e,j()}),[j]),_=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(S,t),style:(0,o.A)((0,o.A)({},e.style),{},{position:a,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"})})}),[a,S,f]),A=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{size:n,shadowColor:r,bg:i,style:a}=e,s=Jo(e,BY);return(0,o.A)((0,o.A)({},s),{},{ref:t,"data-popper-arrow":"",style:WY(e)})}),[]),C=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,"data-popper-arrow-inner":""})}),[]);return{update(){var e;null===(e=y.current)||void 0===e||e.update()},forceUpdate(){var e;null===(e=y.current)||void 0===e||e.forceUpdate()},transformOrigin:_Y.transformOrigin.varRef,referenceRef:w,popperRef:S,getPopperProps:_,getArrowProps:A,getArrowInnerProps:C,getReferenceProps:k}}function WY(e){const{size:t,shadowColor:n,bg:r,style:i}=e,a=(0,o.A)((0,o.A)({},i),{},{position:"absolute"});return t&&(a["--popper-arrow-size"]=t),n&&(a["--popper-arrow-shadow-color"]=n),r&&(a["--popper-arrow-bg"]=r),a}const UY=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function qY(e){var t,n;const r=null!==(t=null===(n=e.composedPath)||void 0===n||null===(n=n.call(e))||void 0===n?void 0:n[0])&&void 0!==t?t:e.target,{tagName:i,isContentEditable:o}=r;return"INPUT"!==i&&"TEXTAREA"!==i&&!0!==o}function HY(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ref:n,isDisabled:r,isFocusable:i,clickOnEnter:a=!0,clickOnSpace:s=!0,onMouseDown:l,onMouseUp:c,onClick:d,onKeyDown:u,onKeyUp:h,tabIndex:p,onMouseOver:f,onMouseLeave:m}=e,g=Jo(e,UY),[v,y]=(0,t.useState)(!0),[x,b]=(0,t.useState)(!1),j=function(){const e=(0,t.useRef)(new Map),n=e.current,r=(0,t.useCallback)(((t,n,r,i)=>{e.current.set(r,{type:n,el:t,options:i}),t.addEventListener(n,r,i)}),[]),i=(0,t.useCallback)(((t,n,r,i)=>{t.removeEventListener(n,r,i),e.current.delete(r)}),[]);return(0,t.useEffect)((()=>()=>{n.forEach(((e,t)=>{i(e.el,e.type,t,e.options)}))}),[i,n]),{add:r,remove:i}}(),w=v?p:p||0,k=r&&!i,S=(0,t.useCallback)((e=>{if(r)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null===d||void 0===d||d(e)}),[r,d]),_=(0,t.useCallback)((e=>{x&&qY(e)&&(e.preventDefault(),e.stopPropagation(),b(!1),j.remove(document,"keyup",_,!1))}),[x,j]),A=(0,t.useCallback)((e=>{if(null===u||void 0===u||u(e),r||e.defaultPrevented||e.metaKey)return;if(!qY(e.nativeEvent)||v)return;const t=a&&"Enter"===e.key;if(s&&" "===e.key&&(e.preventDefault(),b(!0)),t){e.preventDefault();e.currentTarget.click()}j.add(document,"keyup",_,!1)}),[r,v,u,a,s,j,_]),C=(0,t.useCallback)((e=>{if(null===h||void 0===h||h(e),r||e.defaultPrevented||e.metaKey)return;if(!qY(e.nativeEvent)||v)return;if(s&&" "===e.key){e.preventDefault(),b(!1);e.currentTarget.click()}}),[s,v,r,h]),P=(0,t.useCallback)((e=>{0===e.button&&(b(!1),j.remove(document,"mouseup",P,!1))}),[j]),I=(0,t.useCallback)((e=>{if(0!==e.button)return;if(r)return e.stopPropagation(),void e.preventDefault();v||b(!0);e.currentTarget.focus({preventScroll:!0}),j.add(document,"mouseup",P,!1),null===l||void 0===l||l(e)}),[r,v,l,j,P]),T=(0,t.useCallback)((e=>{0===e.button&&(v||b(!1),null===c||void 0===c||c(e))}),[c,v]),N=(0,t.useCallback)((e=>{r?e.preventDefault():null===f||void 0===f||f(e)}),[r,f]),E=(0,t.useCallback)((e=>{x&&(e.preventDefault(),b(!1)),null===m||void 0===m||m(e)}),[x,m]),z=Yb(n,(e=>{e&&"BUTTON"!==e.tagName&&y(!1)}));return v?(0,o.A)((0,o.A)({},g),{},{ref:z,type:"button","aria-disabled":k?void 0:r,disabled:k,onClick:S,onMouseDown:l,onMouseUp:c,onKeyUp:h,onKeyDown:u,onMouseOver:f,onMouseLeave:m}):(0,o.A)((0,o.A)({},g),{},{ref:z,role:"button","data-active":Jb(x),"aria-disabled":r?"true":void 0,tabIndex:k?void 0:w,onClick:S,onMouseDown:I,onMouseUp:T,onKeyUp:C,onKeyDown:A,onMouseOver:N,onMouseLeave:E})}const VY=["id","closeOnSelect","closeOnBlur","initialFocusRef","autoSelect","isLazy","isOpen","defaultIsOpen","onClose","onOpen","placement","lazyBehavior","direction","computePositionOnMount"],GY=["onMouseEnter","onMouseMove","onMouseLeave","onClick","onFocus","isDisabled","isFocusable","closeOnSelect","type"],[KY,YY,ZY,JY]=xS(),[XY,$Y]=Nc({strict:!1,name:"MenuContext"});function QY(e){var t;return null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document}function eZ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:n,closeOnSelect:r=!0,closeOnBlur:i=!0,initialFocusRef:a,autoSelect:s=!0,isLazy:l,isOpen:c,defaultIsOpen:d,onClose:u,onOpen:h,placement:p="bottom-start",lazyBehavior:f="unmount",direction:m,computePositionOnMount:g=!1}=e,v=Jo(e,VY),y=(0,t.useRef)(null),x=(0,t.useRef)(null),b=(0,t.useRef)(!0),j=ZY(),w=(0,t.useCallback)((()=>{requestAnimationFrame((()=>{var e;null===(e=y.current)||void 0===e||e.focus({preventScroll:!1})}))}),[]),k=(0,t.useCallback)((()=>{const e=setTimeout((()=>{var e;if(a)null===(e=a.current)||void 0===e||e.focus();else if(j.count()){const e=j.firstEnabled();e&&E(e.index)}else{var t;null===(t=y.current)||void 0===t||t.focus({preventScroll:!1})}}));R.current.add(e)}),[j,a]),S=(0,t.useCallback)((()=>{const e=setTimeout((()=>{if(j.count()){const e=j.lastEnabled();e&&E(e.index)}else{var e;null===(e=y.current)||void 0===e||e.focus({preventScroll:!1})}}));R.current.add(e)}),[j]),_=(0,t.useCallback)((()=>{null===h||void 0===h||h(),s?k():w()}),[s,k,w,h]),{isOpen:A,onOpen:C,onClose:P,onToggle:I}=GG({isOpen:c,defaultIsOpen:d,onClose:u,onOpen:_});!function(e){const{ref:n,handler:r,enabled:i=!0}=e,o=fd(r),a=(0,t.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;(0,t.useEffect)((()=>{if(!i)return;const e=e=>{KG(e,n)&&(a.isPointerDown=!0)},t=e=>{a.ignoreEmulatedMouseEvents?a.ignoreEmulatedMouseEvents=!1:a.isPointerDown&&r&&KG(e,n)&&(a.isPointerDown=!1,o(e))},s=e=>{a.ignoreEmulatedMouseEvents=!0,r&&a.isPointerDown&&KG(e,n)&&(a.isPointerDown=!1,o(e))},l=YG(n.current);return l.addEventListener("mousedown",e,!0),l.addEventListener("mouseup",t,!0),l.addEventListener("touchstart",e,!0),l.addEventListener("touchend",s,!0),()=>{l.removeEventListener("mousedown",e,!0),l.removeEventListener("mouseup",t,!0),l.removeEventListener("touchstart",e,!0),l.removeEventListener("touchend",s,!0)}}),[r,n,o,a,i])}({enabled:A&&i,ref:y,handler:e=>{var t,n,r;const i=null!==(t=null===(n=e.composedPath)||void 0===n||null===(n=n.call(e))||void 0===n?void 0:n[0])&&void 0!==t?t:e.target;null!==(r=x.current)&&void 0!==r&&r.contains(i)||P()}});const T=FY((0,o.A)((0,o.A)({},v),{},{enabled:A||g,placement:p,direction:m})),[N,E]=(0,t.useState)(-1);!function(e,t){const{shouldFocus:n,visible:r,focusRef:i}=t,o=n&&!r;pd((()=>{if(!o)return;if(QG(e))return;const t=(null===i||void 0===i?void 0:i.current)||e.current;let n;return t?(n=requestAnimationFrame((()=>{t.focus({preventScroll:!0})})),()=>{cancelAnimationFrame(n)}):void 0}),[o,e,i])}(y,{focusRef:x,visible:A,shouldFocus:!0});const z=tK({isOpen:A,ref:y}),[O,L]=nK(n,"menu-button","menu-list"),D=(0,t.useCallback)((()=>{C(),w()}),[C,w]),R=(0,t.useRef)(new Set([]));(0,t.useEffect)((()=>{const e=R.current;return()=>{e.forEach((e=>clearTimeout(e))),e.clear()}}),[]),pd((()=>{var e;A||(E(-1),null===(e=y.current)||void 0===e||e.scrollTo(0,0))}),[A]),pd((()=>{A&&-1===N&&w()}),[N,A]),(0,t.useEffect)((()=>{var e;if(!A)return;const t=j.item(N);null===t||void 0===t||null===(e=t.node)||void 0===e||e.focus({preventScroll:!b.current})}),[j,N,A]);const M=(0,t.useCallback)((()=>{C(),k()}),[k,C]),B=(0,t.useCallback)((()=>{b.current=!0,C(),S()}),[C,S]),F=(0,t.useCallback)((()=>{var e,t;const n=QY(y.current),r=null===(e=y.current)||void 0===e?void 0:e.contains(n.activeElement);if(!(A&&!r))return;const i=null===(t=j.item(N))||void 0===t?void 0:t.node;null===i||void 0===i||i.focus({preventScroll:!b.current})}),[A,N,j]);return{openAndFocusMenu:D,openAndFocusFirstItem:M,openAndFocusLastItem:B,onTransitionEnd:F,unstable__animationState:z,descendants:j,popper:T,buttonId:O,menuId:L,forceUpdate:T.forceUpdate,orientation:"vertical",isOpen:A,onToggle:I,onOpen:C,onClose:P,menuRef:y,buttonRef:x,focusedIndex:N,closeOnSelect:r,closeOnBlur:i,autoSelect:s,setFocusedIndex:E,isLazy:l,lazyBehavior:f,initialFocusRef:a,scrollIntoViewRef:b}}function tZ(e){var t;return function(e){var t;if(!function(e){return null!=e&&"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}(e))return!1;const n=null!==(t=e.ownerDocument.defaultView)&&void 0!==t?t:window;return e instanceof n.HTMLElement}(e)&&!(null===e||void 0===e||null===(t=e.getAttribute("role"))||void 0===t||!t.startsWith("menuitem"))}function nZ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{onMouseEnter:r,onMouseMove:i,onMouseLeave:a,onClick:s,onFocus:l,isDisabled:c,isFocusable:d,closeOnSelect:u,type:h}=e,p=Jo(e,GY),f=$Y(),{setFocusedIndex:m,focusedIndex:g,closeOnSelect:v,onClose:y,menuId:x,scrollIntoViewRef:b}=f,j=(0,t.useRef)(null),w="".concat(x,"-menuitem-").concat((0,t.useId)()),{index:k,register:S}=JY({disabled:c&&!d}),_=(0,t.useCallback)((e=>{null===r||void 0===r||r(e),c||(b.current=!1,m(k))}),[m,k,c,r,b]),A=(0,t.useCallback)((e=>{var t;null===i||void 0===i||i(e),j.current&&QY(t=j.current).activeElement!==t&&_(e)}),[_,i]),C=(0,t.useCallback)((e=>{null===a||void 0===a||a(e),c||m(-1)}),[m,c,a]),P=(0,t.useCallback)((e=>{null===s||void 0===s||s(e),tZ(e.currentTarget)&&(null!==u&&void 0!==u?u:v)&&y()}),[y,s,v,u]),I=(0,t.useCallback)((e=>{null===l||void 0===l||l(e),m(k)}),[m,l,k]),T=k===g,N=HY({onClick:P,onFocus:I,onMouseEnter:_,onMouseMove:A,onMouseLeave:C,ref:Yb(S,j,n),isDisabled:c,isFocusable:d});return(0,o.A)((0,o.A)((0,o.A)({},p),N),{},{type:null!==h&&void 0!==h?h:N.type,id:w,role:"menuitem",tabIndex:T?0:-1})}const rZ=["descendants"],[iZ,oZ]=Nc({name:"MenuStylesContext",errorMessage:"useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Menu />\" "}),aZ=e=>{const{children:n}=e,r=Gv("Menu",e),i=Ov(e),{direction:a}=Fv(),s=eZ((0,o.A)((0,o.A)({},i),{},{direction:a})),{descendants:l}=s,c=Jo(s,rZ),d=(0,t.useMemo)((()=>c),[c]),{isOpen:u,onClose:h,forceUpdate:p}=d;return(0,Xo.jsx)(KY,{value:l,children:(0,Xo.jsx)(XY,{value:d,children:(0,Xo.jsx)(iZ,{value:r,children:Ol(n,{isOpen:u,onClose:h,forceUpdate:p})})})})};aZ.displayName="Menu";const sZ=["children","as"],lZ=Dv(((e,t)=>{const n=oZ();return(0,Xo.jsx)(Tv.button,(0,o.A)((0,o.A)({ref:t},e),{},{__css:(0,o.A)({display:"inline-flex",appearance:"none",alignItems:"center",outline:0},n.button)}))})),cZ=Dv(((e,n)=>{const{children:r,as:i}=e,a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=$Y(),{onToggle:i,popper:a,openAndFocusFirstItem:s,openAndFocusLastItem:l,scrollIntoViewRef:c}=r,d=(0,t.useCallback)((e=>{const t=e.key,n={Enter:s,ArrowDown:s,ArrowUp:l}[t];n&&(c.current=!0,e.preventDefault(),e.stopPropagation(),n(e))}),[s,l,c]);return(0,o.A)((0,o.A)({},e),{},{ref:Yb(r.buttonRef,n,a.referenceRef),id:r.buttonId,"data-active":Jb(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:dj(e.onClick,i),onKeyDown:dj(e.onKeyDown,d)})}(Jo(e,sZ),n),s=i||lZ;return(0,Xo.jsx)(s,(0,o.A)((0,o.A)({},a),{},{className:Lv("chakra-menu__menu-button",e.className),children:(0,Xo.jsx)(Tv.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})}))}));cZ.displayName="MenuButton";const[dZ,uZ]=Nc({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"}),hZ=["name","getInitials"];function pZ(e){var t;const n=e.trim().split(" "),r=null!==(t=n[0])&&void 0!==t?t:"",i=n.length>1?n[n.length-1]:"";return r&&i?"".concat(r.charAt(0)).concat(i.charAt(0)):r.charAt(0)}function fZ(e){const{name:t,getInitials:n}=e,r=Jo(e,hZ),i=uZ();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({role:"img","aria-label":t},r),{},{__css:i.label,children:t?null===n||void 0===n?void 0:n(t):null}))}fZ.displayName="AvatarName";const mZ=e=>(0,Xo.jsxs)(Tv.svg,(0,o.A)((0,o.A)({viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg"},e),{},{children:[(0,Xo.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,Xo.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}));function gZ(e){const{src:n,srcSet:r,onError:i,onLoad:o,getInitials:a,name:s,borderRadius:l,loading:c,iconLabel:d,icon:u=(0,Xo.jsx)(mZ,{}),ignoreFallback:h,referrerPolicy:p,crossOrigin:f}=e,m=Rb({src:n,onError:i,crossOrigin:f,ignoreFallback:h});return!n||!("loaded"===m)?s?(0,Xo.jsx)(fZ,{className:"chakra-avatar__initials",getInitials:a,name:s}):(0,t.cloneElement)(u,{role:"img","aria-label":d}):(0,Xo.jsx)(Tv.img,{src:n,srcSet:r,alt:null!==s&&void 0!==s?s:d,onLoad:o,referrerPolicy:p,crossOrigin:null!==f&&void 0!==f?f:void 0,className:"chakra-avatar__img",loading:c,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:l}})}gZ.displayName="AvatarImage";const vZ=["src","srcSet","name","showBorder","borderRadius","onError","onLoad","getInitials","icon","iconLabel","loading","children","borderColor","ignoreFallback","crossOrigin","referrerPolicy"],yZ={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},xZ=Dv(((e,n)=>{const r=Gv("Avatar",e),[i,a]=(0,t.useState)(!1),s=Ov(e),{src:l,srcSet:c,name:d,showBorder:u,borderRadius:h="full",onError:p,onLoad:f,getInitials:m=pZ,icon:g=(0,Xo.jsx)(mZ,{}),iconLabel:v=" avatar",loading:y,children:x,borderColor:b,ignoreFallback:j,crossOrigin:w,referrerPolicy:k}=s,S=Jo(s,vZ),_=(0,o.A)((0,o.A)({borderRadius:h,borderWidth:u?"2px":void 0},yZ),r.container);return b&&(_.borderColor=b),(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({ref:n},S),{},{className:Lv("chakra-avatar",e.className),"data-loaded":Jb(i),__css:_,children:(0,Xo.jsxs)(dZ,{value:r,children:[(0,Xo.jsx)(gZ,{src:l,srcSet:c,loading:y,onLoad:dj(f,(()=>{a(!0)})),onError:p,getInitials:m,name:d,borderRadius:h,icon:g,iconLabel:v,ignoreFallback:j,crossOrigin:w,referrerPolicy:k}),x]})}))}));xZ.displayName="Avatar";const bZ=["rootProps","motionProps"],jZ={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},wZ=Tv(sv.div),kZ=Dv((function(e,n){var r,i;const{rootProps:a,motionProps:s}=e,l=Jo(e,bZ),{isOpen:c,onTransitionEnd:d,unstable__animationState:u}=$Y(),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=$Y();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:i,setFocusedIndex:a,menuRef:s,isOpen:l,onClose:c,menuId:d,isLazy:u,lazyBehavior:h,scrollIntoViewRef:p,unstable__animationState:f}=r,m=YY(),g=iK({preventDefault:e=>" "!==e.key&&tZ(e.target)}),v=(0,t.useCallback)((e=>{if(!e.currentTarget.contains(e.target))return;const t={Tab:e=>e.preventDefault(),Escape:e=>{e.stopPropagation(),c()},ArrowDown:()=>{var e;p.current=!0;const t=null!==(e=m.nextEnabled(i))&&void 0!==e?e:m.firstEnabled();t&&a(t.index)},ArrowUp:()=>{var e;p.current=!0;const t=null!==(e=m.prevEnabled(i))&&void 0!==e?e:m.firstEnabled();t&&a(t.index)}},n=t[e.key];if(n)return e.preventDefault(),void n(e);const r=g((e=>{const t=function(e,t,n,r){if(null==t)return r;if(!r)return e.find((e=>n(e).toLowerCase().startsWith(t.toLowerCase())));const i=e.filter((e=>n(e).toLowerCase().startsWith(t.toLowerCase())));if(i.length>0){let t;return i.includes(r)?(t=i.indexOf(r)+1,t===i.length&&(t=0),i[t]):(t=e.indexOf(i[0]),e[t])}return r}(m.values(),e,(e=>{var t,n;return null!==(t=null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.textContent)&&void 0!==t?t:""}),m.item(i));if(t){const e=m.indexOf(t.node);a(e)}}));tZ(e.target)&&r(e)}),[m,i,g,c,a,p]),y=(0,t.useRef)(!1);l&&(y.current=!0);const x=rK({wasSelected:y.current,enabled:u,mode:h,isSelected:f.present});return(0,o.A)((0,o.A)({},e),{},{ref:Yb(s,n),children:x?e.children:null,tabIndex:-1,role:"menu",id:d,style:(0,o.A)((0,o.A)({},e.style),{},{transformOrigin:"var(--popper-transform-origin)"}),"aria-orientation":"vertical",onKeyDown:dj(e.onKeyDown,v)})}(l,n),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{popper:t,isOpen:n}=$Y();return t.getPopperProps((0,o.A)((0,o.A)({},e),{},{style:(0,o.A)({visibility:n?"visible":"hidden"},e.style)}))}(a),f=oZ();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},p),{},{__css:{zIndex:null!==(r=e.zIndex)&&void 0!==r?r:null===(i=f.list)||void 0===i?void 0:i.zIndex},children:(0,Xo.jsx)(wZ,(0,o.A)((0,o.A)((0,o.A)({variants:jZ,initial:!1,animate:c?"enter":"exit",__css:(0,o.A)({outline:0},f.list)},s),h),{},{className:Lv("chakra-menu__menu-list",h.className),onUpdate:d,onAnimationComplete:cj(u.onComplete,h.onAnimationComplete)}))}))}));kZ.displayName="MenuList";const SZ=Dv(((e,t)=>{const n=oZ();return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({ref:t},e),{},{__css:n.command,className:"chakra-menu__command"}))}));SZ.displayName="MenuCommand";const _Z=["className","children"],AZ=e=>{const{className:n,children:r}=e,i=Jo(e,_Z),a=oZ(),s=t.Children.only(r),l=(0,t.isValidElement)(s)?(0,t.cloneElement)(s,{focusable:"false","aria-hidden":!0,className:Lv("chakra-menu__icon",s.props.className)}):null,c=Lv("chakra-menu__icon-wrapper",n);return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({className:c},i),{},{__css:a.icon,children:l}))};AZ.displayName="MenuIcon";const CZ=["type"],PZ=Dv(((e,n)=>{const{type:r}=e,i=Jo(e,CZ),a=oZ(),s=i.as||r?null!==r&&void 0!==r?r:void 0:"button",l=(0,t.useMemo)((()=>(0,o.A)({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0},a.item)),[a.item]);return(0,Xo.jsx)(Tv.button,(0,o.A)((0,o.A)({ref:n,type:s},i),{},{__css:l}))})),IZ=["icon","iconSpacing","command","commandSpacing","children"],TZ=Dv(((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",command:i,commandSpacing:a="0.75rem",children:s}=e,l=nZ(Jo(e,IZ),t),c=n||i?(0,Xo.jsx)("span",{style:{pointerEvents:"none",flex:1},children:s}):s;return(0,Xo.jsxs)(PZ,(0,o.A)((0,o.A)({},l),{},{className:Lv("chakra-menu__menuitem",l.className),children:[n&&(0,Xo.jsx)(AZ,{fontSize:"0.8em",marginEnd:r,children:n}),c,i&&(0,Xo.jsx)(SZ,{marginStart:a,children:i})]}))}));TZ.displayName="MenuItem";const NZ=["className"],EZ=e=>{const{className:t}=e,n=Jo(e,NZ),r=oZ();return(0,Xo.jsx)(Tv.hr,(0,o.A)((0,o.A)({"aria-orientation":"horizontal",className:Lv("chakra-menu__divider",t)},n),{},{__css:r.divider}))};EZ.displayName="MenuDivider";var zZ=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},OZ=new WeakMap,LZ=new WeakMap,DZ={},RZ=0,MZ=function(e){return e&&(e.host||MZ(e.parentNode))},BZ=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=MZ(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);DZ[n]||(DZ[n]=new WeakMap);var o=DZ[n],a=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))d(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(OZ.get(e)||0)+1,c=(o.get(e)||0)+1;OZ.set(e,l),o.set(e,c),a.push(e),1===l&&i&&LZ.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(Cee){console.error("aria-hidden: cannot operate on ",e,Cee)}}))};return d(t),s.clear(),RZ++,function(){a.forEach((function(e){var t=OZ.get(e)-1,i=o.get(e)-1;OZ.set(e,t),o.set(e,i),t||(LZ.has(e)||e.removeAttribute(r),LZ.delete(e)),i||e.removeAttribute(n)})),--RZ||(OZ=new WeakMap,OZ=new WeakMap,LZ=new WeakMap,DZ={})}},FZ=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||zZ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),BZ(r,i,n,"aria-hidden")):function(){return null}},WZ=Object.defineProperty,UZ=(e,t,n)=>(((e,t,n)=>{t in e?WZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);const qZ=new class{constructor(){UZ(this,"modals"),this.modals=new Set}add(e){return this.modals.add(e),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){if(!e)return!1;return e===Array.from(this.modals)[this.modals.size-1]}};function HZ(e,n){const[r,i]=(0,t.useState)(0);return(0,t.useEffect)((()=>{const t=e.current;if(t){if(n){const e=qZ.add(t);i(e)}return()=>{qZ.remove(t),i(0)}}}),[n,e]),r}function VZ(e){const{isOpen:n,onClose:r,id:i,closeOnOverlayClick:a=!0,closeOnEsc:s=!0,useInert:l=!0,onOverlayClick:c,onEsc:d}=e,u=(0,t.useRef)(null),h=(0,t.useRef)(null),[p,f,m]=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=(0,t.useId)(),a=e||o;return(0,t.useMemo)((()=>r.map((e=>"".concat(e,"-").concat(a)))),[a,r])}(i,"chakra-modal","chakra-modal--header","chakra-modal--body");!function(e,n){const r=e.current;(0,t.useEffect)((()=>{if(e.current&&n)return FZ(e.current)}),[n,e,r])}(u,n&&l);const g=HZ(u,n),v=(0,t.useRef)(null),y=(0,t.useCallback)((e=>{v.current=e.target}),[]),x=(0,t.useCallback)((e=>{"Escape"===e.key&&(e.stopPropagation(),s&&(null===r||void 0===r||r()),null===d||void 0===d||d())}),[s,r,d]),[b,j]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),S=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({role:"dialog"},e),{},{ref:Yb(t,u),id:p,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?f:void 0,"aria-describedby":w?m:void 0,onClick:dj(e.onClick,(e=>e.stopPropagation()))})}),[m,w,p,f,b]),_=(0,t.useCallback)((e=>{e.stopPropagation(),v.current===e.target&&qZ.isTopModal(u.current)&&(a&&(null===r||void 0===r||r()),null===c||void 0===c||c())}),[r,a,c]),A=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,h),onClick:dj(e.onClick,_),onKeyDown:dj(e.onKeyDown,x),onMouseDown:dj(e.onMouseDown,y)})}),[x,y,_]);return{isOpen:n,onClose:r,headerId:f,bodyId:m,setBodyMounted:k,setHeaderMounted:j,dialogRef:u,overlayRef:h,getDialogProps:S,getDialogContainerProps:A,index:g}}const[GZ,KZ]=Nc({name:"ModalStylesContext",errorMessage:"useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" "}),[YZ,ZZ]=Nc({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),JZ=e=>{var t;const n=(0,o.A)((0,o.A)({scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale"},e),{},{lockFocusAcrossFrames:null===(t=e.lockFocusAcrossFrames)||void 0===t||t}),{portalProps:r,children:i,autoFocus:a,trapFocus:s,initialFocusRef:l,finalFocusRef:c,returnFocusOnClose:d,blockScrollOnMount:u,allowPinchZoom:h,preserveScrollBarGap:p,motionPreset:f,lockFocusAcrossFrames:m,animatePresenceProps:g,onCloseComplete:v}=n,y=Gv("Modal",n),x=VZ(n),b=(0,o.A)((0,o.A)({},x),{},{autoFocus:a,trapFocus:s,initialFocusRef:l,finalFocusRef:c,returnFocusOnClose:d,blockScrollOnMount:u,allowPinchZoom:h,preserveScrollBarGap:p,motionPreset:f,lockFocusAcrossFrames:m});return(0,Xo.jsx)(YZ,{value:b,children:(0,Xo.jsx)(GZ,{value:y,children:(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},g),{},{onExitComplete:v,children:b.isOpen&&(0,Xo.jsx)(Ay,(0,o.A)((0,o.A)({},r),{},{children:i}))}))})})};JZ.displayName="Modal";const XZ=["isOpen","onClose","placement","children"],[$Z,QZ]=Nc(),eJ={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function tJ(e){var t;const{isOpen:n,onClose:r,placement:i="right",children:a}=e,s=Jo(e,XZ),l=Fv(),c=null===(t=l.components)||void 0===t?void 0:t.Drawer,d=function(e,t){var n,r;if(e)return null!==(n=null===(r=eJ[e])||void 0===r?void 0:r[t])&&void 0!==n?n:e}(i,l.direction);return(0,Xo.jsx)($Z,{value:{placement:d},children:(0,Xo.jsx)(JZ,(0,o.A)((0,o.A)({isOpen:n,onClose:r,styleConfig:c},s),{},{children:a}))})}const nJ={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},rJ={position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},iJ={position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},oJ={position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},aJ={position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}};function sJ(e){var t;switch(null!==(t=null===e||void 0===e?void 0:e.direction)&&void 0!==t?t:"right"){case"right":default:return iJ;case"left":return rJ;case"bottom":return aJ;case"top":return oJ}}const lJ={enter:{duration:.2,ease:nJ.easeOut},exit:{duration:.1,ease:nJ.easeIn}},cJ=(e,t)=>(0,o.A)((0,o.A)({},e),{},{delay:"number"===typeof t?t:null===t||void 0===t?void 0:t.enter}),dJ=(e,t)=>(0,o.A)((0,o.A)({},e),{},{delay:"number"===typeof t?t:null===t||void 0===t?void 0:t.exit}),uJ=["unmountOnExit","in","className","transition","transitionEnd","delay","animatePresenceProps"],hJ={enter:function(){var e;let{transition:t,transitionEnd:n,delay:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{opacity:1,transition:null!==(e=null===t||void 0===t?void 0:t.enter)&&void 0!==e?e:cJ(lJ.enter,r),transitionEnd:null===n||void 0===n?void 0:n.enter}},exit:function(){var e;let{transition:t,transitionEnd:n,delay:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{opacity:0,transition:null!==(e=null===t||void 0===t?void 0:t.exit)&&void 0!==e?e:dJ(lJ.exit,r),transitionEnd:null===n||void 0===n?void 0:n.exit}}},pJ={initial:"exit",animate:"enter",exit:"exit",variants:hJ},fJ=(0,t.forwardRef)((function(e,t){const{unmountOnExit:n,in:r,className:i,transition:a,transitionEnd:s,delay:l,animatePresenceProps:c}=e,d=Jo(e,uJ),u=r||n?"enter":"exit",h=!n||r&&n,p={transition:a,transitionEnd:s,delay:l};return(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},c),{},{custom:p,children:h&&(0,Xo.jsx)(sv.div,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-fade",i),custom:p},pJ),{},{animate:u},d))}))}));fJ.displayName="Fade";const mJ=["className","transition","motionProps"],gJ=Tv(sv.div),vJ=Dv(((e,t)=>{const{className:n,transition:r,motionProps:i}=e,a=Jo(e,mJ),s=Lv("chakra-modal__overlay",n),l=KZ(),c=(0,o.A)({pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh"},l.overlay),{motionPreset:d}=ZZ(),u=i||("none"===d?{}:pJ);return(0,Xo.jsx)(gJ,(0,o.A)((0,o.A)({},u),{},{__css:c,ref:t,className:s},a))}));vJ.displayName="ModalOverlay";var yJ=function(){return yJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yJ.apply(this,arguments)};function xJ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function bJ(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var jJ="right-scroll-bar-position",wJ="width-before-scroll-bar";function kJ(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var SJ="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,_J=new WeakMap;function AJ(e,n){var r=function(e,n){var r=(0,t.useState)((function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(t){return e.forEach((function(e){return kJ(e,t)}))}));return SJ((function(){var t=_J.get(r);if(t){var n=new Set(t),i=new Set(e),o=r.current;n.forEach((function(e){i.has(e)||kJ(e,null)})),i.forEach((function(e){n.has(e)||kJ(e,o)}))}_J.set(r,e)}),[e]),r}function CJ(e){return e}function PJ(e,t){void 0===t&&(t=CJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}function IJ(e,t){return void 0===t&&(t=CJ),PJ(e,t)}function TJ(e){void 0===e&&(e={});var t=PJ(null);return t.options=yJ({async:!0,ssr:!1},e),t}var NJ=TJ(),EJ=function(){},zJ=t.forwardRef((function(e,n){var r=t.useRef(null),i=t.useState({onScrollCapture:EJ,onWheelCapture:EJ,onTouchMoveCapture:EJ}),o=i[0],a=i[1],s=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,p=e.sideCar,f=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,x=e.gapMode,b=xJ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,w=AJ([r,n]),k=yJ(yJ({},b),o);return t.createElement(t.Fragment,null,u&&t.createElement(j,{sideCar:NJ,removeScrollBar:d,shards:h,noIsolation:f,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),s?t.cloneElement(t.Children.only(l),yJ(yJ({},k),{ref:w})):t.createElement(y,yJ({},k,{className:c,ref:w}),l))}));zJ.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},zJ.classNames={fullWidth:wJ,zeroRight:jJ};var OJ,LJ=function(e){var n=e.sideCar,r=xJ(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return t.createElement(i,yJ({},r))};LJ.isSideCarExport=!0;function DJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=OJ||n.nc;return t&&e.setAttribute("nonce",t),e}var RJ=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=DJ())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MJ=function(){var e=function(){var e=RJ();return function(n,r){t.useEffect((function(){return e.add(n),function(){e.remove()}}),[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},BJ={left:0,top:0,right:0,gap:0},FJ=function(e){return parseInt(e||"",10)||0},WJ=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return BJ;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[FJ(n),FJ(r),FJ(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},UJ=MJ(),qJ="data-scroll-locked",HJ=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(qJ,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(jJ," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(wJ," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(jJ," .").concat(jJ," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(wJ," .").concat(wJ," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(qJ,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},VJ=function(){var e=parseInt(document.body.getAttribute(qJ)||"0",10);return isFinite(e)?e:0},GJ=function(e){var n=e.noRelative,r=e.noImportant,i=e.gapMode,o=void 0===i?"margin":i;t.useEffect((function(){return document.body.setAttribute(qJ,(VJ()+1).toString()),function(){var e=VJ()-1;e<=0?document.body.removeAttribute(qJ):document.body.setAttribute(qJ,e.toString())}}),[]);var a=t.useMemo((function(){return WJ(o)}),[o]);return t.createElement(UJ,{styles:HJ(a,!n,o,r?"":"!important")})},KJ=!1;if("undefined"!==typeof window)try{var YJ=Object.defineProperty({},"passive",{get:function(){return KJ=!0,!0}});window.addEventListener("test",YJ,YJ),window.removeEventListener("test",YJ,YJ)}catch(Pee){KJ=!1}var ZJ=!!KJ&&{passive:!1},JJ=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},XJ=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),$J(e,r)){var i=QJ(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$J=function(e,t){return"v"===e?function(e){return JJ(e,"overflowY")}(t):function(e){return JJ(e,"overflowX")}(t)},QJ=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},eX=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tX=function(e){return[e.deltaX,e.deltaY]},nX=function(e){return e&&"current"in e?e.current:e},rX=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},iX=0,oX=[];function aX(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sX=(lX=function(e){var n=t.useRef([]),r=t.useRef([0,0]),i=t.useRef(),o=t.useState(iX++)[0],a=t.useState(MJ)[0],s=t.useRef(e);t.useEffect((function(){s.current=e}),[e]),t.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=bJ([e.lockRef.current],(e.shards||[]).map(nX),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var n,o=eX(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=XJ(u,d);if(!h)return!0;if(h?n=u:(n="v"===u?"h":"v",h=XJ(u,d)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var p=i.current||n;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,d=a>0,u=0,h=0;do{var p=QJ(e,s),f=p[0],m=p[1]-p[2]-o*f;(f||m)&&$J(e,s)&&(u+=m,h+=f),s=s instanceof ShadowRoot?s.host:s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(i&&Math.abs(u)<1||!i&&a>u)||!d&&(i&&Math.abs(h)<1||!i&&-a>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=t.useCallback((function(e){var t=e;if(oX.length&&oX[oX.length-1]===a){var r="deltaY"in t?tX(t):eX(t),i=n.current.filter((function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(n=e.delta,i=r,n[0]===i[0]&&n[1]===i[1]);var n,i}))[0];if(i&&i.should)t.cancelable&&t.preventDefault();else if(!i){var o=(s.current.shards||[]).map(nX).filter(Boolean).filter((function(e){return e.contains(t.target)}));(o.length>0?l(t,o[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),d=t.useCallback((function(e,t,r,i){var o={name:e,delta:t,target:r,should:i,shadowParent:aX(r)};n.current.push(o),setTimeout((function(){n.current=n.current.filter((function(e){return e!==o}))}),1)}),[]),u=t.useCallback((function(e){r.current=eX(e),i.current=void 0}),[]),h=t.useCallback((function(t){d(t.type,tX(t),t.target,l(t,e.lockRef.current))}),[]),p=t.useCallback((function(t){d(t.type,eX(t),t.target,l(t,e.lockRef.current))}),[]);t.useEffect((function(){return oX.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ZJ),document.addEventListener("touchmove",c,ZJ),document.addEventListener("touchstart",u,ZJ),function(){oX=oX.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,ZJ),document.removeEventListener("touchmove",c,ZJ),document.removeEventListener("touchstart",u,ZJ)}}),[]);var f=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(a,{styles:rX(o)}):null,f?t.createElement(GJ,{gapMode:e.gapMode}):null)},NJ.useMedium(lX),LJ);var lX,cX=t.forwardRef((function(e,n){return t.createElement(zJ,yJ({},e,{ref:n,sideCar:sX}))}));cX.classNames=zJ.classNames;const dX=cX;var uX="data-focus-lock",hX="data-focus-lock-disabled",pX={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},fX=function(e){var n=e.children,r=void 0===n?null:n;return t.createElement(t.Fragment,null,t.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:pX}),r,r&&t.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:pX}))};fX.propTypes={};var mX=IJ({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),gX=IJ(),vX=IJ(),yX=TJ({async:!0,ssr:"undefined"!==typeof document}),xX=(0,t.createContext)(void 0),bX=[],jX=(0,t.forwardRef)((function(e,n){var r,i=(0,t.useState)(),o=i[0],a=i[1],s=(0,t.useRef)(),l=(0,t.useRef)(!1),c=(0,t.useRef)(null),d=(0,t.useState)({})[1],u=e.children,h=e.disabled,p=void 0!==h&&h,f=e.noFocusGuards,m=void 0!==f&&f,g=e.persistentFocus,v=void 0!==g&&g,y=e.crossFrame,x=void 0===y||y,b=e.autoFocus,j=void 0===b||b,w=(e.allowTextSelection,e.group),k=e.className,S=e.whiteList,_=e.hasPositiveIndices,A=e.shards,C=void 0===A?bX:A,P=e.as,I=void 0===P?"div":P,T=e.lockProps,N=void 0===T?{}:T,E=e.sideCar,z=e.returnFocus,O=void 0!==z&&z,L=e.focusOptions,D=e.onActivation,R=e.onDeactivation,M=(0,t.useState)({})[0],B=(0,t.useCallback)((function(e){var t=e.captureFocusRestore;if(!c.current){var n,r=null==(n=document)?void 0:n.activeElement;c.current=r,r!==document.body&&(c.current=t(r))}s.current&&D&&D(s.current),l.current=!0,d()}),[D]),F=(0,t.useCallback)((function(){l.current=!1,R&&R(s.current),d()}),[R]),W=(0,t.useCallback)((function(e){var t=c.current;if(t){var n=("function"===typeof t?t():t)||document.body,r="function"===typeof O?O(n):O;if(r){var i="object"===typeof r?r:void 0;c.current=null,e?Promise.resolve().then((function(){return n.focus(i)})):n.focus(i)}}}),[O]),U=(0,t.useCallback)((function(e){l.current&&mX.useMedium(e)}),[]),q=gX.useMedium,H=(0,t.useCallback)((function(e){s.current!==e&&(s.current=e,a(e))}),[]);var V=ns(((r={})[hX]=p&&"disabled",r[uX]=w,r),N),G=!0!==m,K=G&&"tail"!==m,Y=AJ([n,H]),Z=(0,t.useMemo)((function(){return{observed:s,shards:C,enabled:!p,active:l.current}}),[p,l.current,C,o]);return t.createElement(t.Fragment,null,G&&[t.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:pX}),_?t.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:pX}):null],!p&&t.createElement(E,{id:M,sideCar:yX,observed:o,disabled:p,persistentFocus:v,crossFrame:x,autoFocus:j,whiteList:S,shards:C,onActivation:B,onDeactivation:F,returnFocus:W,focusOptions:L,noFocusGuards:m}),t.createElement(I,ns({ref:Y},V,{className:k,onBlur:q,onFocus:U}),t.createElement(xX.Provider,{value:Z},u)),K&&t.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:pX}))}));jX.propTypes={};const wX=jX;function kX(e,t){return kX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kX(e,t)}var SX=n(4980);const _X=function(e,n){return function(r){var i,o=[];function a(){i=e(o.map((function(e){return e.props}))),n(i)}var s=function(e){function n(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kX(e,t)}(n,e),n.peek=function(){return i};var s=n.prototype;return s.componentDidMount=function(){o.push(this),a()},s.componentDidUpdate=function(){a()},s.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),a()},s.render=function(){return t.createElement(r,this.props)},n}(t.PureComponent);return(0,SX.A)(s,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),s}};var AX=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},CX=function(e){return Array.isArray(e)?e:[e]},PX=function(e){return Array.isArray(e)?e[0]:e},IX=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},TX=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},NX=function(e,t){return!e||TX(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&!function(e){return e.hasAttribute("inert")}(e)&&t(IX(e))},EX=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=NX(t,EX.bind(void 0,e));return e.set(t,r),r},zX=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!(e&&!TX(e))||!!RX(e)&&t(IX(e))}(t,zX.bind(void 0,e));return e.set(t,r),r},OX=function(e){return e.dataset},LX=function(e){return"INPUT"===e.tagName},DX=function(e){return LX(e)&&"radio"===e.type},RX=function(e){var t=e.getAttribute("data-no-autofocus");return![!0,"true",""].includes(t)},MX=function(e){var t;return Boolean(e&&(null===(t=OX(e))||void 0===t?void 0:t.focusGuard))},BX=function(e){return!MX(e)},FX=function(e){return Boolean(e)},WX=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},UX=function(e,t,n){return AX(e).map((function(e,t){var r=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex}(e);return{node:e,index:t,tabIndex:n&&-1===r?(e.dataset||{}).focusGuard?0:-1:r}})).filter((function(e){return!t||e.tabIndex>=0})).sort(WX)},qX=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),HX="".concat(qX,", [data-focus-guard]"),VX=function(e,t){return AX((e.shadowRoot||e).children).reduce((function(e,n){return e.concat(n.matches(t?HX:qX)?[n]:[],VX(n))}),[])},GX=function(e,t){return e.reduce((function(e,n){var r,i=VX(n,t),o=(r=[]).concat.apply(r,i.map((function(e){return function(e,t){var n;return e instanceof HTMLIFrameElement&&(null===(n=e.contentDocument)||void 0===n?void 0:n.body)?GX([e.contentDocument.body],t):[e]}(e,t)})));return e.concat(o,n.parentNode?AX(n.parentNode.querySelectorAll(qX)).filter((function(e){return e===n})):[])}),[])},KX=function(e,t){return AX(e).filter((function(e){return EX(t,e)})).filter((function(e){return function(e){return!((LX(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)}))},YX=function(e,t){return void 0===t&&(t=new Map),AX(e).filter((function(e){return zX(t,e)}))},ZX=function(e,t,n){return UX(KX(GX(e,n),t),!0,n)},JX=function(e,t){return UX(KX(GX(e),t),!1)},XX=function(e,t){return KX(function(e){var t=e.querySelectorAll("[".concat("data-autofocus-inside","]"));return AX(t).map((function(e){return GX([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},$X=function(e,t){return e.shadowRoot?$X(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||AX(e.children).some((function(e){var n;if(e instanceof HTMLIFrameElement){var r=null===(n=e.contentDocument)||void 0===n?void 0:n.body;return!!r&&$X(r,t)}return $X(e,t)}))},QX=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?QX(t.shadowRoot):t instanceof HTMLIFrameElement&&function(e){try{return e()}catch(Cee){return}}((function(){return t.contentWindow.document}))?QX(t.contentWindow.document):t}},e$=function(e){return e.parentNode?e$(e.parentNode):e},t$=function(e){return CX(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(uX);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(AX(e$(t).querySelectorAll("[".concat(uX,'="').concat(n,'"]:not([').concat(hX,'="disabled"])')))):[t]),e}),[])},n$=function(e,t){return void 0===t&&(t=QX(PX(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&t$(e).some((function(e){return $X(e,t)||function(e,t){return Boolean(AX(e.querySelectorAll("iframe")).some((function(e){return function(e,t){return e===t}(e,t)})))}(e,t)}))},r$=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},i$=function(e,t){return DX(e)&&e.name?function(e,t){return t.filter(DX).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},o$=function(e){return e[0]&&e.length>1?i$(e[0],e):e[0]},a$=function(e,t){return e.indexOf(i$(t,e))},s$="NEW_FOCUS",l$=function(e,t,n,r,i){var o=e.length,a=e[0],s=e[o-1],l=MX(r);if(!(r&&e.indexOf(r)>=0)){var c=void 0!==r?n.indexOf(r):-1,d=i?n.indexOf(i):c,u=i?e.indexOf(i):-1;if(-1===c)return-1!==u?u:s$;if(-1===u)return s$;var h=c-d,p=n.indexOf(a),f=n.indexOf(s),m=function(e){var t=new Set;return e.forEach((function(n){return t.add(i$(n,e))})),e.filter((function(e){return t.has(e)}))}(n),g=void 0!==r?m.indexOf(r):-1,v=i?m.indexOf(i):g,y=m.filter((function(e){return e.tabIndex>=0})),x=void 0!==r?y.indexOf(r):-1,b=i?y.indexOf(i):x,j=x>=0&&b>=0?b-x:v-g;if(!h&&u>=0)return u;if(0===t.length)return u;var w=a$(e,t[0]),k=a$(e,t[t.length-1]);return c<=p&&l&&Math.abs(h)>1?k:c>=f&&l&&Math.abs(h)>1?w:h&&Math.abs(j)>1?u:c<=p?k:c>f?w:h?Math.abs(h)>1?u:(o+u+h)%o:void 0}},c$=function(e,t,n){var r,i=e.map((function(e){return e.node})),o=YX(i.filter((r=n,function(e){var t,n=null===(t=OX(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==n&&"false"!==n||r.indexOf(e)>=0})));return o&&o.length?o$(o):o$(YX(t))},d$=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&d$(e.parentNode.host||e.parentNode,t),t},u$=function(e,t){for(var n=d$(e),r=d$(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},h$=function(e,t,n){var r=CX(e),i=CX(t),o=r[0],a=!1;return i.filter(Boolean).forEach((function(e){a=u$(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=u$(o,e);t&&(a=!a||$X(t,a)?t:u$(t,a))}))})),a},p$=function(e,t){return e.reduce((function(e,n){return e.concat(XX(n,t))}),[])},f$=function(e,t){var n=QX(CX(e).length>0?document:PX(e).ownerDocument),r=t$(e).filter(BX),i=h$(n||e,e,r),o=new Map,a=JX(r,o),s=a.filter((function(e){var t=e.node;return BX(t)}));if(s[0]){var l=JX([i],o).map((function(e){return e.node})),c=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(FX)}(l,s),d=c.map((function(e){return e.node})),u=c.filter((function(e){return e.tabIndex>=0})).map((function(e){return e.node})),h=l$(d,u,l,n,t);if(h===s$){var p=c$(a,u,p$(r,o))||c$(a,d,p$(r,o));return p?{node:p}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===h?h:c[h]}},m$=0,g$=!1,v$=function(e,t,n){void 0===n&&(n={});var r=f$(e,t);if(!g$&&r){if(m$>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),g$=!0,void setTimeout((function(){g$=!1}),1);m$++,r$(r.node,n.focusOptions),m$--}};function y$(e){if(!e)return null;if("undefined"===typeof WeakRef)return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(null===t||void 0===t?void 0:t.deref())||null}}var x$=function(e){var t=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:y$(n),parent:y$(n.parentElement),left:y$(n.previousElementSibling),right:y$(n.nextElementSibling)}),n=n.parentElement;return{element:y$(e),stack:t,ownerDocument:e.ownerDocument}}(e);return function(){return function(e){var t,n,r,i,o;if(e)for(var a=e.stack,s=e.ownerDocument,l=new Map,c=0,d=a;c<d.length;c++){var u=d[c],h=null===(t=u.parent)||void 0===t?void 0:t.call(u);if(h&&s.contains(h)){for(var p=null===(n=u.left)||void 0===n?void 0:n.call(u),f=u.current(),m=h.contains(f)?f:void 0,g=null===(r=u.right)||void 0===r?void 0:r.call(u),v=ZX([h],l),y=null!==(o=null!==(i=null!==m&&void 0!==m?m:null===p||void 0===p?void 0:p.nextElementSibling)&&void 0!==i?i:g)&&void 0!==o?o:p;y;){for(var x=0,b=v;x<b.length;x++){var j=b[x];if(null===y||void 0===y?void 0:y.contains(j.node))return j.node}y=y.nextElementSibling}if(v.length)return v[0].node}}}(t)}},b$=function(e,t,n){void 0===t&&(t={});var r=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)}(t),i=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=CX(t);if(r.every((function(t){return!$X(t,e)})))return console.error("Active element is not contained in the scope"),{};var i=n?ZX(r,new Map):JX(r,new Map),o=i.findIndex((function(t){return t.node===e}));return-1!==o?{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}:void 0}(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&r$(o.node,r.focusOptions)}},j$=function(e,t,n){var r,i=function(e,t){var n=t?ZX(CX(e),new Map):JX(CX(e),new Map);return{first:n[0],last:n[n.length-1]}}(e,null===(r=t.onlyTabbable)||void 0===r||r)[n];i&&r$(i.node,t.focusOptions)};function w$(e){setTimeout(e,1)}var k$=function(e){return e&&"current"in e?e.current:e},S$=function(){return document&&document.activeElement===document.body},_$=function(){return S$()||function(e){void 0===e&&(e=document);var t=QX(e);return!!t&&AX(e.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(e){return $X(e,t)}))}()},A$=null,C$=null,P$=function(){return null},I$=null,T$=!1,N$=!1,E$=function(){return!0};function z$(e,t,n,r){var i=null,o=e;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==e)return;i=null}}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var O$=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},L$=function(e){return JX(e,new Map)},D$=function(){var e,t=!1;if(A$){var n=A$,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,s=n.crossFrame,l=n.focusOptions,c=n.noFocusGuards,d=r||I$&&I$.portaledElement;if(S$()&&C$&&C$!==document.body&&(!document.body.contains(C$)||function(e){return!L$([e.parentNode]).some((function(t){return t.node===e}))}(C$))){var u=P$();u&&u.focus()}var h=document&&document.activeElement;if(d){var p=[d].concat(a.map(k$).filter(Boolean));if(h&&!function(e){return(A$.whiteList||E$)(e)}(h)||(i||function(){if(!(s?Boolean(T$):"meanwhile"===T$)||!c||!C$||N$)return!1;var e=L$(p),t=e.findIndex((function(e){return e.node===C$}));return 0===t||t===e.length-1}()||!_$()||!C$&&o)&&(d&&!(n$(p)||h&&function(e,t){return t.some((function(t){return O$(e,t,t)}))}(h,p)||(e=h,I$&&I$.portaledElement===e))&&(document&&!C$&&h&&!o?(h.blur&&h.blur(),document.body.focus()):(t=v$(p,C$,{focusOptions:l}),I$={})),(C$=document&&document.activeElement)!==document.body&&(P$=x$(C$)),T$=!1),document&&h!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var f=document&&document.activeElement,m=function(e){var t=t$(e).filter(BX),n=h$(e,e,t),r=UX(GX([n],!0),!0,!0),i=GX(t,!1);return r.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:MX(t)}}))}(p),g=m.map((function(e){return e.node})).indexOf(f);g>-1&&(m.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),z$(g,m.length,1,m),z$(g,-1,-1,m))}}}return t},R$=function(e){D$()&&e&&(e.stopPropagation(),e.preventDefault())},M$=function(){return w$(D$)},B$=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(I$={observerNode:n,portaledElement:t})},F$=function(){N$=!0},W$=function(){N$=!1,T$="just",w$((function(){T$="meanwhile"}))};var U$={moveFocusInside:v$,focusInside:n$,focusNextElement:function(e,t){void 0===t&&(t={}),b$(e,t,(function(e,t){var n=e.next,r=e.first;return n||t&&r}))},focusPrevElement:function(e,t){void 0===t&&(t={}),b$(e,t,(function(e,t){var n=e.prev,r=e.last;return n||t&&r}))},focusFirstElement:function(e,t){void 0===t&&(t={}),j$(e,t,"first")},focusLastElement:function(e,t){void 0===t&&(t={}),j$(e,t,"last")},captureFocusRestore:x$};mX.assignSyncMedium(B$),gX.assignMedium(M$),vX.assignMedium((function(e){return e(U$)}));const q$=_X((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!A$&&(document.addEventListener("focusin",R$),document.addEventListener("focusout",M$),window.addEventListener("focus",F$),window.addEventListener("blur",W$));var n=A$,r=n&&t&&t.id===n.id;A$=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(C$=null,r&&n.observed===t.observed||t.onActivation(U$),D$(),w$(D$)):(document.removeEventListener("focusin",R$),document.removeEventListener("focusout",M$),window.removeEventListener("focus",F$),window.removeEventListener("blur",W$),C$=null)}))((function(){return null}));var H$=(0,t.forwardRef)((function(e,n){return t.createElement(wX,ns({sideCar:q$,ref:n},e))})),V$=wX.propTypes||{};V$.sideCar,Zo(V$,["sideCar"]);H$.propTypes={};const G$=H$,K$=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join();function Y$(e){const t=Array.from(e.querySelectorAll(K$));return t.unshift(e),t.filter((e=>XG(e)&&(e=>e.offsetWidth>0&&e.offsetHeight>0)(e)))}var Z$;const J$=null!==(Z$=G$.default)&&void 0!==Z$?Z$:G$,X$=e=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:i,restoreFocus:o,children:a,isDisabled:s,autoFocus:l,persistentFocus:c,lockFocusAcrossFrames:d}=e,u=(0,t.useCallback)((()=>{if(null!==n&&void 0!==n&&n.current)n.current.focus();else if(null!==i&&void 0!==i&&i.current){0===Y$(i.current).length&&requestAnimationFrame((()=>{var e;null===(e=i.current)||void 0===e||e.focus()}))}}),[n,i]),h=(0,t.useCallback)((()=>{var e;null===r||void 0===r||null===(e=r.current)||void 0===e||e.focus()}),[r]),p=o&&!r;return(0,Xo.jsx)(J$,{crossFrame:d,persistentFocus:c,autoFocus:l,disabled:s,onActivation:u,onDeactivation:h,returnFocus:p,children:a})};function $$(e){const{autoFocus:n,trapFocus:r,dialogRef:i,initialFocusRef:o,blockScrollOnMount:a,allowPinchZoom:s,finalFocusRef:l,returnFocusOnClose:c,preserveScrollBarGap:d,lockFocusAcrossFrames:u,isOpen:h}=ZZ(),[p,f]=md();(0,t.useEffect)((()=>{!p&&f&&setTimeout(f)}),[p,f]);const m=HZ(i,h);return(0,Xo.jsx)(X$,{autoFocus:n,isDisabled:!r,initialFocusRef:o,finalFocusRef:l,restoreFocus:c,contentRef:i,lockFocusAcrossFrames:u,children:(0,Xo.jsx)(dX,{removeScrollBar:!d,allowPinchZoom:s,enabled:1===m&&a,forwardProps:!0,children:e.children})})}X$.displayName="FocusLock";const Q$=["direction","style","unmountOnExit","in","className","transition","transitionEnd","delay","motionProps","animatePresenceProps"],eQ={exit:{duration:.15,ease:nJ.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},tQ={exit:e=>{var t;let{direction:n,transition:r,transitionEnd:i,delay:a}=e;const{exit:s}=sJ({direction:n});return(0,o.A)((0,o.A)({},s),{},{transition:null!==(t=null===r||void 0===r?void 0:r.exit)&&void 0!==t?t:dJ(eQ.exit,a),transitionEnd:null===i||void 0===i?void 0:i.exit})},enter:e=>{var t;let{direction:n,transitionEnd:r,transition:i,delay:a}=e;const{enter:s}=sJ({direction:n});return(0,o.A)((0,o.A)({},s),{},{transition:null!==(t=null===i||void 0===i?void 0:i.enter)&&void 0!==t?t:cJ(eQ.enter,a),transitionEnd:null===r||void 0===r?void 0:r.enter})}},nQ=(0,t.forwardRef)((function(e,t){const{direction:n="right",style:r,unmountOnExit:i,in:a,className:s,transition:l,transitionEnd:c,delay:d,motionProps:u,animatePresenceProps:h}=e,p=Jo(e,Q$),f=sJ({direction:n}),m=Object.assign({position:"fixed"},f.position,r),g=!i||a&&i,v=a||i?"enter":"exit",y={transitionEnd:c,transition:l,direction:n,delay:d};return(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},h),{},{custom:y,children:g&&(0,Xo.jsx)(sv.div,(0,o.A)((0,o.A)({},p),{},{ref:t,initial:"exit",className:Lv("chakra-slide",s),animate:v,exit:"exit",custom:y,variants:tQ,style:m},u))}))}));nQ.displayName="Slide";const rQ=["className","children","motionProps","containerProps"],iQ=Tv(nQ),oQ=Dv(((e,t)=>{const{className:n,children:r,motionProps:i,containerProps:a}=e,s=Jo(e,rQ),{getDialogProps:l,getDialogContainerProps:c,isOpen:d}=ZZ(),u=l(s,t),h=c(a),p=Lv("chakra-modal__content",n),f=KZ(),m=(0,o.A)({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0},f.dialog),g=(0,o.A)({display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0},f.dialogContainer),{placement:v}=QZ();return(0,Xo.jsx)($$,{children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},h),{},{className:"chakra-modal__content-container",__css:g,children:(0,Xo.jsx)(iQ,(0,o.A)((0,o.A)({motionProps:i,direction:v,in:d,className:p},u),{},{__css:m,children:r}))}))})}));oQ.displayName="DrawerContent";const aQ=["onClick","className"],sQ=Dv(((e,t)=>{const{onClick:n,className:r}=e,i=Jo(e,aQ),{onClose:a}=ZZ(),s=Lv("chakra-modal__close-btn",r),l=KZ();return(0,Xo.jsx)(hy,(0,o.A)({ref:t,__css:l.closeButton,className:s,onClick:dj(n,(e=>{e.stopPropagation(),a()}))},i))}));sQ.displayName="ModalCloseButton";const lQ=["onClose"],cQ=["onOpen"],dQ=[{name:"Dashboard",href:"/admin/dashboard",icon:__,badge:null},{name:"Analytics",href:"/admin/analytics",icon:function(e){return sw({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"}},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"}}]})(e)},badge:null},{name:"Tenant Management",href:"/admin/tenants",icon:tA,badge:null},{name:"Room Management",href:"/admin/rooms",icon:fA,badge:null},{name:"Booking Management",href:"/admin/bookings",icon:l_,badge:null},{name:"Payment Management",href:"/admin/payments",icon:v_,badge:null},{name:"Document Management",href:"/admin/documents",icon:k_,badge:null},{name:"Issue Management",href:"/admin/issues",icon:i_,badge:null},{name:"User Management",href:"/admin/users",icon:U_,badge:null}],uQ=e=>{let{onClose:n}=e,r=Jo(e,lQ);const i=_x(),[a,s]=(0,t.useState)({});(0,t.useEffect)((()=>{const e={};dQ.forEach(((t,n)=>{if(t.children){t.children.some((e=>i.pathname===e.href||i.pathname.startsWith(e.href+"/")))&&(e[n]=!0)}})),s(e)}),[i.pathname]);const l=e=>i.pathname===e||i.pathname.startsWith(e+"/"),c=()=>{r.isMobile&&n&&n()},d=e=>{let{item:t,index:n}=e;const i=l(t.href);return(0,Xo.jsxs)(Xj,{as:nb,to:t.href,align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",bg:i?"brand.500":"transparent",color:i?"white":"gray.600",_hover:{bg:i?"brand.600":"gray.100",color:i?"white":"gray.900"},onClick:r.isMobile?c:void 0,children:[(0,Xo.jsx)(Zv,{mr:"4",fontSize:"16",as:t.icon}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:t.name}),t.badge&&(0,Xo.jsx)(r_,{ml:"auto",colorScheme:"New"===t.badge?"blue":"red",fontSize:"xs",children:t.badge})]})};return(0,Xo.jsxs)(Eb,(0,o.A)((0,o.A)({bg:"white",borderRight:"1px",borderRightColor:"gray.200",w:{base:"full",md:60},pos:"fixed",h:"full",zIndex:100},r),{},{children:[(0,Xo.jsx)(Xj,{h:"20",alignItems:"center",mx:"4",justify:"center",children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)("img",{src:Yj,alt:"Rusunawa Logo",style:{maxHeight:"40px",width:"auto"}})}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontFamily:"monospace",fontWeight:"bold",color:"brand.500",textAlign:"center",children:"Rusunawa Admin"})]})}),(0,Xo.jsx)(Pb,{spacing:1,align:"stretch",children:dQ.map(((e,t)=>(0,Xo.jsx)(d,{item:e,index:t},t)))})]}))},hQ=e=>{var t;let{onOpen:n}=e,r=Jo(e,cQ);const{user:i,logout:a}=vb(),s=Cx();return(0,Xo.jsxs)(Xj,(0,o.A)((0,o.A)({ml:{base:0,md:60},px:{base:4,md:4},height:"20",alignItems:"center",bg:"white",borderBottomWidth:"1px",borderBottomColor:"gray.200",justifyContent:{base:"space-between",md:"flex-end"}},r),{},{children:[(0,Xo.jsx)(Uj,{display:{base:"flex",md:"none"},onClick:n,variant:"outline","aria-label":"open menu",icon:(0,Xo.jsx)(E_,{})}),(0,Xo.jsxs)(dS,{spacing:2,display:{base:"flex",md:"none"},children:[(0,Xo.jsx)("img",{src:Yj,alt:"Rusunawa Logo",style:{maxHeight:"25px",width:"auto"}}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontFamily:"monospace",fontWeight:"bold",color:"brand.500",children:"Rusunawa"})]}),(0,Xo.jsx)(dS,{spacing:{base:"0",md:"6"},children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Bj,rounded:"full",variant:"link",cursor:"pointer",minW:0,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(xZ,{size:"sm",name:null===i||void 0===i?void 0:i.name,src:null===i||void 0===i?void 0:i.avatar}),(0,Xo.jsxs)(Pb,{display:{base:"none",md:"flex"},alignItems:"flex-start",spacing:"1px",ml:"2",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:null===i||void 0===i?void 0:i.name}),"                ",(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:(null===i||void 0===i||null===(t=i.role)||void 0===t?void 0:t.name)||(null===i||void 0===i?void 0:i.role)||"User"})]})]})}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(U_,{}),children:"Profile Settings"}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(I_,{}),onClick:()=>{a(),s("/admin/login")},children:"Sign out"})]})]})})]}))},pQ=e=>{let{children:t}=e;const{isOpen:n,onOpen:r,onClose:i}=GG();return(0,Xo.jsxs)(Eb,{minH:"100vh",bg:"gray.50",children:[(0,Xo.jsx)(uQ,{onClose:()=>i,display:{base:"none",md:"block"}}),(0,Xo.jsxs)(tJ,{autoFocus:!1,isOpen:n,placement:"left",onClose:i,returnFocusOnClose:!1,onOverlayClick:i,size:"full",children:[(0,Xo.jsx)(vJ,{}),"        ",(0,Xo.jsxs)(oQ,{children:[(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)(uQ,{onClose:i,isMobile:!0})]})]}),(0,Xo.jsx)(hQ,{onOpen:r}),(0,Xo.jsx)(Eb,{ml:{base:0,md:60},p:"4",children:t})]})};var fQ=n(7860);const mQ=["#3182CE","#38A169","#D69E2E","#E53E3E","#805AD5","#DD6B20","#319795","#C53030","#9F7AEA","#2B6CB0"],gQ=e=>{let{title:t,value:n,change:r,icon:i,colorScheme:o="blue",isLoading:a}=e;const s=zs("white","gray.700"),l=zs("".concat(o,".50"),"".concat(o,".900")),c=zs("".concat(o,".500"),"".concat(o,".200"));return a?(0,Xo.jsx)(Vb,{bg:s,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(FS,{height:"100px"})})}):(0,Xo.jsx)(Vb,{bg:s,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Xj,{justify:"space-between",align:"flex-start",children:[(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{fontSize:"sm",color:"gray.600",children:t}),(0,Xo.jsx)(GS,{fontSize:"2xl",fontWeight:"bold",children:n}),r&&(0,Xo.jsxs)(KS,{children:[(0,Xo.jsx)(XS,{type:r>=0?"increase":"decrease"}),Math.abs(r),"%"]})]}),(0,Xo.jsx)(Eb,{p:3,bg:l,borderRadius:"lg",children:(0,Xo.jsx)(Zv,{as:i,w:6,h:6,color:c})})]})})})},vQ=e=>{let{title:t,children:n,isLoading:r,height:i="280px"}=e;const o=zs("white","gray.700");return(0,Xo.jsxs)(Vb,{bg:o,h:i,children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsx)(Wb,{size:"sm",children:t})}),(0,Xo.jsx)(Kb,{pt:0,children:r?(0,Xo.jsx)(FS,{height:"200px"}):(0,Xo.jsx)(Eb,{height:"200px",children:n})})]})},yQ=()=>{var e,n,r,i,a,s,l,c,d,u,h,p,f,m,g;const[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(!0),[j,w]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{var e,t,n,r,i;b(!0);const a=await fQ.default.getDashboardData();console.log("Dashboard - Raw API tenant data:",null===a||void 0===a||null===(e=a.tenants)||void 0===e?void 0:e.length),console.log("Dashboard - API totalCount:",null===a||void 0===a?void 0:a.totalTenants),console.log("Dashboard - Tenant breakdown:",{totalTenants:null===a||void 0===a?void 0:a.totalTenants,actualTenantArrayLength:null===a||void 0===a||null===(t=a.tenants)||void 0===t?void 0:t.length,mahasiswa:null===a||void 0===a||null===(n=a.tenants)||void 0===n?void 0:n.filter((e=>{var t;return"mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type})).length,nonMahasiswa:null===a||void 0===a||null===(r=a.tenants)||void 0===r?void 0:r.filter((e=>{var t;return"non_mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"non_mahasiswa"===e.type})).length,tenantsWithTypes:null===a||void 0===a||null===(i=a.tenants)||void 0===i?void 0:i.map((e=>{var t,n;return{id:e.tenantId||e.tenant_id,name:(null===(t=e.user)||void 0===t?void 0:t.fullName)||e.name,type:(null===(n=e.tenantType)||void 0===n?void 0:n.name)||e.type,status:e.status||e.computed_status}}))});const s=(null===a||void 0===a?void 0:a.tenants)||[],l=s.reduce(((e,t)=>{var n;const r=(null===(n=t.user)||void 0===n?void 0:n.fullName)||t.name;return e[r]=(e[r]||0)+1,e}),{}),c=Object.entries(l).filter((e=>{let[t,n]=e;return n>1}));c.length>0&&console.warn("\u26a0\ufe0f DUPLICATE TENANTS DETECTED:",c);const d=s.filter((e=>!e.status&&!e.computed_status));d.length>0&&console.warn("\u26a0\ufe0f TENANTS WITHOUT STATUS:",d.length);const u=s.length,h=(null===a||void 0===a?void 0:a.totalTenants)||0,p=Math.max(u,h);console.log("\ud83d\udcca Tenant Count Analysis: Array=".concat(u,", API=").concat(h,", Using=").concat(p));const f=(0,o.A)((0,o.A)({},a),{},{totalTenants:p,dataQualityIssues:{duplicates:c,missingStatus:d.length,countMismatch:u!==h}});console.log("\u2705 Final tenant count: ".concat(p," (").concat(c.length," duplicates detected)")),y(f),w(null)}catch(Pee){w(Pee.message),console.error("Error fetching dashboard data:",Pee)}finally{b(!1)}})()}),[]);const k=zs("white","gray.700");return j?(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"lg",children:[(0,Xo.jsx)(sy,{}),j]})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{size:"lg",mb:1,children:"Dasbor"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"sm",children:"Selamat datang! Berikut adalah ringkasan terbaru sistem Rusunawa Anda hari ini."})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(4, 1fr)"},gap:4,children:[(0,Xo.jsx)(gQ,{title:"Total Penghuni",value:(null===v||void 0===v?void 0:v.totalTenants)||"0",icon:tA,colorScheme:"blue",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Kamar Tersedia",value:"".concat((null===v||void 0===v?void 0:v.availableRooms)||"0"," / ").concat((null===v||void 0===v?void 0:v.totalRooms)||"0"),icon:fA,colorScheme:"green",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Booking Aktif",value:(null===v||void 0===v?void 0:v.activeBookings)||"0",icon:l_,colorScheme:"orange",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Pendapatan Bulanan",value:"Rp ".concat(((null===v||void 0===v?void 0:v.monthlyRevenue)||0).toLocaleString("id-ID")),icon:v_,colorScheme:"purple",isLoading:x})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(4, 1fr)"},gap:4,children:[(0,Xo.jsx)(gQ,{title:"Total Mahasiswa",value:(null===v||void 0===v||null===(e=v.tenants)||void 0===e?void 0:e.filter((e=>{var t;return"mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type})).length)||"0",icon:tA,colorScheme:"blue",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Mahasiswa Afirmasi",value:(null===v||void 0===v||null===(n=v.tenants)||void 0===n?void 0:n.filter((e=>{var t;return("mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type)&&e.isAfirmasi})).length)||"0",icon:$_,colorScheme:"orange",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Mahasiswa Reguler",value:(null===v||void 0===v||null===(r=v.tenants)||void 0===r?void 0:r.filter((e=>{var t;return("mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type)&&!e.isAfirmasi})).length)||"0",icon:tA,colorScheme:"teal",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Total Non-Mahasiswa",value:(null===v||void 0===v||null===(i=v.tenants)||void 0===i?void 0:i.filter((e=>{var t;return"non_mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"non_mahasiswa"===e.type})).length)||"0",icon:tA,colorScheme:"purple",isLoading:x})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(4, 1fr)"},gap:4,children:[(0,Xo.jsx)(gQ,{title:"Tingkat Hunian",value:"".concat((((null===v||void 0===v?void 0:v.totalOccupants)||0)/Math.max(1,(null===v||void 0===v?void 0:v.totalCapacity)||1)*100).toFixed(1),"%"),icon:fA,colorScheme:"green",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Rata-rata Jarak ke Kampus",value:"".concat(((null===v||void 0===v||null===(a=v.tenants)||void 0===a?void 0:a.reduce(((e,t)=>e+(t.distanceToCampus||0)),0))/Math.max(1,(null===v||void 0===v||null===(s=v.tenants)||void 0===s?void 0:s.length)||1)).toFixed(1)," km"),icon:N_,colorScheme:"orange",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Dokumen Terverifikasi",value:"".concat((null===v||void 0===v?void 0:v.approvedDocuments)||0," / ").concat((null===v||void 0===v?void 0:v.totalDocuments)||0),icon:w_,colorScheme:"blue",isLoading:x}),(0,Xo.jsx)(gQ,{title:"Rasio Booking Berhasil",value:"".concat((((null===v||void 0===v?void 0:v.completedBookings)||0)/Math.max(1,(null===v||void 0===v?void 0:v.totalBookings)||1)*100).toFixed(1),"%"),icon:$_,colorScheme:"purple",isLoading:x})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:4,children:[(0,Xo.jsx)(vQ,{title:"Distribusi Tipe Penyewa",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(OV,{children:[(0,Xo.jsx)(zV,{data:Object.entries((null===v||void 0===v?void 0:v.tenantTypeDistribution)||{}).map((e=>{let[t,n]=e;return{name:t,value:n,percentage:(n/((null===v||void 0===v?void 0:v.totalTenants)||1)*100).toFixed(1)}})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percentage:n}=e;return"".concat(t,": ").concat(n,"%")},outerRadius:60,fill:"#8884d8",dataKey:"value",children:Object.entries((null===v||void 0===v?void 0:v.tenantTypeDistribution)||{}).map(((e,t)=>(0,Xo.jsx)(pF,{fill:mQ[t%mQ.length]},"cell-".concat(t))))}),(0,Xo.jsx)(CP,{formatter:(e,t)=>[e,t]}),(0,Xo.jsx)(tT,{})]})})}),(0,Xo.jsx)(vQ,{title:"Distribusi Klasifikasi Kamar",isLoading:x,children:(0,Xo.jsxs)(_C,{width:"100%",height:"100%",children:[(0,Xo.jsxs)(OV,{children:[(0,Xo.jsx)(zV,{data:Object.entries((null===v||void 0===v?void 0:v.roomClassificationDistribution)||{}).map((e=>{let[t,n]=e;return{name:t.replace("_"," ").toUpperCase(),value:n,percentage:(n/((null===v||void 0===v?void 0:v.totalRooms)||1)*100).toFixed(1)}})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percentage:n}=e;return"".concat(t,": ").concat(n,"%")},outerRadius:60,fill:"#8884d8",dataKey:"value",children:Object.entries((null===v||void 0===v?void 0:v.roomClassificationDistribution)||{}).map(((e,t)=>(0,Xo.jsx)(pF,{fill:mQ[t%mQ.length]},"cell-".concat(t))))}),(0,Xo.jsx)(CP,{formatter:(e,t)=>[e,t]}),(0,Xo.jsx)(tT,{})]}),"            "]})}),(0,Xo.jsx)(vQ,{title:"Mahasiswa per Program & Afirmasi",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:(e=>{const t={};return null===v||void 0===v||null===(e=v.tenants)||void 0===e||e.filter((e=>{var t;return"mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type})).forEach((e=>{const n=e.jurusan||"Tidak Diketahui";t[n]||(t[n]={afirmasi:0,regular:0}),e.isAfirmasi?t[n].afirmasi++:t[n].regular++})),Object.entries(t).map((e=>{let[t,n]=e;return{jurusan:t.length>15?t.substring(0,15)+"...":t,afirmasi:n.afirmasi,regular:n.regular,total:n.afirmasi+n.regular}})).sort(((e,t)=>t.total-e.total)).slice(0,6)})(),margin:{top:5,right:15,left:5,bottom:40},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"jurusan",angle:-45,textAnchor:"end",height:60,fontSize:9}),(0,Xo.jsx)(AG,{fontSize:10}),(0,Xo.jsx)(CP,{formatter:(e,t)=>"afirmasi"===t?[e,"Mahasiswa Afirmasi"]:"regular"===t?[e,"Mahasiswa Reguler"]:[e,t],labelFormatter:e=>"Program: ".concat(e)}),(0,Xo.jsx)(tT,{wrapperStyle:{paddingTop:"10px"},formatter:e=>"Afirmasi"===e||"afirmasi"===e?"Mahasiswa Afirmasi":"Reguler"===e||"regular"===e?"Mahasiswa Reguler":e}),(0,Xo.jsx)(DW,{dataKey:"afirmasi",stackId:"a",fill:"#F56500",name:"Mahasiswa Afirmasi"}),(0,Xo.jsx)(DW,{dataKey:"regular",stackId:"a",fill:"#3182CE",name:"Mahasiswa Reguler"})]})})}),(0,Xo.jsxs)(vQ,{title:"Distribusi Jurusan (Top 5)",isLoading:x,children:[(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:Object.entries((null===v||void 0===v||null===(l=v.tenants)||void 0===l?void 0:l.filter((e=>{var t;return("mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type)&&e.jurusan})).reduce(((e,t)=>{const n=t.jurusan;return e[n]=(e[n]||0)+1,e}),{}))||{}).sort(((e,t)=>{let[,n]=e,[,r]=t;return r-n})).slice(0,5).map((e=>{let[t,n]=e;return{jurusan:t.length>15?"".concat(t.substring(0,15),"..."):t,fullJurusan:t,mahasiswa:n}})),margin:{top:5,right:15,left:5,bottom:60},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"jurusan",angle:-45,textAnchor:"end",height:80,fontSize:8}),(0,Xo.jsx)(AG,{fontSize:10}),(0,Xo.jsx)(CP,{formatter:(e,t)=>[e,"Mahasiswa"],labelFormatter:(e,t)=>t&&t[0]?t[0].payload.fullJurusan:e}),(0,Xo.jsx)(DW,{dataKey:"mahasiswa",fill:"#38A169"})]})}),"          "]}),(0,Xo.jsx)(vQ,{title:"Status Booking",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:Object.entries((null===v||void 0===v?void 0:v.bookingStatusDistribution)||{}).map((e=>{let[t,n]=e;return{status:t,jumlah:n}})),margin:{top:5,right:15,left:5,bottom:5},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"status",fontSize:10}),(0,Xo.jsx)(AG,{fontSize:10}),(0,Xo.jsx)(CP,{}),(0,Xo.jsx)(DW,{dataKey:"jumlah",fill:"#38A169"})]})})}),(0,Xo.jsx)(vQ,{title:"Status Verifikasi Dokumen",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:Object.entries((null===v||void 0===v?void 0:v.documentStats)||{}).map((e=>{let[t,n]=e;return{status:t,jumlah:n}})),margin:{top:5,right:15,left:5,bottom:5},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"status",fontSize:10}),(0,Xo.jsx)(AG,{fontSize:10}),(0,Xo.jsx)(CP,{}),(0,Xo.jsx)(DW,{dataKey:"jumlah",fill:"#D69E2E"})]})})})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:4,children:[(0,Xo.jsxs)(vQ,{title:"Distribusi Metode Pembayaran",isLoading:x,children:[(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(OV,{children:[(0,Xo.jsx)(zV,{data:Object.entries((null===v||void 0===v?void 0:v.paymentMethodDistribution)||{}).map((e=>{let[t,n]=e;return{name:"manual"===t?"Transfer Manual":"midtrans"===t?"Midtrans Gateway":t,value:n,percentage:(n/Object.values((null===v||void 0===v?void 0:v.paymentMethodDistribution)||{}).reduce(((e,t)=>e+t),1)*100).toFixed(1)}})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percentage:n}=e;return"".concat(t,": ").concat(n,"%")},outerRadius:60,fill:"#8884d8",dataKey:"value",children:Object.entries((null===v||void 0===v?void 0:v.paymentMethodDistribution)||{}).map(((e,t)=>(0,Xo.jsx)(pF,{fill:mQ[t%mQ.length]},"cell-".concat(t))))}),(0,Xo.jsx)(CP,{formatter:(e,t)=>[e,t]}),(0,Xo.jsx)(tT,{})]})}),"          "]}),(0,Xo.jsx)(vQ,{title:"Tingkat Hunian Kamar",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:[{category:"Terisi",jumlah:(null===v||void 0===v?void 0:v.occupiedRooms)||0,percentage:(((null===v||void 0===v?void 0:v.occupiedRooms)||0)/Math.max(1,(null===v||void 0===v?void 0:v.totalRooms)||1)*100).toFixed(1),occupants:(null===v||void 0===v?void 0:v.totalOccupants)||0,capacity:(null===v||void 0===v?void 0:v.totalCapacity)||0},{category:"Kosong",jumlah:(null===v||void 0===v?void 0:v.availableRooms)||0,percentage:(((null===v||void 0===v?void 0:v.availableRooms)||0)/Math.max(1,(null===v||void 0===v?void 0:v.totalRooms)||1)*100).toFixed(1),occupants:0,capacity:4*((null===v||void 0===v?void 0:v.availableRooms)||0)}],margin:{top:5,right:15,left:5,bottom:5},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"category",fontSize:10}),(0,Xo.jsx)(AG,{fontSize:10}),(0,Xo.jsx)(CP,{formatter:(e,t,n)=>{const{occupants:r,capacity:i}=n.payload;return"Terisi"===n.payload.category?["".concat(e," kamar (").concat(n.payload.percentage,"%) - ").concat(r,"/").concat(i," penghuni"),"Jumlah"]:["".concat(e," kamar (").concat(n.payload.percentage,"%)"),"Jumlah"]}}),(0,Xo.jsx)(DW,{dataKey:"jumlah",fill:"#38A169"})]})})}),(0,Xo.jsx)(vQ,{title:"Pendapatan per Tipe Penyewa",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:[{type:"Mahasiswa",revenue:8e5*((null===v||void 0===v||null===(c=v.tenants)||void 0===c?void 0:c.filter((e=>{var t;return"mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type})).length)||0),tenants:(null===v||void 0===v||null===(d=v.tenants)||void 0===d?void 0:d.filter((e=>{var t;return"mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"mahasiswa"===e.type})).length)||0},{type:"Non-Mahasiswa",revenue:1e6*((null===v||void 0===v||null===(u=v.tenants)||void 0===u?void 0:u.filter((e=>{var t;return"non_mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"non_mahasiswa"===e.type})).length)||0),tenants:(null===v||void 0===v||null===(h=v.tenants)||void 0===h?void 0:h.filter((e=>{var t;return"non_mahasiswa"===(null===(t=e.tenantType)||void 0===t?void 0:t.name)||"non_mahasiswa"===e.type})).length)||0}],margin:{top:5,right:15,left:5,bottom:5},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"type",fontSize:10}),(0,Xo.jsx)(AG,{tickFormatter:e=>"Rp ".concat((e/1e6).toFixed(1),"Jt"),fontSize:10}),(0,Xo.jsx)(CP,{formatter:(e,t,n)=>["Rp ".concat(e.toLocaleString("id-ID")," (").concat(n.payload.tenants," penyewa)"),"Estimasi Pendapatan Bulanan"]}),(0,Xo.jsx)(DW,{dataKey:"revenue",fill:"#805AD5"})]})})}),(0,Xo.jsx)(vQ,{title:"Tren Pendapatan Bulanan",isLoading:x,children:(0,Xo.jsx)(_C,{width:"100%",height:"100%",children:(0,Xo.jsxs)(CG,{data:(null===v||void 0===v?void 0:v.monthlyRevenueTrend)||[],margin:{top:5,right:15,left:5,bottom:5},children:[(0,Xo.jsx)(VG,{strokeDasharray:"3 3"}),(0,Xo.jsx)(mG,{dataKey:"month",fontSize:10}),(0,Xo.jsx)(AG,{tickFormatter:e=>"Rp ".concat((e/1e6).toFixed(1),"Jt"),fontSize:10}),(0,Xo.jsx)(CP,{formatter:e=>["Rp ".concat(e.toLocaleString("id-ID")),"Pendapatan"]}),(0,Xo.jsx)(DW,{dataKey:"revenue",fill:"#4299E1"})]})})})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",lg:"1fr 1fr"},gap:4,children:[(0,Xo.jsxs)(Vb,{bg:k,children:["            ",(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsx)(Wb,{size:"sm",children:"Status Sistem"})}),(0,Xo.jsx)(Kb,{pt:0,children:x?(0,Xo.jsxs)(dS,{spacing:6,children:[(0,Xo.jsx)(FS,{height:"60px",flex:1}),(0,Xo.jsx)(FS,{height:"60px",flex:1}),(0,Xo.jsx)(FS,{height:"60px",flex:1})]}):(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(4, 1fr)"},gap:6,children:[(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Zv,{as:tA,w:8,h:8,color:"blue.500"}),(0,Xo.jsxs)(Pb,{spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:"Sistem Penghuni"}),(0,Xo.jsxs)(r_,{colorScheme:"green",size:"sm",children:[(null===v||void 0===v?void 0:v.totalTenants)||0," Aktif"]})]})]}),(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Zv,{as:fA,w:8,h:8,color:"purple.500"}),(0,Xo.jsxs)(Pb,{spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:"Manajemen Kamar"}),(0,Xo.jsxs)(r_,{colorScheme:"green",size:"sm",children:[(null===v||void 0===v?void 0:v.availableRooms)||0," Tersedia"]})]})]}),(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Zv,{as:l_,w:8,h:8,color:"orange.500"}),(0,Xo.jsxs)(Pb,{spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:"Sistem Booking"}),(0,Xo.jsxs)(r_,{colorScheme:"green",size:"sm",children:[(null===v||void 0===v?void 0:v.activeBookings)||0," Aktif"]})]})]}),(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Zv,{as:v_,w:8,h:8,color:"green.500"}),(0,Xo.jsxs)(Pb,{spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:"Payment Gateway"}),(0,Xo.jsxs)(r_,{colorScheme:"green",size:"sm",children:[Object.keys((null===v||void 0===v?void 0:v.paymentMethodDistribution)||{}).length," Metode"]})]})]})]})})]}),(0,Xo.jsxs)(Vb,{bg:k,children:["            ",(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsx)(Wb,{size:"sm",children:"Statistik Cepat"})}),(0,Xo.jsx)(Kb,{pt:0,children:x?(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(FS,{height:"40px"}),(0,Xo.jsx)(FS,{height:"40px"}),(0,Xo.jsx)(FS,{height:"40px"}),(0,Xo.jsx)(FS,{height:"40px"})]}):(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:v_,color:"green.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Total Pendapatan"})]}),(0,Xo.jsxs)(r_,{colorScheme:"green",children:["Rp ",((null===v||void 0===v?void 0:v.totalRevenue)||0).toLocaleString("id-ID")]})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:w_,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Dokumen Pending"})]}),(0,Xo.jsx)(r_,{colorScheme:"orange",children:(null===v||void 0===v||null===(p=v.documentStats)||void 0===p?void 0:p.pending)||0})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:N_,color:"green.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Penghuni Dekat (<5km)"})]}),(0,Xo.jsx)(r_,{colorScheme:"green",children:(null===v||void 0===v||null===(f=v.distanceRanges)||void 0===f?void 0:f["Sangat Dekat (< 5km)"])||0})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:tA,color:"purple.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Penghuni Terverifikasi"})]}),(0,Xo.jsx)(r_,{colorScheme:"purple",children:(null===v||void 0===v||null===(m=v.tenants)||void 0===m?void 0:m.filter((e=>e.isVerified)).length)||0})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:l_,color:"orange.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Booking Disetujui"})]}),(0,Xo.jsx)(r_,{colorScheme:"blue",children:(null===v||void 0===v||null===(g=v.bookingStatusDistribution)||void 0===g?void 0:g.approved)||0})]})]})})]})]})]})})};function xQ(e,t){const n={},r={};for(const[i,o]of Object.entries(e))t.includes(i)?n[i]=o:r[i]=o;return[n,r]}const bQ=["children","placeholder","className"],jQ=Dv((function(e,t){const{children:n,placeholder:r,className:i}=e,a=Jo(e,bQ);return(0,Xo.jsxs)(Tv.select,(0,o.A)((0,o.A)({},a),{},{ref:t,className:Lv("chakra-select",i),children:[r&&(0,Xo.jsx)("option",{value:"",children:r}),n]}))}));jQ.displayName="SelectField";const wQ=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],kQ=["children"],SQ=Dv(((e,t)=>{var n;const r=Gv("Select",e),i=Ov(e),{rootProps:a,placeholder:s,icon:l,color:c,height:d,h:u,minH:h,minHeight:p,iconColor:f,iconSize:m}=i,g=Jo(i,wQ),[v,y]=xQ(g,kc),x=pj(y),b={width:"100%",height:"fit-content",position:"relative",color:c},j=(0,o.A)((0,o.A)({paddingEnd:"2rem"},r.field),{},{_focus:(0,o.A)({zIndex:"unset"},null===(n=r.field)||void 0===n?void 0:n._focus)});return(0,Xo.jsxs)(Tv.div,(0,o.A)((0,o.A)((0,o.A)({className:"chakra-select__wrapper",__css:b},v),a),{},{children:[(0,Xo.jsx)(jQ,(0,o.A)((0,o.A)({ref:t,height:null!==u&&void 0!==u?u:d,minH:null!==h&&void 0!==h?h:p,placeholder:s},x),{},{__css:j,children:e.children})),(0,Xo.jsx)(CQ,(0,o.A)((0,o.A)((0,o.A)({"data-disabled":Jb(x.disabled)},(f||c)&&{color:f||c}),{},{__css:r.icon},m&&{fontSize:m}),{},{children:l}))]}))}));SQ.displayName="Select";const _Q=e=>(0,Xo.jsx)("svg",(0,o.A)((0,o.A)({viewBox:"0 0 24 24"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})),AQ=Tv("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),CQ=e=>{const{children:n=(0,Xo.jsx)(_Q,{})}=e,r=Jo(e,kQ),i=(0,t.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,Xo.jsx)(AQ,(0,o.A)((0,o.A)({},r),{},{className:"chakra-select__icon-wrapper",children:(0,t.isValidElement)(n)?i:null}))};CQ.displayName="SelectIcon";const PQ=["columns","spacingX","spacingY","spacing","minChildWidth"],IQ=Dv((function(e,t){const{columns:n,spacingX:r,spacingY:i,spacing:a,minChildWidth:s}=e,l=Jo(e,PQ),c=Fv(),d=s?function(e,t){return _b(e,(e=>{const n=Uv("sizes",e,"number"===typeof(r=e)?"".concat(r,"px"):r)(t);var r;return null===e?null:"repeat(auto-fit, minmax(".concat(n,", 1fr))")}))}(s,c):_b(n,(e=>null===e?null:"repeat(".concat(e,", minmax(0, 1fr))")));return(0,Xo.jsx)(t_,(0,o.A)({ref:t,gap:a,columnGap:r,rowGap:i,templateColumns:d},l))}));IQ.displayName="SimpleGrid";const TQ=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],NQ=["isDisabled","isFocusable"],EQ=["children"],[zQ,OQ,LQ,DQ]=xS();const[RQ,MQ]=Nc({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});const[BQ,FQ]=Nc({});function WQ(e,t){return"".concat(e,"--tab-").concat(t)}function UQ(e,t){return"".concat(e,"--tabpanel-").concat(t)}const qQ=["children","className"],HQ=["htmlProps","descendants"],VQ=["isFitted"],[GQ,KQ]=Nc({name:"TabsStylesContext",errorMessage:"useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tabs />\" "}),YQ=Dv((function(e,n){const r=Gv("Tabs",e),i=Ov(e),{children:a,className:s}=i,l=function(e){var n;const{defaultIndex:r,onChange:i,index:o,isManual:a,isLazy:s,lazyBehavior:l="unmount",orientation:c="horizontal",direction:d="ltr"}=e,u=Jo(e,TQ),[h,p]=(0,t.useState)(null!==r&&void 0!==r?r:0),[f,m]=uS({defaultValue:null!==r&&void 0!==r?r:0,value:o,onChange:i});(0,t.useEffect)((()=>{null!=o&&p(o)}),[o]);const g=LQ(),v=(0,t.useId)(),y=null!==(n=e.id)&&void 0!==n?n:v;return{id:"tabs-".concat(y),selectedIndex:f,focusedIndex:h,setSelectedIndex:m,setFocusedIndex:p,isManual:a,isLazy:s,lazyBehavior:l,orientation:c,descendants:g,direction:d,htmlProps:u}}(Jo(i,qQ)),{htmlProps:c,descendants:d}=l,u=Jo(l,HQ),h=(0,t.useMemo)((()=>u),[u]),{isFitted:p}=c,f=Jo(c,VQ),m=(0,o.A)({position:"relative"},r.root);return(0,Xo.jsx)(zQ,{value:d,children:(0,Xo.jsx)(RQ,{value:h,children:(0,Xo.jsx)(GQ,{value:r,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({className:Lv("chakra-tabs",s),ref:n},f),{},{__css:m,children:a}))})})})}));YQ.displayName="Tabs";const ZQ=Dv((function(e,n){const r=function(e){const{focusedIndex:n,orientation:r,direction:i}=MQ(),a=OQ(),s=(0,t.useCallback)((e=>{const t=()=>{var e;const t=a.nextEnabled(n);t&&(null===(e=t.node)||void 0===e||e.focus())},o=()=>{var e;const t=a.prevEnabled(n);t&&(null===(e=t.node)||void 0===e||e.focus())},s="horizontal"===r,l="vertical"===r,c=e.key,d="ltr"===i?"ArrowLeft":"ArrowRight",u="ltr"===i?"ArrowRight":"ArrowLeft",h={[d]:()=>s&&o(),[u]:()=>s&&t(),ArrowDown:()=>l&&t(),ArrowUp:()=>l&&o(),Home:()=>{var e;const t=a.firstEnabled();t&&(null===(e=t.node)||void 0===e||e.focus())},End:()=>{var e;const t=a.lastEnabled();t&&(null===(e=t.node)||void 0===e||e.focus())}},p=h[c];p&&(e.preventDefault(),p(e))}),[a,n,r,i]);return(0,o.A)((0,o.A)({},e),{},{role:"tablist","aria-orientation":r,onKeyDown:dj(e.onKeyDown,s)})}((0,o.A)((0,o.A)({},e),{},{ref:n})),i=KQ(),a=(0,o.A)({display:"flex"},i.tablist);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},r),{},{className:Lv("chakra-tabs__tablist",e.className),__css:a}))}));ZQ.displayName="TabList";const JQ=Dv((function(e,t){const n=KQ(),r=function(e){const{isDisabled:t=!1,isFocusable:n=!1}=e,r=Jo(e,NQ),{setSelectedIndex:i,isManual:a,id:s,setFocusedIndex:l,selectedIndex:c}=MQ(),{index:d,register:u}=DQ({disabled:t&&!n}),h=d===c,p=HY((0,o.A)((0,o.A)({},r),{},{ref:Yb(u,e.ref),isDisabled:t,isFocusable:n,onClick:dj(e.onClick,(()=>{i(d)}))}));return(0,o.A)((0,o.A)({},p),{},{id:WQ(s,d),role:"tab",tabIndex:h?0:-1,type:"button","aria-selected":h,"aria-controls":UQ(s,d),onFocus:t?void 0:dj(e.onFocus,(()=>{l(d),!a&&(!t||!n)&&i(d)}))})}((0,o.A)((0,o.A)({},e),{},{ref:t})),i=(0,o.A)({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return(0,Xo.jsx)(Tv.button,(0,o.A)((0,o.A)({},r),{},{className:Lv("chakra-tabs__tab",e.className),__css:i}))}));JQ.displayName="Tab";const XQ=Dv((function(e,n){const r=function(e){const n=MQ(),{id:r,selectedIndex:i}=n,a=wb(e.children).map(((e,n)=>{var o;return(0,t.createElement)(BQ,{key:null!==(o=e.key)&&void 0!==o?o:n,value:{isSelected:n===i,id:UQ(r,n),tabId:WQ(r,n),selectedIndex:i}},e)}));return(0,o.A)((0,o.A)({},e),{},{children:a})}(e),i=KQ();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},r),{},{width:"100%",ref:n,className:Lv("chakra-tabs__tab-panels",e.className),__css:i.tabpanels}))}));XQ.displayName="TabPanels";const $Q=Dv((function(e,n){const r=function(e){const{children:n}=e,r=Jo(e,EQ),{isLazy:i,lazyBehavior:a}=MQ(),{isSelected:s,id:l,tabId:c}=FQ(),d=(0,t.useRef)(!1);s&&(d.current=!0);const u=rK({wasSelected:d.current,isSelected:s,enabled:i,mode:a});return(0,o.A)((0,o.A)({tabIndex:0},r),{},{children:u?n:null,role:"tabpanel","aria-labelledby":c,hidden:!s,id:l})}((0,o.A)((0,o.A)({},e),{},{ref:n})),i=KQ();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({outline:"0"},r),{},{className:Lv("chakra-tabs__tab-panel",e.className),__css:i.tabpanel}))}));$Q.displayName="TabPanel";Zs({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),Zs({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});const QQ=Zs({"0%":{left:"-40%"},"100%":{left:"100%"}}),e0=Zs({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});const t0=["min","max","value","isIndeterminate","role"],n0=["value","min","max","hasStripe","isAnimated","children","borderRadius","isIndeterminate","aria-label","aria-labelledby","aria-valuetext","title","role"],[r0,i0]=Nc({name:"ProgressStylesContext",errorMessage:"useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Progress />\" "}),o0=Dv(((e,t)=>{const{min:n,max:r,value:i,isIndeterminate:a,role:s}=e,l=Jo(e,t0),c=function(e){const{value:t=0,min:n,max:r,valueText:i,getValueText:o,isIndeterminate:a,role:s="progressbar"}=e,l=function(e,t,n){return 100*(e-t)/(n-t)}(t,n,r);return{bind:{"data-indeterminate":a?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":a?void 0:t,"aria-valuetext":(()=>{if(null!=t)return"function"===typeof o?o(t,l):i})(),role:s},percent:l,value:t}}({value:i,min:n,max:r,isIndeterminate:a,role:s}),d=i0(),u=(0,o.A)({height:"100%"},d.filledTrack);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)((0,o.A)({ref:t,style:(0,o.A)({width:"".concat(c.percent,"%")},l.style)},c.bind),l),{},{__css:u}))})),a0=Dv(((e,t)=>{var n;const r=Ov(e),{value:i,min:a=0,max:s=100,hasStripe:l,isAnimated:c,children:d,borderRadius:u,isIndeterminate:h,"aria-label":p,"aria-labelledby":f,"aria-valuetext":m,title:g,role:v}=r,y=Jo(r,n0),x=Gv("Progress",e),b=null!==u&&void 0!==u?u:null===(n=x.track)||void 0===n?void 0:n.borderRadius,j={animation:"".concat(e0," 1s linear infinite")},w=!h&&l&&c,k=(0,o.A)((0,o.A)({},w&&j),h&&{position:"absolute",willChange:"left",minWidth:"50%",animation:"".concat(QQ," 1s ease infinite normal none running")}),S=(0,o.A)({overflow:"hidden",position:"relative"},x.track);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,borderRadius:b,__css:S},y),{},{children:(0,Xo.jsxs)(r0,{value:x,children:[(0,Xo.jsx)(o0,{"aria-label":p,"aria-labelledby":f,"aria-valuetext":m,min:a,max:s,value:i,isIndeterminate:h,css:k,borderRadius:b,title:g,role:v}),d]})}))}));a0.displayName="Progress";const s0={getOverallMetrics:async()=>{try{const e=await pb.default.get("/analytics/metrics");return{success:!0,data:e.data,metrics:{totalRevenue:e.data.totalRevenue||0,totalBookings:e.data.totalBookings||0,totalRooms:e.data.totalRooms||0,activeBookings:e.data.activeBookings||0,availableRooms:e.data.availableRooms||0,pendingPayments:e.data.pendingPayments||0,verifiedPayments:e.data.verifiedPayments||0}}}catch(r){var e,t,n;return console.error("Get overall metrics error:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.message)||r.message||"Failed to fetch overall metrics",metrics:null}}},getDailyAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{date:e}:{},n=await pb.default.get("/analytics/daily",{params:t});return{success:!0,data:n.data,analytics:{date:e||(new Date).toISOString().split("T")[0],dailyRevenue:n.data.dailyRevenue||0,dailyBookings:n.data.dailyBookings||0,dailyPayments:n.data.dailyPayments||0,totalRooms:n.data.totalRooms||0,activeBookings:n.data.activeBookings||0,availableRooms:n.data.availableRooms||0,pendingPayments:n.data.pendingPayments||0,verifiedPayments:n.data.verifiedPayments||0}}}catch(i){var t,n,r;return console.error("Get daily analytics error:",i),{success:!1,error:(null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.status)||void 0===r?void 0:r.message)||i.message||"Failed to fetch daily analytics",analytics:null}}},getMonthlyAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n={};e&&(n.year=e),t&&(n.month=t);const r=await pb.default.get("/analytics/monthly",{params:n});return{success:!0,data:r.data,analytics:{year:r.data.year||(new Date).getFullYear(),month:r.data.month||(new Date).getMonth()+1,monthlyRevenue:r.data.monthlyRevenue||0,monthlyBookings:r.data.monthlyBookings||0,monthlyPayments:r.data.monthlyPayments||0}}}catch(o){var n,r,i;return console.error("Get monthly analytics error:",o),{success:!1,error:(null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.status)||void 0===i?void 0:i.message)||o.message||"Failed to fetch monthly analytics",analytics:null}}},getRevenueByMethod:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n={};e&&(n.start_date=e),t&&(n.end_date=t);const r=await pb.default.get("/analytics/revenue-by-method",{params:n}),i=(r.data.revenue||[]).map((e=>({name:e.paymentMethod||"Unknown",value:e.amount||0,count:e.count||0,paymentMethod:e.paymentMethod||"Unknown",amount:e.amount||0})));return{success:!0,data:r.data,revenue:i}}catch(o){var n,r,i;return console.error("Get revenue by method error:",o),{success:!1,error:(null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.status)||void 0===i?void 0:i.message)||o.message||"Failed to fetch revenue by method",revenue:[]}}},getDashboardAnalytics:async()=>{try{console.log("Fetching comprehensive dashboard analytics...");const[t,r,i,a,s]=await Promise.all([s0.getOverallMetrics(),s0.getDailyAnalytics(),s0.getMonthlyAnalytics(),s0.getRevenueByMethod(),s0.getInvoicesData()]);console.log("Analytics data fetched:",{overall:t.success,daily:r.success,monthly:i.success,revenue:a.success,invoices:s.success,overallData:t.success?t.metrics:null,monthlyData:i.success?i.analytics:null,dailyData:r.success?r.analytics:null,invoicesCount:s.success?s.invoices.length:0});let l=i.success?i.analytics:{monthlyRevenue:0,monthlyBookings:0,monthlyPayments:0};if(s.success&&s.invoices.length>0){const e=new Date,t=s0.calculateMonthlyRevenueFromInvoices(s.invoices,e.getFullYear(),e.getMonth()+1);console.log("Calculated vs API monthly revenue:",{apiRevenue:l.monthlyRevenue,calculatedRevenue:t.monthlyRevenue,paidInvoicesThisMonth:t.paidInvoices,unpaidInvoicesThisMonth:t.unpaidInvoices,totalInvoicesProcessed:s.invoices.length,using:t.monthlyRevenue>l.monthlyRevenue?"calculated (invoices)":"api",month:"".concat(t.year,"-").concat(t.month.toString().padStart(2,"0"))}),t.monthlyRevenue>l.monthlyRevenue&&(l=(0,o.A)((0,o.A)({},l),{},{monthlyRevenue:t.monthlyRevenue,monthlyPayments:t.monthlyPayments,isCalculatedFromInvoices:!0}))}t.success||console.warn("Overall metrics failed, using fallback data");let c=t.success?t.metrics:{totalRevenue:0,totalBookings:0,totalRooms:0,activeBookings:0,availableRooms:0,pendingPayments:0,verifiedPayments:0};if(c.availableRooms===c.totalRooms&&c.totalRooms>0&&(c.totalRevenue>0||c.activeBookings>0)){console.log("Analytics API shows all rooms available but has revenue/bookings - checking real room data");try{const e=(await Promise.resolve().then(n.bind(n,7860))).default,t=await e.getDashboardData();t.totalRooms>0&&(console.log("Using real room occupancy data from dashboard service"),c=(0,o.A)((0,o.A)({},c),{},{totalRooms:t.totalRooms,availableRooms:t.availableRooms}))}catch(e){console.warn("Failed to get real room data, using analytics API data:",e)}}const d=new Date,u=new Date(d.getFullYear(),d.getMonth()-1,1),h=await s0.getMonthlyAnalytics(u.getFullYear(),u.getMonth()+1),p=l.monthlyRevenue,f=h.success?h.analytics.monthlyRevenue:0,m=f>0?((p-f)/f*100).toFixed(1):0,g=l.monthlyBookings,v=h.success?h.analytics.monthlyBookings:0,y=v>0?((g-v)/v*100).toFixed(1):0;return{success:!0,overall:c,daily:r.success?r.analytics:{dailyRevenue:0,dailyBookings:0,dailyPayments:0},monthly:l,revenueByMethod:a.success?a.revenue:[],trends:{monthlyGrowth:parseFloat(m),bookingsGrowth:parseFloat(y),dailyAverage:p>0?p/new Date(d.getFullYear(),d.getMonth()+1,0).getDate():0},errors:{overallError:t.success?null:t.error,dailyError:r.success?null:r.error,monthlyError:i.success?null:i.error,revenueError:a.success?null:a.error}}}catch(e){return console.error("Get dashboard analytics error:",e),{success:!1,error:e.message||"Failed to fetch dashboard analytics",overall:{totalRevenue:0,totalBookings:0,totalRooms:0,activeBookings:0,availableRooms:0,pendingPayments:0,verifiedPayments:0},daily:null,monthly:null,revenueByMethod:[],trends:null,errors:{overallError:e.message||"Failed to fetch dashboard analytics"}}}},getDateRangeAnalytics:async(e,t)=>{try{const n=await s0.getRevenueByMethod(e,t);if(!n.success)throw new Error(n.error);return{success:!0,dateRange:{startDate:e,endDate:t},revenue:n.revenue,summary:{totalRevenue:n.revenue.reduce(((e,t)=>e+(t.amount||0)),0),totalTransactions:n.revenue.reduce(((e,t)=>e+(t.count||0)),0),paymentMethods:n.revenue.length}}}catch(n){return console.error("Get date range analytics error:",n),{success:!1,error:n.message||"Failed to fetch date range analytics",dateRange:{startDate:e,endDate:t},revenue:[],summary:null}}},getMonthlyTrends:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;try{const n=new Date,r=[];for(let i=e-1;i>=0;i--){const e=new Date(n.getFullYear(),n.getMonth()-i,1);try{const t=await s0.getMonthlyAnalytics(e.getFullYear(),e.getMonth()+1);t.success&&r.push((0,o.A)({year:e.getFullYear(),month:e.getMonth()+1,monthName:e.toLocaleDateString("id-ID",{month:"short",year:"numeric"})},t.analytics))}catch(t){console.warn("Failed to fetch analytics for ".concat(e.getFullYear(),"-").concat(e.getMonth()+1,":"),t)}}return{success:!0,trends:r,summary:{averageMonthlyRevenue:r.length>0?r.reduce(((e,t)=>e+(t.monthlyRevenue||0)),0)/r.length:0,averageMonthlyBookings:r.length>0?r.reduce(((e,t)=>e+(t.monthlyBookings||0)),0)/r.length:0,totalRevenue:r.reduce(((e,t)=>e+(t.monthlyRevenue||0)),0),totalBookings:r.reduce(((e,t)=>e+(t.monthlyBookings||0)),0)}}}catch(t){return console.error("Get monthly trends error:",t),{success:!1,error:t.message||"Failed to fetch monthly trends",trends:[],summary:null}}},exportAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("Exporting analytics data as ".concat(e,"..."));const n=await s0.getDashboardAnalytics();if(!n.success)throw new Error("Failed to fetch analytics data for export");const r={exportDate:(new Date).toISOString(),period:t.period||"current",overall:n.overall,daily:n.daily,monthly:n.monthly,revenueByMethod:n.revenueByMethod,trends:n.trends,calculatedMetrics:{occupancyRate:n.overall.totalRooms>0?((n.overall.totalRooms-n.overall.availableRooms)/n.overall.totalRooms*100).toFixed(1):0,revenuePerRoom:n.overall.totalRooms>0?(n.overall.totalRevenue/n.overall.totalRooms).toFixed(0):0,averageBookingValue:n.overall.totalBookings>0?(n.overall.totalRevenue/n.overall.totalBookings).toFixed(0):0}};switch(e.toLowerCase()){case"csv":return s0.exportToCSV(r,t);case"excel":return s0.exportToExcel(r,t);case"pdf":return s0.exportToPDF(r,t);default:throw new Error("Unsupported export type: ".concat(e))}}catch(n){return console.error("Export analytics error:",n),{success:!1,error:n.message||"Failed to export analytics data"}}},exportToCSV:async function(e){try{const t=[];t.push("Analytics Report"),t.push("Generated on: ".concat(new Date(e.exportDate).toLocaleString("id-ID"))),t.push(""),t.push("Overall Metrics"),t.push("Metric,Value"),t.push("Total Revenue,".concat(e.overall.totalRevenue)),t.push("Total Bookings,".concat(e.overall.totalBookings)),t.push("Total Rooms,".concat(e.overall.totalRooms)),t.push("Active Bookings,".concat(e.overall.activeBookings)),t.push("Available Rooms,".concat(e.overall.availableRooms)),t.push("Pending Payments,".concat(e.overall.pendingPayments)),t.push("Verified Payments,".concat(e.overall.verifiedPayments)),t.push(""),e.monthly&&(t.push("Monthly Performance"),t.push("Metric,Value"),t.push("Year,".concat(e.monthly.year)),t.push("Month,".concat(e.monthly.month)),t.push("Monthly Revenue,".concat(e.monthly.monthlyRevenue)),t.push("Monthly Bookings,".concat(e.monthly.monthlyBookings)),t.push("Monthly Payments,".concat(e.monthly.monthlyPayments)),t.push("")),e.daily&&(t.push("Daily Performance"),t.push("Metric,Value"),t.push("Daily Revenue,".concat(e.daily.dailyRevenue)),t.push("Daily Bookings,".concat(e.daily.dailyBookings)),t.push("Daily Payments,".concat(e.daily.dailyPayments)),t.push("")),e.revenueByMethod&&e.revenueByMethod.length>0&&(t.push("Revenue by Payment Method"),t.push("Payment Method,Amount,Transaction Count"),e.revenueByMethod.forEach((e=>{t.push("".concat(e.paymentMethod,",").concat(e.amount,",").concat(e.count))})),t.push("")),e.trends&&(t.push("Trends Analysis"),t.push("Metric,Value"),t.push("Monthly Growth,".concat(e.trends.monthlyGrowth,"%")),t.push("Bookings Growth,".concat(e.trends.bookingsGrowth,"%")),t.push("Daily Average Revenue,".concat(e.trends.dailyAverage)));const n=t.join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=window.URL.createObjectURL(r);return{success:!0,blob:r,url:i,fileName:"analytics_report_".concat((new Date).toISOString().split("T")[0],".csv"),contentType:"text/csv"}}catch(t){return console.error("CSV export error:",t),{success:!1,error:t.message||"Failed to export CSV"}}},exportToExcel:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=await s0.exportToCSV(e,t);if(!n.success)throw new Error(n.error);const r="analytics_report_".concat((new Date).toISOString().split("T")[0],".xlsx");return(0,o.A)((0,o.A)({},n),{},{fileName:r,contentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}catch(n){return console.error("Excel export error:",n),{success:!1,error:n.message||"Failed to export Excel"}}},exportToPDF:async function(e){try{const t='\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Analytics Report</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { text-align: center; margin-bottom: 30px; }\n            .section { margin-bottom: 30px; }\n            .section h2 { color: #2D3748; border-bottom: 2px solid #E2E8F0; padding-bottom: 5px; }\n            table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n            th, td { border: 1px solid #E2E8F0; padding: 8px; text-align: left; }\n            th { background-color: #F7FAFC; font-weight: bold; }\n            .metric-value { font-weight: bold; color: #2B6CB0; }\n            .currency { color: #38A169; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>Analytics Report</h1>\n            <p>Generated on: '.concat(new Date(e.exportDate).toLocaleString("id-ID"),'</p>\n          </div>\n          \n          <div class="section">\n            <h2>Overall Metrics</h2>\n            <table>\n              <tr><th>Metric</th><th>Value</th></tr>\n              <tr><td>Total Revenue</td><td class="metric-value currency">Rp ').concat(e.overall.totalRevenue.toLocaleString("id-ID"),'</td></tr>\n              <tr><td>Total Bookings</td><td class="metric-value">').concat(e.overall.totalBookings,'</td></tr>\n              <tr><td>Total Rooms</td><td class="metric-value">').concat(e.overall.totalRooms,'</td></tr>\n              <tr><td>Active Bookings</td><td class="metric-value">').concat(e.overall.activeBookings,'</td></tr>\n              <tr><td>Available Rooms</td><td class="metric-value">').concat(e.overall.availableRooms,'</td></tr>\n              <tr><td>Pending Payments</td><td class="metric-value">').concat(e.overall.pendingPayments,'</td></tr>\n              <tr><td>Verified Payments</td><td class="metric-value">').concat(e.overall.verifiedPayments,"</td></tr>\n            </table>\n          </div>\n          \n          ").concat(e.monthly?'\n          <div class="section">\n            <h2>Monthly Performance ('.concat(e.monthly.month,"/").concat(e.monthly.year,')</h2>\n            <table>\n              <tr><th>Metric</th><th>Value</th></tr>\n              <tr><td>Monthly Revenue</td><td class="metric-value currency">Rp ').concat(e.monthly.monthlyRevenue.toLocaleString("id-ID"),'</td></tr>\n              <tr><td>Monthly Bookings</td><td class="metric-value">').concat(e.monthly.monthlyBookings,'</td></tr>\n              <tr><td>Monthly Payments</td><td class="metric-value">').concat(e.monthly.monthlyPayments,"</td></tr>\n            </table>\n          </div>\n          "):"","\n          \n          ").concat(e.daily?'\n          <div class="section">\n            <h2>Daily Performance</h2>\n            <table>\n              <tr><th>Metric</th><th>Value</th></tr>\n              <tr><td>Daily Revenue</td><td class="metric-value currency">Rp '.concat(e.daily.dailyRevenue.toLocaleString("id-ID"),'</td></tr>\n              <tr><td>Daily Bookings</td><td class="metric-value">').concat(e.daily.dailyBookings,'</td></tr>\n              <tr><td>Daily Payments</td><td class="metric-value">').concat(e.daily.dailyPayments,"</td></tr>\n            </table>\n          </div>\n          "):"","\n          \n          ").concat(e.revenueByMethod&&e.revenueByMethod.length>0?'\n          <div class="section">\n            <h2>Revenue by Payment Method</h2>\n            <table>\n              <tr><th>Payment Method</th><th>Amount</th><th>Transactions</th></tr>\n              '.concat(e.revenueByMethod.map((e=>"\n                <tr>\n                  <td>".concat(e.paymentMethod,'</td>\n                  <td class="currency">Rp ').concat(e.amount.toLocaleString("id-ID"),"</td>\n                  <td>").concat(e.count,"</td>\n                </tr>\n              "))).join(""),"\n            </table>\n          </div>\n          "):"","\n          \n          ").concat(e.trends?'\n          <div class="section">\n            <h2>Trends Analysis</h2>\n            <table>\n              <tr><th>Metric</th><th>Value</th></tr>\n              <tr><td>Monthly Growth</td><td class="metric-value">'.concat(e.trends.monthlyGrowth,'%</td></tr>\n              <tr><td>Bookings Growth</td><td class="metric-value">').concat(e.trends.bookingsGrowth,'%</td></tr>\n              <tr><td>Daily Average Revenue</td><td class="metric-value currency">Rp ').concat(e.trends.dailyAverage.toLocaleString("id-ID"),"</td></tr>\n            </table>\n          </div>\n          "):"","\n        </body>\n        </html>\n      "),n=new Blob([t],{type:"text/html;charset=utf-8;"}),r=window.URL.createObjectURL(n);return{success:!0,blob:n,url:r,fileName:"analytics_report_".concat((new Date).toISOString().split("T")[0],".html"),contentType:"text/html",htmlContent:t}}catch(t){return console.error("PDF export error:",t),{success:!1,error:t.message||"Failed to export PDF"}}},exportComprehensive:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,n,r,i,o,a,s,l;console.log("Creating comprehensive analytics export...");const p=await s0.getDashboardAnalytics();if(!p.success)throw new Error("Failed to fetch analytics data for comprehensive export");const f=await s0.getMonthlyTrends(6),m={exportDate:(new Date).toISOString(),period:e.period||"comprehensive",overall:p.overall,daily:p.daily,monthly:p.monthly,revenueByMethod:p.revenueByMethod,trends:p.trends,monthlyTrends:f.success?f.trends:[]},g=[];g.push("COMPREHENSIVE ANALYTICS REPORT"),g.push("Generated on: ".concat(new Date(m.exportDate).toLocaleString("id-ID"))),g.push("Report Period: ".concat(m.period)),g.push("====================================="),g.push(""),g.push("EXECUTIVE SUMMARY"),g.push("================");const v=m.overall.totalRooms>0?((m.overall.totalRooms-m.overall.availableRooms)/m.overall.totalRooms*100).toFixed(1):0;var c,d;if(g.push("Overall Performance Score: ".concat((((null===(t=m.trends)||void 0===t?void 0:t.monthlyGrowth)||0)+((null===(n=m.trends)||void 0===n?void 0:n.bookingsGrowth)||0)+parseFloat(v))/3,"%")),g.push("Room Occupancy Rate: ".concat(v,"%")),g.push("Monthly Growth Rate: ".concat((null===(r=m.trends)||void 0===r?void 0:r.monthlyGrowth)||0,"%")),g.push("Bookings Growth Rate: ".concat((null===(i=m.trends)||void 0===i?void 0:i.bookingsGrowth)||0,"%")),g.push(""),g.push("OVERALL METRICS"),g.push("==============="),g.push("Metric,Value,Description"),g.push("Total Revenue,".concat(m.overall.totalRevenue,",Total revenue from all verified payments")),g.push("Total Bookings,".concat(m.overall.totalBookings,",Total number of bookings in the system")),g.push("Total Rooms,".concat(m.overall.totalRooms,",Total rooms available in the system")),g.push("Active Bookings,".concat(m.overall.activeBookings,",Currently active bookings")),g.push("Available Rooms,".concat(m.overall.availableRooms,",Rooms currently available for booking")),g.push("Pending Payments,".concat(m.overall.pendingPayments,",Payments awaiting verification")),g.push("Verified Payments,".concat(m.overall.verifiedPayments,",Successfully verified payments")),g.push(""),m.monthly)g.push("MONTHLY PERFORMANCE"),g.push("=================="),g.push("Analysis Period: ".concat(m.monthly.month,"/").concat(m.monthly.year)),g.push("Metric,Value,Growth Rate"),g.push("Monthly Revenue,".concat(m.monthly.monthlyRevenue,",").concat((null===(c=m.trends)||void 0===c?void 0:c.monthlyGrowth)||0,"%")),g.push("Monthly Bookings,".concat(m.monthly.monthlyBookings,",").concat((null===(d=m.trends)||void 0===d?void 0:d.bookingsGrowth)||0,"%")),g.push("Monthly Payments,".concat(m.monthly.monthlyPayments,",N/A")),g.push("");if(m.daily){var u,h;g.push("DAILY PERFORMANCE"),g.push("================"),g.push("Analysis Date: ".concat(m.daily.date||"Today")),g.push("Metric,Value,Percentage of Monthly Target");const e=(null===(u=m.monthly)||void 0===u?void 0:u.monthlyRevenue)>0?(m.daily.dailyRevenue/m.monthly.monthlyRevenue*100).toFixed(1):0,t=(null===(h=m.monthly)||void 0===h?void 0:h.monthlyBookings)>0?(m.daily.dailyBookings/m.monthly.monthlyBookings*100).toFixed(1):0;g.push("Daily Revenue,".concat(m.daily.dailyRevenue,",").concat(e,"%")),g.push("Daily Bookings,".concat(m.daily.dailyBookings,",").concat(t,"%")),g.push("Daily Payments,".concat(m.daily.dailyPayments,",N/A")),g.push("")}if(m.revenueByMethod&&m.revenueByMethod.length>0){g.push("REVENUE ANALYSIS BY PAYMENT METHOD"),g.push("=================================");const e=m.revenueByMethod.reduce(((e,t)=>e+t.amount),0);g.push("Payment Method,Amount,Transactions,Percentage,Average per Transaction"),m.revenueByMethod.forEach((t=>{const n=e>0?(t.amount/e*100).toFixed(1):0,r=t.count>0?(t.amount/t.count).toFixed(0):0;g.push("".concat(t.paymentMethod,",").concat(t.amount,",").concat(t.count,",").concat(n,"%,").concat(r))})),g.push("TOTAL,".concat(e,",").concat(m.revenueByMethod.reduce(((e,t)=>e+t.count),0),",100.0%,").concat(e>0?(e/m.revenueByMethod.reduce(((e,t)=>e+t.count),0)).toFixed(0):0)),g.push("")}m.monthlyTrends&&m.monthlyTrends.length>0&&(g.push("MONTHLY TRENDS ANALYSIS (LAST 6 MONTHS)"),g.push("======================================"),g.push("Month,Revenue,Bookings,Payments,Revenue Growth,Booking Growth"),m.monthlyTrends.forEach(((e,t)=>{const n=t>0?m.monthlyTrends[t-1]:null,r=n&&n.monthlyRevenue>0?((e.monthlyRevenue-n.monthlyRevenue)/n.monthlyRevenue*100).toFixed(1):"0.0",i=n&&n.monthlyBookings>0?((e.monthlyBookings-n.monthlyBookings)/n.monthlyBookings*100).toFixed(1):"0.0";g.push("".concat(e.monthName,",").concat(e.monthlyRevenue,",").concat(e.monthlyBookings,",").concat(e.monthlyPayments,",").concat(r,"%,").concat(i,"%"))})),g.push("")),g.push("KEY PERFORMANCE INDICATORS"),g.push("=========================="),g.push("KPI,Value,Status,Target,Achievement");const y=m.overall.totalRooms>0?(m.overall.totalRevenue/m.overall.totalRooms).toFixed(0):0,x=m.overall.totalRooms>0?(m.overall.activeBookings/m.overall.totalRooms*100).toFixed(1):0,b=m.overall.pendingPayments+m.overall.verifiedPayments>0?(m.overall.verifiedPayments/(m.overall.pendingPayments+m.overall.verifiedPayments)*100).toFixed(1):0;g.push("Revenue per Room,Rp ".concat(y,",").concat(y>15e4?"Good":"Needs Improvement",",Rp 150000,").concat(y>15e4?"\u2713":"\u2717")),g.push("Occupancy Rate,".concat(v,"%,").concat(v>80?"Excellent":v>60?"Good":"Needs Improvement",",80%,").concat(v>80?"\u2713":"\u2717")),g.push("Booking Rate,".concat(x,"%,").concat(x>70?"Good":"Needs Improvement",",70%,").concat(x>70?"\u2713":"\u2717")),g.push("Payment Verification Rate,".concat(b,"%,").concat(b>95?"Excellent":b>85?"Good":"Needs Improvement",",95%,").concat(b>95?"\u2713":"\u2717")),g.push("Monthly Growth Rate,".concat((null===(o=m.trends)||void 0===o?void 0:o.monthlyGrowth)||0,"%,").concat(((null===(a=m.trends)||void 0===a?void 0:a.monthlyGrowth)||0)>5?"Good":"Stable",",5%,").concat(((null===(s=m.trends)||void 0===s?void 0:s.monthlyGrowth)||0)>5?"\u2713":"\u25cb")),g.push(""),g.push("RECOMMENDATIONS"),g.push("===============");const j=[];v<60&&j.push("Increase marketing efforts to improve room occupancy rate"),b<90&&j.push("Streamline payment verification process to reduce pending payments"),((null===(l=m.trends)||void 0===l?void 0:l.monthlyGrowth)||0)<0&&j.push("Analyze market trends and adjust pricing strategy to reverse negative growth"),y<15e4&&j.push("Consider room rate optimization to increase revenue per room"),m.overall.availableRooms>.5*m.overall.totalRooms&&j.push("High room availability suggests need for better demand generation"),0===j.length&&(j.push("Performance is within target ranges - continue current strategies"),j.push("Monitor trends closely for early indicators of changes")),j.forEach(((e,t)=>{g.push("".concat(t+1,". ").concat(e))})),g.push(""),g.push("====================================="),g.push("Report generated by Rusunawa Analytics System"),g.push("Data as of: ".concat((new Date).toLocaleString("id-ID"))),g.push("For questions about this report, contact the administration team");const w=g.join("\n"),k=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=window.URL.createObjectURL(k);return{success:!0,blob:k,url:S,fileName:"comprehensive_analytics_report_".concat((new Date).toISOString().split("T")[0],".csv"),contentType:"text/csv",recordCount:g.length,dataPoints:{overallMetrics:7,monthlyTrends:m.monthlyTrends.length,paymentMethods:m.revenueByMethod.length,kpis:5,recommendations:j.length}}}catch(p){return console.error("Comprehensive export error:",p),{success:!1,error:p.message||"Failed to create comprehensive export"}}},getInvoicesData:async()=>{try{const e=await pb.default.get("/invoices");return{success:!0,data:e.data,invoices:e.data.invoices||[]}}catch(r){var e,t,n;return console.error("Get invoices data error:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.message)||r.message||"Failed to fetch invoices",invoices:[]}}},calculateMonthlyRevenueFromInvoices:function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getFullYear(),r=t||(new Date).getMonth()+1;console.log("Calculating monthly revenue for ".concat(n,"-").concat(r," from ").concat(e.length," invoices"));let i=0,o=0,a=0,s=0;return e.forEach((e=>{const t=new Date(e.createdAt),l=e.paidAt?new Date(e.paidAt):null;t.getFullYear()===n&&t.getMonth()+1===r&&(o++,"paid"===e.status&&l?(i+=e.amount||e.totalAmount||0,a++,console.log("Paid invoice ".concat(e.invoiceId,": Rp ").concat(e.amount," on ").concat(l.toISOString()))):(s++,console.log("Unpaid invoice ".concat(e.invoiceId,": Rp ").concat(e.amount," (status: ").concat(e.status,")"))))})),console.log("Monthly calculation result: Rp ".concat(i," from ").concat(a," paid invoices, ").concat(s," unpaid")),{monthlyRevenue:i,monthlyPayments:o,paidInvoices:a,unpaidInvoices:s,year:n,month:r}},getDetailedRevenueReport:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=await s0.getInvoicesData();if(!n.success)throw new Error(n.error);const r=s0.calculateMonthlyRevenueFromInvoices(n.invoices,e,t);return{success:!0,data:r,report:{year:r.year,month:r.month,totalRevenue:r.monthlyRevenue,totalInvoices:r.monthlyPayments,paidInvoices:r.paidInvoices,unpaidInvoices:r.unpaidInvoices}}}catch(n){return console.error("Get detailed revenue report error:",n),{success:!1,error:n.message||"Failed to generate detailed revenue report",report:null}}}},l0=s0;const c0={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}};function d0(e){return["html","body","#document"].includes(e.localName)?e.ownerDocument.body:$o(e)&&function(e){const t=e.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:i}=t.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(n+i+r)}(e)?e:d0(function(e){return"html"===e.localName?e:e.assignedSlot||e.parentElement||e.ownerDocument.documentElement}(e))}const u0=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","closeOnScroll","closeOnPointerDown","closeOnEsc","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"],h0=e=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.ownerDocument)||document},p0=e=>{var t;return(null===(t=e.current)||void 0===t||null===(t=t.ownerDocument)||void 0===t?void 0:t.defaultView)||window};function f0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{openDelay:n=0,closeDelay:r=0,closeOnClick:i=!0,closeOnMouseDown:a,closeOnScroll:s,closeOnPointerDown:l=a,closeOnEsc:c=!0,onOpen:d,onClose:u,placement:h,id:p,isOpen:f,defaultIsOpen:m,arrowSize:g=10,arrowShadowColor:v,arrowPadding:y,modifiers:x,isDisabled:b,gutter:j,offset:w,direction:k}=e,S=Jo(e,u0),{isOpen:_,onOpen:A,onClose:C}=GG({isOpen:f,defaultIsOpen:m,onOpen:d,onClose:u}),{referenceRef:P,getPopperProps:I,getArrowInnerProps:T,getArrowProps:N}=FY({enabled:_,placement:h,arrowPadding:y,modifiers:x,gutter:j,offset:w,direction:k}),E=(0,t.useId)(),z="tooltip-".concat(null!==p&&void 0!==p?p:E),O=(0,t.useRef)(null),L=(0,t.useRef)(void 0),D=(0,t.useCallback)((()=>{L.current&&(clearTimeout(L.current),L.current=void 0)}),[]),R=(0,t.useRef)(void 0),M=(0,t.useCallback)((()=>{R.current&&(clearTimeout(R.current),R.current=void 0)}),[]),B=(0,t.useCallback)((()=>{M(),C()}),[C,M]),F=function(e,n){return(0,t.useEffect)((()=>{const t=h0(e);return t.addEventListener(m0,n),()=>t.removeEventListener(m0,n)}),[n,e]),()=>{const t=h0(e),n=p0(e);t.dispatchEvent(new n.CustomEvent(m0))}}(O,B),W=(0,t.useCallback)((()=>{if(!b&&!L.current){_&&F();const e=p0(O);L.current=e.setTimeout(A,n)}}),[F,b,_,A,n]),U=(0,t.useCallback)((()=>{D();const e=p0(O);R.current=e.setTimeout(B,r)}),[r,B,D]),q=(0,t.useCallback)((()=>{_&&i&&U()}),[i,U,_]),H=(0,t.useCallback)((()=>{_&&l&&U()}),[l,U,_]),V=(0,t.useCallback)((e=>{_&&"Escape"===e.key&&U()}),[_,U]);eK((()=>h0(O)),"keydown",c?V:void 0),eK((()=>{if(!s)return null;const e=O.current;if(!e)return null;const t=d0(e);return"body"===t.localName?p0(O):t}),"scroll",(()=>{_&&s&&B()}),{passive:!0,capture:!0}),(0,t.useEffect)((()=>{b&&(D(),_&&C())}),[b,_,C,D]),(0,t.useEffect)((()=>()=>{D(),M()}),[D,M]),eK((()=>O.current),"pointerleave",U);const G=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(O,t,P),onPointerEnter:dj(e.onPointerEnter,(e=>{"touch"!==e.pointerType&&W()})),onClick:dj(e.onClick,q),onPointerDown:dj(e.onPointerDown,H),onFocus:dj(e.onFocus,W),onBlur:dj(e.onBlur,U),"aria-describedby":_?z:void 0})}),[W,U,H,_,z,q,P]),K=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return I((0,o.A)((0,o.A)({},e),{},{style:(0,o.A)((0,o.A)({},e.style),{},{[_Y.arrowSize.var]:g?"".concat(g,"px"):void 0,[_Y.arrowShadowColor.var]:v})}),t)}),[I,g,v]),Y=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,o.A)((0,o.A)({},e.style),{},{position:"relative",transformOrigin:_Y.transformOrigin.varRef});return(0,o.A)((0,o.A)((0,o.A)({ref:t},S),e),{},{id:z,role:"tooltip",style:n})}),[S,z]);return{isOpen:_,show:W,hide:U,getTriggerProps:G,getTooltipProps:Y,getTooltipPositionerProps:K,getArrowProps:N,getArrowInnerProps:T}}const m0="chakra-ui:close-tooltip";const g0=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps","background","backgroundColor","bgColor","motionProps","animatePresenceProps"],v0=Tv(sv.div),y0=Dv(((e,n)=>{var r,i;const a=Vv("Tooltip",e),s=Ov(e),l=Fv(),{children:c,label:d,shouldWrapChildren:u,"aria-label":h,hasArrow:p,bg:f,portalProps:m,background:g,backgroundColor:v,bgColor:y,motionProps:x,animatePresenceProps:b}=s,j=Jo(s,g0),w=null!==(r=null!==(i=null!==g&&void 0!==g?g:v)&&void 0!==i?i:f)&&void 0!==r?r:y;if(w){a.bg=w;const e=function(e,t,n){var r,i;return null!==(r=null===(i=e.__cssMap)||void 0===i||null===(i=i["".concat(t,".").concat(n)])||void 0===i?void 0:i.varRef)&&void 0!==r?r:n}(l,"colors",w);a[_Y.arrowBg.var]=e}const k=f0((0,o.A)((0,o.A)({},j),{},{direction:l.direction}));let S;if(!(0,t.isValidElement)(c)||u)S=(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({display:"inline-block",tabIndex:0},k.getTriggerProps()),{},{children:c}));else{const e=t.Children.only(c);S=(0,t.cloneElement)(e,k.getTriggerProps(e.props,function(e){var n;const r=t.version;return"string"!==typeof r||r.startsWith("18.")?null===e||void 0===e?void 0:e.ref:null===e||void 0===e||null===(n=e.props)||void 0===n?void 0:n.ref}(e)))}const _=!!h,A=k.getTooltipProps({},n),C=_?zv(A,["role","id"]):A,P=Cl(A,["role","id"]);return d?(0,Xo.jsxs)(Xo.Fragment,{children:[S,(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},b),{},{children:k.isOpen&&(0,Xo.jsx)(Ay,(0,o.A)((0,o.A)({},m),{},{children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},k.getTooltipPositionerProps()),{},{__css:{zIndex:a.zIndex,pointerEvents:"none"},children:(0,Xo.jsxs)(v0,(0,o.A)((0,o.A)((0,o.A)({variants:c0,initial:"exit",animate:"enter",exit:"exit"},x),C),{},{__css:a,children:[d,_&&(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({srOnly:!0},P),{},{children:h})),p&&(0,Xo.jsx)(Tv.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:(0,Xo.jsx)(Tv.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:a.bg}})})]}))}))}))}))]}):(0,Xo.jsx)(Xo.Fragment,{children:c})}));y0.displayName="Tooltip";const x0=e=>{let{title:t,value:n,icon:r,trend:i,colorScheme:o="blue",loading:a=!1,error:s=null,tooltip:l,badge:c,formatter:d=e=>(null===e||void 0===e?void 0:e.toLocaleString())||"0"}=e;const u=zs("white","gray.700"),h=zs("gray.200","gray.600"),p=zs("gray.600","gray.300"),f=zs("gray.800","white"),m=zs("blue.500","blue.300"),g=zs("green.500","green.300"),v=zs("red.500","red.300"),y=zs("orange.500","orange.300"),x=zs("purple.500","purple.300"),b=zs("teal.500","teal.300"),j=zs("cyan.500","cyan.300"),w=zs("gray.500","gray.300"),k=(e=>{const t={blue:m,green:g,red:v,orange:y,purple:x,teal:b,cyan:j,gray:w};return t[e]||t.blue})(o);if(a)return(0,Xo.jsx)(Vb,{bg:u,borderWidth:"1px",borderColor:h,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(FS,{height:"20px",width:"120px"}),(0,Xo.jsx)(FS,{height:"24px",width:"24px",borderRadius:"md"})]}),(0,Xo.jsx)(FS,{height:"32px",width:"80px"}),(0,Xo.jsx)(FS,{height:"16px",width:"100px"})]})})});if(s)return(0,Xo.jsx)(Vb,{bg:u,borderWidth:"1px",borderColor:h,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(ay,{status:"error",size:"sm",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:t}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:s})]})]})})});const S=i>0?$_:X_,_=i>0?"green.500":"red.500",A=(0,Xo.jsx)(Vb,{bg:u,borderWidth:"1px",borderColor:h,_hover:{shadow:"md"},transition:"all 0.2s",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"flex-start",children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,flex:1,children:[(0,Xo.jsxs)(dS,{spacing:2,align:"center",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:p,fontWeight:"medium",children:t}),c&&(0,Xo.jsx)(r_,{colorScheme:c.colorScheme,size:"sm",children:c.text})]}),(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:f,children:d(n)})]}),r&&(0,Xo.jsx)(Zv,{as:r,w:6,h:6,color:k})]}),void 0!==i&&null!==i&&(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:S,w:4,h:4,color:_}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:_,fontWeight:"medium",children:[Math.abs(i).toFixed(1),"%"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:p,children:"vs last month"})]})]})})});return l?(0,Xo.jsx)(y0,{label:l,placement:"top",hasArrow:!0,children:A}):A},b0=e=>{let{data:t=[],loading:n=!1,error:r=null,title:i="Rincian Pendapatan"}=e;const o=zs("white","gray.700"),a=zs("gray.200","gray.600"),s=zs("gray.600","gray.300"),l=zs("gray.800","white"),c=["blue","green","purple","orange","teal","cyan","red","pink"];if(n)return(0,Xo.jsxs)(Vb,{bg:o,borderWidth:"1px",borderColor:a,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(FS,{height:"24px",width:"200px"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,children:[1,2,3].map((e=>(0,Xo.jsxs)(Pb,{spacing:2,w:"full",children:[(0,Xo.jsx)(FS,{height:"16px",width:"120px"}),(0,Xo.jsx)(FS,{height:"8px",width:"full"}),(0,Xo.jsx)(FS,{height:"14px",width:"80px"})]},e)))})})]});if(r)return(0,Xo.jsxs)(Vb,{bg:o,borderWidth:"1px",borderColor:a,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:i})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Gagal memuat data pendapatan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:r})]})]})})]});if(!t||0===t.length)return(0,Xo.jsxs)(Vb,{bg:o,borderWidth:"1px",borderColor:a,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:i})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{children:"Tidak ada data pendapatan tersedia"})]})})]});const d=t.reduce(((e,t)=>e+(t.amount||t.value||0)),0);return(0,Xo.jsxs)(Vb,{bg:o,borderWidth:"1px",borderColor:a,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:i})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[t.map(((e,t)=>{const n=e.amount||e.value||0,r=d>0?n/d*100:0,i=c[t%c.length];return(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:l,children:e.paymentMethod||e.name||"Tidak diketahui"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:s,children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n)})]}),(0,Xo.jsx)(a0,{value:r,colorScheme:i,size:"sm",borderRadius:"full"}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:s,children:[r.toFixed(1),"%"]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:s,children:[e.count||0," transaksi"]})]})]},e.paymentMethod||e.name||t)})),(0,Xo.jsxs)(Pb,{spacing:2,pt:4,borderTopWidth:"1px",borderColor:a,children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"bold",color:l,children:"Total Pendapatan"}),(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"bold",color:l,children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d)})]}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:s,children:"Total Transaksi"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:s,children:t.reduce(((e,t)=>e+(t.count||0)),0)})]})]})]})})]})},j0=e=>{var t,n,r,i,o,a,s,l,c,d;let{data:u=null,loading:h=!1,error:p=null,title:f="Ringkasan Performa",period:m="Bulan Ini"}=e;const g=zs("white","gray.700"),v=zs("gray.200","gray.600"),y=zs("gray.600","gray.300"),x=zs("gray.800","white"),b=zs("gray.50","gray.600"),j=zs("green.50","green.900"),w=zs("blue.50","blue.900"),k=zs("purple.50","purple.900"),S=zs("orange.50","orange.900");if(h)return(0,Xo.jsxs)(Vb,{bg:g,borderWidth:"1px",borderColor:v,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(FS,{height:"24px",width:"200px"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,children:(0,Xo.jsx)(IQ,{columns:{base:1,md:2},spacing:4,w:"full",children:[1,2,3,4].map((e=>(0,Xo.jsx)(FS,{height:"80px"},e)))})})})]});if(p)return(0,Xo.jsxs)(Vb,{bg:g,borderWidth:"1px",borderColor:v,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:f})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Gagal memuat ringkasan analitik"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:p})]})]})})]});if(!u)return(0,Xo.jsxs)(Vb,{bg:g,borderWidth:"1px",borderColor:v,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:f})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{children:"Tidak ada data analitik tersedia"})]})})]});const _=(null===(t=u.monthly)||void 0===t?void 0:t.monthlyRevenue)||0,A=(null===(n=u.monthly)||void 0===n?void 0:n.monthlyBookings)||0,C=(null===(r=u.trends)||void 0===r?void 0:r.monthlyGrowth)||0,P=(null===(i=u.trends)||void 0===i?void 0:i.bookingsGrowth)||0,I=(null===(o=u.overall)||void 0===o?void 0:o.totalRooms)||0,T=(null===(a=u.overall)||void 0===a?void 0:a.availableRooms)||0,N=I>0?(I-T)/I*100:0,E=(null===(s=u.monthly)||void 0===s?void 0:s.isCalculatedFromInvoices)||!1;return console.log("AnalyticsSummary - Room calculation:",{totalRooms:I,availableRooms:T,occupiedRooms:I-T,occupancyRate:N.toFixed(1),monthlyRevenue:_,isCalculatedFromInvoices:E,rawData:u.overall}),(0,Xo.jsxs)(Vb,{bg:g,borderWidth:"1px",borderColor:v,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"md",children:f}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:y,children:m})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Pb,{spacing:3,p:4,bg:j,borderRadius:"md",children:[(0,Xo.jsxs)(dS,{w:"full",justify:"space-between",children:[(0,Xo.jsx)(Zv,{as:v_,w:6,h:6,color:"green.500"}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:y,children:"PENDAPATAN"}),E&&(0,Xo.jsx)(y0,{label:"Data diperbaiki dari invoice real",hasArrow:!0,children:(0,Xo.jsx)(r_,{size:"sm",colorScheme:"green",variant:"solid",fontSize:"xs",children:"\u2713 Akurat"})})]})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{fontSize:"sm",children:"Pendapatan Bulanan"}),(0,Xo.jsx)(GS,{fontSize:"xl",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(_)}),(0,Xo.jsxs)(KS,{mb:0,children:[(0,Xo.jsx)(XS,{type:C>=0?"increase":"decrease"}),Math.abs(C).toFixed(1),"% dibanding bulan lalu",E&&(0,Xo.jsx)(Tb,{as:"span",fontSize:"xs",color:"green.600",ml:1,children:"(dari invoice)"})]})]})]}),(0,Xo.jsxs)(Pb,{spacing:3,p:4,bg:w,borderRadius:"md",children:[(0,Xo.jsxs)(dS,{w:"full",justify:"space-between",children:[(0,Xo.jsx)(Zv,{as:tA,w:6,h:6,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:y,children:"BOOKING"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{fontSize:"sm",children:"Booking Bulanan"}),(0,Xo.jsx)(GS,{fontSize:"xl",children:A}),(0,Xo.jsxs)(KS,{mb:0,children:[(0,Xo.jsx)(XS,{type:P>=0?"increase":"decrease"}),Math.abs(P).toFixed(1),"% dibanding bulan lalu"]})]})]}),(0,Xo.jsxs)(Pb,{spacing:3,p:4,bg:k,borderRadius:"md",children:[(0,Xo.jsxs)(dS,{w:"full",justify:"space-between",children:[(0,Xo.jsx)(Zv,{as:__,w:6,h:6,color:"purple.500"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:y,children:"TINGKAT HUNIAN"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{fontSize:"sm",children:"Tingkat Hunian Kamar"}),(0,Xo.jsxs)(GS,{fontSize:"xl",children:[N.toFixed(1),"%"]}),(0,Xo.jsxs)(KS,{mb:0,children:[I-T," dari ",I," kamar"]})]})]}),(0,Xo.jsxs)(Pb,{spacing:3,p:4,bg:S,borderRadius:"md",children:[(0,Xo.jsxs)(dS,{w:"full",justify:"space-between",children:[(0,Xo.jsx)(Zv,{as:$_,w:6,h:6,color:"orange.500"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:y,children:"PERFORMA"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{fontSize:"sm",children:"Skor Performa"}),(0,Xo.jsxs)(GS,{fontSize:"xl",children:[((C+P+N)/3).toFixed(0),"%"]}),(0,Xo.jsx)(KS,{mb:0,children:"Performa sistem secara keseluruhan"})]})]})]}),(0,Xo.jsxs)(Pb,{spacing:3,p:4,bg:b,borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:x,children:"Insight Utama"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:y,children:"Rata-rata Pendapatan Harian"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:x,children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format((null===(l=u.trends)||void 0===l?void 0:l.dailyAverage)||0)})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:y,children:"Booking Aktif"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:x,children:(null===(c=u.overall)||void 0===c?void 0:c.activeBookings)||0})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:y,children:"Pembayaran Pending"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:x,children:(null===(d=u.overall)||void 0===d?void 0:d.pendingPayments)||0})]})]})]})]})})]})};new class{constructor(){this.baseURL="/ai-analytics",this.activeRequests=new Map,this.serviceStatusCache={status:null,timestamp:null,checkInProgress:!1,cacheValidityMs:3e4}}async createRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e5;const n="".concat(e,"-").concat(Date.now()),r=new AbortController;this.activeRequests.set(n,r);try{console.log("\ud83e\udd16 AIAnalyticsService: Starting request to ".concat(e,"..."));const i=await pb.default.get("".concat(this.baseURL).concat(e),{signal:r.signal,timeout:t});if(this.activeRequests.delete(n),200===i.status&&i.data)return console.log("\u2705 AI analysis received from ".concat(e,":"),i.data),{success:!0,data:i.data,timestamp:(new Date).toISOString(),requestId:n};throw new Error("Invalid response from AI analytics service")}catch(u){var i,o,a,s,l,c,d;if(this.activeRequests.delete(n),"CanceledError"===u.name||"AbortError"===u.name)return console.log("\u23f9\ufe0f Request to ".concat(e," was cancelled")),{success:!1,error:"Request was cancelled",cancelled:!0,timestamp:(new Date).toISOString()};if("ECONNABORTED"===u.code||"TimeoutError"===u.name)return console.error("\u23f0 Request to ".concat(e," timed out")),{success:!1,error:"Request timed out. The AI model is taking longer than expected.",timeout:!0,timestamp:(new Date).toISOString()};if(429===(null===(i=u.response)||void 0===i?void 0:i.status)){console.error("\ud83d\udeab Rate limit exceeded for ".concat(e));const t=u.response.headers["retry-after"]||"300";return{success:!1,error:"API request failed with status 429: Model AI telah mencapai batas penggunaan (rate limit). Mohon tunggu ".concat(Math.ceil(t/60)," menit atau coba lagi besok."),rateLimited:!0,retryAfter:parseInt(t),timestamp:(new Date).toISOString()}}if(503===(null===(o=u.response)||void 0===o?void 0:o.status))return console.error("\ud83d\udcca Service unavailable for ".concat(e," - likely quota exhausted")),{success:!1,error:"API request failed with status 503: Kuota AI analytics sudah habis untuk hari ini. Silakan coba lagi besok.",quotaExhausted:!0,timestamp:(new Date).toISOString()};if(402===(null===(a=u.response)||void 0===a?void 0:a.status))return console.error("\ud83d\udcb3 Payment required for ".concat(e," - billing/quota issue")),{success:!1,error:"API request failed with status 402: Kuota atau billing bermasalah. Hubungi administrator untuk upgrade.",billingIssue:!0,timestamp:(new Date).toISOString()};console.error("\u274c Error with request to ".concat(e,":"),u);let t=(null===(s=u.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||u.message||"Failed to get AI analysis from ".concat(e);return null!==(c=u.response)&&void 0!==c&&c.status&&(t="API request failed with status ".concat(u.response.status,": ").concat(t)),{success:!1,error:t,statusCode:null===(d=u.response)||void 0===d?void 0:d.status,timestamp:(new Date).toISOString()}}}cancelRequest(e){const t=this.activeRequests.get(e);t&&(t.abort(),this.activeRequests.delete(e),console.log("\ud83d\uded1 Cancelled request: ".concat(e)))}cancelAllRequests(){for(const[e,t]of this.activeRequests)t.abort(),console.log("\ud83d\uded1 Cancelled request: ".concat(e));this.activeRequests.clear()}async checkServiceStatus(){const e=Date.now(),t=this.serviceStatusCache;if(t.status&&t.timestamp&&e-t.timestamp<t.cacheValidityMs)return console.log("\ufffd Using cached service status (preventing quota waste):",t.status),t.status;if(t.checkInProgress){console.log("\ud83d\udd04 Service status check already in progress, waiting...");let e=0;for(;t.checkInProgress&&e<50;)await new Promise((e=>setTimeout(e,100))),e++;return t.status||{success:!1,available:!1,message:"Check failed"}}t.checkInProgress=!0;try{var n,r,i;console.log("\ud83d\udd0d Making actual API call to check service status..."),console.log("\ud83c\udf10 Health check endpoint: rusunawa-skripsi-v1-production.up.railway.app/v1/health");const o=await pb.default.get("/health",{timeout:8e3,validateStatus:function(e){return 200===e}});console.log("\u2705 Service health check response:",{status:o.status,statusText:o.statusText,data:o.data,available:!0});const a="OK"===(null===(n=o.data)||void 0===n?void 0:n.status)&&(null===(r=o.data)||void 0===r?void 0:r.message),s={success:!0,available:a,status:a?"online":"degraded",message:(null===(i=o.data)||void 0===i?void 0:i.message)||"Service is available",httpStatus:o.status,timestamp:(new Date).toISOString(),endpoint:"/v1/health",cached:!1};return t.status=s,t.timestamp=e,s}catch(u){var o,a,s,l;let n;if(console.warn("\u26a0\ufe0f Service health check failed:",{message:u.message,status:null===(o=u.response)||void 0===o?void 0:o.status,code:u.code,endpoint:"/v1/health"}),"ECONNREFUSED"===u.code||"ENOTFOUND"===u.code||"ECONNABORTED"===u.code||"TimeoutError"===u.name||null===(a=u.response)||void 0===a||!a.status||(null===(s=u.response)||void 0===s?void 0:s.status)>=500)n={success:!1,available:!1,status:"offline",message:"Service is offline or unreachable",error:u.message,code:u.code,timestamp:(new Date).toISOString(),endpoint:"/v1/health",cached:!1};else if(404===(null===(l=u.response)||void 0===l?void 0:l.status)){var c;n={success:!1,available:!1,status:"no-health-endpoint",message:"Health endpoint not found. Service might not be configured properly.",error:u.message,httpStatus:null===(c=u.response)||void 0===c?void 0:c.status,timestamp:(new Date).toISOString(),endpoint:"/v1/health",cached:!1}}else{var d;n={success:!1,available:!1,status:"error",message:"Service health check failed",error:u.message,httpStatus:null===(d=u.response)||void 0===d?void 0:d.status,timestamp:(new Date).toISOString(),endpoint:"/v1/health",cached:!1}}return t.status=n,t.timestamp=e,n}finally{t.checkInProgress=!1}}clearServiceStatusCache(){console.log("\ud83d\udd04 Clearing service status cache"),this.serviceStatusCache.status=null,this.serviceStatusCache.timestamp=null,this.serviceStatusCache.checkInProgress=!1}async getOverallAnalysis(){const e=await this.createRequest("/business-insights",9e5);return e.success&&(e.data=this.transformBusinessInsights(e.data)),e}async getPerformanceAnalysis(){const e=await this.createRequest("/performance-analysis",48e4);return e.success&&(e.data=this.transformPerformanceAnalysis(e.data)),e}async getRevenueAnalysis(){const e=await this.createRequest("/revenue-analysis",72e4);return e.success&&(e.data=this.transformRevenueAnalysis(e.data)),e}async getOccupancyAnalysis(){const e=await this.createRequest("/occupancy-analysis",36e4);return e.success&&(e.data=this.transformOccupancyAnalysis(e.data)),e}async getTrendAnalysis(){const e=await this.createRequest("/trend-analysis",48e4);return e.success&&(e.data=this.transformTrendAnalysis(e.data)),e}async getRecommendations(){const e=await this.createRequest("/recommendations",6e5);return e.success&&(e.data=this.transformRecommendations(e.data)),e}transformBusinessInsights(e){var t;return(0,o.A)((0,o.A)({},e),{},{summary:e.overallPerformance||e.keyMetricsSummary||"Analisis bisnis selesai",key_insights:[e.revenueInsight,e.occupancyInsight,e.paymentInsight].filter((e=>e&&""!==e.trim()&&"**Anomali Data Operasional**"!==e)),recommendations:Array.isArray(e.recommendations)?e.recommendations:[],details:{overallPerformance:e.overallPerformance,revenueInsight:e.revenueInsight,occupancyInsight:e.occupancyInsight,paymentInsight:e.paymentInsight,keyMetricsSummary:e.keyMetricsSummary},type:"business",status:e.status,metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek R1 (Reasoning Model)",confidence:.85,response_status:(null===(t=e.status)||void 0===t?void 0:t.status)||"unknown"}})}transformPerformanceAnalysis(e){var t;return(0,o.A)((0,o.A)({},e),{},{summary:e.performanceSummary||"Analisis performa selesai",key_insights:e.insights||[],recommendations:[],metrics:e.metrics||[],performance:{growth_analysis:e.growthAnalysis,efficiency_metrics:e.efficiencyMetrics,metrics:e.metrics},details:{performanceSummary:e.performanceSummary,growthAnalysis:e.growthAnalysis,efficiencyMetrics:e.efficiencyMetrics,insights:e.insights,metrics:e.metrics},type:"performance",status:e.status,metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek R1",confidence:.83,response_status:(null===(t=e.status)||void 0===t?void 0:t.status)||"unknown"}})}transformRevenueAnalysis(e){var t;return(0,o.A)((0,o.A)({},e),{},{summary:e.revenueSummary||"Analisis revenue selesai",key_insights:e.insights?e.insights.map((e=>e.description)):[],recommendations:e.recommendations||[],details:{revenueSummary:e.revenueSummary,paymentMethodAnalysis:e.paymentMethodAnalysis,revenueTrends:e.revenueTrends,insights:e.insights},type:"revenue",status:e.status,metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek R1",confidence:.82,response_status:(null===(t=e.status)||void 0===t?void 0:t.status)||"unknown"}})}transformOccupancyAnalysis(e){var t;return(0,o.A)((0,o.A)({},e),{},{summary:e.occupancySummary||"Analisis hunian selesai",key_insights:[e.utilizationAnalysis,e.capacityInsights].filter(Boolean),recommendations:e.optimizationSuggestions||[],metrics:e.metrics||[],details:{occupancySummary:e.occupancySummary,utilizationAnalysis:e.utilizationAnalysis,capacityInsights:e.capacityInsights,metrics:e.metrics},type:"occupancy",status:e.status,metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek R1",confidence:.8,response_status:(null===(t=e.status)||void 0===t?void 0:t.status)||"unknown"}})}transformTrendAnalysis(e){var t;return(0,o.A)((0,o.A)({},e),{},{summary:e.trendSummary||"Analisis tren selesai",key_insights:e.strategicInsights||[],recommendations:[],trends:e.trendData||[],details:{trendSummary:e.trendSummary,seasonalPatterns:e.seasonalPatterns,forecastPrediction:e.forecastPrediction,strategicInsights:e.strategicInsights,trendData:e.trendData},type:"trends",status:e.status,metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek R1",confidence:.78,response_status:(null===(t=e.status)||void 0===t?void 0:t.status)||"unknown"}})}transformRecommendations(e){var t;const n=e.recommendations||[];return(0,o.A)((0,o.A)({},e),{},{summary:e.executiveSummary||"Rekomendasi AI telah dihasilkan",key_insights:[],recommendations:n.map((e=>"string"===typeof e?e:e.title||e.description||e)),details:{executiveSummary:e.executiveSummary,recommendations:e.recommendations,riskAssessment:e.riskAssessment,opportunityAnalysis:e.opportunityAnalysis},structured_recommendations:n.filter((e=>"object"===typeof e)),type:"recommendations",status:e.status,metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek R1",confidence:.85,response_status:(null===(t=e.status)||void 0===t?void 0:t.status)||"unknown"}})}async getMultipleAnalysis(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["business","performance","revenue","occupancy"];try{console.log("\ud83e\udd16 AIAnalyticsService: Requesting multiple AI analyses...",e);const t=e.map((e=>{switch(e){case"business":return this.getOverallAnalysis();case"performance":return this.getPerformanceAnalysis();case"revenue":return this.getRevenueAnalysis();case"occupancy":return this.getOccupancyAnalysis();case"trends":return this.getTrendAnalysis();case"recommendations":return this.getRecommendations();default:return Promise.resolve({success:!1,error:"Unknown type: ".concat(e)})}})),n=await Promise.allSettled(t),r=n.filter((e=>"fulfilled"===e.status&&e.value.success)).map((e=>e.value.data)),i=n.filter((e=>"rejected"===e.status||!e.value.success)).map((e=>e.reason||e.value.error));if(0===r.length)return{success:!1,error:"All analysis requests failed",details:i,timestamp:(new Date).toISOString()};return{success:!0,data:this.mergeAnalysisResults(r,e),partial:i.length>0,failed_types:i,timestamp:(new Date).toISOString()}}catch(t){return console.error("\u274c Error getting multiple AI analyses:",t),{success:!1,error:t.message||"Failed to get multiple AI analyses",timestamp:(new Date).toISOString()}}}mergeAnalysisResults(e,t){const n={summary:"",key_insights:[],recommendations:[],trends:[],performance:null,details:{},type:"comprehensive",metadata:{generated_at:(new Date).toISOString(),model_used:"DeepSeek AI",analysis_types:t,confidence:.85}};return e.forEach((e=>{e.summary&&(n.summary+=(n.summary?"\n\n":"")+e.summary),e.key_insights&&Array.isArray(e.key_insights)&&n.key_insights.push(...e.key_insights),e.recommendations&&Array.isArray(e.recommendations)&&n.recommendations.push(...e.recommendations),e.trends&&Array.isArray(e.trends)&&n.trends.push(...e.trends),e.performance&&(n.performance=e.performance),e.details&&(n.details[e.type||"unknown"]=e.details)})),n.key_insights=[...new Set(n.key_insights.filter((e=>e&&e.trim())))],n.recommendations=[...new Set(n.recommendations.filter((e=>e&&e.trim())))],n}};const w0=()=>{const e=zs("white","gray.700"),n=hb(),r=zs("green.50","green.900"),i=zs("blue.50","blue.900"),o=zs("purple.50","purple.900"),a=zs("gray.50","gray.700"),[s,l]=(0,t.useState)("30d"),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),v=async()=>{try{var e,t,r,i,o;d(!0),h(null),console.log("Analytics: Fetching dashboard analytics...");const c=await l0.getDashboardAnalytics();if(console.log("Analytics: Received result:",c),console.log("Analytics: Overall metrics:",c.overall),console.log("Analytics: Room data:",{totalRooms:null===(e=c.overall)||void 0===e?void 0:e.totalRooms,availableRooms:null===(t=c.overall)||void 0===t?void 0:t.availableRooms,occupiedRooms:(null===(r=c.overall)||void 0===r?void 0:r.totalRooms)-(null===(i=c.overall)||void 0===i?void 0:i.availableRooms),occupancyRate:(null===(o=c.overall)||void 0===o?void 0:o.totalRooms)>0?((c.overall.totalRooms-c.overall.availableRooms)/c.overall.totalRooms*100).toFixed(1):0}),c.success){var a,s,l;if(f(c),c.errors&&Object.values(c.errors).some((e=>null!==e))){const e=Object.values(c.errors).filter(Boolean);e.length>0&&(console.warn("Analytics: Some data failed to load:",e),n({title:"Some data failed to load",description:"Main metrics loaded successfully, but some details may be missing.",status:"warning",duration:5e3,isClosable:!0}))}(null===(a=c.overall)||void 0===a?void 0:a.totalRooms)>0&&(null===(s=c.overall)||void 0===s?void 0:s.availableRooms)!==(null===(l=c.overall)||void 0===l?void 0:l.totalRooms)&&n({title:"Analytics Updated",description:"Room occupancy data has been verified and corrected for accuracy.",status:"success",duration:4e3,isClosable:!0})}else h(c.error),n({title:"Failed to load analytics",description:c.error,status:"error",duration:5e3,isClosable:!0})}catch(Pee){console.error("Analytics fetch error:",Pee),h(Pee.message||"Failed to load analytics"),n({title:"Analytics Error",description:"Failed to load analytics data. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}};(0,t.useEffect)((()=>{v()}),[s]);const y=async e=>{try{let t;if(g(!0),n({title:"Export Started",description:"Preparing ".concat(e," export..."),status:"info",duration:3e3,isClosable:!0}),"comprehensive"===e)t=await l0.exportComprehensive({period:s,includeCharts:!0,includeRecommendations:!0});else{let n="csv";e.includes("excel")||e.includes("xlsx")?n="excel":e.includes("pdf")&&(n="pdf"),t=await l0.exportAnalytics(n,{period:s,includeCharts:!0})}if(!t.success)throw new Error(t.error);{const r=document.createElement("a");r.href=t.url,r.download=t.fileName,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t.url);const i="comprehensive"===e&&t.dataPoints?"Comprehensive report exported with ".concat(t.dataPoints.overallMetrics," overall metrics, ").concat(t.dataPoints.monthlyTrends," monthly trends, ").concat(t.dataPoints.paymentMethods," payment methods, ").concat(t.dataPoints.kpis," KPIs, and ").concat(t.dataPoints.recommendations," recommendations."):"Analytics data exported successfully as ".concat(t.fileName);n({title:"Export Complete",description:i,status:"success",duration:7e3,isClosable:!0})}}catch(u){console.error("Export error:",u),n({title:"Export Failed",description:u.message||"Failed to export analytics data.",status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}},x=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.split(".").reduce(((e,t)=>e&&void 0!==e[t]?e[t]:n),e)};return u&&!p?(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(Eb,{p:6,children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Gagal memuat analitik"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:u}),(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"red",variant:"outline",onClick:v,children:"Coba Lagi"})]})]})})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(Eb,{p:6,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"center",children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"lg",children:"Dasbor Analitik"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Insight real-time performa Rusunawa Anda"})]}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsxs)(SQ,{value:s,onChange:e=>l(e.target.value),w:"150px",size:"sm",children:[(0,Xo.jsx)("option",{value:"7d",children:"7 Hari Terakhir"}),(0,Xo.jsx)("option",{value:"30d",children:"30 Hari Terakhir"}),(0,Xo.jsx)("option",{value:"90d",children:"3 Bulan Terakhir"}),(0,Xo.jsx)("option",{value:"1y",children:"1 Tahun Terakhir"})]}),(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Bj,leftIcon:(0,Xo.jsx)(y_,{}),rightIcon:(0,Xo.jsx)(h_,{}),colorScheme:"blue",variant:"outline",size:"sm",isLoading:m,children:"Ekspor"}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(y_,{}),onClick:()=>y("csv"),children:"Ekspor ke CSV"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(y_,{}),onClick:()=>y("excel"),children:"Ekspor ke Excel"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(y_,{}),onClick:()=>y("pdf"),children:"Ekspor ke PDF"}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(y_,{}),onClick:()=>y("comprehensive"),children:"Laporan Komprehensif"})]})]}),(0,Xo.jsx)(Bj,{colorScheme:"blue",size:"sm",onClick:async()=>{g(!0),await v(),g(!1),n({title:"Analytics Refreshed",description:"Data has been updated successfully.",status:"success",duration:3e3,isClosable:!0})},isLoading:m,loadingText:"Menyegarkan...",children:"Segarkan"})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2,lg:4},spacing:6,children:[(0,Xo.jsx)(x0,{title:"Total Pendapatan",value:x(p,"overall.totalRevenue",0),icon:v_,trend:x(p,"trends.monthlyGrowth"),colorScheme:"green",loading:c,error:x(p,"errors.overallError"),tooltip:"Total pendapatan dari semua pembayaran terverifikasi",formatter:e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}),(0,Xo.jsx)(x0,{title:"Total Booking",value:x(p,"overall.totalBookings",0),icon:l_,trend:x(p,"trends.bookingsGrowth"),colorScheme:"blue",loading:c,error:x(p,"errors.overallError"),tooltip:"Jumlah total booking di sistem"}),(0,Xo.jsx)(x0,{title:"Booking Aktif",value:x(p,"overall.activeBookings",0),icon:tA,colorScheme:"teal",loading:c,error:x(p,"errors.overallError"),tooltip:"Booking yang sedang aktif dan disetujui"}),(0,Xo.jsx)(x0,{title:"Kamar Tersedia",value:x(p,"overall.availableRooms",0),icon:__,colorScheme:"purple",loading:c,error:x(p,"errors.overallError"),tooltip:"Kamar yang tersedia untuk booking. ".concat(x(p,"overall.totalRooms",0)===x(p,"overall.availableRooms",0)?"Data telah diverifikasi untuk akurasi.":"Menggunakan data real-time dari sistem.")})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2,lg:4},spacing:6,children:[(0,Xo.jsx)(x0,{title:"Pembayaran Terverifikasi",value:x(p,"overall.verifiedPayments",0),icon:d_,colorScheme:"green",loading:c,error:x(p,"errors.overallError"),tooltip:"Jumlah pembayaran yang sudah diverifikasi dan selesai"}),(0,Xo.jsx)(x0,{title:"Pembayaran Pending",value:x(p,"overall.pendingPayments",0),icon:m_,colorScheme:"orange",loading:c,error:x(p,"errors.overallError"),tooltip:"Pembayaran yang menunggu verifikasi",badge:x(p,"overall.pendingPayments",0)>0?{text:"Perlu Tindakan",colorScheme:"orange"}:null}),(0,Xo.jsx)(x0,{title:"Total Kamar",value:x(p,"overall.totalRooms",0),icon:fA,colorScheme:"gray",loading:c,error:x(p,"errors.overallError"),tooltip:"Jumlah kamar di sistem"}),(0,Xo.jsx)(x0,{title:"Pendapatan Harian",value:x(p,"daily.dailyRevenue",0),icon:v_,colorScheme:"cyan",loading:c,error:x(p,"errors.dailyError"),tooltip:"Pendapatan yang dihasilkan hari ini",formatter:e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)})]}),(0,Xo.jsx)(ew,{}),"          ",(0,Xo.jsxs)(IQ,{columns:{base:1,lg:2},spacing:6,children:[(0,Xo.jsx)(j0,{data:p,loading:c,error:u,title:"Ringkasan Performa",period:"Bulan Ini"}),(0,Xo.jsx)(b0,{data:x(p,"revenueByMethod",[]),loading:c,error:x(p,"errors.revenueError"),title:"Pendapatan per Metode Pembayaran"})]}),"          ",(0,Xo.jsx)(Vb,{bg:e,children:(0,Xo.jsxs)(Kb,{children:["              ",(0,Xo.jsxs)(YQ,{variant:"enclosed",colorScheme:"blue",children:["                ",(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Ringkasan Bulanan"}),(0,Xo.jsx)(JQ,{children:"Detail Harian"}),(0,Xo.jsx)(JQ,{children:"Kesehatan Sistem"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:c?(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(FS,{height:"20px",width:"200px"}),(0,Xo.jsx)(IQ,{columns:{base:1,md:3},spacing:4,w:"full",children:[1,2,3].map((e=>(0,Xo.jsx)(FS,{height:"100px"},e)))})]}):x(p,"monthly")?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"semibold",children:["Performa ",(new Date).toLocaleDateString("id-ID",{month:"long",year:"numeric"})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:6,children:[(0,Xo.jsxs)(Pb,{spacing:2,p:4,bg:r,borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"green.600",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(x(p,"monthly.monthlyRevenue",0))}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Pendapatan Bulanan"})]}),(0,Xo.jsxs)(Pb,{spacing:2,p:4,bg:i,borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"blue.600",children:x(p,"monthly.monthlyBookings",0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Booking Bulanan"})]}),(0,Xo.jsxs)(Pb,{spacing:2,p:4,bg:o,borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"purple.600",children:x(p,"monthly.monthlyPayments",0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Pembayaran Bulanan"})]})]})]}):(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Data bulanan tidak tersedia"]})})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:c?(0,Xo.jsx)(FS,{height:"200px"}):x(p,"daily")?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"semibold",children:["Performa Hari Ini - ",(new Date).toLocaleDateString("id-ID")]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:6,children:[(0,Xo.jsxs)(dS,{spacing:4,p:4,bg:a,borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:v_,w:8,h:8,color:"green.500"}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(x(p,"daily.dailyRevenue",0))}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Pendapatan Hari Ini"})]})]}),(0,Xo.jsxs)(dS,{spacing:4,p:4,bg:a,borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:l_,w:8,h:8,color:"blue.500"}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:x(p,"daily.dailyBookings",0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Booking Hari Ini"})]})]}),(0,Xo.jsxs)(dS,{spacing:4,p:4,bg:a,borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:g_,w:8,h:8,color:"purple.500"}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:x(p,"daily.dailyPayments",0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Pembayaran Hari Ini"})]})]})]})]}):(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Data harian tidak tersedia untuk hari ini"]})})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",children:"Ringkasan Kesehatan Sistem"}),c?(0,Xo.jsx)(FS,{height:"150px"}):(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"medium",children:"Utilisasi Kamar"}),(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Kamar Terisi"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:x(p,"overall.totalRooms",0)-x(p,"overall.availableRooms",0)})]}),(0,Xo.jsx)(a0,{value:x(p,"overall.totalRooms",0)>0?(x(p,"overall.totalRooms",0)-x(p,"overall.availableRooms",0))/x(p,"overall.totalRooms",0)*100:0,colorScheme:"blue",size:"lg",borderRadius:"full"}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Tersedia: ",x(p,"overall.availableRooms",0)]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Total: ",x(p,"overall.totalRooms",0)]})]})]})]}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"medium",children:"Kesehatan Pembayaran"}),(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Rasio Pembayaran Berhasil"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"semibold",children:[x(p,"overall.verifiedPayments",0)+x(p,"overall.pendingPayments",0)>0?(x(p,"overall.verifiedPayments",0)/(x(p,"overall.verifiedPayments",0)+x(p,"overall.pendingPayments",0))*100).toFixed(1):0,"%"]})]}),(0,Xo.jsx)(a0,{value:x(p,"overall.verifiedPayments",0)+x(p,"overall.pendingPayments",0)>0?x(p,"overall.verifiedPayments",0)/(x(p,"overall.verifiedPayments",0)+x(p,"overall.pendingPayments",0))*100:0,colorScheme:"green",size:"lg",borderRadius:"full"}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Pending: ",x(p,"overall.pendingPayments",0)]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Terverifikasi: ",x(p,"overall.verifiedPayments",0)]})]})]})]})]}),x(p,"overall.pendingPayments",0)>0&&(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Perhatian Diperlukan"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Ada ",x(p,"overall.pendingPayments",0)," pembayaran pending yang perlu diverifikasi."]})]})]}),"                    "]})})]})]})]})})]})})})},k0=["className","layout"],[S0,_0]=Nc({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),A0=Dv(((e,t)=>{const n=Gv("Table",e),r=Ov(e),{className:i,layout:a}=r,s=Jo(r,k0);return(0,Xo.jsx)(S0,{value:n,children:(0,Xo.jsx)(Tv.table,(0,o.A)({ref:t,__css:(0,o.A)({tableLayout:a},n.table),className:Lv("chakra-table",i)},s))})}));A0.displayName="Table";const C0=Dv(((e,t)=>{const n=_0();return(0,Xo.jsx)(Tv.thead,(0,o.A)((0,o.A)({},e),{},{ref:t,__css:n.thead}))})),P0=Dv(((e,t)=>{const n=_0();return(0,Xo.jsx)(Tv.tr,(0,o.A)((0,o.A)({},e),{},{ref:t,__css:n.tr}))})),I0=["isNumeric"],T0=Dv(((e,t)=>{let{isNumeric:n}=e,r=Jo(e,I0);const i=_0();return(0,Xo.jsx)(Tv.th,(0,o.A)((0,o.A)({},r),{},{ref:t,__css:i.th,"data-is-numeric":n}))})),N0=Dv(((e,t)=>{const n=_0();return(0,Xo.jsx)(Tv.tbody,(0,o.A)((0,o.A)({},e),{},{ref:t,__css:n.tbody}))})),E0=["isNumeric"],z0=Dv(((e,t)=>{let{isNumeric:n}=e,r=Jo(e,E0);const i=_0();return(0,Xo.jsx)(Tv.td,(0,o.A)((0,o.A)({},r),{},{ref:t,__css:i.td,"data-is-numeric":n}))})),O0=["unmountOnExit","in","reverse","className","offsetX","offsetY","transition","transitionEnd","delay","animatePresenceProps"],L0={initial:e=>{var t;let{offsetX:n,offsetY:r,transition:i,transitionEnd:o,delay:a}=e;return{opacity:0,x:n,y:r,transition:null!==(t=null===i||void 0===i?void 0:i.exit)&&void 0!==t?t:dJ(lJ.exit,a),transitionEnd:null===o||void 0===o?void 0:o.exit}},enter:e=>{var t;let{transition:n,transitionEnd:r,delay:i}=e;return{opacity:1,x:0,y:0,transition:null!==(t=null===n||void 0===n?void 0:n.enter)&&void 0!==t?t:cJ(lJ.enter,i),transitionEnd:null===r||void 0===r?void 0:r.enter}},exit:e=>{var t;let{offsetY:n,offsetX:r,transition:i,transitionEnd:a,reverse:s,delay:l}=e;const c={x:r,y:n};return(0,o.A)({opacity:0,transition:null!==(t=null===i||void 0===i?void 0:i.exit)&&void 0!==t?t:dJ(lJ.exit,l)},s?(0,o.A)((0,o.A)({},c),{},{transitionEnd:null===a||void 0===a?void 0:a.exit}):{transitionEnd:(0,o.A)((0,o.A)({},c),null===a||void 0===a?void 0:a.exit)})}},D0={initial:"initial",animate:"enter",exit:"exit",variants:L0},R0=(0,t.forwardRef)((function(e,t){const{unmountOnExit:n,in:r,reverse:i=!0,className:a,offsetX:s=0,offsetY:l=8,transition:c,transitionEnd:d,delay:u,animatePresenceProps:h}=e,p=Jo(e,O0),f=!n||r&&n,m=r||n?"enter":"exit",g={offsetX:s,offsetY:l,reverse:i,transition:c,transitionEnd:d,delay:u};return(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},h),{},{custom:g,children:f&&(0,Xo.jsx)(sv.div,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-offset-slide",a),custom:g},D0),{},{animate:m},p))}))}));R0.displayName="SlideFade";const M0=["unmountOnExit","in","reverse","initialScale","className","transition","transitionEnd","delay","animatePresenceProps"],B0={exit:e=>{var t;let{reverse:n,initialScale:r,transition:i,transitionEnd:a,delay:s}=e;return(0,o.A)((0,o.A)({opacity:0},n?{scale:r,transitionEnd:null===a||void 0===a?void 0:a.exit}:{transitionEnd:(0,o.A)({scale:r},null===a||void 0===a?void 0:a.exit)}),{},{transition:null!==(t=null===i||void 0===i?void 0:i.exit)&&void 0!==t?t:dJ(lJ.exit,s)})},enter:e=>{var t;let{transitionEnd:n,transition:r,delay:i}=e;return{opacity:1,scale:1,transition:null!==(t=null===r||void 0===r?void 0:r.enter)&&void 0!==t?t:cJ(lJ.enter,i),transitionEnd:null===n||void 0===n?void 0:n.enter}}},F0={initial:"exit",animate:"enter",exit:"exit",variants:B0},W0=(0,t.forwardRef)((function(e,t){const{unmountOnExit:n,in:r,reverse:i=!0,initialScale:a=.95,className:s,transition:l,transitionEnd:c,delay:d,animatePresenceProps:u}=e,h=Jo(e,M0),p=!n||r&&n,f=r||n?"enter":"exit",m={initialScale:a,reverse:i,transition:l,transitionEnd:c,delay:d};return(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},u),{},{custom:m,children:p&&(0,Xo.jsx)(sv.div,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-offset-slide",s)},F0),{},{animate:f,custom:m},h))}))}));W0.displayName="ScaleFade";const U0=["preset","motionProps"],q0={slideInBottom:(0,o.A)((0,o.A)({},D0),{},{custom:{offsetY:16,reverse:!0}}),slideInRight:(0,o.A)((0,o.A)({},D0),{},{custom:{offsetX:16,reverse:!0}}),slideInTop:(0,o.A)((0,o.A)({},D0),{},{custom:{offsetY:-16,reverse:!0}}),slideInLeft:(0,o.A)((0,o.A)({},D0),{},{custom:{offsetX:-16,reverse:!0}}),scale:(0,o.A)((0,o.A)({},F0),{},{custom:{initialScale:.95,reverse:!0}}),none:{}},H0=Tv(sv.section),V0=e=>q0[e||"none"],G0=(0,t.forwardRef)(((e,t)=>{const{preset:n,motionProps:r=V0(n)}=e,i=Jo(e,U0);return(0,Xo.jsx)(H0,(0,o.A)((0,o.A)({ref:t},r),i))}));G0.displayName="ModalTransition";const K0=["className","children","containerProps","motionProps"],Y0=Dv(((e,t)=>{const{className:n,children:r,containerProps:i,motionProps:a}=e,s=Jo(e,K0),{getDialogProps:l,getDialogContainerProps:c}=ZZ(),d=l(s,t),u=c(i),h=Lv("chakra-modal__content",n),p=KZ(),f=(0,o.A)({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0},p.dialog),m=(0,o.A)({display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0},p.dialogContainer),{motionPreset:g}=ZZ();return(0,Xo.jsx)($$,{children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},u),{},{className:"chakra-modal__content-container",tabIndex:-1,__css:m,children:(0,Xo.jsx)(G0,(0,o.A)((0,o.A)({preset:g,motionProps:a,className:h},d),{},{__css:f,children:r}))}))})}));Y0.displayName="ModalContent";const Z0=["className"],J0=Dv(((e,n)=>{const{className:r}=e,i=Jo(e,Z0),{headerId:a,setHeaderMounted:s}=ZZ();(0,t.useEffect)((()=>(s(!0),()=>s(!1))),[s]);const l=Lv("chakra-modal__header",r),c=KZ(),d=(0,o.A)({flex:0},c.header);return(0,Xo.jsx)(Tv.header,(0,o.A)((0,o.A)({ref:n,className:l,id:a},i),{},{__css:d}))}));J0.displayName="ModalHeader";const X0=["className"],$0=Dv(((e,n)=>{const{className:r}=e,i=Jo(e,X0),{bodyId:a,setBodyMounted:s}=ZZ();(0,t.useEffect)((()=>(s(!0),()=>s(!1))),[s]);const l=Lv("chakra-modal__body",r),c=KZ();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:n,className:l,id:a},i),{},{__css:c.body}))}));$0.displayName="ModalBody";const Q0={getTenants:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/tenants",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch tenants")}},getTenantById:async e=>{try{return(await pb.default.get("/tenants/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch tenant details")}},updateTenant:async(e,t)=>{try{return(await pb.default.put("/tenants/".concat(e),t)).data}catch(n){throw new Error(n.message||"Failed to update tenant")}},deleteTenant:async e=>{try{return(await pb.default.delete("/tenants/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to delete tenant")}},getTenantsByType:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/by-type/".concat(e),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenants by type")}},updateTenantLocation:async(e,t)=>{try{return(await pb.default.put("/tenants/".concat(e,"/location"),t)).data}catch(n){throw new Error(n.message||"Failed to update tenant location")}},getTenantPaymentHistory:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/payments"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant payment history")}},getTenantBookings:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/bookings"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant bookings")}},getTenantDocuments:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/documents"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant documents")}},validateStudentInfo:async(e,t)=>{try{return(await pb.default.post("/tenants/".concat(e,"/validate-student"),t)).data}catch(n){throw new Error(n.message||"Failed to validate student information")}},getWaitingList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/waiting-list",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch waiting list")}},removeFromWaitingList:async e=>{try{return(await pb.default.delete("/waiting-list/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to remove from waiting list")}},updateTenantNIM:async(e,t)=>{try{return(await pb.default.put("/tenants/".concat(e,"/nim"),t)).data}catch(n){throw new Error(n.message||"Failed to update tenant NIM")}},recalculateDistance:async e=>{try{return(await pb.default.post("/tenants/".concat(e,"/recalculate-distance"))).data}catch(t){throw new Error(t.message||"Failed to recalculate distance")}},getTenantInvoices:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/invoices"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant invoices")}},getTenantTypes:async()=>{try{return(await pb.default.get("/tenant-types")).data}catch(e){throw new Error(e.message||"Failed to fetch tenant types")}}},e1={getAllDocuments:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.documentType&&t.append("document_type",e.documentType),e.tenantId&&t.append("tenant_id",e.tenantId),e.sortBy&&t.append("sort_by",e.sortBy),e.sortOrder&&t.append("sort_order",e.sortOrder),e.dateFrom&&t.append("date_from",e.dateFrom),e.dateTo&&t.append("date_to",e.dateTo);return(await pb.default.get("/documents/all?".concat(t.toString()))).data}catch(t){throw console.error("Error fetching documents:",t),t}},reviewDocument:async(e,t)=>{try{const n={reviewerId:t.reviewerId,approved:t.approved,notes:t.notes||"",reviewedAt:(new Date).toISOString()};return(await pb.default.post("/documents/".concat(e,"/review"),n)).data}catch(n){throw console.error("Error reviewing document:",n),n}},getDocumentImage:async e=>{try{return(await pb.default.get("/documents/".concat(e,"/image"))).data}catch(t){throw console.error("Error fetching document image:",t),t}},getTenantDocuments:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/documents"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant documents")}},getTenantDocumentsWithContent:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.page&&n.append("page",t.page),t.limit&&n.append("limit",t.limit),t.documentType&&n.append("document_type",t.documentType);return(await pb.default.get("/tenants/".concat(e,"/documents?").concat(n.toString()))).data}catch(n){throw console.error("Error fetching tenant documents with content:",n),n}},getTenantDetails:async e=>{try{return(await pb.default.get("/tenants/".concat(e))).data}catch(t){throw console.error("Error fetching tenant details:",t),t}},getDocumentById:async e=>{try{return(await pb.default.get("/documents/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch document details")}},uploadDocument:async(e,t,n)=>{try{const r=new FormData;Object.keys(t).forEach((e=>{r.append(e,t[e])})),r.append("file",n);return(await pb.default.post("/tenants/".concat(e,"/documents"),r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.message||"Failed to upload document")}},approveDocument:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return(await pb.default.post("/documents/".concat(e,"/approve"),{approverId:t,approved:!0,comment:n})).data}catch(r){if(r.response&&r.response.data)return r.response.data;throw new Error(r.message||"Failed to approve document")}},rejectDocument:async(e,t)=>{try{return(await pb.default.post("/documents/".concat(e,"/reject"),t)).data}catch(n){if(n.response&&n.response.data)return n.response.data;throw new Error(n.message||"Failed to reject document")}},verifyDocument:async(e,t)=>{try{return(await pb.default.post("/documents/".concat(e,"/verify"),t)).data}catch(n){if(n.response&&n.response.data)return n.response.data;throw new Error(n.message||"Failed to verify document")}},downloadDocument:async e=>{try{return(await pb.default.get("/documents/".concat(e,"/download"),{responseType:"blob"})).data}catch(t){throw new Error(t.message||"Failed to download document")}},getDocumentTypes:async()=>{try{return(await pb.default.get("/document-types")).data}catch(e){throw new Error(e.message||"Failed to fetch document types")}},getPendingDocuments:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/documents/pending",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch pending documents")}},getDocumentsByStatus:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/documents/by-status/".concat(e),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch documents by status")}},batchApproveDocuments:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return(await pb.default.post("/documents/batch-approve",{document_ids:e,comment:t})).data}catch(n){throw new Error(n.message||"Failed to batch approve documents")}},getDocumentVerification:async e=>{try{return(await pb.default.get("/documents/".concat(e,"/verify"))).data}catch(t){throw new Error(t.message||"Failed to fetch document verification")}}},t1=e1,n1={getBookings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/bookings",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch bookings")}},getAllBookings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n1.getBookings(e)},getBookingById:async e=>{try{return(await pb.default.get("/bookings/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch booking details")}},getBookingDetails:async e=>n1.getBookingById(e),createBooking:async e=>{try{return(await pb.default.post("/bookings",e)).data}catch(t){throw new Error(t.message||"Failed to create booking")}},updateBooking:async(e,t)=>{try{return(await pb.default.put("/bookings/".concat(e),t)).data}catch(n){throw new Error(n.message||"Failed to update booking")}},updateBookingStatus:async(e,t)=>{try{return(await pb.default.put("/bookings/".concat(e,"/status"),t)).data}catch(n){throw new Error(n.message||"Failed to update booking status")}},approveBooking:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return(await pb.default.post("/bookings/".concat(e,"/approve"),{approverId:t,approved:!0,comments:n})).data}catch(r){if(r.response&&r.response.data)return r.response.data;throw new Error(r.message||"Failed to approve booking")}},rejectBooking:async(e,t,n)=>{try{return(await pb.default.post("/bookings/".concat(e,"/approve"),{approverId:t,approved:!1,comments:n})).data}catch(r){if(r.response&&r.response.data)return r.response.data;throw new Error(r.message||"Failed to reject booking")}},cancelBooking:async(e,t)=>{try{return(await pb.default.post("/bookings/".concat(e,"/cancel"),t)).data}catch(n){throw new Error(n.message||"Failed to cancel booking")}},getPendingBookings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/bookings/pending",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch pending bookings")}},getBookingCalendar:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/bookings/calendar",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch booking calendar")}},getBookingStats:async()=>{try{console.log("\ud83d\udcca Getting booking statistics from bookings data...");const e=(await pb.default.get("/bookings")).data.bookings||[],t=e.reduce(((e,t)=>{var n;switch(e.total++,null===(n=t.status)||void 0===n?void 0:n.toLowerCase()){case"pending":case"pending_approval":e.pending++;break;case"approved":case"active":e.approved++;break;case"rejected":case"cancelled":e.rejected++;break;default:console.warn("Unknown booking status:",t.status)}return e}),{total:0,pending:0,approved:0,rejected:0,active:0});return t.active=e.filter((e=>{var t,n;return"approved"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"active"===(null===(n=e.status)||void 0===n?void 0:n.toLowerCase())})).length,console.log("\ud83d\udcca Calculated booking statistics:",t),{success:!0,data:t}}catch(e){return console.error("\u274c Failed to get booking statistics:",e),{success:!1,error:e.message,data:{total:0,pending:0,approved:0,rejected:0,active:0}}}},getBookingPaymentStatus:async e=>{try{return(await pb.default.get("/bookings/".concat(e,"/payment-status"))).data}catch(t){throw new Error(t.message||"Failed to fetch booking payment status")}},generateBookingInvoice:async e=>{try{return(await pb.default.post("/bookings/".concat(e,"/invoice"))).data}catch(t){throw new Error(t.message||"Failed to generate booking invoice")}},getBookingDocuments:async e=>{try{return(await pb.default.get("/bookings/".concat(e,"/documents"))).data||{data:[]}}catch(t){return console.warn("Booking documents not available:",t.message),{data:[]}}},getBookingPayments:async e=>{try{return(await pb.default.get("/bookings/".concat(e,"/payments"))).data||{data:[]}}catch(t){return console.warn("Booking payments not available:",t.message),{data:[]}}},getBookingComments:async e=>{try{return(await pb.default.get("/bookings/".concat(e,"/comments"))).data||{data:[]}}catch(t){return console.warn("Booking comments not available:",t.message),{data:[]}}},addBookingComment:async(e,t)=>{try{return(await pb.default.post("/bookings/".concat(e,"/comments"),t)).data}catch(n){throw new Error(n.message||"Failed to add booking comment")}},exportBookings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/bookings/export",{params:e,responseType:"blob"})).data}catch(t){throw new Error(t.message||"Failed to export bookings")}}},r1=n1,i1={getPayments:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{console.log("PaymentService: Making request with params:",e);const t=Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&null!==e[n]&&""!==e[n]&&(t[n]=e[n]),t)),{});console.log("PaymentService: Clean params:",t);const n=await pb.default.get("/payments",{params:t});return console.log("PaymentService: API response:",n),n.data}catch(o){var t,n,r,i;throw console.error("PaymentService: Error details:",(null===(t=o.response)||void 0===t?void 0:t.data)||o),new Error((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.status)||void 0===i?void 0:i.message)||o.message||"Failed to fetch payments")}},getPaymentById:async e=>{try{var t;const n=await pb.default.get("/payments/".concat(e));if(null!==(t=n.data.payment)&&void 0!==t&&t.bookingId)try{const e=await pb.default.get("/bookings/".concat(n.data.payment.bookingId));n.data.payment.booking=e.data.booking}catch(o){console.warn("Could not fetch booking details:",o.message)}return n.data}catch(a){var n,r,i;throw new Error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.status)||void 0===i?void 0:i.message)||a.message||"Failed to fetch payment details")}},getPaymentsByTenant:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/payments"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant payments")}},getPaymentsByBooking:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/bookings/".concat(e,"/payments"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch booking payments")}},verifyPayment:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n={verifierId:t.verifierId||1,approved:Boolean(t.approved),verificationNotes:t.verificationNotes||"",verifiedAt:t.verifiedAt||(new Date).toISOString()};console.log("Sending verification payload:",n);return(await pb.default.post("/payments/".concat(e,"/verify"),n)).data}catch(a){var n,r,i,o;if(console.error("Payment verification error:",(null===(n=a.response)||void 0===n?void 0:n.data)||a),a.response&&a.response.data)return a.response.data;throw new Error((null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.message)||a.message||"Failed to verify payment")}},rejectPayment:async(e,t)=>{try{return await i1.verifyPayment(e,{verifierId:t.verifierId||1,approved:!1,verificationNotes:t.reason||t.verificationNotes||"",verifiedAt:(new Date).toISOString()})}catch(n){throw new Error(n.message||"Failed to reject payment")}},createManualPayment:async e=>{try{return(await pb.default.post("/payments/manual",e)).data}catch(t){throw new Error(t.message||"Failed to create manual payment")}},uploadPaymentProof:async(e,t)=>{try{const n=new FormData;n.append("proof",t);return(await pb.default.post("/payments/".concat(e,"/proof"),n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw new Error(n.message||"Failed to upload payment proof")}},getInvoices:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/invoices",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch invoices")}},getInvoiceById:async e=>{try{return(await pb.default.get("/invoices/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch invoice details")}},generatePaymentReport:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/reports/payments",{params:e,responseType:"blob"})).data}catch(t){throw new Error(t.message||"Failed to generate payment report")}},getPaymentStatistics:async()=>{try{var e;const t=await pb.default.get("/payments"),n=((null===(e=t.data)||void 0===e?void 0:e.payments)||[]).reduce(((e,t)=>{var n;const r=t.amount||0;switch(e.total_count++,e.total_amount+=r,null===(n=t.status)||void 0===n?void 0:n.toLowerCase()){case"verified":e.verified_count++,e.verified_amount+=r;break;case"pending":e.pending_count++,e.pending_amount+=r;break;case"rejected":e.rejected_count++,e.rejected_amount+=r}return e}),{total_amount:0,verified_amount:0,pending_amount:0,rejected_amount:0,total_count:0,verified_count:0,pending_count:0,rejected_count:0});return console.log("Calculated payment statistics:",n),n}catch(t){return console.error("Failed to fetch payment statistics:",t),{total_amount:0,verified_amount:0,pending_amount:0,rejected_amount:0,total_count:0,verified_count:0,pending_count:0,rejected_count:0}}},verifyManualPayment:async(e,t)=>i1.verifyPayment(e,t)},o1=i1,a1=e=>{switch(e){case"active":case"approved":case"paid":return"green";case"pending":return"yellow";case"inactive":default:return"gray";case"suspended":case"rejected":case"unpaid":return"red";case"verified":return"blue"}},s1=e=>{switch(e){case"active":return"Aktif";case"pending":return"Menunggu";case"inactive":return"Tidak Aktif";case"suspended":return"Ditangguhkan";case"verified":return"Terverifikasi";case"approved":return"Disetujui";case"rejected":return"Ditolak";case"paid":return"Lunas";case"unpaid":return"Belum Lunas";default:return e}},l1=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"N/A",c1=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),d1=e=>{var t,n;let{isOpen:r,onClose:i,document:o}=e;const a=(null===o||void 0===o?void 0:o.isImage)||(null===o||void 0===o||null===(t=o.fileType)||void 0===t?void 0:t.startsWith("image/")),s=(null===o||void 0===o||null===(n=o.documentType)||void 0===n?void 0:n.name)||(null===o||void 0===o?void 0:o.documentTypeName)||"Unknown";return(0,Xo.jsxs)(JZ,{isOpen:r,onClose:i,size:"6xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:w_}),(0,Xo.jsx)(Tb,{children:s}),(0,Xo.jsx)(r_,{colorScheme:"blue",children:(null===o||void 0===o?void 0:o.fileType)||"Unknown"})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[a&&(null===o||void 0===o?void 0:o.content)&&(0,Xo.jsx)(Eb,{textAlign:"center",children:(0,Xo.jsx)(Bb,{src:null!==o&&void 0!==o&&o.content?"data:".concat(o.fileType,";base64,").concat(o.content):(null===o||void 0===o?void 0:o.fileUrl)||(null===o||void 0===o?void 0:o.thumbnailUrl),alt:null===o||void 0===o?void 0:o.fileName,maxW:"100%",maxH:"70vh",objectFit:"contain",borderRadius:"md",border:"1px solid",borderColor:"gray.200"})}),!a&&(0,Xo.jsxs)(Eb,{textAlign:"center",py:8,bg:"gray.50",borderRadius:"md",p:6,children:[(0,Xo.jsx)(Zv,{as:w_,boxSize:16,color:"gray.400",mb:4}),(0,Xo.jsx)(Wb,{size:"md",mb:2,color:"gray.700",children:"Pratinjau tidak tersedia untuk tipe file ini"}),(0,Xo.jsxs)(Tb,{color:"gray.600",mb:4,children:['Dokumen "',(null===o||void 0===o?void 0:o.fileName)||s,'" tidak dapat dipratinjau di browser.']}),(0,Xo.jsxs)(Pb,{spacing:1,align:"center",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:[(0,Xo.jsx)("strong",{children:"Tipe File:"})," ",(null===o||void 0===o?void 0:o.fileType)||"Unknown"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:[(0,Xo.jsx)("strong",{children:"Ukuran:"})," ",null!==o&&void 0!==o&&o.fileSize?"".concat((o.fileSize/1024).toFixed(1)," KB"):"Unknown"]})]}),(0,Xo.jsx)(Bj,{mt:4,leftIcon:(0,Xo.jsx)(y_,{}),colorScheme:"blue",size:"sm",onClick:()=>{if(null!==o&&void 0!==o&&o.content){const e=o.createElement("a");e.href="data:".concat(o.fileType,";base64,").concat(o.content),e.download=o.fileName,e.click()}},children:"Unduh Dokumen"})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Wb,{size:"sm",children:"Detail Dokumen"}),(0,Xo.jsx)(r_,{colorScheme:a1(null===o||void 0===o?void 0:o.status),px:3,py:1,borderRadius:"full",children:(null===o||void 0===o?void 0:o.status)||"Unknown"})]}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Nama File:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===o||void 0===o?void 0:o.fileName)||"Unknown"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Tipe Dokumen:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:s})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Diunggah:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:l1(null===o||void 0===o?void 0:o.uploadedAt)||"Unknown"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Status:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===o||void 0===o?void 0:o.status)||"Unknown"})]}),(null===o||void 0===o?void 0:o.notes)&&(0,Xo.jsxs)(Eb,{gridColumn:"span 2",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Catatan:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",whiteSpace:"pre-wrap",children:o.notes})]}),(null===o||void 0===o?void 0:o.approverName)&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Disetujui Oleh:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:o.approverName})]}),(null===o||void 0===o?void 0:o.approvedAt)&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Disetujui Pada:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:l1(o.approvedAt)})]})]})]})]})})]})]})},u1=e=>{var n,r,i,o,a,s,l,c,d,u,h,p,f,m;let{isOpen:g,onClose:v,tenant:y,onUpdate:x}=e;const[b,j]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[S,_]=(0,t.useState)([]),[A,C]=(0,t.useState)([]),[P,I]=(0,t.useState)([]),[T,N]=(0,t.useState)([]),[E,z]=(0,t.useState)(null),{isOpen:O,onOpen:L,onClose:D}=GG();(0,t.useEffect)((()=>{var e,t,n,r;y&&g&&(console.log("TenantDetailModal - Received tenant data:",y),console.log("TenantDetailModal - Tenant has invoices:",(null===(e=y.invoices)||void 0===e?void 0:e.length)||0),console.log("TenantDetailModal - Tenant has payments:",(null===(t=y.payments)||void 0===t?void 0:t.length)||0),console.log("TenantDetailModal - Tenant has bookings:",(null===(n=y.bookings)||void 0===n?void 0:n.length)||0),console.log("TenantDetailModal - Tenant has documents:",(null===(r=y.documents)||void 0===r?void 0:r.length)||0),R())}),[y,g]),(0,t.useEffect)((()=>{console.log("[DEBUG] Invoices state in TenantDetailModal:",P)}),[P]);const R=async()=>{const e=(null===y||void 0===y?void 0:y.tenant_id)||(null===y||void 0===y?void 0:y.tenantId)||(null===y||void 0===y?void 0:y.id);if(console.log("fetchTenantDetails - tenant object:",y),console.log("fetchTenantDetails - extracted tenantId:",e),e)try{j(!0);const[t,n,r,i,o]=await Promise.all([Q0.getTenantById(e),Q0.getTenantBookings(e),Q0.getTenantPaymentHistory(e),Q0.getTenantInvoices(e),Q0.getTenantDocuments(e)]);console.log("[DEBUG] tenantInvoices API response:",i),k(t),_(n.bookings||[]),C(r.payments||[]),I(i.invoices||[]),N(o.documents||[])}catch(t){console.error("Error fetching tenant details:",t)}finally{j(!1)}else console.error("No tenant ID found in tenant object:",y)},M=(0,t.useMemo)((()=>{console.log("=== CALCULATING INVOICE-BASED STATISTICS ==="),console.log("calculateStatistics - invoices array length:",(null===P||void 0===P?void 0:P.length)||0),console.log("calculateStatistics - invoices:",P),console.log("calculateStatistics - documents array length:",(null===T||void 0===T?void 0:T.length)||0);let e=0,t=0,n=0;P&&P.length>0&&(P.forEach((n=>{const r=parseFloat(n.amount||n.totalAmount)||0;"paid"===n.status?e+=r:"unpaid"!==n.status&&"pending"!==n.status||(t+=r)})),n=P.length);const r={totalBookings:n,totalPayments:e,outstandingBalance:t,documentsSubmitted:(null===T||void 0===T?void 0:T.length)||0};return console.log("=== FINAL INVOICE-BASED STATISTICS ==="),console.log("Total Bookings (from invoices):",n),console.log("Total Payments (from paid invoices):",e),console.log("Outstanding Balance (from unpaid invoices):",t),console.log("Documents Submitted:",(null===T||void 0===T?void 0:T.length)||0),console.log("Calculated statistics object:",r),console.log("=== END STATISTICS ==="),r}),[P,T]),B=e=>{z(e),L()};return y?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(JZ,{isOpen:g,onClose:v,size:"6xl",scrollBehavior:"inside",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(xZ,{size:"md",name:y.name||(null===(n=y.user)||void 0===n?void 0:n.fullName),src:y.profile_picture}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"xl",fontWeight:"bold",children:y.name||(null===(r=y.user)||void 0===r?void 0:r.fullName)}),"                ",(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(r_,{colorScheme:a1(y.computed_status||y.status),children:y.computed_status||y.status}),(0,Xo.jsxs)(r_,{variant:"outline",children:["ID: ",y.tenant_id||y.tenantId]}),y.nim&&(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"outline",children:["NIM: ",y.nim]})]})]})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Ikhtisar Penyewa"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,children:[(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"blue.500",children:M.totalBookings}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Total Booking"})]}),(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:c1(M.totalPayments||0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Total Pembayaran"})]}),(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"red.500",children:c1(M.outstandingBalance||0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Saldo Terutang"})]}),(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:M.documentsSubmitted}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Dokumen Dikirim"})]})]})})]}),"              ",(0,Xo.jsxs)(YQ,{variant:"enclosed",colorScheme:"brand",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Info Pribadi"}),(0,Xo.jsxs)(JQ,{children:["Booking (",S.length,")"]}),(0,Xo.jsxs)(JQ,{children:["Pembayaran (",P.length,")"]}),(0,Xo.jsxs)(JQ,{children:["Dokumen (",T.length,")"]})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{px:0,children:b?(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(FS,{height:"100px"}),(0,Xo.jsx)(FS,{height:"100px"})]}):(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)"},gap:6,children:[(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:"Informasi Dasar"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:eA,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Nama:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===w||void 0===w||null===(i=w.user)||void 0===i?void 0:i.fullName)||(null===y||void 0===y||null===(o=y.user)||void 0===o?void 0:o.fullName)||(null===w||void 0===w?void 0:w.name)||y.name||"-"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:T_,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Email:"}),(0,Xo.jsx)(Tb,{children:(null===w||void 0===w||null===(a=w.user)||void 0===a?void 0:a.email)||(null===y||void 0===y||null===(s=y.user)||void 0===s?void 0:s.email)||(null===w||void 0===w?void 0:w.email)||y.email||"-"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:D_,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Telepon:"}),(0,Xo.jsx)(Tb,{children:(null===w||void 0===w?void 0:w.phone)||(null===y||void 0===y?void 0:y.phone)||"Tidak diberikan"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:l_,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Bergabung:"}),(0,Xo.jsx)(Tb,{children:l1((null===w||void 0===w?void 0:w.createdAt)||y.createdAt)})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:eA,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Jenis Kelamin:"}),(0,Xo.jsx)(Tb,{children:"P"===((null===w||void 0===w?void 0:w.gender)||(null===y||void 0===y?void 0:y.gender))?"Perempuan":"L"===((null===w||void 0===w?void 0:w.gender)||(null===y||void 0===y?void 0:y.gender))?"Laki-laki":(null===w||void 0===w?void 0:w.gender)||(null===y||void 0===y?void 0:y.gender)||"Tidak ditentukan"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:eA,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Tipe:"}),(0,Xo.jsx)(r_,{colorScheme:"mahasiswa"===((null===w||void 0===w||null===(l=w.tenantType)||void 0===l?void 0:l.name)||(null===y||void 0===y||null===(c=y.tenantType)||void 0===c?void 0:c.name))?"blue":"purple",children:"mahasiswa"===((null===w||void 0===w||null===(d=w.tenantType)||void 0===d?void 0:d.name)||(null===y||void 0===y||null===(u=y.tenantType)||void 0===u?void 0:u.name))?"Mahasiswa":"Non-Mahasiswa"})]}),((null===w||void 0===w?void 0:w.nim)||(null===y||void 0===y?void 0:y.nim))&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:w_,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"NIM:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"blue.600",children:(null===w||void 0===w?void 0:w.nim)||(null===y||void 0===y?void 0:y.nim)})]}),((null===w||void 0===w?void 0:w.jurusan)||(null===y||void 0===y?void 0:y.jurusan))&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:s_,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Jurusan:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"blue.600",children:(null===w||void 0===w?void 0:w.jurusan)||(null===y||void 0===y?void 0:y.jurusan)})]}),(void 0!==(null===w||void 0===w?void 0:w.isAfirmasi)||void 0!==(null===y||void 0===y?void 0:y.isAfirmasi))&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:o_,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Status:"}),(0,Xo.jsx)(r_,{colorScheme:null!==w&&void 0!==w&&w.isAfirmasi||null!==y&&void 0!==y&&y.isAfirmasi?"orange":"gray",variant:"solid",children:null!==w&&void 0!==w&&w.isAfirmasi||null!==y&&void 0!==y&&y.isAfirmasi?"\ud83c\udfaf Mahasiswa Afirmasi":"Reguler"})]})]})})]}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:N_,color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Lokasi & Jarak"})]})})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[((null===w||void 0===w?void 0:w.distanceToCampus)||(null===y||void 0===y?void 0:y.distanceToCampus))&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:2,children:"Jarak ke Kampus:"}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(r_,{colorScheme:(e=>{if(!e)return"gray";const t=parseFloat(e);return t<=5?"green":t<=10?"yellow":t<=20?"orange":"red"})((null===w||void 0===w?void 0:w.distanceToCampus)||(null===y||void 0===y?void 0:y.distanceToCampus)),variant:"solid",fontSize:"md",px:3,py:1,children:(e=>{if(!e)return"N/A";const t=parseFloat(e);return"".concat(t.toFixed(1)," km")})((null===w||void 0===w?void 0:w.distanceToCampus)||(null===y||void 0===y?void 0:y.distanceToCampus))}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:(e=>{if(!e)return"Unknown";const t=parseFloat(e);return t<=5?"Sangat Dekat":t<=10?"Dekat":t<=20?"Jarak Sedang":"Jauh"})((null===w||void 0===w?void 0:w.distanceToCampus)||(null===y||void 0===y?void 0:y.distanceToCampus))})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Zv,{as:N_,color:"gray.500",mt:1}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Alamat Rumah:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===w||void 0===w?void 0:w.address)||(null===y||void 0===y?void 0:y.address)||"Tidak diberikan"})]})]}),((null===w||void 0===w?void 0:w.currentRoomAssignment)||(null===y||void 0===y?void 0:y.current_room))&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:__,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"80px",children:"Kamar Saat Ini:"}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["Kamar ",(null===w||void 0===w||null===(h=w.currentRoomAssignment)||void 0===h?void 0:h.roomNumber)||(null===y||void 0===y||null===(p=y.current_room)||void 0===p?void 0:p.number)]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:(null===w||void 0===w||null===(f=w.currentRoomAssignment)||void 0===f?void 0:f.roomType)||(null===y||void 0===y||null===(m=y.current_room)||void 0===m?void 0:m.type)})]})]})]})})]})]})}),(0,Xo.jsxs)($Q,{px:0,children:[b?(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(FS,{height:"60px"}),(0,Xo.jsx)(FS,{height:"60px"})]}):0===S.length?(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Tidak ada booking untuk penghuni ini"]}):(0,Xo.jsxs)(A0,{variant:"simple",size:"sm",children:[(0,Xo.jsx)(C0,{children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Kamar"}),(0,Xo.jsx)(T0,{children:"Periode"}),(0,Xo.jsx)(T0,{children:"Tipe"}),(0,Xo.jsx)(T0,{children:"Jumlah"}),(0,Xo.jsx)(T0,{children:"Status"})]})}),(0,Xo.jsx)(N0,{children:S.map((e=>{var t,n,r,i,o;return(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["Room ",(null===(t=e.room)||void 0===t?void 0:t.name)||e.roomName||e.room_number||e.roomId||"N/A"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:(null===(n=e.room)||void 0===n||null===(r=n.classification)||void 0===r?void 0:r.name)||e.roomType||e.room_type||"N/A"})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[l1(e.checkInDate||e.check_in_date)," -"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:l1(e.checkOutDate||e.check_out_date)})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{variant:"outline",children:(null===(i=e.room)||void 0===i||null===(o=i.rentalType)||void 0===o?void 0:o.name)||e.rentalType||e.rental_type||"Standard"})}),(0,Xo.jsx)(z0,{children:c1(e.totalAmount||e.total_amount||0)}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:a1(e.status||e.bookingStatus),children:s1(e.status||e.bookingStatus)})})]},e.bookingId||e.booking_id)}))})]}),"                  "]}),(0,Xo.jsx)($Q,{px:0,children:b?(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(FS,{height:"60px"}),(0,Xo.jsx)(FS,{height:"60px"})]}):0===P.length?(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Tidak ada tagihan untuk penghuni ini"]}):(0,Xo.jsxs)(A0,{variant:"simple",size:"sm",children:[(0,Xo.jsx)(C0,{children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Tagihan"}),(0,Xo.jsx)(T0,{children:"Jumlah"}),(0,Xo.jsx)(T0,{children:"Metode"}),(0,Xo.jsx)(T0,{children:"Jatuh Tempo"}),(0,Xo.jsx)(T0,{children:"Status"})]})}),(0,Xo.jsx)(N0,{children:P.map((e=>(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["#",e.invoiceNo||e.invoice_no||e.invoiceId||"N/A"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.notes||"Invoice"})]})}),(0,Xo.jsx)(z0,{children:c1(e.amount||e.totalAmount||0)}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{variant:"outline",children:e.paymentMethod||e.payment_method||e.midtransPaymentId?"Online":"Manual"})}),(0,Xo.jsx)(z0,{children:e.dueDate?l1(e.dueDate):"N/A"}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:a1(e.status),children:s1(e.status)})})]},e.invoiceId||e.invoice_id)))})]})}),(0,Xo.jsx)($Q,{px:0,children:b?(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(FS,{height:"60px"}),(0,Xo.jsx)(FS,{height:"60px"})]}):0===T.length?(0,Xo.jsxs)(ay,{status:"warning",children:[(0,Xo.jsx)(sy,{}),"Tidak ada dokumen yang diunggah oleh penghuni ini"]}):(0,Xo.jsx)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)"},gap:4,children:T.map((e=>(0,Xo.jsx)(Vb,{size:"sm",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"sm",children:e.documentTypeName||e.doc_type_name}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.fileName||e.file_name})]}),(0,Xo.jsx)(r_,{colorScheme:a1(e.status),children:e.status})]}),e.isImage&&e.content&&(0,Xo.jsx)(Eb,{cursor:"pointer",onClick:()=>B(e),_hover:{opacity:.8},children:(0,Xo.jsx)(Bb,{src:"data:".concat(e.fileType,";base64,").concat(e.content),alt:e.fileName||e.file_name,borderRadius:"md",maxH:"100px",objectFit:"cover",w:"100%"})}),(0,Xo.jsxs)(dS,{justify:"space-between",fontSize:"xs",color:"gray.500",children:[(0,Xo.jsxs)(Tb,{children:["Diunggah: ",l1(e.uploadedAt||e.uploaded_at)]}),(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Bj,{size:"xs",leftIcon:(0,Xo.jsx)(j_,{}),variant:"outline",onClick:()=>B(e),children:"Pratinjau"}),(0,Xo.jsx)(Bj,{size:"xs",leftIcon:(0,Xo.jsx)(y_,{}),variant:"outline",onClick:()=>(e=>{if(null!==e&&void 0!==e&&e.content){const t=document.createElement("a");t.href="data:".concat(e.fileType,";base64,").concat(e.content),t.download=e.fileName,t.click()}else null!==e&&void 0!==e&&e.fileUrl&&window.open(e.fileUrl,"_blank")})(e),children:"Unduh"})]})]})]})})},e.docId||e.doc_id)))})}),(0,Xo.jsx)($Q,{px:0,children:b?(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(FS,{height:"60px"}),(0,Xo.jsx)(FS,{height:"60px"})]}):0===P.length?(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Tidak ada tagihan untuk penghuni ini"]}):(0,Xo.jsxs)(A0,{variant:"simple",size:"sm",children:[(0,Xo.jsx)(C0,{children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Tagihan"}),(0,Xo.jsx)(T0,{children:"Jumlah"}),(0,Xo.jsx)(T0,{children:"Metode"}),(0,Xo.jsx)(T0,{children:"Jatuh Tempo"}),(0,Xo.jsx)(T0,{children:"Status"})]})}),(0,Xo.jsx)(N0,{children:P.map((e=>(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["#",e.invoiceNo||e.invoice_no||e.invoiceId||"N/A"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.notes||"Invoice"})]})}),(0,Xo.jsx)(z0,{children:c1(e.amount||e.totalAmount||0)}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{variant:"outline",children:e.paymentMethod||e.payment_method||"N/A"})}),(0,Xo.jsx)(z0,{children:e.dueDate?l1(e.dueDate):"N/A"}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:a1(e.status),children:s1(e.status)})})]},e.invoiceId||e.invoice_id)))})]})})]})]})]})})]})]}),(0,Xo.jsx)(d1,{isOpen:O,onClose:D,document:E})]}):null};var h1=()=>"undefined"!==typeof document;var p1=!1,f1=null,m1=!1,g1=!1,v1=new Set;function y1(e,t){v1.forEach((n=>n(e,t)))}var x1="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function b1(e){var t;m1=!0,(t=e).metaKey||!x1&&t.altKey||t.ctrlKey||"Control"===t.key||"Shift"===t.key||"Meta"===t.key||(f1="keyboard",y1("keyboard",e))}function j1(e){if(f1="pointer","mousedown"===e.type||"pointerdown"===e.type){m1=!0;const n=e.composedPath?e.composedPath()[0]:e.target;let r=!1;try{r=n.matches(":focus-visible")}catch(t){}if(r)return;y1("pointer",e)}}function w1(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||0===t.detail&&!t.pointerType)&&(m1=!0,f1="virtual")}function k1(e){e.target!==window&&e.target!==document&&(e.target instanceof Element&&e.target.hasAttribute("tabindex")||(m1||g1||(f1="virtual",y1("virtual",e)),m1=!1,g1=!1))}function S1(){m1=!1,g1=!0}function _1(){return"pointer"!==f1}function A1(){if(!h1()||p1)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(){m1=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n)},document.addEventListener("keydown",b1,!0),document.addEventListener("keyup",b1,!0),document.addEventListener("click",w1,!0),window.addEventListener("focus",k1,!0),window.addEventListener("blur",S1,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",j1,!0),document.addEventListener("pointermove",j1,!0),document.addEventListener("pointerup",j1,!0)):(document.addEventListener("mousedown",j1,!0),document.addEventListener("mousemove",j1,!0),document.addEventListener("mouseup",j1,!0)),p1=!0}function C1(e){A1(),e(_1());const t=()=>e(_1());return v1.add(t),()=>{v1.delete(t)}}const P1={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},I1=["defaultChecked","isChecked","isFocusable","onChange","isIndeterminate","name","value","tabIndex","aria-label","aria-labelledby","aria-invalid"];function T1(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=fj(e),{isDisabled:r,isReadOnly:i,isRequired:a,isInvalid:s,id:l,onBlur:c,onFocus:d,"aria-describedby":u}=n,{defaultChecked:h,isChecked:p,isFocusable:f,onChange:m,isIndeterminate:g,name:v,value:y,tabIndex:x,"aria-label":b,"aria-labelledby":j,"aria-invalid":w}=e,k=zv(Jo(e,I1),["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),S=fd(m),_=fd(c),A=fd(d),[C,P]=(0,t.useState)(!1),[I,T]=(0,t.useState)(!1),[N,E]=(0,t.useState)(!1),z=(0,t.useRef)(!1);(0,t.useEffect)((()=>C1((e=>{z.current=e}))),[]);const O=(0,t.useRef)(null),[L,D]=(0,t.useState)(!0),[R,M]=(0,t.useState)(!!h),B=void 0!==p,F=B?p:R,W=(0,t.useCallback)((e=>{i||r?e.preventDefault():(B||M(F?e.currentTarget.checked:!!g||e.currentTarget.checked),null===S||void 0===S||S(e))}),[i,r,F,B,g,S]);Uc((()=>{O.current&&(O.current.indeterminate=Boolean(g))}),[g]),pd((()=>{r&&P(!1)}),[r,P]),Uc((()=>{const e=O.current;if(null===e||void 0===e||!e.form)return;const t=()=>{M(!!h)};return e.form.addEventListener("reset",t),()=>{var n;return null===(n=e.form)||void 0===n?void 0:n.removeEventListener("reset",t)}}),[]);const U=r&&!f,q=(0,t.useCallback)((e=>{" "===e.key&&E(!0)}),[E]),H=(0,t.useCallback)((e=>{" "===e.key&&E(!1)}),[E]);Uc((()=>{if(!O.current)return;O.current.checked!==F&&M(O.current.checked)}),[O.current]);const V=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,"data-active":Jb(N),"data-hover":Jb(I),"data-checked":Jb(F),"data-focus":Jb(C),"data-focus-visible":Jb(C&&z.current),"data-indeterminate":Jb(g),"data-disabled":Jb(r),"data-invalid":Jb(s),"data-readonly":Jb(i),"aria-hidden":!0,onMouseDown:dj(e.onMouseDown,(e=>{C&&e.preventDefault(),E(!0)})),onMouseUp:dj(e.onMouseUp,(()=>E(!1))),onMouseEnter:dj(e.onMouseEnter,(()=>T(!0))),onMouseLeave:dj(e.onMouseLeave,(()=>T(!1)))})}),[N,F,r,C,I,g,s,i]),G=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,"data-active":Jb(N),"data-hover":Jb(I),"data-checked":Jb(F),"data-focus":Jb(C),"data-focus-visible":Jb(C&&z.current),"data-indeterminate":Jb(g),"data-disabled":Jb(r),"data-invalid":Jb(s),"data-readonly":Jb(i)})}),[N,F,r,C,I,g,s,i]),K=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)((0,o.A)({},k),e),{},{ref:Yb(t,(e=>{e&&D("LABEL"===e.tagName)})),onClick:dj(e.onClick,(()=>{var e;L||(null===(e=O.current)||void 0===e||e.click(),requestAnimationFrame((()=>{var e;null===(e=O.current)||void 0===e||e.focus({preventScroll:!0})})))})),"data-disabled":Jb(r),"data-checked":Jb(F),"data-invalid":Jb(s)})}),[k,r,F,s,L]),Y=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(O,t),type:"checkbox",name:v,value:y,id:l,tabIndex:x,onChange:dj(e.onChange,W),onBlur:dj(e.onBlur,_,(()=>P(!1))),onFocus:dj(e.onFocus,A,(()=>P(!0))),onKeyDown:dj(e.onKeyDown,q),onKeyUp:dj(e.onKeyUp,H),required:a,checked:F,disabled:U,readOnly:i,"aria-label":b,"aria-labelledby":j,"aria-invalid":w?Boolean(w):s,"aria-describedby":u,"aria-disabled":r,"aria-checked":g?"mixed":F,style:P1})}),[v,y,l,x,W,_,A,q,H,a,F,U,i,b,j,w,s,u,r,g]),Z=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,onMouseDown:dj(e.onMouseDown,N1),"data-disabled":Jb(r),"data-checked":Jb(F),"data-invalid":Jb(s)})}),[F,r,s]);return{state:{isInvalid:s,isFocused:C,isChecked:F,isActive:N,isHovered:I,isIndeterminate:g,isDisabled:r,isReadOnly:i,isRequired:a},getRootProps:K,getCheckboxProps:V,getIndicatorProps:G,getInputProps:Y,getLabelProps:Z,htmlProps:k}}function N1(e){e.preventDefault(),e.stopPropagation()}const E1=["spacing","children"],z1=Dv((function(e,n){const r=Gv("Switch",e),i=Ov(e),{spacing:a="0.5rem",children:s}=i,l=Jo(i,E1),{getIndicatorProps:c,getInputProps:d,getCheckboxProps:u,getRootProps:h,getLabelProps:p}=T1(l),f=(0,t.useMemo)((()=>(0,o.A)({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0},r.container)),[r.container]),m=(0,t.useMemo)((()=>(0,o.A)({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},r.track)),[r.track]),g=(0,t.useMemo)((()=>(0,o.A)({userSelect:"none",marginStart:a},r.label)),[a,r.label]);return(0,Xo.jsxs)(Tv.label,(0,o.A)((0,o.A)({},h()),{},{className:Lv("chakra-switch",e.className),__css:f,children:[(0,Xo.jsx)("input",(0,o.A)({className:"chakra-switch__input"},d({},n))),(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({},u()),{},{className:"chakra-switch__track",__css:m,children:(0,Xo.jsx)(Tv.span,(0,o.A)({__css:r.thumb,className:"chakra-switch__thumb"},c()))})),s&&(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({className:"chakra-switch__label"},p()),{},{__css:g,children:s}))]}))}));z1.displayName="Switch";const O1=["className","rows"],L1=["h","minH","height","minHeight"],D1=Dv(((e,t)=>{const n=Vv("Textarea",e),r=Ov(e),{className:i,rows:a}=r,s=pj(Jo(r,O1)),l=a?zv(n,L1):n;return(0,Xo.jsx)(Tv.textarea,(0,o.A)((0,o.A)({ref:t,rows:a},s),{},{className:Lv("chakra-textarea",i),__css:l}))}));D1.displayName="Textarea";const R1=["className"],M1=Dv(((e,t)=>{const{className:n}=e,r=Jo(e,R1),i=Lv("chakra-modal__footer",n),a=KZ(),s=(0,o.A)({display:"flex",alignItems:"center",justifyContent:"flex-end"},a.footer);return(0,Xo.jsx)(Tv.footer,(0,o.A)((0,o.A)({ref:t},r),{},{__css:s,className:i}))}));M1.displayName="ModalFooter";function B1(e,t){return Object.freeze((0,o.A)((0,o.A)({},e),t))}const F1=(0,t.createContext)(null),W1=F1.Provider;function U1(){const e=(0,t.useContext)(F1);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function q1(){return U1().map}function H1(e,n){const r=q1();return(0,t.useEffect)((function(){return r.on(e,n),function(){r.off(e,n)}}),[r,e,n]),r}var V1=n(228),G1=n.n(V1);const K1=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function Y1(){return Y1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y1.apply(this,arguments)}function Z1(e,n){let{bounds:r,boundsOptions:i,center:o,children:a,className:s,id:l,placeholder:c,style:d,whenReady:u,zoom:h}=e,p=Jo(e,K1);const[f]=(0,t.useState)({className:s,id:l,style:d}),[m,g]=(0,t.useState)(null);(0,t.useImperativeHandle)(n,(()=>{var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null}),[m]);const v=(0,t.useCallback)((e=>{if(null!==e&&null===m){const t=new V1.Map(e,p);null!=o&&null!=h?t.setView(o,h):null!=r&&t.fitBounds(r,i),null!=u&&t.whenReady(u),g(function(e){return Object.freeze({__version:1,map:e})}(t))}}),[]);(0,t.useEffect)((()=>()=>{null===m||void 0===m||m.map.remove()}),[m]);const y=m?t.createElement(W1,{value:m},a):null!==c&&void 0!==c?c:null;return t.createElement("div",Y1({},f,{ref:v}),y)}const J1=(0,t.forwardRef)(Z1);function X1(e){function n(n,r){const{instance:i,context:o}=e(n).current;return(0,t.useImperativeHandle)(r,(()=>i)),null==n.children?null:t.createElement(W1,{value:o},n.children)}return(0,t.forwardRef)(n)}function $1(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Q1(e,n){return null==n?function(n,r){const i=(0,t.useRef)();return i.current||(i.current=e(n,r)),i}:function(r,i){const o=(0,t.useRef)();o.current||(o.current=e(r,i));const a=(0,t.useRef)(r),{instance:s}=o.current;return(0,t.useEffect)((function(){a.current!==r&&(n(s,r,a.current),a.current=r)}),[s,r,i]),o}}function e2(e,n){const r=(0,t.useRef)(n);(0,t.useEffect)((function(){n!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=n&&e.attributionControl.addAttribution(n)),r.current=n}),[e,n])}function t2(e,n){const r=(0,t.useRef)();(0,t.useEffect)((function(){return null!=n&&e.instance.on(n),r.current=n,function(){null!=r.current&&e.instance.off(r.current),r.current=null}}),[e,n])}function n2(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?(0,o.A)((0,o.A)({},e),{},{pane:r}):e}function r2(e,n){(0,t.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}function i2(e){return function(t){const n=U1(),r=e(n2(t,n),n);return e2(n.map,t.attribution),t2(r.current,t.eventHandlers),r2(r.current,n),r}}function o2(e){return function(n){const r=U1(),i=e(n2(n,r),r);return t2(i.current,n.eventHandlers),r2(i.current,r),function(e,n){const r=(0,t.useRef)();(0,t.useEffect)((function(){if(n.pathOptions!==r.current){var t;const i=null!==(t=n.pathOptions)&&void 0!==t?t:{};e.instance.setStyle(i),r.current=i}}),[e,n])}(i.current,n),i}}const a2=["url"],s2=(l2=function(e,t){let{url:n}=e,r=Jo(e,a2);return $1(new V1.TileLayer(n,n2(r,t)),t)},function(e){function n(n,r){const{instance:i}=e(n).current;return(0,t.useImperativeHandle)(r,(()=>i)),null}return(0,t.forwardRef)(n)}(i2(Q1(l2,(function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)})))));var l2;const c2=["position"],d2=function(e,t){return X1(i2(Q1(e,t)))}((function(e,t){let{position:n}=e,r=Jo(e,c2);const i=new V1.Marker(n,r);return $1(i,B1(t,{overlayContainer:i}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),u2=function(e,n){const r=function(e,t){return function(n,r){const i=U1(),o=e(n2(n,i),i);return e2(i.map,n.attribution),t2(o.current,n.eventHandlers),t(o.current,i,n,r),o}}(Q1(e),n);return function(e){function n(n,r){const[i,o]=(0,t.useState)(!1),{instance:a}=e(n,o).current;(0,t.useImperativeHandle)(r,(()=>a)),(0,t.useEffect)((function(){i&&a.update()}),[a,i,n.children]);const s=a._contentNode;return s?(0,vy.createPortal)(n.children,s):null}return(0,t.forwardRef)(n)}(r)}((function(e,t){return $1(new V1.Popup(e,t.overlayContainer),t)}),(function(e,n,r,i){let{position:o}=r;(0,t.useEffect)((function(){const{instance:t}=e;function r(e){e.popup===t&&(t.update(),i(!0))}function a(e){e.popup===t&&i(!1)}return n.map.on({popupopen:r,popupclose:a}),null==n.overlayContainer?(null!=o&&t.setLatLng(o),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:r,popupclose:a}),null===(e=n.overlayContainer)||void 0===e||e.unbindPopup(),n.map.removeLayer(t)}}),[e,n,i,o])})),h2=["positions"],p2=function(e,t){return X1(o2(Q1(e,t)))}((function(e,t){let{positions:n}=e,r=Jo(e,h2);const i=new V1.Polyline(n,r);return $1(i,B1(t,{overlayContainer:i}))}),(function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)})),f2={lat:-6.371355292523935,lng:106.82418567314572},m2=(G1().icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),G1().icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})),g2=G1().icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),v2=e=>{let{onMapClick:t}=e;return H1("click",t),null},y2=e=>{let{mapRef:n}=e;const r=H1("click",(()=>{}));return(0,t.useEffect)((()=>{r&&n&&(n.current=r,setTimeout((()=>{r.invalidateSize()}),100))}),[r,n]),null},x2=(e,t,n,r)=>{const i=(n-e)*Math.PI/180,o=(r-t)*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return(6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))).toFixed(2)},b2=(0,t.memo)((e=>{let{value:n,onChange:r,addressValue:i,onAddressChange:o,triggerGeocode:a}=e;const[s,l]=(0,t.useState)(null!==n&&void 0!==n&&n.lat&&null!==n&&void 0!==n&&n.lng?n:null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(f2),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(0),[j,w]=(0,t.useState)(0),k=(0,t.useRef)(i),S=(0,t.useRef)(r),_=(0,t.useRef)(null),A=hb();(0,t.useEffect)((()=>{k.current=i,S.current=r}),[i,r]);const C=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=15e3+5e3*t;try{console.log("Forward geocoding address (attempt ".concat(t+1,"): ").concat(e)),t>0&&(console.log("Waiting ".concat(2*t," seconds before retry...")),await new Promise((e=>setTimeout(e,2e3*t))));const r=new AbortController,i=setTimeout((()=>r.abort()),n),o=await fetch("https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(e),", Indonesia&format=json&addressdetails=1&limit=1&countrycodes=id"),{headers:{"User-Agent":"RusunawaApp/1.0 (contact@rusunawa.com)"},signal:r.signal});if(clearTimeout(i),!o.ok){if(429===o.status&&t<2)return console.log("Rate limited (429), retrying..."),await C(e,t+1);throw new Error("HTTP ".concat(o.status,": ").concat(o.statusText))}const a=await o.json();if(a&&a.length>0){const e=a[0],t={lat:parseFloat(e.lat),lng:parseFloat(e.lon)};return console.log("Forward geocoded coordinates:",t),t}if(t<2)return console.log("No results found, retrying..."),await C(e,t+1);throw new Error("No coordinates found for this address")}catch(r){if(console.error("Forward geocoding error:",r),("AbortError"===r.name||r.message.includes("fetch")||r.message.includes("Failed to fetch"))&&t<2)return console.log("Retrying due to ".concat(r.name||"network error","...")),await C(e,t+1);if("AbortError"===r.name)throw new Error("Address lookup timed out after multiple attempts - please try again later");if(r.message.includes("HTTP"))throw new Error("Address lookup service is temporarily unavailable - please try again later");throw new Error("Could not find coordinates for this address - please try a more specific address")}};(0,t.useEffect)((()=>{if(a&&a!==j){const e=k.current;if(e&&e.trim().length>10&&!v){const t=Date.now();if(t-x<2e3)return void A({title:"Please Wait",description:"Please wait a moment before making another address lookup request.",status:"info",duration:2e3,isClosable:!0});w(a),b(t),g(!0);(async()=>{try{const t=await C(e.trim());l(t);const n=x2(f2.lat,f2.lng,t.lat,t.lng);d(n),h(t),S.current&&(console.log("Sending geocoded coordinates to parent:",t),S.current(t)),A({title:"Location Found",description:"Address geocoded successfully. Distance to campus: ".concat(n," km"),status:"success",duration:3e3,isClosable:!0})}catch(t){console.error("Failed to geocode address:",t);let e="Address Lookup Failed",n=t.message||"Could not find coordinates for this address.";t.message.includes("timed out after multiple attempts")?(e="Service Temporarily Busy",n="The address lookup service is experiencing high traffic. Please wait a moment and try again, or select your location on the map instead."):t.message.includes("temporarily unavailable")?(e="Service Unavailable",n="The address lookup service is currently unavailable. Please try again later or select your location on the map."):t.message.includes("more specific address")&&(e="Address Not Found",n="Could not find coordinates for this address. Try entering a more detailed address (include city/district) or select the location on the map."),A({title:e,description:n,status:"warning",duration:6e3,isClosable:!0})}finally{g(!1)}})()}else a!==j&&w(a)}}),[a,v,A,x,j]),(0,t.useEffect)((()=>{if(null!==n&&void 0!==n&&n.lat&&null!==n&&void 0!==n&&n.lng){l({lat:n.lat,lng:n.lng});const e=x2(f2.lat,f2.lng,n.lat,n.lng);d(e),h({lat:n.lat,lng:n.lng})}else navigator.geolocation.getCurrentPosition((e=>{h({lat:e.coords.latitude,lng:e.coords.longitude})}),(()=>{h(f2)}))}),[n]),(0,t.useEffect)((()=>{const e=setTimeout((()=>{_.current&&_.current.invalidateSize()}),300);return()=>clearTimeout(e)}),[]),(0,t.useEffect)((()=>{const e=()=>{_.current&&setTimeout((()=>{_.current.invalidateSize()}),100)};window.addEventListener("resize",e);const t=new MutationObserver((()=>{e()})),n=document.querySelector(".leaflet-container");return n&&t.observe(n.parentElement,{attributes:!0,attributeFilter:["style","class"]}),()=>{window.removeEventListener("resize",e),t.disconnect()}}),[]);const P=(0,t.useCallback)((async e=>{const t={lat:e.latlng.lat,lng:e.latlng.lng};l(t);const n=x2(f2.lat,f2.lng,t.lat,t.lng);d(n),y(!0),f(!0);try{const e=await I(t.lat,t.lng);S.current&&(console.log("Sending location and address to parent:",{position:t,address:e}),S.current(t,e)),o&&o(e)}catch(r){console.error("Failed to get address:",r),A({title:"Address Lookup Failed",description:"Could not determine the address for this location, but coordinates were saved successfully.",status:"warning",duration:3e3,isClosable:!0}),S.current&&(console.log("Sending location to parent (no address):",t),S.current(t))}finally{f(!1),setTimeout((()=>{y(!1)}),100)}}),[o,A]),I=async(e,t)=>{try{const n=new AbortController,r=setTimeout((()=>n.abort()),1e4),i=await fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(e,"&lon=").concat(t,"&format=json&addressdetails=1&limit=1"),{headers:{"User-Agent":"RusunawaApp/1.0 (contact@rusunawa.com)"},signal:n.signal});if(clearTimeout(r),!i.ok)throw new Error("HTTP ".concat(i.status,": ").concat(i.statusText));const o=await i.json();if(o&&o.display_name){let e=o.display_name;if(o.address){const t=[];o.address.road&&t.push(o.address.road),o.address.house_number&&t.push(o.address.house_number),(o.address.suburb||o.address.neighbourhood)&&t.push(o.address.suburb||o.address.neighbourhood),(o.address.city||o.address.town||o.address.village)&&t.push(o.address.city||o.address.town||o.address.village),o.address.state&&t.push(o.address.state),o.address.postcode&&t.push(o.address.postcode),t.length>0&&(e=t.join(", "))}return console.log("Reverse geocoded address:",e),e}throw new Error("No address found for this location")}catch(n){if(console.error("Reverse geocoding error:",n),"AbortError"===n.name)throw new Error("Address lookup timed out - please try again");if(n.message.includes("HTTP"))throw new Error("Address lookup service is temporarily unavailable");throw new Error("Could not determine address for this location")}};return(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Eb,{height:"400px",width:"100%",borderRadius:"md",overflow:"hidden",border:"1px solid #e2e8f0",position:"relative",bg:"white",children:(0,Xo.jsxs)(J1,{center:u,zoom:13,style:{height:"100%",width:"100%",minHeight:"400px"},whenCreated:e=>{_.current!==e&&(_.current=e,setTimeout((()=>{e.invalidateSize()}),200))},children:[(0,Xo.jsx)(s2,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,Xo.jsx)(d2,{position:f2,icon:m2,children:(0,Xo.jsx)(u2,{children:(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Campus Location"})})}),s&&(0,Xo.jsx)(d2,{position:s,icon:g2,children:(0,Xo.jsxs)(u2,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Your Home Location"}),(0,Xo.jsxs)(Tb,{children:["Latitude: ",s.lat.toFixed(6)]}),(0,Xo.jsxs)(Tb,{children:["Longitude: ",s.lng.toFixed(6)]}),(0,Xo.jsxs)(Tb,{children:["Distance to campus: ",c," km"]})]})}),s&&(0,Xo.jsx)(p2,{positions:[f2,s],color:"#0088FF",weight:3,opacity:.7,dashArray:"5, 5"}),(0,Xo.jsx)(v2,{onMapClick:P}),(0,Xo.jsx)(y2,{mapRef:_})]})}),c&&(0,Xo.jsxs)(Tb,{mt:2,fontWeight:"semibold",color:"blue.600",children:["Distance to campus: ",c," km"]}),p&&(0,Xo.jsxs)(dS,{mt:2,spacing:2,children:[(0,Xo.jsx)(Qv,{size:"sm",color:"blue.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"blue.600",children:"Getting address information..."})]}),m&&(0,Xo.jsxs)(dS,{mt:2,spacing:2,children:[(0,Xo.jsx)(Qv,{size:"sm",color:"green.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",children:"Finding coordinates for address..."})]}),"      ",(0,Xo.jsx)(Tb,{mt:1,fontSize:"sm",color:"gray.600",children:'Click on the map to select your home location or type an address and click the search button. For best results, include city/district in your address (e.g., "Tambun Selatan, Bekasi, West Java"). If address lookup is slow or fails, you can directly click on the map to set your location.'})]})})),j2=b2,w2=e=>{var n,r;let{isOpen:i,onClose:a,tenant:s,onUpdate:l}=e;const[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)({}),[p,f]=(0,t.useState)(0),m=hb(),[g,v]=(0,t.useState)({full_name:"",email:"",phone:"",address:"",gender:"",jurusan:"",is_afirmasi:!1,home_latitude:null,home_longitude:null,nim:"",type_id:null});(0,t.useEffect)((()=>{var e,t;s&&(console.log("Initializing form with tenant data:",s),console.log("Tenant jurusan:",s.jurusan),console.log("Tenant isAfirmasi:",s.isAfirmasi),v({full_name:(null===(e=s.user)||void 0===e?void 0:e.fullName)||s.name||"",email:(null===(t=s.user)||void 0===t?void 0:t.email)||s.email||"",phone:s.phone||"",address:s.address||"",gender:s.gender||"",jurusan:s.jurusan||"",is_afirmasi:s.isAfirmasi||s.is_afirmasi||!1,home_latitude:s.homeLatitude||null,home_longitude:s.homeLongitude||null,nim:s.nim||"",type_id:s.typeId||s.type_id||null}),h({}),console.log("Form data initialized with jurusan:",s.jurusan||""))}),[s]);const y=(e,t)=>{v((n=>{const r=(0,o.A)((0,o.A)({},n),{},{[e]:t});return"type_id"===e&&2===t&&(r.jurusan="",r.nim="",r.is_afirmasi=!1,console.log("Switching to non-mahasiswa: clearing academic fields")),r})),u[e]&&h((t=>(0,o.A)((0,o.A)({},t),{},{[e]:null})))};return s?(0,Xo.jsxs)(JZ,{isOpen:i,onClose:a,size:"4xl",closeOnOverlayClick:!1,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",overflowY:"auto",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:eA,color:"purple.500"}),(0,Xo.jsx)(Tb,{children:"Edit Data Penyewa"}),(0,Xo.jsx)(r_,{colorScheme:"purple",children:(null===(n=s.user)||void 0===n?void 0:n.fullName)||s.name})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(YQ,{colorScheme:"purple",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:eA}),(0,Xo.jsx)(Tb,{children:"Data Pribadi"})]})}),(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:N_}),(0,Xo.jsx)(Tb,{children:"Lokasi"})]})}),1===g.type_id&&(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:s_}),(0,Xo.jsx)(Tb,{children:"Data Akademik"}),(0,Xo.jsx)(r_,{colorScheme:"green",size:"sm",children:"Aktif"})]})})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Perbarui data pribadi penyewa dengan hati-hati. Pastikan semua informasi akurat."})]}),(0,Xo.jsxs)(ij,{isInvalid:u.full_name,children:[(0,Xo.jsx)(sj,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:eA}),(0,Xo.jsx)(Tb,{children:"Nama Lengkap"})]})}),(0,Xo.jsx)(gj,{value:g.full_name,onChange:e=>y("full_name",e.target.value),placeholder:"Masukkan nama lengkap"}),u.full_name&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.full_name})]}),(0,Xo.jsxs)(ij,{isInvalid:u.email,children:[(0,Xo.jsx)(sj,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:T_}),(0,Xo.jsx)(Tb,{children:"Email"})]})}),(0,Xo.jsx)(gj,{type:"email",value:g.email,onChange:e=>y("email",e.target.value),placeholder:"Masukkan email"}),u.email&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.email})]}),(0,Xo.jsxs)(ij,{isInvalid:u.phone,children:[(0,Xo.jsx)(sj,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:D_}),(0,Xo.jsx)(Tb,{children:"Nomor Telepon"})]})}),(0,Xo.jsx)(gj,{value:g.phone,onChange:e=>y("phone",e.target.value),placeholder:"Masukkan nomor telepon"}),u.phone&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.phone})]}),(0,Xo.jsxs)(ij,{isInvalid:u.gender,children:[(0,Xo.jsx)(sj,{children:"Jenis Kelamin"}),(0,Xo.jsxs)(SQ,{value:g.gender,onChange:e=>y("gender",e.target.value),placeholder:"Pilih jenis kelamin",children:[(0,Xo.jsx)("option",{value:"L",children:"Laki-laki"}),(0,Xo.jsx)("option",{value:"P",children:"Perempuan"})]}),u.gender&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.gender})]}),(0,Xo.jsxs)(ij,{isInvalid:u.type_id,children:[(0,Xo.jsx)(sj,{children:"Tipe Penyewa"}),(0,Xo.jsxs)(SQ,{value:g.type_id||"",onChange:e=>y("type_id",parseInt(e.target.value)),placeholder:"Pilih tipe penyewa",children:[(0,Xo.jsx)("option",{value:1,children:"Mahasiswa"}),(0,Xo.jsx)("option",{value:2,children:"Non Mahasiswa"})]}),u.type_id&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.type_id}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"blue.600",mt:1,children:"\ud83d\udca1 Mengubah tipe penyewa akan memengaruhi field dan validasi yang tersedia"})]}),1===g.type_id&&(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Status Afirmasi"}),(0,Xo.jsxs)(Eb,{p:4,bg:g.is_afirmasi?"green.50":"gray.50",borderRadius:"md",border:"1px solid",borderColor:g.is_afirmasi?"green.200":"gray.200",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:g.is_afirmasi?"green.700":"gray.700",children:g.is_afirmasi?"Penerima Afirmasi":"Bukan Penerima Afirmasi"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Status afirmasi hanya berlaku untuk mahasiswa"})]}),(0,Xo.jsx)(z1,{isChecked:g.is_afirmasi,onChange:e=>y("is_afirmasi",e.target.checked),colorScheme:g.is_afirmasi?"green":"purple",size:"lg"})]}),g.is_afirmasi&&(0,Xo.jsx)(Eb,{mt:2,p:2,bg:"green.100",borderRadius:"md",children:(0,Xo.jsx)(Tb,{fontSize:"xs",color:"green.800",children:"\u2713 Mahasiswa ini terdaftar sebagai penerima program afirmasi"})})]})]}),2===g.type_id&&(0,Xo.jsxs)(Eb,{p:4,bg:"blue.50",borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"blue.700",children:"\ud83d\udcda Non Mahasiswa"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"blue.600",mt:1,children:"Data akademik seperti NIM, jurusan, dan status afirmasi tidak diperlukan untuk tipe penyewa ini."})]})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Perbarui alamat dan koordinat rumah penyewa. Gunakan peta untuk memilih lokasi yang tepat."})]}),(0,Xo.jsxs)(ij,{isInvalid:u.address,children:[(0,Xo.jsx)(sj,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:__}),(0,Xo.jsx)(Tb,{children:"Alamat Rumah"})]})}),(0,Xo.jsx)(D1,{value:g.address,onChange:e=>y("address",e.target.value),placeholder:"Masukkan alamat lengkap rumah",rows:3}),u.address&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.address})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Bj,{onClick:()=>{g.address&&g.address.trim().length>10?f((e=>e+1)):m({title:"Alamat Terlalu Singkat",description:"Silakan masukkan alamat yang lebih detail untuk pencarian koordinat.",status:"warning",duration:3e3,isClosable:!0})},colorScheme:"blue",size:"sm",leftIcon:(0,Xo.jsx)(Zv,{as:N_}),children:"Cari Koordinat dari Alamat"}),g.home_latitude&&g.home_longitude&&(0,Xo.jsxs)(r_,{colorScheme:"green",children:["Koordinat: ",g.home_latitude.toFixed(6),", ",g.home_longitude.toFixed(6)]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Pilih Lokasi pada Peta"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:4,children:'Klik pada peta untuk memilih lokasi rumah, atau masukkan alamat di atas dan klik "Cari Koordinat"'}),(0,Xo.jsx)(Eb,{height:"400px",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"gray.200",children:(0,Xo.jsx)(j2,{value:g.home_latitude&&g.home_longitude?{lat:g.home_latitude,lng:g.home_longitude}:null,onChange:e=>{e&&e.lat&&e.lng&&v((t=>(0,o.A)((0,o.A)({},t),{},{home_latitude:e.lat,home_longitude:e.lng})))},addressValue:g.address,onAddressChange:e=>{v((t=>(0,o.A)((0,o.A)({},t),{},{address:e})))},triggerGeocode:p})})]})]})}),1===g.type_id&&(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2705 Data akademik diperlukan untuk mahasiswa. Silakan lengkapi semua field di bawah ini."})]}),(0,Xo.jsxs)(ij,{isInvalid:u.nim,children:[(0,Xo.jsx)(sj,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:s_}),(0,Xo.jsx)(Tb,{children:"NIM (Nomor Induk Mahasiswa)"})]})}),(0,Xo.jsx)(gj,{value:g.nim,onChange:e=>y("nim",e.target.value),placeholder:"Masukkan NIM"}),u.nim&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.nim}),!g.nim&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"orange.600",mt:1,children:"\u26a0\ufe0f NIM belum diisi. Silakan lengkapi data akademik."})]}),(0,Xo.jsxs)(ij,{isInvalid:u.jurusan,children:[(0,Xo.jsx)(sj,{children:"Jurusan/Program Studi"}),(0,Xo.jsx)(gj,{value:g.jurusan,onChange:e=>y("jurusan",e.target.value),placeholder:"Masukkan jurusan/program studi"}),u.jurusan&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:u.jurusan}),!g.jurusan&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"orange.600",mt:1,children:"\u26a0\ufe0f Jurusan belum diisi. Silakan lengkapi data akademik."})]}),s.nim&&(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Data Akademik Saat Ini:"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["NIM: ",s.nim]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Jurusan: ",s.jurusan]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Tipe: ",(null===(r=s.tenantType)||void 0===r?void 0:r.name)||"N/A"]})]})]})]})})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"outline",onClick:a,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"purple",onClick:async()=>{const e=s.tenantId||s.tenant_id,t=s.typeId||s.type_id,n=1!==t&&1===g.type_id,r=1===t&&1!==g.type_id;if(n||(()=>{const e={};return g.full_name.trim()||(e.full_name="Nama lengkap wajib diisi"),g.email.trim()?/\S+@\S+\.\S+/.test(g.email)||(e.email="Format email tidak valid"):e.email="Email wajib diisi",g.phone.trim()||(e.phone="Nomor telepon wajib diisi"),g.address.trim()||(e.address="Alamat wajib diisi"),g.gender||(e.gender="Jenis kelamin wajib dipilih"),g.type_id||(e.type_id="Tipe penyewa wajib dipilih"),1===g.type_id&&(console.log("Validating student fields. Current jurusan:",g.jurusan),console.log("Current NIM:",g.nim),g.jurusan&&g.jurusan.trim()||(e.jurusan="Jurusan wajib diisi untuk mahasiswa",console.log("Jurusan validation failed - empty value")),g.nim&&g.nim.trim()||(e.nim="NIM wajib diisi untuk mahasiswa",console.log("NIM validation failed - empty value"))),h(e),0===Object.keys(e).length})()){if(n){const e={};if(g.full_name.trim()||(e.full_name="Nama lengkap wajib diisi"),g.email.trim()?/\S+@\S+\.\S+/.test(g.email)||(e.email="Format email tidak valid"):e.email="Email wajib diisi",g.phone.trim()||(e.phone="Nomor telepon wajib diisi"),g.address.trim()||(e.address="Alamat wajib diisi"),g.gender||(e.gender="Jenis kelamin wajib dipilih"),g.type_id||(e.type_id="Tipe penyewa wajib dipilih"),Object.keys(e).length>0)return h(e),void m({title:"Data Tidak Valid",description:"Silakan perbaiki kesalahan pada form.",status:"error",duration:3e3,isClosable:!0})}d(!0);try{if(console.log("Update sequence starting:",{originalType:t,newType:g.type_id,isChangingToStudent:n,isChangingFromStudent:r}),n){console.log("Changing to mahasiswa - updating type first, academic data will be requested after reload");const t={full_name:g.full_name,email:g.email,phone:g.phone,address:g.address,gender:g.gender,type_id:g.type_id,tenant_id:e};if(console.log("Updating tenant type to mahasiswa:",t),await Q0.updateTenant(e,t),g.home_latitude&&g.home_longitude){const t={home_latitude:g.home_latitude,home_longitude:g.home_longitude,tenant_id:e};await Q0.updateTenantLocation(e,t)}return m({title:"Tipe Berhasil Diubah",description:"Penyewa telah diubah menjadi mahasiswa. Silakan edit kembali untuk melengkapi data akademik (NIM, jurusan).",status:"success",duration:6e3,isClosable:!0}),l&&await l(),void a()}if(r){console.log("Changing from mahasiswa to non-mahasiswa - clearing academic data");const t={full_name:g.full_name,email:g.email,phone:g.phone,address:g.address,gender:g.gender,type_id:g.type_id,jurusan:"",is_afirmasi:!1,tenant_id:e};await Q0.updateTenant(e,t);try{const t={nim:"",tenant_id:e};await Q0.updateTenantNIM(e,t)}catch(i){console.log("NIM clearing might have failed, but continuing...")}if(g.home_latitude&&g.home_longitude){const t={home_latitude:g.home_latitude,home_longitude:g.home_longitude,tenant_id:e};await Q0.updateTenantLocation(e,t)}return m({title:"Berhasil",description:"Penyewa berhasil diubah menjadi non-mahasiswa. Data akademik telah dihapus.",status:"success",duration:4e3,isClosable:!0}),l&&await l(),void a()}const o={full_name:g.full_name,email:g.email,phone:g.phone,address:g.address,gender:g.gender,type_id:g.type_id,tenant_id:e};if(1===g.type_id){if(!g.nim||!g.nim.trim())return m({title:"NIM Diperlukan",description:"NIM wajib diisi untuk mahasiswa. Silakan lengkapi data akademik.",status:"error",duration:4e3,isClosable:!0}),void d(!1);if(!g.jurusan||!g.jurusan.trim())return m({title:"Jurusan Diperlukan",description:"Jurusan wajib diisi untuk mahasiswa. Silakan lengkapi data akademik.",status:"error",duration:4e3,isClosable:!0}),void d(!1);o.jurusan=g.jurusan,o.is_afirmasi=g.is_afirmasi,console.log("Including academic fields for existing student:",{jurusan:g.jurusan,is_afirmasi:g.is_afirmasi})}else o.jurusan="",o.is_afirmasi=!1;if(console.log("Updating tenant with data:",o),await Q0.updateTenant(e,o),g.home_latitude&&g.home_longitude){const t={home_latitude:g.home_latitude,home_longitude:g.home_longitude,tenant_id:e};await Q0.updateTenantLocation(e,t)}if(1===g.type_id&&g.nim){const t={nim:g.nim,tenant_id:e};console.log("Updating NIM for existing student:",t),await Q0.updateTenantNIM(e,t)}m({title:"Berhasil",description:"Data penyewa berhasil diperbarui",status:"success",duration:3e3,isClosable:!0}),l&&await l(),a()}catch(i){console.error("Error updating tenant:",i),m({title:"Gagal Memperbarui",description:i.message||"Terjadi kesalahan saat memperbarui data penyewa",status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}}else m({title:"Data Tidak Valid",description:"Silakan perbaiki kesalahan pada form.",status:"error",duration:3e3,isClosable:!0})},isLoading:c,loadingText:"Menyimpan...",children:"Simpan Perubahan"})]})})]})]}):null},k2=new Map,S2=3e5,_2=e=>"room_images_".concat(e),A2=e=>{const t=_2(e),n=k2.get(t);return(e=>e&&Date.now()-e.timestamp<S2)(n)?(console.log("\u26a1 Using cached images for room ".concat(e)),n.data):(n&&(k2.delete(t),console.log("\ud83d\uddd1\ufe0f Removed expired cache for room ".concat(e))),null)},C2=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){const t=_2(e);k2.delete(t),console.log("\ud83d\uddd1\ufe0f Cleared cache for room ".concat(e))}else k2.clear(),console.log("\ud83d\uddd1\ufe0f Cleared all image cache")},P2={getRooms:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/rooms",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch rooms")}},getRoomById:async e=>{try{return(await pb.default.get("/rooms/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch room details")}},createRoom:async e=>{var t,n;const r={name:e.name,description:e.description||"",capacity:e.capacity,classification_id:parseInt(e.classification_id),rental_type_id:parseInt(e.rental_type_id||1),building_id:parseInt(e.building_id),floor_id:parseInt(e.floor_id),room_number:e.room_number||"",amenities:(null===(t=e.amenities)||void 0===t?void 0:t.map((e=>({name:e.name,custom_feature_name:e.custom_feature_name||"",description:e.description||"",quantity:e.quantity||1}))))||[],images:(null===(n=e.images)||void 0===n?void 0:n.map((e=>({image_data:e.imageData?e.imageData.split(",")[1]:"",image_name:e.imageName,content_type:e.contentType,is_primary:e.isPrimary||!1}))))||[]};try{return(await pb.default.post("/rooms",r)).data}catch(a){var i,o;const e=a.message||(null===(i=a.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Failed to create room";if(e.includes('duplicate key value violates unique constraint "unique_room_name"'))throw new Error('Nama kamar "'.concat(r.name,'" sudah digunakan. Silakan pilih nama kamar yang berbeda.'));if(e.includes("unique constraint"))throw new Error("Data yang Anda masukkan sudah ada di sistem. Silakan periksa kembali informasi kamar.");if(e.includes("foreign key constraint"))throw new Error("Data gedung atau lantai yang dipilih tidak valid. Silakan pilih ulang.");if(e.includes("validation"))throw new Error("Data yang dimasukkan tidak valid. Silakan periksa kembali semua field.");throw new Error("Gagal membuat kamar: ".concat(e))}},updateRoom:async(e,t)=>{var n,r;const i={name:t.name,description:t.description||"",capacity:t.capacity,classification_id:parseInt(t.classification_id)||1,rental_type_id:parseInt(t.rental_type_id)||1,buildingId:t.buildingId?parseInt(t.buildingId):void 0,floorId:t.floorId?parseInt(t.floorId):void 0,roomNumber:t.roomNumber||"",amenities:(null===(n=t.amenities)||void 0===n?void 0:n.map((e=>({name:e.name,custom_feature_name:e.custom_feature_name||"",description:e.description||"",quantity:e.quantity||1}))))||[],images:(null===(r=t.images)||void 0===r?void 0:r.map((e=>({image_data:e.imageData?e.imageData.split(",")[1]:"",image_name:e.imageName,content_type:e.contentType,is_primary:e.isPrimary||!1}))))||[]};console.log("\ud83d\udd27 Frontend Room Update Data:",{roomId:e,originalData:t,transformedData:i});try{const t=await pb.default.put("/rooms/".concat(e),i);return console.log("\u2705 Room Update Response:",t.data),t.data}catch(s){var o,a;const e=s.message||(null===(o=s.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Failed to update room";if(e.includes('duplicate key value violates unique constraint "unique_room_name"'))throw new Error('Nama kamar "'.concat(i.name,'" sudah digunakan. Silakan pilih nama kamar yang berbeda.'));if(e.includes("unique constraint"))throw new Error("Data yang Anda masukkan sudah ada di sistem. Silakan periksa kembali informasi kamar.");if(e.includes("foreign key constraint"))throw new Error("Data gedung atau lantai yang dipilih tidak valid. Silakan pilih ulang.");if(e.includes("validation"))throw new Error("Data yang dimasukkan tidak valid. Silakan periksa kembali semua field.");throw new Error("Gagal memperbarui kamar: ".concat(e))}},deleteRoom:async e=>{try{return(await pb.default.delete("/rooms/".concat(e))).data}catch(t){if(t.response&&t.response.data&&t.response.data.message)throw new Error(t.response.data.message);if(t.response&&t.response.statusText)throw new Error(t.response.statusText);throw new Error(t.message||"Failed to delete room")}},getRoomsByGender:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/rooms/by-gender/".concat(e),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch rooms by gender")}},getRoomsByStudentType:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/rooms/by-student-type/".concat(e),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch rooms by student type")}},getRoomAvailability:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/rooms/".concat(e,"/availability"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch room availability")}},updateRoomAvailability:async(e,t)=>{try{return(await pb.default.put("/rooms/".concat(e,"/availability"),t)).data}catch(n){throw new Error(n.message||"Failed to update room availability")}},getRoomAmenities:async e=>{try{return(await pb.default.get("/rooms/".concat(e,"/amenities"))).data}catch(t){throw new Error(t.message||"Failed to fetch room amenities")}},addRoomAmenity:async(e,t)=>{try{return(await pb.default.post("/rooms/".concat(e,"/amenities"),t)).data}catch(n){throw new Error(n.message||"Failed to add room amenity")}},updateRoomAmenity:async(e,t,n)=>{try{return(await pb.default.put("/rooms/".concat(e,"/amenities"),{room_id:e,amenity_name:t,quantity:n.quantity})).data}catch(r){throw new Error(r.message||"Failed to update room amenity")}},removeRoomAmenity:async(e,t)=>{try{return(await pb.default.delete("/rooms/".concat(e,"/amenities"),{data:{room_id:e,amenity_name:t}})).data}catch(n){throw new Error(n.message||"Failed to remove room amenity")}},getRoomRates:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/room-rates",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch room rates")}},updateRoomRates:async e=>{try{return(await pb.default.put("/room-rates",e)).data}catch(t){throw new Error(t.message||"Failed to update room rates")}},getRoomStats:async()=>{try{return(await pb.default.get("/rooms/stats")).data}catch(e){throw new Error(e.message||"Failed to fetch room stats")}},uploadRoomImage:async(e,t)=>{try{const n=new FormData;n.append("image",t);return(await pb.default.post("/rooms/".concat(e,"/images"),n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){var n;throw console.error("Error uploading image for room ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to upload room image"}}},getRoomOccupants:async e=>{try{return(await pb.default.get("/rooms/".concat(e,"/occupants"))).data}catch(t){throw new Error(t.message||"Failed to fetch room occupants")}},getRoomHistory:async e=>{try{return(await pb.default.get("/rooms/".concat(e,"/history"))).data}catch(t){throw new Error(t.message||"Failed to fetch room history")}},getRoomMaintenance:async e=>{try{return(await pb.default.get("/rooms/".concat(e,"/maintenance"))).data}catch(t){throw new Error(t.message||"Failed to fetch room maintenance")}},updateRoomStatus:async(e,t)=>{try{return(await pb.default.patch("/rooms/".concat(e,"/status"),{status:t})).data}catch(n){throw new Error(n.message||"Failed to update room status")}},removeOccupant:async(e,t)=>{try{return(await pb.default.delete("/rooms/".concat(e,"/occupants/").concat(t))).data}catch(n){throw new Error(n.message||"Failed to remove occupant")}},getRoomImages:async e=>{try{const t=A2(e);if(t)return t;console.log("\ud83c\udf10 Making API call to: /rooms/".concat(e,"/images"));const n=await pb.default.get("/rooms/".concat(e,"/images"));console.log("\ud83d\udd04 Raw API response:",n);const r=n.data;return console.log("\ud83d\udcca Response data:",r),r.images&&r.images.length>0?(console.log("\ud83d\uddbc\ufe0f Processing ".concat(r.images.length," images")),r.images=r.images.map(((e,t)=>{const n=e.imageData&&"string"===typeof e.imageData?"data:".concat(e.contentType||"image/png",";base64,").concat(e.imageData):null;return(0,o.A)((0,o.A)({},e),{},{imageUrl:n,originalImageData:e.imageData})})),console.log("\u2705 Images processed successfully")):console.log("\u2139\ufe0f No images found in response"),((e,t)=>{const n=_2(e);k2.set(n,{data:t,timestamp:Date.now()}),console.log("\ud83d\udcbe Cached images for room ".concat(e))})(e,r),r}catch(r){var t,n;throw console.error("\u274c Error in getRoomImages:",r.response||r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"Failed to fetch room images")}},getRoomImage:async e=>{try{return(await pb.default.get("/room-images/".concat(e),{responseType:"blob"})).data}catch(t){throw new Error(t.message||"Failed to fetch room image")}},getRoomImageUrl:e=>"".concat(pb.default.defaults.baseURL,"/room-images/").concat(e),addRoomImage:async(e,t)=>{try{const n=await pb.default.post("/rooms/".concat(e,"/images"),{image:{image_data:t.image_data,image_name:t.image_name,content_type:t.content_type,is_primary:t.is_primary||!1}});return C2(e),n.data}catch(n){throw new Error(n.message||"Failed to upload room image")}},deleteRoomImage:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=await pb.default.delete("/room-images/".concat(e));return t?C2(t):C2(),n.data}catch(n){throw new Error(n.message||"Failed to delete room image")}},setPrimaryRoomImage:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=await pb.default.put("/room-images/".concat(e,"/set-primary"));return t?C2(t):C2(),n.data}catch(n){throw new Error(n.message||"Failed to set primary room image")}},uploadRoomImage:async(e,t)=>{try{const n=new FormData;n.append("image",t);return(await pb.default.post("/rooms/".concat(e,"/images"),n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw new Error(n.message||"Failed to upload room image")}},updateRoomImage:async(e,t,n)=>{try{return(await pb.default.put("/rooms/".concat(e,"/images/").concat(t),n)).data}catch(r){throw new Error(r.message||"Failed to update room image")}},deleteRoomImage:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return(await pb.default.delete("/rooms/".concat(t||"current","/images/").concat(e))).data}catch(n){throw new Error(n.message||"Failed to delete room image")}},getImageDataUrl:e=>{if(!e)return null;const t=btoa(String.fromCharCode.apply(null,new Uint8Array(e)));return"data:image/jpeg;base64,".concat(t)},getRoomAmenities:async e=>{try{return(await pb.default.get("/rooms/".concat(e,"/amenities"))).data}catch(t){throw new Error(t.message||"Failed to fetch room amenities")}},addRoomAmenities:async(e,t)=>{try{return(await pb.default.post("/rooms/".concat(e,"/amenities"),{amenities:t})).data}catch(n){throw new Error(n.message||"Failed to add room amenities")}},updateRoomAmenity:async(e,t,n)=>{try{return(await pb.default.put("/rooms/".concat(e,"/amenities/").concat(t),n)).data}catch(r){throw new Error(r.message||"Failed to update room amenity")}},removeRoomAmenity:async(e,t)=>{try{return(await pb.default.delete("/rooms/".concat(e,"/amenities/").concat(t))).data}catch(n){throw new Error(n.message||"Failed to remove room amenity")}},getAvailableFeatures:async()=>{try{return(await pb.default.get("/room-features")).data}catch(e){throw new Error(e.message||"Failed to fetch available features")}},getRoomImageUrl:e=>e?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"rusunawa-skripsi-v1-production.up.railway.app",REACT_APP_APP_NAME:"Rusunawa Admin System",REACT_APP_ENVIRONMENT:"production",REACT_APP_VERSION:"v1"}.REACT_APP_API_URL||"rusunawa-skripsi-v1-production.up.railway.app","/v1/room-images/").concat(e):null,getRoomImageData:async e=>{try{return(await pb.default.get("/room-images/".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch room image")}},getClassifications:()=>Promise.resolve({classifications:[{id:1,name:"perempuan",display_name:"Kamar Mahasiswi"},{id:2,name:"laki_laki",display_name:"Kamar Mahasiswa"},{id:3,name:"luar",display_name:"Kamar untuk Pihak Luar atau non mahasiswa"},{id:4,name:"ruang_rapat",display_name:"Ruang Rapat"}]}),getRentalTypes:()=>Promise.resolve({rental_types:[{id:1,name:"harian",display_name:"Per Hari"},{id:2,name:"bulanan",display_name:"Per Bulan"}]}),convertImageDataToUrl:function(e){return e?"data:".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",";base64,").concat(e):null},processRoomImageData:e=>e?(0,o.A)((0,o.A)({},e),{},{imageUrl:e.imageData?"data:".concat(e.contentType,";base64,").concat(e.imageData):null,fileSizeFormatted:e.fileSize?(e.fileSize/1024).toFixed(1)+" KB":"Unknown",uploadedAtFormatted:e.uploadedAt?new Date(e.uploadedAt).toLocaleDateString():"Unknown"}):null,validateImageFile:e=>{if(!e)throw new Error("No file selected");if(e.size>5242880)throw new Error("File size must be less than 5MB");if(!["image/jpeg","image/jpg","image/png"].includes(e.type))throw new Error("Only JPEG and PNG files are supported");return!0},clearImageCache:function(){C2(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)},getCacheStats:()=>({totalCachedRooms:k2.size,cacheKeys:Array.from(k2.keys()),cacheExpiry:"".concat(5," minutes")}),getBuildings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.genderType&&t.append("gender_type",e.genderType),void 0!==e.isActive&&t.append("is_active",e.isActive),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit);const n=t.toString(),r=await pb.default.get("/buildings".concat(n?"?".concat(n):""));return{buildings:r.data.buildings||[],totalCount:r.data.totalCount||0,status:r.data.status}}catch(r){var t,n;throw console.error("Error fetching buildings:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to fetch buildings")}},getBuildingById:async e=>{try{return(await pb.default.get("/buildings/".concat(e))).data}catch(r){var t,n;throw console.error("Error fetching building:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to fetch building")}},createBuilding:async e=>{try{return(await pb.default.post("/buildings",e)).data}catch(r){var t,n;throw console.error("Error creating building:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create building")}},updateBuilding:async(e,t)=>{try{return(await pb.default.put("/buildings/".concat(e),t)).data}catch(i){var n,r;throw console.error("Error updating building:",i),new Error((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to update building")}},deleteBuilding:async e=>{try{return(await pb.default.delete("/buildings/".concat(e))).data}catch(r){var t,n;throw console.error("Error deleting building:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete building")}},getBuildingStats:async()=>{try{return(await pb.default.get("/v1/buildings/stats")).data}catch(n){var e,t;throw console.error("Error fetching building stats:",n),new Error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch building statistics")}},getBuildingFloors:async e=>{try{const t=await pb.default.get("/buildings/".concat(e,"/floors"));return{floors:t.data.floors||[],status:t.data.status}}catch(r){var t,n;throw console.error("Error fetching building floors:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to fetch building floors")}},getFloorById:async e=>{try{return(await pb.default.get("/floors/".concat(e))).data}catch(r){var t,n;throw console.error("Error fetching floor:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to fetch floor")}},createFloor:async e=>{try{if(!e.buildingId)throw new Error("Building ID is required to create a floor");return(await pb.default.post("/buildings/".concat(e.buildingId,"/floors"),e)).data}catch(r){var t,n;throw console.error("Error creating floor:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create floor")}},updateFloor:async(e,t)=>{try{return(await pb.default.put("/floors/".concat(e),t)).data}catch(i){var n,r;throw console.error("Error updating floor:",i),new Error((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to update floor")}},deleteFloor:async e=>{try{return(await pb.default.delete("/floors/".concat(e))).data}catch(r){var t,n;throw console.error("Error deleting floor:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete floor")}},getFloorStats:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.floorId&&t.append("floor_id",e.floorId),e.buildingId&&t.append("building_id",e.buildingId);const n=t.toString();return(await pb.default.get("/floors/stats".concat(n?"?".concat(n):""))).data}catch(r){var t,n;throw console.error("Error fetching floor stats:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to fetch floor statistics")}},getRoomsByFloor:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.classification&&n.append("classification",t.classification),void 0!==t.isAvailable&&n.append("is_available",t.isAvailable),t.page&&n.append("page",t.page),t.limit&&n.append("limit",t.limit);const r=n.toString(),i=await pb.default.get("/floors/".concat(e,"/rooms").concat(r?"?".concat(r):""));return{rooms:i.data.rooms||[],totalCount:i.data.totalCount||0,status:i.data.status}}catch(i){var n,r;throw console.error("Error fetching rooms by floor:",i),new Error((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to fetch rooms by floor")}}},I2=P2,T2=()=>{const[e,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)({}),[u,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[j,w]=(0,t.useState)(""),[k,S]=(0,t.useState)({search:"",type:"",status:"",gender:"",distanceRange:"",sortBy:"distanceToCampus",sortOrder:"asc"}),[_,A]=(0,t.useState)({page:1,limit:10,total:0}),{isOpen:C,onOpen:P,onClose:I}=GG(),{isOpen:T,onOpen:N,onClose:E}=GG(),z=hb();(0,t.useEffect)((()=>{const e=setTimeout((()=>{S((e=>(0,o.A)((0,o.A)({},e),{},{search:j}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))}),500);return()=>clearTimeout(e)}),[j]),(0,t.useEffect)((()=>{(async()=>{await O(),await D(),await M()})()}),[]),(0,t.useEffect)((()=>{if(i.length>0){const e=H(i);r(e),A((t=>(0,o.A)((0,o.A)({},t),{},{total:e.length,page:1})))}}),[k,j,i]),(0,t.useEffect)((()=>{s.length>0&&e.length>0&&!x&&(console.log("Rooms and tenants loaded, enhancing data..."),L(),b(!0))}),[s,e,c,x]);const O=async()=>{try{var e;const t=await I2.getRooms(),n=(null===t||void 0===t?void 0:t.rooms)||(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.rooms)||[];console.log("Rooms fetched:",n),console.log("Room occupants details:",n.map((e=>({roomId:e.roomId,name:e.name,occupants:e.occupants})))),l(n)}catch(Pee){console.error("Error fetching rooms:",Pee)}},L=()=>{if(0===e.length||0===s.length)return;console.log("Enhancing tenant data with room assignments and invoice statistics...");const t=e.map((e=>{var t,n,r;const i=e.tenant_id||e.tenantId;console.log("Processing tenant ".concat(i," (").concat(e.name||(null===(t=e.user)||void 0===t?void 0:t.fullName),")"));const a=s.find((e=>{var t;return null===(t=e.occupants)||void 0===t?void 0:t.some((t=>{const n=t.tenantId===i&&"approved"===t.status;return console.log("  Checking room ".concat(e.roomId," (").concat(e.name,"), occupant ").concat(t.tenantId,", status ").concat(t.status,", match: ").concat(n)),n}))}));console.log("  Tenant ".concat(i," assigned room:"),a?"".concat(a.roomId," (").concat(a.name,")"):"None");const l=null===a||void 0===a||null===(n=a.occupants)||void 0===n?void 0:n.find((e=>e.tenantId===i&&"approved"===e.status)),d=c[i]||[];console.log("  Processing ".concat(d.length," invoices for tenant ").concat(i));let u=0,h=0;return d.forEach((e=>{const t=parseFloat(e.amount)||0;"paid"===e.status?u+=t:"unpaid"!==e.status&&"pending"!==e.status||(h+=t),console.log("    Invoice ".concat(e.invoice_id,": amount=").concat(t,", status=").concat(e.status))})),console.log("  Tenant ".concat(i," financial summary: totalPaid=").concat(u,", outstanding=").concat(h)),(0,o.A)((0,o.A)({},e),{},{current_room:a?(0,o.A)((0,o.A)({},a),{},{number:a.name,type:(null===(r=a.classification)||void 0===r?void 0:r.name)||"Standard",occupant_details:l}):null,computed_status:a?"active":"non active",financial_summary:{total_paid:u,outstanding_balance:h,total_invoices:d.length,paid_invoices:d.filter((e=>"paid"===e.status)).length,unpaid_invoices:d.filter((e=>"unpaid"===e.status||"pending"===e.status)).length}})}));r(t),console.log("Enhanced tenants with room info and financial data:",null===t||void 0===t?void 0:t[0])},D=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t;h(!0);const n={page:1,limit:100,sortBy:"distanceToCampus",sortOrder:"asc"};e&&(n._t=Date.now()),console.log("Fetching all tenants for client-side filtering",e?"(forced refresh)":"");const i=await Q0.getTenants(n);console.log("Tenants API response:",i);const l=(null===i||void 0===i?void 0:i.tenants)||(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.tenants)||[];console.log("Extracted tenants list:",l.length,"tenants");const c=l.map((e=>{var t,n,r,i,a,s,l;return(0,o.A)((0,o.A)({},e),{},{tenant_id:e.tenantId,name:null===(t=e.user)||void 0===t?void 0:t.fullName,email:null===(n=e.user)||void 0===n?void 0:n.email,type:null===(r=e.tenantType)||void 0===r?void 0:r.name,computed_status:null!==(i=e.bookings)&&void 0!==i&&i.some((e=>"approved"===e.bookingStatus))?"active":"non active",financial_summary:{total_paid:(null===(a=e.statistics)||void 0===a?void 0:a.totalAmountPaid)||0,outstanding_balance:(null===(s=e.statistics)||void 0===s?void 0:s.outstandingAmount)||0,total_invoices:(null===(l=e.statistics)||void 0===l?void 0:l.totalBookings)||0},current_room:e.currentRoomAssignment?{number:e.currentRoomAssignment.roomName||"Room ".concat(e.currentRoomAssignment.roomId),type:"Standard"}:null})}));console.log("Mapped tenants with affirmasi status:",c.filter((e=>9===e.tenantId)).map((e=>({tenantId:e.tenantId,name:e.name,isAfirmasi:e.isAfirmasi,jurusan:e.jurusan})))),a(c),b(!1),c.length>0&&await R(c),s.length>0&&setTimeout((()=>{L(),b(!0)}),100);const d=H(c);r(d),A((e=>(0,o.A)((0,o.A)({},e),{},{total:d.length}))),f(null)}catch(Pee){f(Pee.message),console.error("Error fetching tenants:",Pee)}finally{h(!1)}},R=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;if(0!==t.length)try{console.log("Fetching invoices for tenants:",t.length);const e={};await Promise.all(t.map((async t=>{const n=t.tenant_id||t.tenantId;if(n)try{var r;const t=await Q0.getTenantInvoices(n),i=(null===t||void 0===t?void 0:t.invoices)||(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.invoices)||[];e[n]=i,console.log("Invoices for tenant ".concat(n,":"),i)}catch(p){console.error("Error fetching invoices for tenant ".concat(n,":"),p),e[n]=[]}}))),d(e),console.log("All invoices fetched:",e)}catch(p){console.error("Error fetching invoices:",p)}},M=async()=>R(e),B=e=>{switch(e){case"active":return"green";case"non active":case"inactive":default:return"gray";case"pending":return"yellow";case"suspended":return"red"}},F=e=>{switch(e){case"mahasiswa":return"blue";case"non_mahasiswa":return"purple";default:return"gray"}},W=e=>{if(!e||0===e)return"gray";const t=parseFloat(e);return isNaN(t)?"gray":t>20?"green":t>10?"yellow":t>5?"orange":"red"},U=e=>{if(!e||0===e)return"Jarak Tidak Diketahui";const t=parseFloat(e);return isNaN(t)?"Data Jarak Tidak Valid":t>20?"Jauh - Prioritas Tinggi":t>10?"Sedang - Prioritas Menengah":t>5?"Dekat - Prioritas Rendah":"Sangat Dekat - Prioritas Terendah"},q=e=>{if(!e||0===e)return"Tidak diketahui";const t=parseFloat(e);return isNaN(t)?"Tidak valid":"".concat(t.toFixed(1)," km")},H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=[...e];const n=(k.search||j||"").toLowerCase().trim();if(n&&(t=t.filter((e=>{var t,r;const i=(e.name||(null===(t=e.user)||void 0===t?void 0:t.fullName)||"").toLowerCase(),o=(e.email||(null===(r=e.user)||void 0===r?void 0:r.email)||"").toLowerCase(),a=(e.nim||"").toLowerCase(),s=(e.phone||"").toLowerCase();return i.includes(n)||o.includes(n)||a.includes(n)||s.includes(n)}))),k.type&&(t=t.filter((e=>{var t;return(e.type||(null===(t=e.tenantType)||void 0===t?void 0:t.name))===k.type}))),k.gender){const e="male"===k.gender?"L":"P";t=t.filter((t=>t.gender===e))}k.status&&(t=t.filter((e=>(e.computed_status||(e.currentRoomAssignment?"active":e.isVerified?"inactive":"pending"))===k.status))),k.distanceRange&&(t=t.filter((e=>{const t=parseFloat(e.distanceToCampus||0);switch(k.distanceRange){case"0-5":return t>=0&&t<=5;case"5-10":return t>5&&t<=10;case"10-20":return t>10&&t<=20;case"20-50":return t>20&&t<=50;case"50+":return t>50;default:return!0}})));const r=k.sortBy||"distanceToCampus",a=k.sortOrder||"asc";return console.log("Applying sort: ".concat(r," ").concat(a," to ").concat(t.length," tenants")),t.sort(((e,t)=>{var n,i;let o,s;switch(r){case"distanceToCampus":case"distance_to_campus":o=parseFloat(e.distanceToCampus||0),s=parseFloat(t.distanceToCampus||0);break;case"name":o=(e.name||(null===(n=e.user)||void 0===n?void 0:n.fullName)||"").toLowerCase(),s=(t.name||(null===(i=t.user)||void 0===i?void 0:i.fullName)||"").toLowerCase();break;case"created_at":case"createdAt":o=new Date(e.createdAt||0),s=new Date(t.createdAt||0);break;case"status":o=e.computed_status||"non active",s=t.computed_status||"non active";break;default:return 0}if("distanceToCampus"===r||"distance_to_campus"===r){if(0===o&&0===s)return 0;if(0===o)return"asc"===a?1:-1;if(0===s)return"asc"===a?-1:1}return"desc"===a?o>s?-1:o<s?1:0:o<s?-1:o>s?1:0})),console.log("After sorting by ".concat(r," ").concat(a,":"),t.slice(0,5).map((e=>{var t;return{name:e.name||(null===(t=e.user)||void 0===t?void 0:t.fullName),distance:e.distanceToCampus,status:e.computed_status}}))),console.log("Applied filters - ".concat(t.length," tenants remain from ").concat(e.length)),console.log("Active filters:",(0,o.A)({searchQuery:n},k)),t};return p?(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"lg",children:[(0,Xo.jsx)(sy,{}),p]})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"lg",children:"Manajemen Penghuni"}),(0,Xo.jsxs)(Tb,{color:"gray.600",children:["Kelola seluruh penghuni dan informasi mereka - saat ini diurutkan berdasarkan ","distanceToCampus"===k.sortBy?"jarak ke kampus (".concat("asc"===k.sortOrder?"terdekat ke terjauh":"terjauh ke terdekat",")"):"".concat(k.sortBy," (").concat("asc"===k.sortOrder?"naik":"turun",")")]})]}),(0,Xo.jsx)(dS,{spacing:3,children:(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(y_,{}),variant:"outline",onClick:()=>{if(!e||0===e.length)return void alert("No tenant data to export.");const t=[["ID Penyewa","Nama Lengkap","Email","Nomor HP","Tipe Penyewa","Jenis Kelamin","Alamat","NIM","Jurusan","Status Verifikasi","Status Penyewa","Nama Kamar","Tanggal Registrasi","Total Booking","Booking Aktif","Booking Selesai","Total Pembayaran","Tagihan Belum Lunas","Rata-rata Pembayaran Bulanan","Jarak ke Kampus (km)","Tanggal Terakhir Pembayaran"],...e.map((e=>{var t,n,r,i,o,a,s,l,c,d,u,h,p,f,m;return[e.tenant_id||e.tenantId||"",e.name||(null===(t=e.user)||void 0===t?void 0:t.fullName)||"",e.email||(null===(n=e.user)||void 0===n?void 0:n.email)||"",e.phone||"",e.type||(null===(r=e.tenantType)||void 0===r?void 0:r.name)||"","L"===e.gender?"Laki-laki":"P"===e.gender?"Perempuan":"",e.address||"",e.nim||"",e.jurusan||"",e.isVerified?"Terverifikasi":"Belum",e.computed_status||e.status||"",(null===(i=e.current_room)||void 0===i?void 0:i.number)||(null===(o=e.currentRoomAssignment)||void 0===o?void 0:o.roomName)||"",(null===(a=e.statistics)||void 0===a?void 0:a.registrationDate)||e.createdAt||"",(null===(s=e.statistics)||void 0===s?void 0:s.totalBookings)||"",(null===(l=e.statistics)||void 0===l?void 0:l.activeBookings)||"",(null===(c=e.statistics)||void 0===c?void 0:c.completedBookings)||"",(null===(d=e.statistics)||void 0===d?void 0:d.totalAmountPaid)||(null===(u=e.financial_summary)||void 0===u?void 0:u.total_paid)||0,(null===(h=e.statistics)||void 0===h?void 0:h.outstandingAmount)||(null===(p=e.financial_summary)||void 0===p?void 0:p.outstanding_balance)||0,(null===(f=e.statistics)||void 0===f?void 0:f.averageMonthlyPayment)||"",e.distanceToCampus||"",(null===(m=e.statistics)||void 0===m?void 0:m.lastPaymentDate)||""]}))].map((e=>e.map((e=>'"'.concat(String(e).replace(/"/g,'""'),'"'))).join(","))).join("\r\n"),n=new Blob([t],{type:"text/csv"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="tenants_export.csv",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},children:"Ekspor"})})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",mb:3,color:"blue.600",children:[(0,Xo.jsx)(Zv,{as:W_,mr:2}),"Pencarian dan Filter Penyewa"]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(4, 1fr)"},gap:4,mb:4,children:[(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(W_,{color:"gray.400"})}),(0,Xo.jsx)(gj,{placeholder:"Cari nama, email, NIM...",value:j,onChange:e=>w(e.target.value)})]}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Tipe",value:k.type,onChange:e=>{S((t=>(0,o.A)((0,o.A)({},t),{},{type:e.target.value}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:[(0,Xo.jsx)("option",{value:"mahasiswa",children:"Mahasiswa"}),(0,Xo.jsx)("option",{value:"non_mahasiswa",children:"Non-Mahasiswa"})]}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Status",value:k.status,onChange:e=>{S((t=>(0,o.A)((0,o.A)({},t),{},{status:e.target.value}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:[(0,Xo.jsx)("option",{value:"active",children:"Aktif"}),(0,Xo.jsx)("option",{value:"non active",children:"Tidak Aktif"})]}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Gender",value:k.gender,onChange:e=>{S((t=>(0,o.A)((0,o.A)({},t),{},{gender:e.target.value}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:[(0,Xo.jsx)("option",{value:"male",children:"Laki-laki"}),(0,Xo.jsx)("option",{value:"female",children:"Perempuan"})]})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",mb:3,color:"purple.600",children:[(0,Xo.jsx)(Zv,{as:N_,mr:2}),"Filter Jarak ke Kampus & Pengurutan"]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)"},gap:4,children:[(0,Xo.jsxs)(SQ,{placeholder:"Semua Jarak",value:k.distanceRange,onChange:e=>{S((t=>(0,o.A)((0,o.A)({},t),{},{distanceRange:e.target.value}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},borderColor:"purple.300",_focus:{borderColor:"purple.500"},children:[(0,Xo.jsx)("option",{value:"0-5",children:"0-5 km (Sangat Dekat)"}),(0,Xo.jsx)("option",{value:"5-10",children:"5-10 km (Dekat)"}),(0,Xo.jsx)("option",{value:"10-20",children:"10-20 km (Sedang)"}),(0,Xo.jsx)("option",{value:"20-50",children:"20-50 km (Jauh)"}),(0,Xo.jsx)("option",{value:"50+",children:"50+ km (Sangat Jauh)"})]}),(0,Xo.jsxs)(SQ,{value:k.sortBy,onChange:e=>{S((t=>(0,o.A)((0,o.A)({},t),{},{sortBy:e.target.value}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},borderColor:"purple.300",children:[(0,Xo.jsx)("option",{value:"distanceToCampus",children:"Urutkan berdasarkan Jarak"}),(0,Xo.jsx)("option",{value:"name",children:"Urutkan berdasarkan Nama"}),(0,Xo.jsx)("option",{value:"created_at",children:"Urutkan berdasarkan Tanggal Gabung"}),(0,Xo.jsx)("option",{value:"status",children:"Urutkan berdasarkan Status"})]}),(0,Xo.jsx)(SQ,{value:k.sortOrder,onChange:e=>{S((t=>(0,o.A)((0,o.A)({},t),{},{sortOrder:e.target.value}))),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},borderColor:"purple.300",children:"distanceToCampus"===k.sortBy?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("option",{value:"asc",children:"Terdekat ke Terjauh (Prioritas Tinggi dulu)"}),(0,Xo.jsx)("option",{value:"desc",children:"Terjauh ke Terdekat (Jarak Jauh dulu)"})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("option",{value:"asc",children:"Naik (A-Z, Lama ke Baru)"}),(0,Xo.jsx)("option",{value:"desc",children:"Turun (Z-A, Baru ke Lama)"})]})})]})]}),(0,Xo.jsx)(Eb,{w:"full",children:(0,Xo.jsxs)(dS,{justify:"space-between",align:"center",wrap:"wrap",spacing:4,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(S_,{}),variant:"outline",colorScheme:"gray",onClick:()=>{w(""),S({search:"",type:"",status:"",gender:"",distanceRange:"",sortBy:"distanceToCampus",sortOrder:"asc"}),A((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:"Reset Semua Filter"}),(0,Xo.jsxs)(dS,{spacing:2,flex:"1",justify:"flex-end",wrap:"wrap",children:[(j||k.search)&&(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"subtle",children:["Pencarian: ",j||k.search]}),k.type&&(0,Xo.jsxs)(r_,{colorScheme:"green",variant:"subtle",children:["Tipe: ","mahasiswa"===k.type?"Mahasiswa":"Non-Mahasiswa"]}),k.status&&(0,Xo.jsxs)(r_,{colorScheme:"orange",variant:"subtle",children:["Status: ",k.status]}),k.gender&&(0,Xo.jsxs)(r_,{colorScheme:"purple",variant:"subtle",children:["Gender: ","male"===k.gender?"Laki-laki":"Perempuan"]}),k.distanceRange&&(0,Xo.jsxs)(r_,{colorScheme:"teal",variant:"subtle",children:["Jarak: ",k.distanceRange," km"]}),"distanceToCampus"!==k.sortBy&&(0,Xo.jsxs)(r_,{colorScheme:"gray",variant:"subtle",children:["Urut: ",k.sortBy]})]})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsxs)(Kb,{p:0,children:[(0,Xo.jsx)(Eb,{overflowX:"auto",children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Penghuni"}),(0,Xo.jsx)(T0,{children:"Tipe"}),(0,Xo.jsx)(T0,{children:"Kontak"}),(0,Xo.jsx)(T0,{cursor:"pointer",children:(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Zv,{as:N_}),(0,Xo.jsx)(Tb,{children:"Jarak ke Kampus"}),"distanceToCampus"===k.sortBy&&(0,Xo.jsx)(r_,{size:"sm",colorScheme:"purple",variant:"outline",children:"asc"===k.sortOrder?"\u2191 Terdekat dulu":"\u2193 Terjauh dulu"})]})}),(0,Xo.jsx)(T0,{children:"Kamar"}),(0,Xo.jsx)(T0,{children:"Keuangan"}),(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Aksi"})]})}),(0,Xo.jsx)(N0,{children:u?Array.from({length:5}).map(((e,t)=>(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"40px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(FS,{height:"20px"})})]},"skeleton-".concat(t)))):e.length>0?(()=>{const t=(_.page-1)*_.limit,n=t+_.limit;return e.slice(t,n)})().map((e=>{var t,r,i,a,l,c,d,u,h;return(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(xZ,{size:"sm",name:e.name||(null===(t=e.user)||void 0===t?void 0:t.fullName),src:e.profile_picture}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:String(e.name||(null===(r=e.user)||void 0===r?void 0:r.fullName)||"N/A")}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["ID: ",String(e.tenant_id||e.tenantId||"N/A")]}),e.nim&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"blue.500",children:["NIM: ",String(e.nim)]})]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(r_,{colorScheme:F(e.type||(null===(i=e.tenantType)||void 0===i?void 0:i.name)),children:"mahasiswa"===e.type||"mahasiswa"===(null===(a=e.tenantType)||void 0===a?void 0:a.name)?"Mahasiswa":"Non-Mahasiswa"}),("mahasiswa"===e.type||"mahasiswa"===(null===(l=e.tenantType)||void 0===l?void 0:l.name))&&(0,Xo.jsxs)(Xo.Fragment,{children:[e.jurusan&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"blue.600",fontWeight:"medium",children:["\ud83d\udcda ",e.jurusan]}),void 0!==e.isAfirmasi&&(0,Xo.jsx)(r_,{size:"sm",colorScheme:e.isAfirmasi?"orange":"gray",variant:"subtle",children:e.isAfirmasi?"\ud83c\udfaf Afirmasi":"Reguler"})]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(T_,{size:12}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:String(e.email||(null===(c=e.user)||void 0===c?void 0:c.email)||"N/A")})]}),(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(D_,{size:12}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:String(e.phone||"N/A")})]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{spacing:1,align:"flex-start",children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:N_,color:"".concat(W(e.distanceToCampus),".500")}),(0,Xo.jsx)(r_,{colorScheme:W(e.distanceToCampus),variant:"subtle",fontSize:"xs",px:2,children:q(e.distanceToCampus)})]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:U(e.distanceToCampus)})]})}),(0,Xo.jsx)(z0,{children:e.current_room?(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["Kamar ",e.current_room.number]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.current_room.type})]}):(0,Xo.jsx)(Tb,{color:"gray.500",children:"Belum ada kamar"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Zv,{as:g_,color:"green.500",boxSize:3}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"green.600",fontWeight:"medium",children:["Lunas: Rp ",((null===(d=e.financial_summary)||void 0===d?void 0:d.total_paid)||0).toLocaleString()]})]}),(null===(u=e.financial_summary)||void 0===u?void 0:u.outstanding_balance)>0&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Zv,{as:g_,color:"red.500",boxSize:3}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"red.600",fontWeight:"medium",children:["Tagihan: Rp ",e.financial_summary.outstanding_balance.toLocaleString()]})]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[(null===(h=e.financial_summary)||void 0===h?void 0:h.total_invoices)||0," tagihan"]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:B(e.computed_status||e.status),children:(()=>{const t=String(e.computed_status||e.status||"Unknown");return"active"===t?"Aktif":"inactive"===t?"Tidak Aktif":"pending"===t?"Menunggu":"suspended"===t?"Ditangguhkan":t})()})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm"}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(j_,{}),onClick:()=>(async e=>{try{var t,r,i,a,l,c,d,u,h,p,f;console.log("Attempting to fetch tenant details for ID:",e);const v=await Q0.getTenantById(e);console.log("Received tenant API response:",v);const y=(null===v||void 0===v?void 0:v.tenant)||v;console.log("Fetching additional data for tenant:",e);try{console.log("Attempting direct payment fetch...");const t=await Q0.getTenantPaymentHistory(e);console.log("Direct payment response:",t);const r=(await Promise.resolve().then(n.bind(n,9371))).default,i=await r.get("/tenants/".concat(e,"/payments"));console.log("Direct axios payment response:",i.data)}catch(m){console.error("Direct payment fetch failed:",m)}const[x,b,j]=await Promise.allSettled([Q0.getTenantDocuments(e),Q0.getTenantPaymentHistory(e),Q0.getTenantBookings(e)]);console.log("Documents response:",x),console.log("Payments response:",b),console.log("Bookings response:",j),"rejected"===x.status&&console.error("Documents API failed:",x.reason),"rejected"===b.status&&console.error("Payments API failed:",b.reason),"rejected"===j.status&&console.error("Bookings API failed:",j.reason);const w=s.find((t=>{var n;return null===(n=t.occupants)||void 0===n?void 0:n.some((t=>t.tenantId===e&&"approved"===t.status))})),k=null===w||void 0===w||null===(t=w.occupants)||void 0===t?void 0:t.find((t=>t.tenantId===e&&"approved"===t.status)),S=(0,o.A)((0,o.A)({},y),{},{current_room:w?(0,o.A)((0,o.A)({},w),{},{number:w.name,type:(null===(r=w.classification)||void 0===r?void 0:r.name)||"Standard",occupant_details:k}):null,computed_status:w?"active":"non active",documents:"fulfilled"===x.status&&((null===(i=x.value)||void 0===i?void 0:i.documents)||(null===(a=x.value)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.documents))||[],payments:"fulfilled"===b.status&&((null===(c=b.value)||void 0===c?void 0:c.payments)||(null===(d=b.value)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.payments))||[],bookings:"fulfilled"===j.status&&((null===(h=j.value)||void 0===h?void 0:h.bookings)||(null===(p=j.value)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.bookings))||[]});console.log("Extracted payments array:",S.payments),console.log("Extracted bookings array:",S.bookings),console.log("Extracted documents array:",S.documents),console.log("Enhanced tenant details:",S),g(S),P()}catch(Pee){console.error("Error fetching tenant details:",Pee),z({title:"Error",description:Pee.message,status:"error",duration:5e3,isClosable:!0})}})(e.tenant_id||e.tenantId),children:"Lihat Detail"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(b_,{}),onClick:()=>(async e=>{try{console.log("Opening edit modal for tenant ID:",e);const t=await Q0.getTenantById(e),n=(null===t||void 0===t?void 0:t.tenant)||t;console.log("Fetched tenant details for editing:",n),y(n),N()}catch(Pee){console.error("Error fetching tenant for edit:",Pee),z({title:"Error",description:"Gagal memuat data penyewa untuk diedit",status:"error",duration:5e3,isClosable:!0})}})(e.tenant_id||e.tenantId),color:"blue.600",children:"Edit Data Penyewa"})]})]})})]},e.tenant_id||e.tenantId)})):(0,Xo.jsx)(P0,{children:(0,Xo.jsx)(z0,{colSpan:8,textAlign:"center",py:8,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"lg",children:i.length>0?"Tidak ada penghuni yang sesuai dengan filter":"Tidak ada penghuni ditemukan"}),i.length>0&&(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",onClick:()=>{w(""),S({search:"",type:"",status:"",gender:"",distanceRange:"",sortBy:"distanceToCampus",sortOrder:"asc"})},children:"Reset Filter"})]})})})})]})}),!u&&0===e.length&&(0,Xo.jsxs)(Pb,{spacing:4,py:12,px:6,textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:tA,size:"48px",color:"gray.400"}),(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",color:"gray.600",children:"Tidak ada penghuni ditemukan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",maxW:"md",children:0===i.length?"Belum ada data penghuni yang terdaftar.":"Tidak ada penghuni yang sesuai dengan filter yang dipilih. Coba ubah atau hapus beberapa filter."})]}),i.length>0&&(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",colorScheme:"purple",onClick:()=>{S({search:"",type:"",status:"",gender:"",distanceRange:"",sortBy:"distance_to_campus",sortOrder:"asc"}),w("")},children:"Hapus Semua Filter"})]}),!u&&e.length>0&&(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",p:4,borderTop:"1px",borderColor:"gray.200",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Menampilkan ",e.length>0?(_.page-1)*_.limit+1:0," sampai"," ",Math.min(_.page*_.limit,e.length)," dari"," ",e.length," hasil",e.length!==i.length&&(0,Xo.jsxs)(Tb,{as:"span",color:"blue.600",ml:2,children:["(difilter dari ",i.length," total penghuni)"]})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",isDisabled:1===_.page,onClick:()=>A((e=>(0,o.A)((0,o.A)({},e),{},{page:e.page-1}))),children:"Sebelumnya"}),(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",isDisabled:_.page*_.limit>=e.length,onClick:()=>A((e=>(0,o.A)((0,o.A)({},e),{},{page:e.page+1}))),children:"Berikutnya"})]})]})]})}),(0,Xo.jsx)(u1,{isOpen:C,onClose:I,tenant:m,onUpdate:async(e,t)=>{try{await Q0.updateTenant(e,t),z({title:"Success",description:"Tenant updated successfully",status:"success",duration:3e3,isClosable:!0}),D(),I()}catch(Pee){z({title:"Error",description:Pee.message,status:"error",duration:5e3,isClosable:!0})}}}),(0,Xo.jsx)(w2,{isOpen:T,onClose:E,tenant:v,onUpdate:async()=>{console.log("Refreshing tenant data after update..."),a([]),r([]),await D(!0),s.length>0&&(console.log("Enhancing tenant data after update..."),setTimeout((()=>{L(),b(!0)}),200)),console.log("Tenant data refresh completed")}})]})})},N2=["area","colSpan","colStart","colEnd","rowEnd","rowSpan","rowStart"];function E2(e){return _b(e,(e=>"auto"===e?"auto":"span ".concat(e,"/span ").concat(e)))}const z2=Dv((function(e,t){const{area:n,colSpan:r,colStart:i,colEnd:a,rowEnd:s,rowSpan:l,rowStart:c}=e,d=Jo(e,N2),u=hv({gridArea:n,gridColumn:E2(r),gridRow:E2(l),gridColumnStart:i,gridColumnEnd:a,gridRowStart:c,gridRowEnd:s});return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:t,__css:u},d))}));z2.displayName="GridItem";const O2=e=>(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({viewBox:"0 0 24 24"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})})),L2=e=>(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({viewBox:"0 0 24 24"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})}));function D2(e,t){let n=function(e){const t=parseFloat(e);return"number"!==typeof t||Number.isNaN(t)?0:t}(e);const r=10**(null!==t&&void 0!==t?t:10);return n=Math.round(n*r)/r,t?n.toFixed(t):n.toString()}function R2(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}function M2(e,t,n){return 100*(e-t)/(n-t)}function B2(e,t,n){return(n-t)*e+t}function F2(e,t,n){return D2(Math.round((e-t)/n)*n+t,R2(n))}function W2(e,t,n){return null==e?e:(n<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),n))}function U2(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function q2(e,t){return Math.max(R2(t),R2(e))}function H2(e,t,n){const r=U2(e);if(Number.isNaN(r))return;const i=q2(r,t);return D2(r,null!==n&&void 0!==n?n:i)}function V2(e,n,r,i){(0,t.useEffect)((()=>{var t;if(!e.current||!i)return;const o=null!==(t=e.current.ownerDocument.defaultView)&&void 0!==t?t:window,a=Array.isArray(n)?n:[n],s=new o.MutationObserver((e=>{for(const t of e)"attributes"===t.type&&t.attributeName&&a.includes(t.attributeName)&&r(t)}));return s.observe(e.current,{attributes:!0,attributeFilter:a}),()=>s.disconnect()}))}function G2(e,n){const[r,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),c=(0,t.useRef)(null),d=()=>clearTimeout(c.current);!function(e,n){const r=fd(e);(0,t.useEffect)((()=>{let e=null;const t=()=>r();return null!==n&&(e=window.setInterval(t,n)),()=>{e&&window.clearInterval(e)}}),[n,r])}((()=>{"increment"===o&&e(),"decrement"===o&&n()}),r?50:null);const u=(0,t.useCallback)((()=>{s&&e(),c.current=setTimeout((()=>{l(!1),i(!0),a("increment")}),300)}),[e,s]),h=(0,t.useCallback)((()=>{s&&n(),c.current=setTimeout((()=>{l(!1),i(!0),a("decrement")}),300)}),[n,s]),p=(0,t.useCallback)((()=>{l(!0),i(!1),d()}),[]);return(0,t.useEffect)((()=>()=>d()),[]),{up:u,down:h,stop:p,isSpinning:r}}const K2=["focusInputOnChange","clampValueOnBlur","keepWithinRange","min","max","step","isReadOnly","isDisabled","isRequired","isInvalid","pattern","inputMode","allowMouseWheel","id","onChange","precision","name","aria-describedby","aria-label","aria-labelledby","onFocus","onBlur","onInvalid","getAriaValueText","isValidCharacter","format","parse"],Y2=/^[Ee0-9+\-.]$/;function Z2(e){return Y2.test(e)}function J2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:i=!0,min:a=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:l=1,isReadOnly:c,isDisabled:d,isRequired:u,isInvalid:h,pattern:p="[0-9]*(.[0-9]+)?",inputMode:f="decimal",allowMouseWheel:m,id:g,onChange:v,precision:y,name:x,"aria-describedby":b,"aria-label":j,"aria-labelledby":w,onFocus:k,onBlur:S,onInvalid:_,getAriaValueText:A,isValidCharacter:C,format:P,parse:I}=e,T=Jo(e,K2),N=fd(k),E=fd(S),z=fd(_),O=fd(null!==C&&void 0!==C?C:Z2),L=fd(A),D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onChange:n,precision:r,defaultValue:i,value:o,step:a=1,min:s=Number.MIN_SAFE_INTEGER,max:l=Number.MAX_SAFE_INTEGER,keepWithinRange:c=!0}=e,d=fd(n),[u,h]=(0,t.useState)((()=>{var e;return null==i?"":null!==(e=H2(i,a,r))&&void 0!==e?e:""})),p="undefined"!==typeof o,f=p?o:u,m=q2(U2(f),a),g=null!==r&&void 0!==r?r:m,v=(0,t.useCallback)((e=>{e!==f&&(p||h(e.toString()),null===d||void 0===d||d(e.toString(),U2(e)))}),[d,p,f]),y=(0,t.useCallback)((e=>{let t=e;return c&&(t=W2(t,s,l)),D2(t,g)}),[g,c,l,s]),x=(0,t.useCallback)((function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;e=""===f?U2(t):U2(f)+t,e=y(e),v(e)}),[y,a,v,f]),b=(0,t.useCallback)((function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;e=""===f?U2(-t):U2(f)-t,e=y(e),v(e)}),[y,a,v,f]),j=(0,t.useCallback)((()=>{let e;var t;e=null==i?"":null!==(t=H2(i,a,r))&&void 0!==t?t:s,v(e)}),[i,r,a,v,s]),w=(0,t.useCallback)((e=>{var t;const n=null!==(t=H2(e,a,g))&&void 0!==t?t:s;v(n)}),[g,a,v,s]),k=U2(f);return{isOutOfRange:k>l||k<s,isAtMax:k===l,isAtMin:k===s,precision:g,value:f,valueAsNumber:k,update:v,reset:j,increment:x,decrement:b,clamp:y,cast:w,setValue:h}}(e),{update:R,increment:M,decrement:B}=D,[F,W]=(0,t.useState)(!1),U=!(c||d),q=(0,t.useRef)(null),H=(0,t.useRef)(null),V=(0,t.useRef)(null),G=(0,t.useRef)(null),K=(0,t.useCallback)((e=>e.split("").filter(O).join("")),[O]),Y=(0,t.useCallback)((e=>{var t;return null!==(t=null===I||void 0===I?void 0:I(e))&&void 0!==t?t:e}),[I]),Z=(0,t.useCallback)((e=>{var t;return(null!==(t=null===P||void 0===P?void 0:P(e))&&void 0!==t?t:e).toString()}),[P]);pd((()=>{(D.valueAsNumber>s||D.valueAsNumber<a)&&(null===z||void 0===z||z("rangeOverflow",Z(D.value),D.valueAsNumber))}),[D.valueAsNumber,D.value,Z,z]),Uc((()=>{if(!q.current)return;if(q.current.value!=D.value){const e=Y(q.current.value);D.setValue(K(e))}}),[Y,K]);const J=(0,t.useCallback)((function(){U&&M(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l)}),[M,U,l]),X=(0,t.useCallback)((function(){U&&B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l)}),[B,U,l]),$=G2(J,X);V2(V,"disabled",$.stop,$.isSpinning),V2(G,"disabled",$.stop,$.isSpinning);const Q=(0,t.useCallback)((e=>{if(e.nativeEvent.isComposing)return;const t=Y(e.currentTarget.value);R(K(t)),H.current={start:e.currentTarget.selectionStart,end:e.currentTarget.selectionEnd}}),[R,K,Y]),ee=(0,t.useCallback)((e=>{var t,n,r;null===N||void 0===N||N(e),H.current&&(e.currentTarget.selectionStart=null!==(t=H.current.start)&&void 0!==t?t:null===(n=e.currentTarget.value)||void 0===n?void 0:n.length,e.currentTarget.selectionEnd=null!==(r=H.current.end)&&void 0!==r?r:e.currentTarget.selectionStart)}),[N]),te=(0,t.useCallback)((e=>{if(e.nativeEvent.isComposing)return;(function(e,t){if(null==e.key)return!0;const n=e.ctrlKey||e.altKey||e.metaKey;return!(1===e.key.length&&!n)||t(e.key)})(e,O)||e.preventDefault();const t=ne(e)*l,n={ArrowUp:()=>J(t),ArrowDown:()=>X(t),Home:()=>R(a),End:()=>R(s)}[e.key];n&&(e.preventDefault(),n(e))}),[O,l,J,X,R,a,s]),ne=e=>{let t=1;return(e.metaKey||e.ctrlKey)&&(t=.1),e.shiftKey&&(t=10),t},re=(0,t.useMemo)((()=>{const e=null===L||void 0===L?void 0:L(D.value);if(null!=e)return e;const t=D.value.toString();return t||void 0}),[D.value,L]),ie=(0,t.useCallback)((()=>{let e=D.value;if(""===D.value)return;/^[eE]/.test(D.value.toString())?D.setValue(""):(D.valueAsNumber<a&&(e=a),D.valueAsNumber>s&&(e=s),D.cast(e))}),[D,s,a]),oe=(0,t.useCallback)((()=>{W(!1),r&&ie()}),[r,W,ie]),ae=(0,t.useCallback)((()=>{n&&requestAnimationFrame((()=>{var e;null===(e=q.current)||void 0===e||e.focus()}))}),[n]),se=(0,t.useCallback)((e=>{e.preventDefault(),$.up(),ae()}),[ae,$]),le=(0,t.useCallback)((e=>{e.preventDefault(),$.down(),ae()}),[ae,$]);eK((()=>q.current),"wheel",(e=>{var t,n;const r=(null!==(t=null===(n=q.current)||void 0===n?void 0:n.ownerDocument)&&void 0!==t?t:document).activeElement===q.current;if(!m||!r)return;e.preventDefault();const i=ne(e)*l,o=Math.sign(e.deltaY);-1===o?J(i):1===o&&X(i)}),{passive:!1});const ce=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=d||i&&D.isAtMax;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,V),role:"button",tabIndex:-1,onPointerDown:dj(e.onPointerDown,(e=>{0!==e.button||n||se(e)})),onPointerLeave:dj(e.onPointerLeave,$.stop),onPointerUp:dj(e.onPointerUp,$.stop),disabled:n,"aria-disabled":Xb(n)})}),[D.isAtMax,i,se,$.stop,d]),de=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=d||i&&D.isAtMin;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,G),role:"button",tabIndex:-1,onPointerDown:dj(e.onPointerDown,(e=>{0!==e.button||n||le(e)})),onPointerLeave:dj(e.onPointerLeave,$.stop),onPointerUp:dj(e.onPointerUp,$.stop),disabled:n,"aria-disabled":Xb(n)})}),[D.isAtMin,i,le,$.stop,d]),ue=(0,t.useCallback)((function(){var e,t,n,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({name:x,inputMode:f,type:"text",pattern:p,"aria-labelledby":w,"aria-label":j,"aria-describedby":b,id:g,disabled:d,role:"spinbutton"},i),{},{readOnly:null!==(e=i.readOnly)&&void 0!==e?e:c,"aria-readonly":null!==(t=i.readOnly)&&void 0!==t?t:c,"aria-required":null!==(n=i.required)&&void 0!==n?n:u,required:null!==(r=i.required)&&void 0!==r?r:u,ref:Yb(q,l),value:Z(D.value),"aria-valuemin":a,"aria-valuemax":s,"aria-valuenow":Number.isNaN(D.valueAsNumber)?void 0:D.valueAsNumber,"aria-invalid":Xb(null!==h&&void 0!==h?h:D.isOutOfRange),"aria-valuetext":re,autoComplete:"off",autoCorrect:"off",onChange:dj(i.onChange,Q),onKeyDown:dj(i.onKeyDown,te),onFocus:dj(i.onFocus,ee,(()=>W(!0))),onBlur:dj(i.onBlur,E,oe)})}),[x,f,p,w,j,Z,b,g,d,u,c,h,D.value,D.valueAsNumber,D.isOutOfRange,a,s,re,Q,te,ee,E,oe]);return{value:Z(D.value),valueAsNumber:D.valueAsNumber,isFocused:F,isDisabled:d,isReadOnly:c,getIncrementButtonProps:ce,getDecrementButtonProps:de,getInputProps:ue,htmlProps:T}}const X2=["htmlProps"],[$2,Q2]=Nc({name:"NumberInputStylesContext",errorMessage:"useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<NumberInput />\" "}),[e5,t5]=Nc({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),n5=Dv((function(e,n){const r=Gv("NumberInput",e),i=J2(fj(Ov(e))),{htmlProps:a}=i,s=Jo(i,X2),l=(0,t.useMemo)((()=>s),[s]);return(0,Xo.jsx)(e5,{value:l,children:(0,Xo.jsx)($2,{value:r,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},a),{},{ref:n,className:Lv("chakra-numberinput",e.className),__css:(0,o.A)({position:"relative",zIndex:0},r.root)}))})})}));n5.displayName="NumberInput";const r5=Dv((function(e,t){const n=Q2();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({"aria-hidden":!0,ref:t},e),{},{__css:(0,o.A)({display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1},n.stepperGroup)}))}));r5.displayName="NumberInputStepper";const i5=Dv((function(e,t){const{getInputProps:n}=t5(),r=n(e,t),i=Q2();return(0,Xo.jsx)(Tv.input,(0,o.A)((0,o.A)({},r),{},{className:Lv("chakra-numberinput__field",e.className),__css:(0,o.A)({width:"100%"},i.field)}))}));i5.displayName="NumberInputField";const o5=Tv("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),a5=Dv((function(e,t){var n;const r=Q2(),{getDecrementButtonProps:i}=t5(),a=i(e,t);return(0,Xo.jsx)(o5,(0,o.A)((0,o.A)({},a),{},{__css:r.stepper,children:null!==(n=e.children)&&void 0!==n?n:(0,Xo.jsx)(O2,{})}))}));a5.displayName="NumberDecrementStepper";const s5=Dv((function(e,t){var n;const{getIncrementButtonProps:r}=t5(),i=r(e,t),a=Q2();return(0,Xo.jsx)(o5,(0,o.A)((0,o.A)({},i),{},{__css:a.stepper,children:null!==(n=e.children)&&void 0!==n?n:(0,Xo.jsx)(L2,{})}))}));s5.displayName="NumberIncrementStepper";const l5=["leastDestructiveRef"];function c5(e){const{leastDestructiveRef:t}=e,n=Jo(e,l5);return(0,Xo.jsx)(JZ,(0,o.A)((0,o.A)({},n),{},{initialFocusRef:t}))}const d5=Dv(((e,t)=>(0,Xo.jsx)(Y0,(0,o.A)({ref:t,role:"alertdialog"},e))));function u5(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ssr:r=!0,fallback:i}=n,{getWindow:a}=function(){let{defer:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[,n]=(0,t.useReducer)((e=>e+1),0);return Uc((()=>{e&&n()}),[e]),(0,t.useContext)(qc)}(),s=Array.isArray(e)?e:[e];let l=Array.isArray(i)?i:[i];l=l.filter((e=>null!=e));const[c,d]=(0,t.useState)((()=>s.map(((e,t)=>({media:e,matches:r?!!l[t]:a().matchMedia(e).matches})))));return(0,t.useEffect)((()=>{const e=a();d(s.map((t=>({media:t,matches:e.matchMedia(t).matches}))));const t=s.map((t=>e.matchMedia(t))),n=e=>{d((t=>t.slice().map((t=>t.media===e.media?(0,o.A)((0,o.A)({},t),{},{matches:e.matches}):t))))};return t.forEach((e=>{"function"===typeof e.addListener?e.addListener(n):e.addEventListener("change",n)})),()=>{t.forEach((e=>{"function"===typeof e.removeListener?e.removeListener(n):e.removeEventListener("change",n)}))}}),[a]),c.map((e=>e.matches))}function h5(e,t){var n;const r=function(e){var t,n;const r=Fn(e)?e:{fallback:null!==e&&void 0!==e?e:"base"},i=Fv().__breakpoints.details.map((e=>{let{minMaxQuery:t,breakpoint:n}=e;return{breakpoint:n,query:t.replace("@media screen and ","")}})),o=i.map((e=>e.breakpoint===r.fallback)),a=u5(i.map((e=>e.query)),{fallback:o,ssr:r.ssr}).findIndex((e=>1==e));return null!==(t=null===(n=i[a])||void 0===n?void 0:n.breakpoint)&&void 0!==t?t:r.fallback}(Fn(t)?t:{fallback:null!==t&&void 0!==t?t:"base"}),i=Fv();if(!r)return;const o=Array.from((null===(n=i.__breakpoints)||void 0===n?void 0:n.keys)||[]),a=Array.isArray(e)?Object.fromEntries(Object.entries(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sb;const n={};return e.forEach(((e,r)=>{const i=t[r];null!=e&&(n[i]=e)})),n}(e,o)).map((e=>{let[t,n]=e;return[t,n]}))):e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sb,r=Object.keys(e).indexOf(t);if(-1!==r)return e[t];let i=n.indexOf(t);for(;i>=0;){const t=n[i];if(e.hasOwnProperty(t)){r=i;break}i-=1}if(-1!==r)return e[n[r]]}(a,r,o)}const p5=Vj({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),f5=Vj({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"}),m5=e=>{let{currentPage:t,totalPages:n,onPageChange:r}=e;const i=h5({base:!0,md:!1});return n<=1?null:(0,Xo.jsxs)(dS,{spacing:2,justify:"center",children:[(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(p5,{}),onClick:()=>{t>1&&r(t-1)},isDisabled:1===t,"aria-label":"Previous page",size:"sm",variant:"outline"}),(()=>{const e=[],o=i?3:5;let a=Math.max(1,t-Math.floor(o/2)),s=Math.min(n,a+o-1);s-a+1<o&&(a=Math.max(1,s-o+1)),a>1&&(e.push((0,Xo.jsx)(Bj,{onClick:()=>r(1),size:"sm",variant:"outline",colorScheme:"brand",children:"1"},1)),a>2&&e.push((0,Xo.jsx)(Tb,{mx:2,children:"..."},"ellipsis-start")));for(let n=a;n<=s;n++)e.push((0,Xo.jsx)(Bj,{onClick:()=>r(n),size:"sm",colorScheme:"brand",variant:t===n?"solid":"outline",children:n},n));return s<n&&(s<n-1&&e.push((0,Xo.jsx)(Tb,{mx:2,children:"..."},"ellipsis-end")),e.push((0,Xo.jsx)(Bj,{onClick:()=>r(n),size:"sm",variant:"outline",colorScheme:"brand",children:n},n))),e})(),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(f5,{}),onClick:()=>{t<n&&r(t+1)},isDisabled:t===n,"aria-label":"Next page",size:"sm",variant:"outline"})]})},g5=e=>{let{images:n=[],onImagesChange:r,maxImages:i=10,maxFileSize:a=5242880,acceptedTypes:s=["image/jpeg","image/png","image/webp"],showPrimaryToggle:l=!0,readOnly:c=!1}=e;const[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),f=(0,t.useRef)(null),m=hb(),g=(0,t.useCallback)((async e=>{if(c)return;const t=Array.from(e);if(n.length+t.length>i)return void m({title:"Too many images",description:"Maximum ".concat(i," images allowed"),status:"error",duration:3e3,isClosable:!0});const o=[];for(const n of t)s.includes(n.type)?n.size>a?m({title:"File too large",description:"".concat(n.name," exceeds ").concat(Math.round(a/1024/1024),"MB limit"),status:"error",duration:3e3,isClosable:!0}):o.push(n):m({title:"Invalid file type",description:"".concat(n.name," is not a supported image format"),status:"error",duration:3e3,isClosable:!0});if(0!==o.length){u(!0);try{const e=await Promise.all(o.map((async(e,t)=>new Promise((r=>{const i=new FileReader;i.onload=i=>{r({id:"temp_".concat(Date.now(),"_").concat(t),file:e,imageData:i.target.result,imageName:e.name,contentType:e.type,isPrimary:0===n.length&&0===t,isUploaded:!1,uploadProgress:0})},i.readAsDataURL(e)})))));r([...n,...e]),m({title:"Images added",description:"".concat(e.length," image(s) ready for upload"),status:"success",duration:3e3,isClosable:!0})}catch(l){m({title:"Error",description:"Failed to process images",status:"error",duration:3e3,isClosable:!0})}finally{u(!1)}}}),[n,r,i,a,s,c,m]),v=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),p(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&g(e.dataTransfer.files)}),[g]),y=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),p(!0)}),[]),x=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),p(!1)}),[]);return(0,Xo.jsxs)(Pb,{spacing:6,w:"full",children:[!c&&n.length<i&&(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",mb:3,children:["Upload Images (",n.length,"/",i,")"]}),(0,Xo.jsx)(Eb,{border:"2px dashed",borderColor:h?"blue.500":"gray.300",borderRadius:"lg",p:8,textAlign:"center",cursor:"pointer",bg:h?"blue.50":"gray.50",_hover:{borderColor:"blue.400",bg:"blue.50"},onDrop:v,onDragOver:y,onDragLeave:x,onClick:()=>{var e;c||null===(e=f.current)||void 0===e||e.click()},children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Q_,{size:32,color:"gray"}),(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Click to upload or drag and drop"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["PNG, JPG, WEBP up to ",Math.round(a/1024/1024),"MB"]})]}),d&&(0,Xo.jsx)(a0,{isIndeterminate:!0,w:"200px",size:"sm"})]})}),(0,Xo.jsx)(gj,{ref:f,type:"file",multiple:!0,accept:s.join(","),onChange:e=>g(e.target.files),style:{display:"none"}})]}),n.length>0&&(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:3,children:"Image Preview"}),(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:4,children:n.map(((e,t)=>(0,Xo.jsxs)(Vb,{overflow:"hidden",position:"relative",children:[(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(Bb,{src:e.imageData||e.url,alt:e.imageName||"Room image ".concat(t+1),w:"full",h:"200px",objectFit:"cover"}),(0,Xo.jsx)(Eb,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.300",opacity:0,_hover:{opacity:1},transition:"opacity 0.2s",children:(0,Xo.jsxs)(Xj,{direction:"column",justify:"space-between",h:"full",p:2,children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[e.isPrimary&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(q_,{size:12}),(0,Xo.jsx)(r_,{colorScheme:"yellow",children:"Primary"})]}),!e.isUploaded&&(0,Xo.jsx)(r_,{colorScheme:"orange",children:"Pending"})]}),!c&&(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(iA,{}),size:"sm",colorScheme:"red",onClick:()=>(e=>{if(c)return;const t=n.filter((t=>t.id!==e));t.length>0&&!t.some((e=>e.isPrimary))&&(t[0].isPrimary=!0),r(t)})(e.id)})]}),(0,Xo.jsx)(dS,{justify:"center",spacing:2,children:l&&!c&&!e.isPrimary&&(0,Xo.jsx)(y0,{label:"Set as primary image",children:(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(q_,{}),size:"sm",colorScheme:"yellow",variant:"solid",onClick:()=>(e=>{if(c)return;const t=n.map((t=>(0,o.A)((0,o.A)({},t),{},{isPrimary:t.id===e})));r(t)})(e.id)})})})]})})]}),(0,Xo.jsx)(Kb,{p:3,children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",noOfLines:1,children:e.imageName||"Untitled"}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:e.contentType}),e.file&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:[(e.file.size/1024/1024).toFixed(1),"MB"]})]})]})})]},e.id)))})]}),0===n.length&&c&&(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(A_,{size:48,color:"gray"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"No images available"})]})})})})]})},v5=["isDisabled","children"],[y5,x5]=Nc({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),b5=Dv(((e,t)=>{const n=Gv("Tag",e),r=Ov(e),i=(0,o.A)({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},n.container);return(0,Xo.jsx)(y5,{value:n,children:(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({ref:t},r),{},{__css:i}))})}));b5.displayName="Tag";const j5=Dv(((e,t)=>{const n=x5();return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({ref:t,noOfLines:1},e),{},{__css:n.label}))}));j5.displayName="TagLabel";Dv(((e,t)=>(0,Xo.jsx)(Zv,(0,o.A)({ref:t,verticalAlign:"top",marginEnd:"0.5rem"},e)))).displayName="TagLeftIcon";Dv(((e,t)=>(0,Xo.jsx)(Zv,(0,o.A)({ref:t,verticalAlign:"top",marginStart:"0.5rem"},e)))).displayName="TagRightIcon";const w5=e=>(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),{},{children:(0,Xo.jsx)("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})}));w5.displayName="TagCloseIcon";const k5=Dv(((e,t)=>{const{isDisabled:n,children:r}=e,i=Jo(e,v5),a=x5(),s=(0,o.A)({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},a.closeButton);return(0,Xo.jsx)(Tv.button,(0,o.A)((0,o.A)({ref:t,"aria-label":"close"},i),{},{type:"button",disabled:n,__css:s,children:r||(0,Xo.jsx)(w5,{})}))}));k5.displayName="TagCloseButton";const S5=e=>{const{condition:t,message:n}=e},_5=["in","unmountOnExit","animateOpacity","startingHeight","endingHeight","style","className","transition","transitionEnd","animatePresenceProps"],A5=e=>null!=e&&parseInt(e.toString(),10)>0,C5={exit:{height:{duration:.2,ease:nJ.ease},opacity:{duration:.3,ease:nJ.ease}},enter:{height:{duration:.3,ease:nJ.ease},opacity:{duration:.4,ease:nJ.ease}}},P5={exit:e=>{var t;let{animateOpacity:n,startingHeight:r,transition:i,transitionEnd:a,delay:s}=e;return(0,o.A)((0,o.A)({},n&&{opacity:A5(r)?1:0}),{},{height:r,transitionEnd:null===a||void 0===a?void 0:a.exit,transition:null!==(t=null===i||void 0===i?void 0:i.exit)&&void 0!==t?t:dJ(C5.exit,s)})},enter:e=>{var t;let{animateOpacity:n,endingHeight:r,transition:i,transitionEnd:a,delay:s}=e;return(0,o.A)((0,o.A)({},n&&{opacity:1}),{},{height:r,transitionEnd:null===a||void 0===a?void 0:a.enter,transition:null!==(t=null===i||void 0===i?void 0:i.enter)&&void 0!==t?t:cJ(C5.enter,s)})}},I5=(0,t.forwardRef)(((e,n)=>{const{in:r,unmountOnExit:i,animateOpacity:a=!0,startingHeight:s=0,endingHeight:l="auto",style:c,className:d,transition:u,transitionEnd:h,animatePresenceProps:p}=e,f=Jo(e,_5),[m,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=setTimeout((()=>{g(!0)}));return()=>clearTimeout(e)}),[]),S5({condition:Number(s)>0&&!!i,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const v=parseFloat(s.toString())>0,y={startingHeight:s,endingHeight:l,animateOpacity:a,transition:m?u:{enter:{duration:0}},transitionEnd:{enter:null===h||void 0===h?void 0:h.enter,exit:i?null===h||void 0===h?void 0:h.exit:(0,o.A)((0,o.A)({},null===h||void 0===h?void 0:h.exit),{},{display:v?"block":"none"})}},x=!i||r,b=r||i?"enter":"exit";return(0,Xo.jsx)(hd,(0,o.A)((0,o.A)({},p),{},{initial:!1,custom:y,children:x&&(0,Xo.jsx)(sv.div,(0,o.A)((0,o.A)({ref:n},f),{},{className:Lv("chakra-collapse",d),style:(0,o.A)({overflow:"hidden",display:"block"},c),custom:y,variants:P5,initial:!!i&&"exit",animate:b,exit:"exit"}))}))}));I5.displayName="Collapse";const T5=e=>{let{amenities:n=[],onAmenitiesChange:r,readOnly:i=!1,showStandardOptions:a=!0,standardAmenities:s=[{name:"wifi",description:"High-speed wireless internet access"},{name:"ac",description:"Air conditioning for climate control"},{name:"private_bathroom",description:"Individual bathroom facilities"},{name:"desk",description:"Study/work desk with chair"},{name:"wardrobe",description:"Built-in clothing storage"},{name:"window",description:"Natural lighting and ventilation"},{name:"balcony",description:"Private outdoor space"},{name:"mini_fridge",description:"Small refrigerator for personal use"},{name:"tv",description:"Television with cable connection"},{name:"study_lamp",description:"Dedicated reading/study light"}]}=e;const[l,c]=(0,t.useState)({name:"",custom_feature_name:"",description:"",quantity:1,isCustom:!1}),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),f=hb(),m=()=>{var e,t;if(d.isCustom||d.custom_feature_name){if(null===(e=d.custom_feature_name)||void 0===e||!e.trim())return void f({title:"Invalid input",description:"Custom feature name is required",status:"error",duration:3e3,isClosable:!0})}else if(null===(t=d.name)||void 0===t||!t.trim())return void f({title:"Invalid input",description:"Amenity name is required",status:"error",duration:3e3,isClosable:!0});const i=n.map((e=>e.id===d.id?d:e));r(i),u(null);const o=d.custom_feature_name||d.name;f({title:"Amenity updated",description:"".concat(o," has been updated"),status:"success",duration:2e3,isClosable:!0})},g=()=>{u(null)},v=()=>s.filter((e=>!n.some((t=>t.name.toLowerCase()===e.name.toLowerCase()))));return(0,Xo.jsxs)(Pb,{spacing:6,w:"full",children:[n.length>0&&(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsx)(Wb,{size:"sm",mb:4,children:"Current Amenities"}),(0,Xo.jsx)(IQ,{columns:{base:1,md:2},spacing:3,children:n.map((e=>(0,Xo.jsxs)(Vb,{variant:"outline",children:["                ",(0,Xo.jsx)(Kb,{p:4,children:(null===d||void 0===d?void 0:d.id)===e.id?(0,Xo.jsxs)(Pb,{spacing:3,children:[d.isCustom||d.custom_feature_name?(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Custom Feature Name"}),(0,Xo.jsx)(gj,{value:d.custom_feature_name||"",onChange:e=>u((t=>(0,o.A)((0,o.A)({},t),{},{custom_feature_name:e.target.value}))),size:"sm"})]}):(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Name"}),(0,Xo.jsx)(gj,{value:d.name,onChange:e=>u((t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value}))),size:"sm"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Description"}),(0,Xo.jsx)(D1,{value:d.description,onChange:e=>u((t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value}))),size:"sm",rows:2})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Quantity"}),(0,Xo.jsxs)(n5,{value:d.quantity,onChange:e=>u((t=>(0,o.A)((0,o.A)({},t),{},{quantity:parseInt(e)||1}))),min:1,max:20,size:"sm",children:[(0,Xo.jsx)(i5,{}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]})]}),(0,Xo.jsxs)(dS,{spacing:2,w:"full",children:[(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"green",leftIcon:(0,Xo.jsx)(F_,{}),onClick:m,flex:1,children:"Save"}),(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",leftIcon:(0,Xo.jsx)(iA,{}),onClick:g,flex:1,children:"Cancel"})]})]}):(0,Xo.jsxs)(Pb,{align:"stretch",spacing:3,children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"start",children:["                        ",(0,Xo.jsxs)(Pb,{align:"start",spacing:1,flex:1,children:["                          ",(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",children:e.custom_feature_name||e.name}),(0,Xo.jsxs)(r_,{colorScheme:"blue",size:"sm",children:["x",e.quantity]}),(e.isCustom||e.custom_feature_name)&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(q_,{size:"12px",color:"purple"}),(0,Xo.jsx)(r_,{colorScheme:"purple",size:"sm",children:"Custom"})]}),!e.isCustom&&!e.custom_feature_name&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(__,{size:"12px",color:"green"}),(0,Xo.jsx)(r_,{colorScheme:"green",size:"sm",children:"Standard"})]})]}),e.description&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:e.description}),e.custom_feature_name&&e.name!==e.custom_feature_name&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"purple.500",fontStyle:"italic",children:["Type: ",e.name]})]}),!i&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(b_,{}),size:"xs",variant:"ghost",onClick:()=>(e=>{i||u((0,o.A)({},e))})(e)}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(J_,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>(e=>{if(i)return;const t=n.filter((t=>t.id!==e));r(t),(null===d||void 0===d?void 0:d.id)===e&&u(null)})(e.id)})]})]}),!i&&!d&&(0,Xo.jsxs)(n5,{value:e.quantity,onChange:t=>((e,t)=>{if(i)return;const a=n.map((n=>n.id===e?(0,o.A)((0,o.A)({},n),{},{quantity:t}):n));r(a)})(e.id,parseInt(t)||1),min:1,max:20,size:"sm",children:[(0,Xo.jsx)(i5,{}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]})]})})]},e.id)))})]}),!i&&(0,Xo.jsxs)(Xo.Fragment,{children:[a&&v().length>0&&(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsx)(Wb,{size:"sm",mb:4,children:"Add Standard Amenities"}),(0,Xo.jsx)(Xj,{wrap:"wrap",gap:2,children:v().map(((e,t)=>(0,Xo.jsxs)(b5,{size:"md",variant:"outline",cursor:"pointer",_hover:{bg:"blue.50",borderColor:"blue.300"},onClick:()=>(e=>{if(i)return;const t=n.some((t=>t.name.toLowerCase()===e.name.toLowerCase()));if(t)return void f({title:"Amenity exists",description:"".concat(e.description," is already added"),status:"warning",duration:3e3,isClosable:!0});const o={id:"amenity_".concat(Date.now()),name:e.name,description:e.description,quantity:1,isCustom:!1};r([...n,o]),f({title:"Amenity added",description:"".concat(e.description," has been added"),status:"success",duration:2e3,isClosable:!0})})(e),children:[(0,Xo.jsx)(j5,{children:e.name}),(0,Xo.jsx)(k5,{as:M_})]},t)))})]}),(0,Xo.jsx)(ew,{}),"          ",(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:4,children:[(0,Xo.jsx)(Wb,{size:"sm",children:"Add Custom Amenity"}),(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",leftIcon:(0,Xo.jsx)(q_,{}),onClick:()=>p(!h),children:h?"Hide Form":"Create Custom"})]}),(0,Xo.jsx)(I5,{in:h,children:(0,Xo.jsx)(Vb,{bg:"gradient.50",borderColor:"purple.200",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(dS,{w:"full",align:"center",children:[(0,Xo.jsx)(q_,{color:"purple"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"purple.600",fontWeight:"medium",children:"Create a unique amenity with custom features"})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,w:"full",children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Custom Feature Name *"}),(0,Xo.jsx)(gj,{placeholder:"e.g., Smart Mirror, Voice Assistant, Mini Bar",value:l.custom_feature_name,onChange:e=>c((t=>(0,o.A)((0,o.A)({},t),{},{custom_feature_name:e.target.value}))),bg:"white",borderColor:"purple.200",_focus:{borderColor:"purple.400",boxShadow:"0 0 0 1px purple.400"}})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Quantity"}),(0,Xo.jsxs)(n5,{value:l.quantity,onChange:e=>c((t=>(0,o.A)((0,o.A)({},t),{},{quantity:parseInt(e)||1}))),min:1,max:20,children:[(0,Xo.jsx)(i5,{bg:"white",borderColor:"purple.200",_focus:{borderColor:"purple.400",boxShadow:"0 0 0 1px purple.400"}}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Description *"}),(0,Xo.jsx)(D1,{placeholder:"Describe the custom feature and its benefits",value:l.description,onChange:e=>c((t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value}))),bg:"white",borderColor:"purple.200",_focus:{borderColor:"purple.400",boxShadow:"0 0 0 1px purple.400"},rows:3})]}),(0,Xo.jsxs)(dS,{w:"full",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(q_,{}),colorScheme:"purple",onClick:()=>{if(i)return;if(!l.custom_feature_name.trim()||!l.description.trim())return void f({title:"Invalid input",description:"Custom feature name and description are required",status:"error",duration:3e3,isClosable:!0});const e=n.some((e=>e.custom_feature_name&&e.custom_feature_name.toLowerCase()===l.custom_feature_name.toLowerCase()));if(e)return void f({title:"Custom amenity exists",description:"".concat(l.custom_feature_name," is already added"),status:"warning",duration:3e3,isClosable:!0});const t={id:"amenity_".concat(Date.now()),name:l.name.trim(),description:l.description.trim(),quantity:l.quantity,isCustom:!0};r([...n,t]),c({name:"",custom_feature_name:"",description:"",quantity:1,isCustom:!1}),p(!1),f({title:"Custom amenity added",description:"".concat(t.name," has been added"),status:"success",duration:2e3,isClosable:!0})},isDisabled:!l.custom_feature_name.trim()||!l.description.trim(),size:"sm",children:"Add Custom Amenity"}),(0,Xo.jsx)(Bj,{variant:"outline",size:"sm",onClick:()=>{c({name:"",custom_feature_name:"",description:"",quantity:1,isCustom:!1}),p(!1)},children:"Cancel"})]})]})})})})]})]}),0===n.length&&(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{textAlign:"center",py:8,children:(0,Xo.jsx)(Tb,{color:"gray.500",children:i?"No amenities configured":"No amenities added yet. Start by adding standard amenities or creating custom ones."})})})]})},N5=t.memo((e=>{let{roomId:n,isEditable:r=!1,onImagesChange:i}=e;const[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),{isOpen:p,onOpen:f,onClose:m}=GG(),g=hb();(0,t.useEffect)((()=>{console.log("\ud83d\udd0d RoomImageGallery received roomId:",n),n?v():console.warn("\u26a0\ufe0f No roomId provided to RoomImageGallery")}),[n]);const v=(0,t.useCallback)((async()=>{try{var e;l(!0),console.log("\ud83d\udd0d Fetching images for room ID: ".concat(n));const t=await I2.getRoomImages(n);console.log("\ud83d\udcf7 Room images API response:",t),"success"===(null===(e=t.status)||void 0===e?void 0:e.status)&&t.images?(console.log("\u2705 Successfully loaded ".concat(t.images.length," images")),a(t.images),i&&i(t.images)):(console.warn("\u26a0\ufe0f No images found or invalid response structure:",t),a([]),i&&i([]))}catch(t){console.error("\u274c Error fetching room images:",t),g({title:"Error",description:"Failed to fetch room images: ".concat(t.message),status:"error",duration:3e3,isClosable:!0}),a([]),i&&i([])}finally{l(!1)}}),[n,i,g]),y=async e=>{try{await I2.setPrimaryRoomImage(e,n),g({title:"Success",description:"Primary image updated successfully",status:"success",duration:2e3,isClosable:!0}),v()}catch(t){g({title:"Error",description:"Failed to set primary image",status:"error",duration:3e3,isClosable:!0})}};return s?(0,Xo.jsx)(bb,{h:"200px",children:(0,Xo.jsx)(Qv,{size:"lg"})}):(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:4,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(A_,{}),(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"semibold",children:["Room Images (",o.length,")"]})]}),r&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",size:"sm",isLoading:u,loadingText:"Uploading...",onClick:()=>document.getElementById("image-upload").click(),children:"Add Image"})]}),r&&(0,Xo.jsx)("input",{id:"image-upload",type:"file",accept:"image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:async e=>{const t=e.target.files[0];if(t)try{I2.validateImageFile(t),h(!0);const e=new FileReader;e.onload=async()=>{try{const r=e.result.split(",")[1];await I2.addRoomImage(n,{image_data:r,image_name:t.name,content_type:t.type,is_primary:0===o.length}),g({title:"Success",description:"Image uploaded successfully",status:"success",duration:2e3,isClosable:!0}),v()}catch(r){g({title:"Error",description:r.message||"Failed to upload image",status:"error",duration:3e3,isClosable:!0})}finally{h(!1)}},e.readAsDataURL(t)}catch(r){g({title:"Validation Error",description:r.message,status:"warning",duration:3e3,isClosable:!0})}}}),0===o.length?(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"No images available for this room"]}):(0,Xo.jsx)(t_,{templateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:4,children:o.map((e=>(0,Xo.jsx)(Vb,{overflow:"hidden",cursor:"pointer",children:(0,Xo.jsxs)(Kb,{p:0,children:[(0,Xo.jsxs)(Eb,{position:"relative",children:[e.imageUrl?(0,Xo.jsx)(Bb,{src:e.imageUrl,alt:e.imageName,objectFit:"cover",w:"100%",h:"150px",onClick:()=>(e=>{d(e),f()})(e),_hover:{opacity:.8},transition:"opacity 0.2s",fallback:(0,Xo.jsx)(bb,{h:"150px",bg:"gray.100",children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(A_,{size:"40px",color:"gray.400"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Image Failed to Load"})]})})}):(0,Xo.jsx)(bb,{h:"150px",bg:"gray.100",children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(A_,{size:"40px",color:"gray.400"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"No Preview Available"})]})}),e.isPrimary&&(0,Xo.jsx)(r_,{position:"absolute",top:2,left:2,colorScheme:"yellow",leftIcon:(0,Xo.jsx)(q_,{}),children:"Primary"}),r&&(0,Xo.jsxs)(Xj,{position:"absolute",top:2,right:2,direction:"column",gap:1,children:[(0,Xo.jsx)(y0,{label:"Set as Primary",children:(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(q_,{}),size:"xs",colorScheme:e.isPrimary?"yellow":"gray",onClick:t=>{t.stopPropagation(),e.isPrimary||y(e.imageId)}})}),(0,Xo.jsx)(y0,{label:"Delete Image",children:(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(J_,{}),size:"xs",colorScheme:"red",onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this image?"))try{await I2.deleteRoomImage(e,n),g({title:"Success",description:"Image deleted successfully",status:"success",duration:2e3,isClosable:!0}),v()}catch(t){g({title:"Error",description:"Failed to delete image",status:"error",duration:3e3,isClosable:!0})}})(e.imageId)}})})]})]}),(0,Xo.jsxs)(Pb,{align:"start",p:3,spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",noOfLines:1,children:e.imageName}),(0,Xo.jsxs)(dS,{fontSize:"xs",color:"gray.600",children:[(0,Xo.jsx)(w_,{}),(0,Xo.jsx)(Tb,{children:e.fileSizeFormatted||"".concat((e.fileSize/1024).toFixed(1)," KB")})]}),(0,Xo.jsxs)(dS,{fontSize:"xs",color:"gray.600",children:[(0,Xo.jsx)(l_,{}),(0,Xo.jsx)(Tb,{children:e.uploadedAt?new Date(e.uploadedAt).toLocaleDateString():"Unknown date"})]}),"                "]})]})},e.imageId)))}),(0,Xo.jsxs)(JZ,{isOpen:p,onClose:m,size:"4xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(A_,{}),(0,Xo.jsx)(Tb,{children:null===c||void 0===c?void 0:c.imageName}),(null===c||void 0===c?void 0:c.isPrimary)&&(0,Xo.jsx)(r_,{colorScheme:"yellow",leftIcon:(0,Xo.jsx)(q_,{}),children:"Primary"})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:c&&(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Bb,{src:c.imageUrl,alt:c.imageName,maxH:"500px",maxW:"100%",objectFit:"contain",borderRadius:"md"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(2, 1fr)",gap:4,w:"100%",children:[(0,Xo.jsxs)(Pb,{align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"File Name:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:c.imageName})]}),(0,Xo.jsxs)(Pb,{align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Content Type:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:c.contentType})]}),(0,Xo.jsxs)(Pb,{align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"File Size:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:c.fileSizeFormatted||"".concat((c.fileSize/1024).toFixed(1)," KB")})]}),(0,Xo.jsxs)(Pb,{align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Uploaded:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:c.uploadedAt?new Date(c.uploadedAt).toLocaleDateString():"Unknown date"})]})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(y_,{}),onClick:()=>(e=>{if(!e.imageUrl)return;const t=document.createElement("a");t.href=e.imageUrl,t.download=e.imageName||"room-image.jpg",document.body.appendChild(t),t.click(),document.body.removeChild(t)})(c),variant:"outline",children:"Download"}),r&&!(null!==c&&void 0!==c&&c.isPrimary)&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(q_,{}),colorScheme:"yellow",onClick:()=>{y(c.imageId),m()},children:"Set as Primary"}),(0,Xo.jsx)(Bj,{onClick:m,children:"Close"})]})})]})]})]})})),E5=N5,z5=e=>{let{isOpen:n,onClose:r,roomId:i,onRoomUpdated:a,dateFilter:s="current"}=e;const[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)({}),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)([]),[b,j]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),S=hb(),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current";if(!e||0===e.length)return[];const n=new Date,r=new Date(n.getFullYear(),n.getMonth()-6,n.getDate()),i=new Date(n.getFullYear(),0,1),o=new Date(n.getFullYear(),11,31);console.log("\ud83d\udd0d [Modal] Filtering ".concat(e.length," occupants with filter: ").concat(t)),console.log("\ud83d\udcc5 [Modal] Today: ".concat(n.toISOString()));const a=e=>{if(!e)return null;if(e instanceof Date)return e;if(e.seconds)return new Date(1e3*parseInt(e.seconds));if("string"===typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t}return new Date(e)},s=e.filter((e=>{if(console.log("\ud83d\udc64 [Modal] Checking occupant: ".concat(e.tenantName,", status: ").concat(e.status,", checkIn: ").concat(e.checkIn,", checkOut: ").concat(e.checkOut)),!e.status||"approved"!==e.status)return console.log("\u274c [Modal] Rejected: status is ".concat(e.status,", not approved")),!1;const s=a(e.checkIn),l=a(e.checkOut);if(console.log("\ud83d\udcc5 [Modal] Parsed dates - checkIn: ".concat(null===s||void 0===s?void 0:s.toISOString(),", checkOut: ").concat(null===l||void 0===l?void 0:l.toISOString())),!s||!l)return console.log("\u274c [Modal] Rejected: invalid dates"),!1;let c=!1;switch(t){case"current":c=s<=n&&n<=l,console.log("\ud83c\udfaf [Modal] Current filter: checkIn(".concat(s.toDateString(),") <= now(").concat(n.toDateString(),") <= checkOut(").concat(l.toDateString(),") = ").concat(c));break;case"this_year":c=s>=i&&s<=o,console.log("\ud83d\udcc6 [Modal] This year filter: ".concat(c));break;case"last_6_months":c=s>=r&&s<=n,console.log("\ud83d\udcc5 [Modal] Last 6 months filter: ".concat(c));break;case"future":c=s>n,console.log("\ud83d\udd2e [Modal] Future filter: ".concat(c));break;case"all":c=!0,console.log("\ud83c\udf10 [Modal] All filter: ".concat(c));break;default:c=s<=n&&n<=l,console.log("\ud83c\udfaf [Modal] Default filter: ".concat(c))}return console.log("\u2705 [Modal] Final result for ".concat(e.tenantName,": ").concat(c)),c}));return console.log("\ud83c\udf89 [Modal] Filtered result: ".concat(s.length," out of ").concat(e.length," occupants match filter ").concat(t)),s},A=e=>{switch(e){case"L":case"male":case"laki_laki":return{label:"Laki-laki",color:"blue"};case"P":case"female":case"perempuan":return{label:"Perempuan",color:"pink"};default:return{label:e||"Tidak Diketahui",color:"gray"}}};(0,t.useEffect)((()=>{n&&i&&I()}),[n,i]),(0,t.useEffect)((()=>{h&&0===g.length&&C()}),[h]),(0,t.useEffect)((()=>{h&&f.buildingId&&P(f.buildingId)}),[h,f.buildingId]);const C=async()=>{try{j(!0);const e=await I2.getBuildings({page:1,limit:100});v(e.buildings||[])}catch(e){console.error("Error fetching buildings:",e),S({title:"Error",description:"Failed to load buildings",status:"error",duration:3e3,isClosable:!0})}finally{j(!1)}},P=async e=>{if(e)try{k(!0);const t=await I2.getBuildingFloors(e);x(t.floors||[])}catch(t){console.error("Error fetching floors:",t),S({title:"Error",description:"Failed to load floors",status:"error",duration:3e3,isClosable:!0}),x([])}finally{k(!1)}else x([])},I=async()=>{u(!0);try{var e,t,n,r,o;console.log("Fetching room details for roomId: ".concat(i));const a=await I2.getRoomById(i);if(console.log("Room API Response:",a),!a||!a.room)throw new Error("Invalid response structure: missing room data");const s={room_id:a.room.roomId,name:a.room.name,classification_id:a.room.classificationId,rental_type_id:a.room.rentalTypeId,capacity:a.room.capacity,description:a.room.description,created_at:a.room.createdAt,updated_at:a.room.updatedAt,classification:(null===(e=a.room.classification)||void 0===e?void 0:e.name)||"-",rental_type:(null===(t=a.room.rentalType)||void 0===t?void 0:t.name)||"-",buildingId:a.room.buildingId,floorId:a.room.floorId,roomNumber:a.room.roomNumber,fullRoomCode:a.room.fullRoomCode,floorNumber:a.room.floorNumber,buildingCode:a.room.buildingCode,buildingName:a.room.buildingName,buildingGender:a.room.buildingGender,floorName:a.room.floorName,isAvailable:a.room.isAvailable,amenities:(null===(n=a.room.amenities)||void 0===n?void 0:n.map((e=>({id:"".concat(e.roomId,"_").concat(e.name),room_id:e.roomId,name:e.name,custom_feature_name:e.customFeatureName,description:e.description,quantity:e.quantity,isCustom:e.isCustom}))))||[],occupants:(null===(r=a.room.occupants)||void 0===r?void 0:r.map((e=>({bookingId:e.bookingId,tenantId:e.tenantId,tenantName:e.name,email:e.email,gender:e.gender,checkIn:e.checkIn,checkOut:e.checkOut,status:e.status,paymentStatus:e.paymentStatus}))))||[],images:(null===(o=a.room.images)||void 0===o?void 0:o.map((e=>({image_id:e.imageId||e.image_id,room_id:e.roomId||e.room_id,image_name:e.imageName||e.image_name,content_type:e.contentType||e.content_type,file_size:e.fileSize||e.file_size,is_primary:e.isPrimary||e.is_primary,uploaded_at:e.uploadedAt||e.uploaded_at}))))||[]};console.log("Transformed room data:",s),console.log("Room ID for images:",s.room_id),c(s),m({name:s.name,description:s.description,capacity:s.capacity,classification_id:s.classification_id,rental_type_id:s.rental_type_id,buildingId:s.buildingId,floorId:s.floorId,roomNumber:s.roomNumber,amenities:s.amenities,images:s.images})}catch(a){console.error("Error fetching room details:",a),S({title:"Error",description:"Failed to fetch room details: ".concat(a.message),status:"error",duration:5e3,isClosable:!0})}finally{u(!1)}};return d&&!l?(0,Xo.jsxs)(JZ,{isOpen:n,onClose:r,size:"4xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsx)(Y0,{children:(0,Xo.jsx)($0,{children:(0,Xo.jsx)(bb,{py:20,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{children:"Memuat detail kamar..."})]})})})})]}):l?(0,Xo.jsxs)(JZ,{isOpen:n,onClose:r,size:"6xl",scrollBehavior:"inside",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Tb,{fontSize:"xl",fontWeight:"bold",children:l.name}),l.fullRoomCode&&(0,Xo.jsx)(r_,{colorScheme:"blue",fontSize:"md",px:3,py:1,children:l.fullRoomCode})]}),(0,Xo.jsxs)(dS,{spacing:2,flexWrap:"wrap",children:[(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(N_,{size:"14px"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:[l.buildingName," - ",l.floorName||"Lantai ".concat(l.floorNumber)]})]}),(0,Xo.jsx)(r_,{colorScheme:"blue",children:l.classification}),(0,Xo.jsx)(r_,{colorScheme:"green",children:l.rental_type}),(0,Xo.jsxs)(r_,{colorScheme:"purple",children:["ID: ",l.room_id]}),"current"!==s&&(0,Xo.jsx)(r_,{colorScheme:"orange",variant:"solid",children:"this_year"===s?"Periode: Tahun Ini":"last_6_months"===s?"Periode: 6 Bulan Terakhir":"future"===s?"Periode: Mendatang":"all"===s?"Periode: Semua":"Filter Khusus"})]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(B_,{}),variant:"outline",onClick:I,isLoading:d,title:"Muat ulang data"}),(0,Xo.jsx)(Bj,{leftIcon:h?(0,Xo.jsx)(u_,{}):(0,Xo.jsx)(b_,{}),colorScheme:h?"green":"blue",onClick:h?async()=>{u(!0);try{const e=await I2.updateRoom(i,f);c(e.room),p(!1),S({title:"Sukses",description:"Kamar berhasil diperbarui",status:"success",duration:3e3,isClosable:!0}),a&&a(e.room)}catch(e){S({title:"Error",description:e.message||"Failed to update room",status:"error",duration:5e3,isClosable:!0})}finally{u(!1)}}:()=>p(!0),isLoading:d,children:h?"Simpan Perubahan":"Edit Kamar"}),h&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(iA,{}),variant:"outline",onClick:()=>{p(!1),m({name:l.name,description:l.description,capacity:l.capacity,classification_id:l.classification_id,rental_type_id:l.rental_type_id,buildingId:l.buildingId,floorId:l.floorId,roomNumber:l.roomNumber,amenities:l.amenities||[],images:l.images||[]})},children:"Batal"})]})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(YQ,{variant:"enclosed",colorScheme:"blue",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Ikhtisar"}),(0,Xo.jsxs)(JQ,{children:["Hunian ",(l.occupants||[]).length>0?"(".concat(l.occupants.length,")"):""]}),(0,Xo.jsxs)(JQ,{children:["Gambar ",(l.images||[]).length>0?"(".concat(l.images.length,")"):""]}),(0,Xo.jsxs)(JQ,{children:["Fasilitas ",(l.amenities||[]).length>0?"(".concat(l.amenities.length,")"):""]})]}),(0,Xo.jsxs)(XQ,{children:["              ",(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Informasi Kamar"}),h?(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(dS,{w:"full",spacing:4,children:[(0,Xo.jsxs)(ij,{flex:"2",children:[(0,Xo.jsx)(sj,{children:"Nama Kamar"}),(0,Xo.jsx)(gj,{value:f.name,onChange:e=>m((t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value})))})]}),"                              ",(0,Xo.jsxs)(ij,{flex:"1",children:[(0,Xo.jsx)(sj,{children:"Kapasitas"}),(0,Xo.jsxs)(n5,{value:f.capacity,onChange:e=>m((t=>(0,o.A)((0,o.A)({},t),{},{capacity:parseInt(e)||4}))),min:1,max:4,children:[(0,Xo.jsx)(i5,{}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Maksimal 4 orang"})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Deskripsi"}),(0,Xo.jsx)(D1,{value:f.description,onChange:e=>m((t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value}))),rows:3})]}),(0,Xo.jsxs)(dS,{w:"full",spacing:4,children:[(0,Xo.jsxs)(ij,{flex:"1",children:[(0,Xo.jsx)(sj,{children:"Gedung"}),(0,Xo.jsx)(SQ,{value:f.buildingId||"",onChange:e=>{return t=e.target.value,void m((e=>(0,o.A)((0,o.A)({},e),{},{buildingId:t,floorId:""})));var t},placeholder:"Pilih gedung",isDisabled:b,children:g.map((e=>(0,Xo.jsxs)("option",{value:e.buildingId,children:[e.buildingCode," - ",e.buildingName]},e.buildingId)))}),b&&(0,Xo.jsxs)(dS,{mt:1,children:[(0,Xo.jsx)(Qv,{size:"sm"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Memuat gedung..."})]})]}),(0,Xo.jsxs)(ij,{flex:"1",children:[(0,Xo.jsx)(sj,{children:"Lantai"}),(0,Xo.jsx)(SQ,{value:f.floorId||"",onChange:e=>m((t=>(0,o.A)((0,o.A)({},t),{},{floorId:e.target.value}))),placeholder:f.buildingId?"Pilih lantai":"Pilih gedung terlebih dahulu",isDisabled:w||!f.buildingId,children:y.map((e=>(0,Xo.jsx)("option",{value:e.floorId,children:e.floorName},e.floorId)))}),w&&f.buildingId&&(0,Xo.jsxs)(dS,{mt:1,children:[(0,Xo.jsx)(Qv,{size:"sm"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Memuat lantai..."})]})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Nomor Kamar"}),(0,Xo.jsx)(gj,{value:f.roomNumber||"",onChange:e=>m((t=>(0,o.A)((0,o.A)({},t),{},{roomNumber:e.target.value}))),placeholder:"Masukkan nomor kamar (contoh: 01, 02, A1)"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Nomor kamar dalam lantai yang dipilih"})]})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsx)(Vb,{bg:"blue.50",borderLeft:"4px solid",borderLeftColor:"blue.400",children:(0,Xo.jsx)(Kb,{p:4,children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(__,{color:"blue"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"blue.600",children:"Informasi Lokasi"})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Kode Kamar:"}),(0,Xo.jsx)(r_,{colorScheme:"blue",fontSize:"sm",fontWeight:"bold",children:l.fullRoomCode||"".concat(l.buildingCode,"-").concat(l.roomNumber)})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Gedung:"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"semibold",children:[l.buildingName," (",l.buildingCode,")"]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Lantai:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:l.floorName||"Lantai ".concat(l.floorNumber)})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"No. Kamar:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:l.roomNumber})]})]})]})})}),(0,Xo.jsx)(Vb,{bg:"green.50",borderLeft:"4px solid",borderLeftColor:"green.400",children:(0,Xo.jsx)(Kb,{p:4,children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(tA,{color:"green"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"green.600",children:"Spesifikasi Kamar"})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Kapasitas:"}),(0,Xo.jsxs)(r_,{colorScheme:"green",fontSize:"sm",children:[l.capacity," orang"]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Gender:"}),(0,Xo.jsx)(r_,{colorScheme:"perempuan"===l.buildingGender?"pink":"blue",fontSize:"sm",children:"perempuan"===l.buildingGender?"Perempuan":"Laki-laki"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Ketersediaan:"}),(0,Xo.jsx)(r_,{colorScheme:l.isAvailable?"green":"red",fontSize:"sm",children:l.isAvailable?"Tersedia":"Tidak Tersedia"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",minW:"100px",children:"Sistem Tarif:"}),(0,Xo.jsx)(r_,{colorScheme:"purple",fontSize:"sm",children:"Harga Dinamis"})]})]})]})})})]}),l.description&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:2,children:"Deskripsi"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:l.description})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:1,children:"Klasifikasi"}),(0,Xo.jsx)(r_,{colorScheme:"blue",p:2,children:l.classification})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:1,children:"Tipe Sewa"}),(0,Xo.jsx)(r_,{colorScheme:"green",p:2,children:l.rental_type})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:1,children:"Status"}),(0,Xo.jsx)(r_,{colorScheme:"available"===l.status?"green":"red",p:2,children:"available"===l.status?"Tersedia":"full"===l.status?"Penuh":l.status||"Tersedia"})]})]})]})]})})}),"                  ",(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Wb,{size:"md",children:["Penghuni ","current"===s?"Saat Ini":"this_year"===s?"Tahun Ini":"last_6_months"===s?"6 Bulan Terakhir":"future"===s?"Mendatang":"Semua"]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsxs)(r_,{colorScheme:"blue",size:"sm",children:[_(l.occupants||[],s).length,"/",l.capacity]}),(0,Xo.jsx)(r_,{colorScheme:_(l.occupants||[],s).length===l.capacity?"red":"green",size:"sm",children:_(l.occupants||[],s).length===l.capacity?"Penuh":"Tersedia"})]})]}),_(l.occupants||[],s).length>0?(0,Xo.jsx)(IQ,{columns:{base:1,md:2},spacing:4,children:_(l.occupants,s).map(((e,t)=>(0,Xo.jsx)(Vb,{size:"sm",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(xZ,{size:"md",name:e.tenantName,bg:A(e.gender).color+".500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,flex:"1",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"sm",children:e.tenantName}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["ID: ",e.tenantId]}),e.email&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:e.email}),e.checkIn&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(l_,{size:"12px"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Masuk: ",new Date(e.checkIn).toLocaleDateString()]})]}),e.checkOut&&(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(l_,{size:"12px"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Keluar: ",new Date(e.checkOut).toLocaleDateString()]})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[e.status&&(0,Xo.jsx)(r_,{size:"xs",colorScheme:"active"===e.status?"green":"inactive"===e.status?"red":"gray",children:"active"===e.status?"Aktif":"inactive"===e.status?"Tidak Aktif":e.status}),e.paymentStatus&&(0,Xo.jsx)(r_,{size:"xs",colorScheme:"paid"===e.paymentStatus?"green":"pending"===e.paymentStatus?"yellow":"red",children:"paid"===e.paymentStatus?"Lunas":"pending"===e.paymentStatus?"Menunggu":e.paymentStatus})]})]})]})})},e.bookingId||t)))}):(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(tA,{size:48,color:"gray.400"}),(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",children:"Tidak ada penghuni saat ini"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.400",textAlign:"center",children:"Kamar ini tersedia untuk pemesanan baru"})]})})]})})})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Statistik Hunian"}),(0,Xo.jsx)(IQ,{columns:{base:2,md:5},spacing:4,children:(()=>{const e=(()=>{if(!l||!l.occupants)return{};const e={};return["current","this_year","last_6_months","future","all"].forEach((t=>{const n=_(l.occupants,t);let r;if("current"===t){const e=new Date,i=n.filter((t=>{const n=new Date(t.checkIn),r=new Date(t.checkOut);return n<=e&&e<=r}));r=i.length,console.log("\ud83d\udecf\ufe0f [".concat(t,"] Concurrent bookings: ").concat(r," (").concat(i.map((e=>"".concat(e.tenantName,"(").concat(e.tenantId,")"))).join(", "),")"))}else{const e=new Set(n.map((e=>e.tenantId)));r=e.size,console.log("\ud83d\udc65 [".concat(t,"] Unique tenants: ").concat(r," (").concat(Array.from(e).join(", "),")"))}const i=Math.round(r/(l.capacity||1)*100),o=r>l.capacity;e[t]={count:r,percentage:i,status:0===r?"available":r>=l.capacity?"full":"partial",color:o?"red":0===r?"green":r>=l.capacity?"orange":"green",isOverCapacity:o,anomaly:o?"\u26a0\ufe0f Over-capacity: ".concat(r," > ").concat(l.capacity):null}})),e})();return[{period:"current",label:"Saat Ini",description:"Penghuni aktif hari ini"},{period:"this_year",label:"Tahun Ini",description:"Total penghuni tahun 2025"},{period:"last_6_months",label:"6 Bulan",description:"Penghuni 6 bulan terakhir"},{period:"future",label:"Mendatang",description:"Booking di masa depan"},{period:"all",label:"Total",description:"Semua penghuni"}].map((t=>{let{period:n,label:r,description:i}=t;const o=e[n]||{count:0,percentage:0,color:"gray"};return(0,Xo.jsx)(Vb,{borderLeft:"4px solid",borderLeftColor:"".concat(o.color,".400"),bg:"current"===n?"".concat(o.color,".50"):"white",children:(0,Xo.jsx)(Kb,{p:4,children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:2,children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",children:r}),(0,Xo.jsxs)(Pb,{spacing:1,align:"end",children:["current"===n&&(0,Xo.jsx)(r_,{colorScheme:o.color,size:"sm",children:"AKTIF"}),o.isOverCapacity&&(0,Xo.jsx)(r_,{colorScheme:"red",size:"sm",variant:"solid",children:"\u26a0\ufe0f ANOMALI"})]})]}),(0,Xo.jsxs)(dS,{justify:"space-between",align:"center",children:[(0,Xo.jsxs)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"".concat(o.color,".600"),children:[o.count,"/",l.capacity]}),o.isOverCapacity&&(0,Xo.jsxs)(r_,{colorScheme:"red",size:"xs",variant:"outline",children:["+",o.count-l.capacity]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(a0,{value:Math.min(o.percentage,100),colorScheme:o.color,size:"sm",rounded:"full"}),(0,Xo.jsxs)(dS,{justify:"space-between",mt:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[o.percentage,"% penuh"]}),o.isOverCapacity&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"red.500",fontWeight:"bold",children:"OVER CAPACITY!"})]})]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:i}),o.anomaly&&(0,Xo.jsxs)(ay,{status:"error",size:"sm",p:2,children:[(0,Xo.jsx)(sy,{boxSize:"12px"}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:o.anomaly})]})]})})},n)}))})()})]})})}),(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Detail Penghuni"}),l.occupants&&l.occupants.length>0?(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:[{filter:"current",title:"\ud83d\udfe2 Penghuni Aktif Saat Ini",color:"green"},{filter:"future",title:"\ud83d\udd35 Booking Mendatang",color:"blue"},{filter:"all",title:"\ud83d\udcca Semua Riwayat Penghuni",color:"gray"}].map((e=>{let{filter:t,title:n,color:r}=e;const i=_(l.occupants,t);return 0===i.length&&"all"!==t?null:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",mb:3,color:"".concat(r,".600"),children:[n," (",i.length,")"]}),i.length>0?(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(()=>{const e={};i.forEach((t=>{e[t.tenantId]=(e[t.tenantId]||0)+1}));const t=Object.entries(e).filter((e=>{let[t,n]=e;return n>1})).map((e=>{let[t,n]=e;return{tenantId:t,count:n}}));return t.length>0?(0,Xo.jsxs)(ay,{status:"warning",size:"sm",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",children:"\u26a0\ufe0f Duplicate Bookings Detected!"}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:t.map((e=>"Tenant ".concat(e.tenantId," (").concat(e.count," bookings)"))).join(", ")})]})]}):null})(),(0,Xo.jsx)(IQ,{columns:{base:1,md:2},spacing:4,children:i.map(((e,t)=>{const n=new Date(e.checkIn),r=new Date(e.checkOut),o=new Date;let a="gray",s="Unknown";n<=o&&o<=r?(a="green",s="Aktif"):n>o?(a="blue",s="Mendatang"):r<o&&(a="gray",s="Selesai");const l=i.filter((t=>t.tenantId===e.tenantId)).length>1;return(0,Xo.jsx)(Vb,{size:"sm",borderLeft:l?"4px solid":"none",borderLeftColor:l?"orange.400":"transparent",bg:l?"orange.50":"white",children:(0,Xo.jsx)(Kb,{p:4,children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:3,children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"start",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(xZ,{size:"sm",name:e.tenantName}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",children:e.tenantName}),l&&(0,Xo.jsx)(r_,{colorScheme:"orange",size:"xs",children:"DUPLICATE"})]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["ID: ",e.tenantId," | Booking: ",e.bookingId]})]})]}),(0,Xo.jsx)(r_,{colorScheme:a,size:"sm",children:s})]}),(0,Xo.jsx)(Eb,{bg:"gray.50",p:2,rounded:"md",children:(0,Xo.jsxs)(Pb,{spacing:1,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Check-in:"}),(0,Xo.jsx)(Tb,{fontSize:"xs",fontWeight:"medium",children:n.toLocaleDateString("id-ID")})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Check-out:"}),(0,Xo.jsx)(Tb,{fontSize:"xs",fontWeight:"medium",children:r.toLocaleDateString("id-ID")})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Durasi:"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",fontWeight:"medium",children:[Math.ceil((r-n)/864e5)," hari"]})]})]})}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(r_,{colorScheme:"purple",size:"sm",children:A(e.gender).label}),(0,Xo.jsx)(r_,{colorScheme:"paid"===e.paymentStatus?"green":"orange",size:"sm",children:"paid"===e.paymentStatus?"Lunas":"Pending"})]})]})})},"".concat(e.tenantId,"-").concat(e.bookingId,"-").concat(t))}))})]}):(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Tidak ada penghuni untuk periode ",n.toLowerCase()]})]})]},t)}))}):(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(tA,{size:48,color:"gray.300"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",color:"gray.500",children:"Belum Ada Penghuni"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.400",textAlign:"center",children:"Kamar ini belum memiliki riwayat penghuni atau booking"})]})})]})})})]})}),"              ",(0,Xo.jsxs)($Q,{children:["                ",h?(0,Xo.jsx)(E5,{roomId:l.room_id,isEditable:!0,onImagesChange:e=>{m((t=>(0,o.A)((0,o.A)({},t),{},{images:e}))),c((t=>(0,o.A)((0,o.A)({},t),{},{images:e})))}}):(0,Xo.jsx)(E5,{roomId:l.room_id,isEditable:!1,onImagesChange:e=>{c((t=>(0,o.A)((0,o.A)({},t),{},{images:e})))}})]}),(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(T5,{amenities:h?f.amenities:l.amenities,onAmenitiesChange:e=>{m((t=>(0,o.A)((0,o.A)({},t),{},{amenities:e})))},readOnly:!h,showStandardOptions:h})})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{onClick:r,children:"Tutup"})})]})]}):(0,Xo.jsxs)(JZ,{isOpen:n,onClose:r,size:"4xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsx)(Y0,{children:(0,Xo.jsx)($0,{children:(0,Xo.jsx)(bb,{py:20,children:(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),"Gagal memuat detail kamar"]})})})})]})};function O5(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{index:n=0,count:r}=e,[i,o]=(0,t.useState)(n),a=i/("number"===typeof r?r-1:0);return{activeStep:i,setActiveStep:o,activeStepPercent:Number.isNaN(a)?0:a,isActiveStep:e=>e===i,isCompleteStep:e=>e<i,isIncompleteStep:e=>e>i,getStatus:e=>e<i?"complete":e>i?"incomplete":"active",goToNext(){o((e=>"number"===typeof r?Math.min(r,e+1):e+1))},goToPrevious(){o((e=>Math.max(0,e-1)))}}}const[L5,D5]=Nc({name:"StepContext"}),[R5,M5]=Rc("Stepper"),B5=["children","index","orientation","showLastSeparator"],F5=Dv((function(e,n){const r=Gv("Stepper",e),i=Ov(e),{children:a,index:s,orientation:l="horizontal",showLastSeparator:c=!1}=i,d=Jo(i,B5),u=t.Children.toArray(a),h=u.length;function p(e){return e<s?"complete":e>s?"incomplete":"active"}return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:n,"aria-label":"Progress","data-orientation":l},d),{},{__css:r.stepper,className:Lv("chakra-stepper",e.className),children:(0,Xo.jsx)(R5,{value:r,children:u.map(((e,t)=>(0,Xo.jsx)(L5,{value:{index:t,status:p(t),orientation:l,showLastSeparator:c,count:h,isFirst:0===t,isLast:t===h-1},children:e},t)))})}))})),W5=Dv((function(e,t){const{orientation:n,status:r,showLastSeparator:i}=D5(),a=M5();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,"data-status":r,"data-orientation":n,"data-stretch":Jb(i),__css:a.step},e),{},{className:Lv("chakra-step",e.className)}))})),U5=Dv((function(e,t){const{status:n}=D5(),r=M5();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,"data-status":n},e),{},{__css:r.indicator,className:Lv("chakra-step__indicator",e.className)}))}));function q5(e){const{complete:t,incomplete:n,active:r}=e,i=D5();let o=null;switch(i.status){case"complete":o=Ol(t,i);break;case"incomplete":o=Ol(n,i);break;case"active":o=Ol(r,i)}return o?(0,Xo.jsx)(Xo.Fragment,{children:o}):null}function H5(e){return(0,Xo.jsx)("svg",(0,o.A)((0,o.A)({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"1em",width:"1em"},e),{},{children:(0,Xo.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}))}function V5(e){const{status:t}=D5(),n=M5(),r="complete"===t?H5:void 0;return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({as:r,__css:n.icon},e),{},{className:Lv("chakra-step__icon",e.className)}))}const G5=["children"],K5=Dv((function(e,t){const{children:n}=e,r=Jo(e,G5),{status:i,index:a}=D5(),s=M5();return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,"data-status":i,__css:s.number},r),{},{className:Lv("chakra-step__number",e.className),children:n||a+1}))})),Y5=Dv((function(e,t){const{status:n}=D5(),r=M5();return(0,Xo.jsx)(Tv.h3,(0,o.A)((0,o.A)({ref:t,"data-status":n},e),{},{__css:r.title,className:Lv("chakra-step__title",e.className)}))})),Z5=Dv((function(e,t){const{status:n}=D5(),r=M5();return(0,Xo.jsx)(Tv.p,(0,o.A)((0,o.A)({ref:t,"data-status":n},e),{},{className:Lv("chakra-step__description",e.className),__css:r.description}))})),J5=Dv((function(e,t){const{orientation:n,status:r,isLast:i,showLastSeparator:a}=D5(),s=M5();return i&&!a?null:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,role:"separator","data-orientation":n,"data-status":r,__css:s.separator},e),{},{className:Lv("chakra-step__separator",e.className)}))})),X5={1:{name:"perempuan",display_name:"Kamar Perempuan",description:"Kamar untuk penyewa perempuan"},2:{name:"laki_laki",display_name:"Kamar Laki-laki",description:"Kamar untuk penyewa laki-laki"},4:{name:"ruang_rapat",display_name:"Ruang Rapat",description:"Ruang konferensi/rapat"}},$5=e=>{let{isOpen:n,onClose:r,onRoomCreated:i}=e;const[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)({name:"",description:"",capacity:4,classification_id:"",building_id:"",floor_id:"",room_number:"",amenities:[],images:[]}),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)({isValid:!0,message:""}),[w,k]=(0,t.useState)(!1),S=hb(),_=(0,t.useCallback)(((e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...i)}),t)}}),[]),A=[{title:"Info Dasar",description:"Detail kamar",icon:__},{title:"Fasilitas",description:"Fitur kamar",icon:tA},{title:"Gambar",description:"Galeri foto",icon:c_},{title:"Tinjauan",description:"Periksa final",icon:u_}],{activeStep:C,setActiveStep:P}=O5({index:0,count:A.length});(0,t.useEffect)((()=>{n&&(T(),I())}),[n]);const I=()=>{c({name:"",description:"",capacity:4,classification_id:"",building_id:"",floor_id:"",room_number:"",amenities:[],images:[]}),p([]),m([]),P(0),j({isValid:!0,message:""}),k(!1)},T=async()=>{try{const e=[X5[1],X5[2],X5[4]].map(((e,t)=>(0,o.A)({id:t+1},e)));u(e),await N()}catch(e){console.error("Error setting predefined data:",e),S({title:"Kesalahan",description:"Gagal memuat data formulir",status:"error",duration:3e3,isClosable:!0})}},N=async()=>{v(!0);try{const e=await I2.getBuildings();p(e.buildings||[])}catch(e){console.error("Error fetching buildings:",e),S({title:"Kesalahan",description:"Gagal memuat data gedung",status:"error",duration:3e3,isClosable:!0})}finally{v(!1)}},E=e=>{O("building_id",e),O("floor_id",""),(async e=>{if(e){x(!0);try{const t=await I2.getBuildingFloors(e);m(t.floors||[])}catch(t){console.error("Error fetching floors:",t),S({title:"Kesalahan",description:"Gagal memuat data lantai",status:"error",duration:3e3,isClosable:!0}),m([])}finally{x(!1)}}else m([])})(e)},z=(0,t.useCallback)(_((e=>(async e=>{if(!e||e.trim().length<2)return void j({isValid:!1,message:"Nama kamar minimal 2 karakter"});if(/[<>:"/\\|?*]/.test(e))j({isValid:!1,message:'Nama kamar mengandung karakter tidak valid (<>:"/\\|?*)'});else{k(!0);try{const t=(await I2.getRooms({search:e.trim(),limit:100})).rooms||[];if(t.some((t=>t.name.toLowerCase().trim()===e.toLowerCase().trim())))j({isValid:!1,message:'\u26a0\ufe0f Nama kamar "'.concat(e,'" sudah digunakan. Coba nama yang berbeda.')});else{const n=t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.name.toLowerCase())));n.length>0?j({isValid:!0,message:"\ud83d\udca1 Nama serupa ditemukan: ".concat(n.slice(0,3).map((e=>e.name)).join(", "))}):j({isValid:!0,message:"\u2705 Nama kamar tersedia"})}}catch(t){console.warn("Could not validate room name:",t),j({isValid:!0,message:""})}finally{k(!1)}}})(e)),500),[]),O=(e,t)=>{c((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})))},L=e=>{O("amenities",e)},D=e=>{O("images",e)},R=()=>(0,Xo.jsx)(Pb,{spacing:6,children:(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:!b.isValid,children:[(0,Xo.jsx)(sj,{children:"Nama Kamar"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(gj,{placeholder:"contoh: Kamar A-101",value:l.name,onChange:e=>{return t=e.target.value,O("name",t),j({isValid:!0,message:""}),void(t.trim()?z(t.trim()):j({isValid:!0,message:""}));var t},isInvalid:!b.isValid}),w&&(0,Xo.jsx)(Qv,{size:"sm"})]}),b.message&&(b.isValid?(0,Xo.jsx)(oj,{color:b.message.includes("serupa")?"orange.500":"green.500",children:b.message}):(0,Xo.jsx)(xj,{children:b.message})),(0,Xo.jsx)(oj,{children:"Nama kamar harus unik dan tidak boleh mengandung karakter khusus"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Deskripsi"}),(0,Xo.jsx)(D1,{placeholder:"Deskripsi singkat tentang kamar",value:l.description,onChange:e=>O("description",e.target.value),rows:3})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Tipe Kamar"}),(0,Xo.jsx)(SQ,{placeholder:"Pilih tipe kamar",value:l.classification_id,onChange:e=>O("classification_id",e.target.value),children:d.map((e=>(0,Xo.jsx)("option",{value:e.id,children:e.display_name},e.id)))}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Pilih tipe kamar. Tarif akan dihitung secara dinamis saat waktu booking."})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Gedung"}),(0,Xo.jsx)(SQ,{placeholder:"Pilih gedung",value:l.building_id,onChange:e=>E(e.target.value),isDisabled:g,children:h.map((e=>(0,Xo.jsxs)("option",{value:e.buildingId,children:[e.buildingCode," - ",e.buildingName]},e.buildingId)))}),g&&(0,Xo.jsxs)(dS,{mt:1,children:[(0,Xo.jsx)(Qv,{size:"sm"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Memuat gedung..."})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Pilih gedung tempat kamar berada"})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isDisabled:!l.building_id,children:[(0,Xo.jsx)(sj,{children:"Lantai"}),(0,Xo.jsx)(SQ,{placeholder:l.building_id?"Pilih lantai":"Pilih gedung terlebih dahulu",value:l.floor_id,onChange:e=>O("floor_id",e.target.value),isDisabled:y||!l.building_id,children:f.map((e=>(0,Xo.jsx)("option",{value:e.floorId,children:e.floorName},e.floorId)))}),y&&l.building_id&&(0,Xo.jsxs)(dS,{mt:1,children:[(0,Xo.jsx)(Qv,{size:"sm"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Memuat lantai..."})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Pilih lantai tempat kamar berada"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Nomor Kamar"}),(0,Xo.jsx)(gj,{placeholder:"Kosongkan untuk auto-generate (contoh: 01, 02, A1)",value:l.room_number,onChange:e=>O("room_number",e.target.value)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Opsional. Jika dikosongkan, sistem akan auto-generate nomor kamar"})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Kapasitas"}),(0,Xo.jsxs)(n5,{value:l.capacity,onChange:e=>O("capacity",parseInt(e)||4),min:1,max:4,children:[(0,Xo.jsx)(i5,{}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Maksimal 4 orang per kamar"})]}),(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Tarif kamar dihitung secara dinamis berdasarkan tipe penyewa dan klasifikasi kamar saat waktu booking."})]})]})})})});return(0,Xo.jsxs)(JZ,{isOpen:n,onClose:r,size:"4xl",closeOnOverlayClick:!1,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Tb,{children:"Buat Kamar Baru"}),(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(F5,{index:C,size:"sm",children:A.map(((e,t)=>(0,Xo.jsxs)(W5,{children:[(0,Xo.jsx)(U5,{children:(0,Xo.jsx)(q5,{complete:(0,Xo.jsx)(V5,{}),incomplete:(0,Xo.jsx)(K5,{}),active:(0,Xo.jsx)(K5,{})})}),(0,Xo.jsxs)(Eb,{flexShrink:"0",children:[(0,Xo.jsx)(Y5,{children:e.title}),(0,Xo.jsx)(Z5,{children:e.description})]}),(0,Xo.jsx)(J5,{})]},t)))})})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{overflowY:"auto",children:(()=>{switch(C){case 0:return R();case 1:return(0,Xo.jsx)(Pb,{spacing:6,children:(0,Xo.jsx)(T5,{amenities:l.amenities,onAmenitiesChange:L,readOnly:!1,showStandardOptions:!0})});case 2:return(0,Xo.jsx)(Pb,{spacing:6,children:(0,Xo.jsx)(g5,{images:l.images,onImagesChange:D,maxImages:10,maxFileSize:5242880,acceptedTypes:["image/jpeg","image/png","image/webp"],showPrimaryToggle:!0,readOnly:!1})});case 3:return(()=>{var e,t,n,r,i,o;return(0,Xo.jsx)(Pb,{spacing:6,children:(0,Xo.jsx)(Vb,{w:"full",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Tinjau Detail Kamar"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:2,children:"Informasi Dasar"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,bg:"gray.50",p:3,rounded:"md",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Nama:"}),(0,Xo.jsx)(Tb,{children:l.name})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Tipe:"}),(0,Xo.jsx)(Tb,{children:null===(e=d.find((e=>e.id===parseInt(l.classification_id))))||void 0===e?void 0:e.display_name})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Gedung:"}),(0,Xo.jsx)(Tb,{children:null===(t=h.find((e=>e.buildingId===parseInt(l.building_id))))||void 0===t?void 0:t.buildingName})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Kode Gedung:"}),(0,Xo.jsx)(Tb,{children:null===(n=h.find((e=>e.buildingId===parseInt(l.building_id))))||void 0===n?void 0:n.buildingCode})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Lantai:"}),(0,Xo.jsx)(Tb,{children:null===(r=f.find((e=>e.floorId===parseInt(l.floor_id))))||void 0===r?void 0:r.floorName})]}),l.room_number&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Nomor Kamar:"}),(0,Xo.jsx)(Tb,{children:l.room_number})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Kapasitas:"}),(0,Xo.jsxs)(Tb,{children:[l.capacity," orang"]})]}),l.description&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Deskripsi:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:l.description})]}),(0,Xo.jsx)(Eb,{mt:2,children:(0,Xo.jsxs)(ay,{status:"success",size:"sm",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Kode kamar akan dihasilkan otomatis: ",null===(i=h.find((e=>e.buildingId===parseInt(l.building_id))))||void 0===i?void 0:i.buildingCode,null===(o=f.find((e=>e.floorId===parseInt(l.floor_id))))||void 0===o?void 0:o.floorNumber,"-",l.room_number||"XX"]})]})}),(0,Xo.jsx)(Eb,{mt:2,children:(0,Xo.jsxs)(ay,{status:"info",size:"sm",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Tarif akan dihitung secara dinamis berdasarkan tipe penyewa saat waktu booking."})]})})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",mb:2,children:["Fasilitas (",l.amenities.length,")"]}),l.amenities.length>0?(0,Xo.jsx)(Xj,{wrap:"wrap",gap:2,children:l.amenities.map(((e,t)=>(0,Xo.jsxs)(r_,{colorScheme:e.custom_feature_name?"purple":"green",variant:e.custom_feature_name?"solid":"subtle",children:[e.custom_feature_name||e.name," (x",e.quantity,")",e.custom_feature_name&&" \u2728"]},t)))}):(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Tidak ada fasilitas ditambahkan"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",mb:2,children:["Gambar (",l.images.length,")"]}),l.images.length>0?(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"green.600",children:[l.images.length," gambar siap untuk diunggah"]}):(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Tidak ada gambar ditambahkan"})]})]})})})})})();default:return null}})()}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{spacing:3,w:"full",justify:"space-between",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(p_,{}),onClick:()=>{C>0&&P(C-1)},isDisabled:0===C,variant:"outline",children:"Sebelumnya"}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"outline",onClick:r,children:"Batal"}),C===A.length-1?(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{if(l.name&&l.classification_id&&l.building_id&&l.floor_id)if(b.isValid)if(w)S({title:"Memeriksa Nama Kamar",description:"Mohon tunggu sebentar, sistem sedang memeriksa ketersediaan nama kamar...",status:"info",duration:3e3,isClosable:!0});else{s(!0);try{const e=await I2.createRoom(l);S({title:"Berhasil",description:"Kamar berhasil dibuat dengan kode: ".concat(e.room.fullRoomCode||e.room.full_room_code||"N/A"),status:"success",duration:5e3,isClosable:!0}),i(e.room),r()}catch(e){let t="Kesalahan",n=e.message||"Gagal membuat kamar",r="error",i=5e3;e.message&&e.message.includes("sudah digunakan")?(t="\u26a0\ufe0f Nama Kamar Sudah Ada",n=e.message,r="warning",i=8e3):e.message&&e.message.includes("sudah ada di sistem")?(t="\ud83d\udd04 Data Sudah Tersedia",n=e.message,r="warning",i=6e3):e.message&&e.message.includes("tidak valid")?(t="\u274c Data Tidak Valid",n=e.message,r="error",i=6e3):(e.message&&e.message.includes("network")||e.message&&e.message.includes("connection"))&&(t="\ud83c\udf10 Masalah Koneksi",n="Tidak dapat terhubung ke server. Silakan periksa koneksi internet Anda dan coba lagi.",r="error",i=7e3),S({title:t,description:n,status:r,duration:i,isClosable:!0,position:"top-right"})}finally{s(!1)}}else S({title:"Nama Kamar Tidak Valid",description:b.message||"Silakan perbaiki nama kamar sebelum melanjutkan",status:"warning",duration:5e3,isClosable:!0});else S({title:"Kesalahan Validasi",description:"Harap isi semua kolom yang diperlukan (Nama, Tipe Kamar, Gedung, dan Lantai)",status:"error",duration:3e3,isClosable:!0})},isLoading:a,loadingText:"Membuat...",children:"Buat Kamar"}):(0,Xo.jsx)(Bj,{rightIcon:(0,Xo.jsx)(f_,{}),colorScheme:"blue",onClick:()=>{C<A.length-1&&P(C+1)},isDisabled:!(0!==C||l.name&&l.classification_id&&l.building_id&&l.floor_id&&b.isValid&&!w),children:"Selanjutnya"})]})]})})]})]})},Q5=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)("current"),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)({total:0,available:0,occupied:0,maintenance:0}),[y,x]=(0,t.useState)({page:1,limit:10,total:0,totalPages:0}),{isOpen:b,onOpen:j,onClose:w}=GG(),{isOpen:k,onOpen:S,onClose:_}=GG(),[A,C]=(0,t.useState)([]),[P,I]=(0,t.useState)([]),[T,N]=(0,t.useState)(null),[E,z]=(0,t.useState)(null),[O,L]=(0,t.useState)(!1),[D,R]=(0,t.useState)(!1),[M,B]=(0,t.useState)(""),[F,W]=(0,t.useState)(""),{isOpen:U,onOpen:q,onClose:H}=GG(),{isOpen:V,onOpen:G,onClose:K}=GG(),{isOpen:Y,onOpen:Z,onClose:J}=GG(),{isOpen:X,onOpen:$,onClose:Q}=GG(),[ee,te]=(0,t.useState)({buildingCode:"",buildingName:"",genderType:"laki_laki",address:"",description:"",totalFloors:4,isActive:!0}),[ne,re]=(0,t.useState)({buildingId:"",floorNumber:1,floorName:"",description:"",isAvailable:!0}),[ie,oe]=(0,t.useState)({}),[ae,se]=(0,t.useState)(0),le=hb(),[ce,de]=(0,t.useState)(!1),[ue,he]=(0,t.useState)(null),pe=t.useRef(),[fe,me]=(0,t.useState)(new Map),[ge,ve]=(0,t.useState)(null),[ye,xe]=(0,t.useState)(new Map),[be,je]=(0,t.useState)(new Map),we=3e5;(0,t.useMemo)((()=>{const e=setTimeout((()=>a),500);return()=>clearTimeout(e)}),[a]);(0,t.useEffect)((()=>{const e=setTimeout((()=>{Ne()}),300);return()=>clearTimeout(e)}),[y.page,y.limit,d,h]),(0,t.useEffect)((()=>{if(a){const e=setTimeout((()=>{Ne()}),500);return()=>clearTimeout(e)}Ne()}),[a]),(0,t.useEffect)((()=>{1===ae?ke():2===ae&&(ke(),Ce())}),[ae]);const ke=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=Date.now(),n=be.get("buildings")||0;if(!e&&ge&&t-n<we)return void C(ge);L(!0);const r=(await I2.getBuildings({page:1,limit:100})).buildings||[];C(r),ve(r),je((e=>{const n=new Map(e);return n.set("buildings",t),n}))}catch(t){le({title:"Error",description:t.message,status:"error",duration:3e3,isClosable:!0})}finally{L(!1)}}),[ge,be]),Se=r||O||D,_e=(0,t.useCallback)((()=>{me(new Map),ve(null),xe(new Map),je(new Map),Ne(!0),1===ae&&ke(!0),2===ae&&Ce(!0)}),[ae]),Ae=()=>{te({buildingCode:"",buildingName:"",genderType:"laki_laki",address:"",description:"",totalFloors:4,isActive:!0}),N(null),oe({})},Ce=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const n=Date.now(),r=be.get("floors")||0;if(!e&&ye.has("all")&&n-r<we)return void I(ye.get("all"));R(!0);const i=[];for(const e of A)try{const t=(await I2.getBuildingFloors(e.buildingId)).floors.map((t=>(0,o.A)((0,o.A)({},t),{},{buildingName:e.buildingName,buildingCode:e.buildingCode})));i.push(...t)}catch(t){console.error("Error fetching floors for building ".concat(e.buildingId,":"),t)}I(i),xe((e=>{const t=new Map(e);return t.set("all",i),t})),je((e=>{const t=new Map(e);return t.set("floors",n),t}))}catch(t){le({title:"Error",description:"Failed to fetch floors",status:"error",duration:3e3,isClosable:!0})}finally{R(!1)}}),[A,ye,be]),Pe=()=>{re({buildingId:"",floorNumber:1,floorName:"",description:"",isAvailable:!0}),z(null),oe({})},Ie=(0,t.useCallback)(((e,t)=>{te((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})))}),[]),Te=(0,t.useCallback)(((e,t)=>{re((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})))}),[]),Ne=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t="".concat(y.page,"-").concat(y.limit,"-").concat(d,"-").concat(a,"-").concat(l,"-").concat(h),r=Date.now(),s=be.get(t)||0;if(!e&&fe.has(t)&&r-s<we){const e=fe.get(t);return n(e.rooms),void x((t=>(0,o.A)((0,o.A)({},t),{},{total:e.total})))}i(!0);const c={page:y.page,limit:y.limit};d&&(c.classification=d);const u=await I2.getRooms(c),p=u.rooms||[],f=u.totalCount||u.total||p.length;let m=p;a.trim()&&(m=m.filter((e=>{var t,n,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase()))||(null===(n=e.roomId)||void 0===n?void 0:n.toString().includes(a.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(a.toLowerCase()))}))),l&&(m=m.filter((e=>{const t=Oe(e);return"occupied"===l?"full"===t.status||"partial"===t.status:t.status===l}))),n(m);const g=d?f:a||l?m.length:f;x((e=>(0,o.A)((0,o.A)({},e),{},{total:g,totalPages:Math.ceil(g/e.limit)}))),me((e=>{const n=new Map(e);return n.set(t,{rooms:m,total:g}),n})),je((e=>{const n=new Map(e);return n.set(t,r),n})),await Ee()}catch(t){le({title:"Error",description:"Failed to fetch rooms",status:"error",duration:3e3,isClosable:!0}),v({total:0,available:0,occupied:0,maintenance:0})}finally{i(!1)}}),[y.page,y.limit,d,a,l,h,fe,be]),Ee=async()=>{try{const e=await I2.getRooms({limit:100}),t=e.rooms||[],n=e.totalCount||e.total||t.length,r=(e=>{new Date;let t=e.length,n=0,r=0;return e.forEach((e=>{let t=[];e.occupants&&(t=Array.isArray(e.occupants)?e.occupants:[e.occupants]);const i=Re(t,"current");new Set(i.map((e=>e.tenantId))).size>0?r++:n++})),{total:t,available:n,occupied:r,maintenance:0}})(t);r.total=n,v(r)}catch(e){console.error("Failed to fetch room stats:",e);try{const e=await I2.getRooms({page:1,limit:1}),t=e.totalCount||e.total||0;v({total:t,available:t-1,occupied:1,maintenance:0})}catch(t){v({total:0,available:0,occupied:0,maintenance:0})}}},ze=()=>{de(!1),he(null)},Oe=(0,t.useCallback)((e=>{let t=[];e.occupants&&(t=Array.isArray(e.occupants)?e.occupants:[e.occupants]);const n=Re(t,h),r=new Set(n.map((e=>e.tenantId))).size,i=r/(e.capacity||1)*100;return 0===i?{status:"available",color:"green",count:r}:i<100?{status:"partial",color:"orange",count:r}:{status:"full",color:"red",count:r}}),[h]),Le=e=>{switch(null===e||void 0===e?void 0:e.name){case"laki_laki":return"Laki-laki";case"perempuan":return"Perempuan";case"ruang_rapat":return"Ruang Rapat";default:return(null===e||void 0===e?void 0:e.name)||"Campuran"}},De=e=>{switch(e){case"available":return"Tersedia";case"partial":return"Sebagian Terisi";case"full":return"Penuh";case"maintenance":return"Perawatan";case"reserved":return"Dipesan";default:return e}},Re=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current";if(!e||0===e.length)return[];const n=new Date,r=new Date(n.getFullYear(),n.getMonth()-6,n.getDate()),i=new Date(n.getFullYear(),0,1),o=new Date(n.getFullYear(),11,31),a=e=>e?e.seconds?new Date(1e3*parseInt(e.seconds)):new Date(e):null;return e.filter((e=>{if(!e.status||"approved"!==e.status)return!1;const s=a(e.checkIn),l=a(e.checkOut);if(!s||!l)return!1;let c=!1;switch(t){case"current":default:c=s<=n&&n<=l;break;case"this_year":c=s>=i&&s<=o;break;case"last_6_months":c=s>=r&&s<=n;break;case"future":c=s>n;break;case"all":c=!0}return c}))}),[]),Me=(0,t.useMemo)((()=>{const t={};return e.forEach((e=>{t[e.roomId]=Oe(e)})),t}),[e,h,Oe]);return r?(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(bb,{h:"400px",children:(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"})})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Eb,{p:6,children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:8,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:"Manajemen Properti"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"lg",children:"Kelola gedung, lantai, dan kamar di seluruh properti"})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(U_,{}),colorScheme:"gray",variant:"outline",onClick:_e,size:"sm",isLoading:Se,loadingText:"Refreshing...",children:"Refresh Data"})]}),(0,Xo.jsxs)(YQ,{index:ae,onChange:se,variant:"enclosed",colorScheme:"blue",children:[(0,Xo.jsxs)(ZQ,{mb:4,children:[(0,Xo.jsx)(JQ,{leftIcon:(0,Xo.jsx)(__,{}),children:"Kamar"}),(0,Xo.jsx)(JQ,{leftIcon:(0,Xo.jsx)(N_,{}),children:"Gedung"}),(0,Xo.jsx)(JQ,{leftIcon:(0,Xo.jsx)(C_,{}),children:"Lantai"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{p:0,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:6,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"semibold",color:"gray.800",children:"Manajemen Kamar"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",size:"md",onClick:S,shadow:"md",_hover:{shadow:"lg",transform:"translateY(-1px)"},transition:"all 0.2s",children:"Tambah Kamar Baru"})]}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:6,mb:8,children:[(0,Xo.jsx)(Vb,{shadow:"md",_hover:{shadow:"lg"},transition:"all 0.2s",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(VS,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Total Kamar"}),(0,Xo.jsx)(Eb,{p:2,bg:"blue.50",rounded:"lg",children:(0,Xo.jsx)(__,{color:"blue.500",size:20})})]}),(0,Xo.jsx)(GS,{fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:g.total}),(0,Xo.jsx)(KS,{color:"gray.500",fontSize:"sm",children:"Semua kamar dalam sistem"})]})})}),(0,Xo.jsx)(Vb,{shadow:"md",_hover:{shadow:"lg"},transition:"all 0.2s",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(VS,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Tersedia"}),(0,Xo.jsx)(Eb,{p:2,bg:"green.50",rounded:"lg",children:(0,Xo.jsx)(N_,{color:"green.500",size:20})})]}),(0,Xo.jsx)(GS,{fontSize:"3xl",fontWeight:"bold",color:"green.600",children:g.available}),(0,Xo.jsx)(KS,{color:"gray.500",fontSize:"sm",children:"Siap untuk pemesanan baru"})]})})}),(0,Xo.jsx)(Vb,{shadow:"md",_hover:{shadow:"lg"},transition:"all 0.2s",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(VS,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"Dihuni"}),(0,Xo.jsx)(Eb,{p:2,bg:"blue.50",rounded:"lg",children:(0,Xo.jsx)(tA,{color:"blue.500",size:20})})]}),(0,Xo.jsx)(GS,{fontSize:"3xl",fontWeight:"bold",color:"blue.600",children:g.occupied}),(0,Xo.jsx)(KS,{color:"gray.500",fontSize:"sm",children:"Sedang dihuni"})]})})})]}),(0,Xo.jsx)(Vb,{mb:8,shadow:"md",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",color:"gray.700",children:"Filter & Pencarian"}),(0,Xo.jsx)(Bj,{size:"sm",variant:"ghost",onClick:()=>{s(""),c(""),u(""),p("current"),x((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:"Hapus Semua"})]}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:4,w:"full",children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"gray.600",children:"Cari Kamar"}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(W_,{color:"gray.400"})}),(0,Xo.jsx)(gj,{placeholder:"Cari berdasarkan nama atau nomor kamar...",value:a,onChange:e=>{s(e.target.value),x((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},bg:"white",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"}})]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"gray.600",children:"Status Ketersediaan"}),(0,Xo.jsxs)(SQ,{placeholder:"Semua status",value:l,onChange:e=>{c(e.target.value),x((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},bg:"white",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"},children:[(0,Xo.jsx)("option",{value:"available",children:"Tersedia"}),(0,Xo.jsx)("option",{value:"occupied",children:"Dihuni"}),(0,Xo.jsx)("option",{value:"reserved",children:"Dipesan"})]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"gray.600",children:"Tipe Kamar"}),(0,Xo.jsxs)(SQ,{placeholder:"Semua tipe",value:d,onChange:e=>{u(e.target.value),x((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},bg:"white",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"},children:[(0,Xo.jsx)("option",{value:"laki_laki",children:"Kamar Laki-laki"}),(0,Xo.jsx)("option",{value:"perempuan",children:"Kamar Perempuan"}),(0,Xo.jsx)("option",{value:"ruang_rapat",children:"Ruang Rapat"})]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"gray.600",children:"Periode Hunian"}),(0,Xo.jsxs)(SQ,{value:h,onChange:e=>{p(e.target.value),x((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},bg:"white",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"},children:[(0,Xo.jsx)("option",{value:"current",children:"Penghuni Saat Ini"}),(0,Xo.jsx)("option",{value:"this_year",children:"Tahun Ini (2025)"}),(0,Xo.jsx)("option",{value:"last_6_months",children:"6 Bulan Terakhir"}),(0,Xo.jsx)("option",{value:"future",children:"Booking Mendatang"}),(0,Xo.jsx)("option",{value:"all",children:"Semua Periode"})]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"gray.600",children:"Item per halaman"}),(0,Xo.jsx)(dS,{children:(0,Xo.jsxs)(SQ,{width:"120px",value:y.limit,onChange:e=>{return t=e.target.value,void x((e=>(0,o.A)((0,o.A)({},e),{},{page:1,limit:parseInt(t)})));var t},bg:"white",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"},children:[(0,Xo.jsx)("option",{value:"5",children:"5 item"}),(0,Xo.jsx)("option",{value:"10",children:"10 item"}),(0,Xo.jsx)("option",{value:"15",children:"15 item"}),(0,Xo.jsx)("option",{value:"20",children:"20 item"}),(0,Xo.jsx)("option",{value:"25",children:"25 item"})]})})]})})]})]})})}),"current"!==h&&(0,Xo.jsx)(Vb,{mb:4,bg:"blue.50",borderColor:"blue.200",children:(0,Xo.jsx)(Kb,{py:3,children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Eb,{p:2,bg:"blue.100",rounded:"lg",children:(0,Xo.jsx)(l_,{color:"blue.600",size:16})}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"blue.800",children:["Filter Periode Aktif: ","this_year"===h?"Penghuni Tahun Ini (2025)":"last_6_months"===h?"Penghuni 6 Bulan Terakhir":"future"===h?"Booking Mendatang":"all"===h?"Semua Periode":"Filter Khusus"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"blue.600",children:"Menampilkan data penghuni berdasarkan periode yang dipilih"})]})]})})}),(0,Xo.jsx)(Vb,{shadow:"md",children:(0,Xo.jsx)(Kb,{p:0,children:r?(0,Xo.jsxs)(Pb,{p:8,spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Memuat kamar..."})]}):0===e.length?(0,Xo.jsx)(bb,{p:12,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Eb,{p:4,bg:"gray.100",rounded:"full",children:(0,Xo.jsx)(__,{size:48,color:"gray.400"})}),(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xl",fontWeight:"semibold",color:"gray.700",children:"Tidak ada kamar ditemukan"}),(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",children:a||l||d?"Coba ubah filter pencarian Anda atau hapus filter untuk melihat semua kamar":"Belum ada kamar yang ditambahkan ke sistem"}),!a&&!l&&!d&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",variant:"outline",onClick:S,mt:4,children:"Tambah Kamar Pertama"})]})]})}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Eb,{overflowX:"auto",children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{fontWeight:"semibold",color:"gray.700",children:"Nomor Kamar"}),(0,Xo.jsx)(T0,{fontWeight:"semibold",color:"gray.700",children:"Tipe"}),(0,Xo.jsx)(T0,{fontWeight:"semibold",color:"gray.700",children:"Kapasitas"}),(0,Xo.jsx)(T0,{fontWeight:"semibold",color:"gray.700",children:"Status"}),(0,Xo.jsx)(T0,{fontWeight:"semibold",color:"gray.700",children:"Hunian"}),(0,Xo.jsx)(T0,{fontWeight:"semibold",color:"gray.700",children:"Aksi"})]})}),(0,Xo.jsx)(N0,{children:e.map((e=>{var t,n,r,i,o,a,s,l;return(0,Xo.jsxs)(P0,{_hover:{bg:"gray.50"},transition:"all 0.2s",children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",color:"gray.800",children:["Kamar ",e.name]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["ID: ",e.roomId]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:"laki_laki"===(null===(t=e.classification)||void 0===t?void 0:t.name)?"blue":"perempuan"===(null===(n=e.classification)||void 0===n?void 0:n.name)?"pink":"ruang_rapat"===(null===(r=e.classification)||void 0===r?void 0:r.name)?"purple":"gray",variant:"subtle",px:3,py:1,rounded:"full",children:Le(e.classification)})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(tA,{color:"gray.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:e.capacity}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"orang"})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:(null===(i=Me[e.roomId])||void 0===i?void 0:i.color)||"gray",variant:"subtle",px:3,py:1,rounded:"full",children:De((null===(o=Me[e.roomId])||void 0===o?void 0:o.status)||"available")})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===(a=Me[e.roomId])||void 0===a?void 0:a.count)||0}),(0,Xo.jsxs)(Tb,{color:"gray.500",children:["dari ",e.capacity]})]}),(0,Xo.jsx)(a0,{value:((null===(s=Me[e.roomId])||void 0===s?void 0:s.count)||0)/e.capacity*100,colorScheme:(null===(l=Me[e.roomId])||void 0===l?void 0:l.color)||"gray",size:"sm",w:"120px",rounded:"full"})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm",_hover:{bg:"gray.100"}}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(j_,{}),onClick:()=>(e=>{m(e),j()})(e),children:"Lihat Detail"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(J_,{}),color:"red.500",onClick:()=>{return t=e.roomId,he(t),void de(!0);var t},children:"Hapus Kamar"})]})]})})]},e.roomId)}))})]})}),(0,Xo.jsx)(Eb,{p:4,borderTop:"1px solid",borderColor:"gray.200",bg:"gray.50",children:(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:["Menampilkan ",(y.page-1)*y.limit+1," sampai ",Math.min(y.page*y.limit,y.total)," dari ",y.total," kamar"]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Halaman ",y.page," dari ",y.totalPages]})]}),(0,Xo.jsx)(m5,{currentPage:y.page,totalPages:y.totalPages,onPageChange:e=>{x((t=>(0,o.A)((0,o.A)({},t),{},{page:e})))}})]})})]})})})]})}),(0,Xo.jsx)($Q,{p:0,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:6,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"semibold",color:"gray.800",children:"Manajemen Gedung"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",size:"md",onClick:()=>{Ae(),q()},shadow:"md",_hover:{shadow:"lg",transform:"translateY(-1px)"},transition:"all 0.2s",children:"Tambah Gedung Baru"})]}),(0,Xo.jsx)(Xj,{gap:4,mb:6,wrap:"wrap",children:(0,Xo.jsx)(gj,{placeholder:"Cari gedung...",value:M,onChange:e=>B(e.target.value),width:{base:"100%",md:"300px"},leftElement:(0,Xo.jsx)(Tj,{children:(0,Xo.jsx)(W_,{color:"gray.400"})})})}),(0,Xo.jsx)(Vb,{shadow:"lg",border:"1px",borderColor:"gray.100",children:(0,Xo.jsx)(Kb,{p:0,children:O?(0,Xo.jsx)(bb,{py:20,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"blue.500"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"lg",children:"Memuat data gedung..."})]})}):0===A.length?(0,Xo.jsx)(bb,{py:20,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(__,{size:48,color:"gray.400"}),(0,Xo.jsx)(__,{size:48,color:"gray.400"}),(0,Xo.jsx)(__,{size:48,color:"gray.400"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",variant:"outline",onClick:()=>{Ae(),q()},children:"Tambah Gedung Pertama"})]})}):(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Kode Gedung"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Nama Gedung"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Jenis Kelamin"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Alamat"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Status"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",textAlign:"center",children:"Aksi"})]})}),(0,Xo.jsx)(N0,{children:A.filter((e=>{var t,n;return!M||(null===(t=e.buildingName)||void 0===t?void 0:t.toLowerCase().includes(M.toLowerCase()))||(null===(n=e.buildingCode)||void 0===n?void 0:n.toLowerCase().includes(M.toLowerCase()))})).map((e=>(0,Xo.jsxs)(P0,{_hover:{bg:"gray.50"},children:[(0,Xo.jsx)(z0,{fontWeight:"medium",color:"blue.600",children:e.buildingCode}),(0,Xo.jsx)(z0,{fontWeight:"medium",children:e.buildingName}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:"laki_laki"===e.genderType?"blue":"pink",variant:"subtle",fontSize:"xs",px:2,py:1,rounded:"md",children:"laki_laki"===e.genderType?"Laki-laki":"Perempuan"})}),(0,Xo.jsx)(z0,{maxW:"200px",isTruncated:!0,children:e.address||"-"}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:e.isActive?"green":"red",variant:"subtle",fontSize:"xs",px:2,py:1,rounded:"md",children:e.isActive?"Aktif":"Nonaktif"})}),(0,Xo.jsx)(z0,{textAlign:"center",children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm",_hover:{bg:"gray.100"}}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(b_,{}),onClick:()=>(e=>{N(e),te({buildingCode:e.buildingCode||"",buildingName:e.buildingName||"",genderType:e.genderType||"laki_laki",address:e.address||"",description:e.description||"",totalFloors:e.totalFloors||4,isActive:void 0===e.isActive||e.isActive}),G()})(e),children:"Edit Gedung"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(J_,{}),color:"red.500",onClick:()=>{window.confirm("Apakah Anda yakin ingin menghapus gedung ini?")&&(async e=>{try{await I2.deleteBuilding(e),le({title:"\ud83d\uddd1\ufe0f Gedung Dihapus Permanen",description:"Gedung telah berhasil dihapus secara permanen dari sistem",status:"success",duration:4e3,isClosable:!0}),ke()}catch(r){var t,n;console.error("Error deleting building:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"Failed to delete building",i=e.includes("has")&&(e.includes("rooms")||e.includes("floors"));le({title:i?"\u26a0\ufe0f Tidak Dapat Menghapus Gedung":"\u274c Gagal Menghapus Gedung",description:i?"".concat(e,". Hapus semua ruangan dan lantai terlebih dahulu."):e,status:"error",duration:i?6e3:4e3,isClosable:!0})}})(e.buildingId)},children:"Hapus Gedung"})]})]})})]},e.buildingId)))})]})})})]})}),(0,Xo.jsx)($Q,{p:0,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:6,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"semibold",color:"gray.800",children:"Manajemen Lantai"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",size:"md",onClick:()=>{Pe(),Z()},shadow:"md",_hover:{shadow:"lg",transform:"translateY(-1px)"},transition:"all 0.2s",isDisabled:0===A.length,children:"Tambah Lantai Baru"})]}),0===A.length&&(0,Xo.jsxs)(ay,{status:"warning",mb:6,children:[(0,Xo.jsx)(sy,{}),"Anda perlu membuat gedung terlebih dahulu sebelum menambah lantai."]}),(0,Xo.jsx)(Xj,{gap:4,mb:6,wrap:"wrap",children:(0,Xo.jsx)(gj,{placeholder:"Cari lantai...",value:F,onChange:e=>W(e.target.value),width:{base:"100%",md:"300px"},leftElement:(0,Xo.jsx)(Tj,{children:(0,Xo.jsx)(W_,{color:"gray.400"})})})}),(0,Xo.jsx)(Vb,{shadow:"lg",border:"1px",borderColor:"gray.100",children:(0,Xo.jsx)(Kb,{p:0,children:D?(0,Xo.jsx)(bb,{py:20,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"blue.500"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"lg",children:"Memuat data lantai..."})]})}):0===P.length?(0,Xo.jsx)(bb,{py:20,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(C_,{size:48,color:"gray.400"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"lg",children:"Belum ada lantai tersedia"}),A.length>0&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(M_,{}),colorScheme:"blue",variant:"outline",onClick:()=>{Pe(),Z()},children:"Tambah Lantai Pertama"})]})}):(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Gedung"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Nomor Lantai"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Nama Lantai"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Deskripsi"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",children:"Status"}),(0,Xo.jsx)(T0,{fontWeight:"bold",color:"gray.700",textAlign:"center",children:"Aksi"})]})}),(0,Xo.jsx)(N0,{children:P.filter((e=>{var t,n,r;return!F||(null===(t=e.floorName)||void 0===t?void 0:t.toLowerCase().includes(F.toLowerCase()))||(null===(n=e.buildingName)||void 0===n?void 0:n.toLowerCase().includes(F.toLowerCase()))||(null===(r=e.buildingCode)||void 0===r?void 0:r.toLowerCase().includes(F.toLowerCase()))})).map((e=>(0,Xo.jsxs)(P0,{_hover:{bg:"gray.50"},children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"blue.600",children:e.buildingCode}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:e.buildingName})]})}),(0,Xo.jsx)(z0,{fontWeight:"medium",children:e.floorNumber}),(0,Xo.jsx)(z0,{fontWeight:"medium",children:e.floorName}),(0,Xo.jsx)(z0,{maxW:"200px",isTruncated:!0,children:e.description||"-"}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:e.isAvailable?"green":"red",variant:"subtle",fontSize:"xs",px:2,py:1,rounded:"md",children:e.isAvailable?"Tersedia":"Tidak Tersedia"})}),(0,Xo.jsx)(z0,{textAlign:"center",children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm",_hover:{bg:"gray.100"}}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(b_,{}),onClick:()=>(e=>{z(e),re({buildingId:e.buildingId||"",floorNumber:e.floorNumber||1,floorName:e.floorName||"",description:e.description||"",isAvailable:void 0===e.isAvailable||e.isAvailable}),$()})(e),children:"Edit Lantai"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(J_,{}),color:"red.500",onClick:()=>{window.confirm("Apakah Anda yakin ingin menghapus lantai ini?")&&(async e=>{try{await I2.deleteFloor(e),le({title:"Success",description:"Floor deleted successfully",status:"success",duration:3e3,isClosable:!0}),Ce()}catch(t){le({title:"Error",description:t.message,status:"error",duration:3e3,isClosable:!0})}})(e.floorId)},children:"Hapus Lantai"})]})]})})]},e.floorId)))})]})})})]})})]})]}),(0,Xo.jsxs)(JZ,{isOpen:U,onClose:H,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Tambah Gedung Baru"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.buildingCode,children:[(0,Xo.jsx)(sj,{children:"Kode Gedung"}),(0,Xo.jsx)(gj,{placeholder:"Contoh: GL1, GP1",value:ee.buildingCode,onChange:e=>Ie("buildingCode",e.target.value)}),(0,Xo.jsx)(xj,{children:ie.buildingCode})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.buildingName,children:[(0,Xo.jsx)(sj,{children:"Nama Gedung"}),(0,Xo.jsx)(gj,{placeholder:"Contoh: Gedung Laki-laki Pusat 1",value:ee.buildingName,onChange:e=>Ie("buildingName",e.target.value)}),(0,Xo.jsx)(xj,{children:ie.buildingName})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.genderType,children:[(0,Xo.jsx)(sj,{children:"Jenis Kelamin"}),(0,Xo.jsxs)(SQ,{value:ee.genderType,onChange:e=>Ie("genderType",e.target.value),children:[(0,Xo.jsx)("option",{value:"laki_laki",children:"Laki-laki"}),(0,Xo.jsx)("option",{value:"perempuan",children:"Perempuan"})]}),(0,Xo.jsx)(xj,{children:ie.genderType})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.totalFloors,children:[(0,Xo.jsx)(sj,{children:"Jumlah Lantai"}),(0,Xo.jsxs)(n5,{min:1,max:10,value:ee.totalFloors,onChange:e=>Ie("totalFloors",parseInt(e)||1),children:[(0,Xo.jsx)(i5,{placeholder:"Masukkan jumlah lantai (1-10)"}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]}),(0,Xo.jsx)(xj,{children:ie.totalFloors}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Maksimal 10 lantai per gedung"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Alamat"}),(0,Xo.jsx)(D1,{placeholder:"Alamat lengkap gedung",value:ee.address,onChange:e=>Ie("address",e.target.value),rows:3})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Deskripsi"}),(0,Xo.jsx)(D1,{placeholder:"Deskripsi gedung",value:ee.description,onChange:e=>Ie("description",e.target.value),rows:3})]}),(0,Xo.jsxs)(ij,{display:"flex",alignItems:"center",children:[(0,Xo.jsx)(sj,{mb:"0",children:"Status Aktif"}),(0,Xo.jsx)(z1,{isChecked:ee.isActive,onChange:e=>Ie("isActive",e.target.checked)})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:H,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{try{oe({});const e={};if(ee.buildingCode.trim()||(e.buildingCode="Building code is required"),ee.buildingName.trim()||(e.buildingName="Building name is required"),ee.genderType||(e.genderType="Gender type is required"),(!ee.totalFloors||ee.totalFloors<1||ee.totalFloors>10)&&(e.totalFloors="Total floors must be between 1 and 10"),Object.keys(e).length>0)return void oe(e);await I2.createBuilding(ee),le({title:"Success",description:"Building created successfully",status:"success",duration:3e3,isClosable:!0}),H(),ke(!0),Ae()}catch(e){le({title:"Error",description:e.message,status:"error",duration:3e3,isClosable:!0})}},children:"Simpan Gedung"})]})]})]}),(0,Xo.jsxs)(JZ,{isOpen:V,onClose:K,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Edit Gedung"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.buildingCode,children:[(0,Xo.jsx)(sj,{children:"Kode Gedung"}),(0,Xo.jsx)(gj,{placeholder:"Contoh: GL1, GP1",value:ee.buildingCode,onChange:e=>Ie("buildingCode",e.target.value)}),(0,Xo.jsx)(xj,{children:ie.buildingCode})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.buildingName,children:[(0,Xo.jsx)(sj,{children:"Nama Gedung"}),(0,Xo.jsx)(gj,{placeholder:"Contoh: Gedung Laki-laki Pusat 1",value:ee.buildingName,onChange:e=>Ie("buildingName",e.target.value)}),(0,Xo.jsx)(xj,{children:ie.buildingName})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.genderType,children:[(0,Xo.jsx)(sj,{children:"Jenis Kelamin"}),(0,Xo.jsxs)(SQ,{value:ee.genderType,onChange:e=>Ie("genderType",e.target.value),children:[(0,Xo.jsx)("option",{value:"laki_laki",children:"Laki-laki"}),(0,Xo.jsx)("option",{value:"perempuan",children:"Perempuan"})]}),(0,Xo.jsx)(xj,{children:ie.genderType})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.totalFloors,children:[(0,Xo.jsx)(sj,{children:"Jumlah Lantai"}),(0,Xo.jsxs)(n5,{min:1,max:10,value:ee.totalFloors,onChange:e=>te((0,o.A)((0,o.A)({},ee),{},{totalFloors:parseInt(e)||1})),children:[(0,Xo.jsx)(i5,{placeholder:"Masukkan jumlah lantai (1-10)"}),(0,Xo.jsxs)(r5,{children:[(0,Xo.jsx)(s5,{}),(0,Xo.jsx)(a5,{})]})]}),(0,Xo.jsx)(xj,{children:ie.totalFloors}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Maksimal 10 lantai per gedung"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Alamat"}),(0,Xo.jsx)(D1,{placeholder:"Alamat lengkap gedung",value:ee.address,onChange:e=>te((0,o.A)((0,o.A)({},ee),{},{address:e.target.value})),rows:3})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Deskripsi"}),(0,Xo.jsx)(D1,{placeholder:"Deskripsi gedung",value:ee.description,onChange:e=>Ie("description",e.target.value),rows:3})]}),(0,Xo.jsxs)(ij,{display:"flex",alignItems:"center",children:[(0,Xo.jsx)(sj,{mb:"0",children:"Status Aktif"}),(0,Xo.jsx)(z1,{isChecked:ee.isActive,onChange:e=>Ie("isActive",e.target.checked)})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:K,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{try{oe({});const e={};if(ee.buildingCode.trim()||(e.buildingCode="Building code is required"),ee.buildingName.trim()||(e.buildingName="Building name is required"),ee.genderType||(e.genderType="Gender type is required"),(!ee.totalFloors||ee.totalFloors<1||ee.totalFloors>10)&&(e.totalFloors="Total floors must be between 1 and 10"),Object.keys(e).length>0)return void oe(e);await I2.updateBuilding(T.buildingId,ee),le({title:"Success",description:"Building updated successfully",status:"success",duration:3e3,isClosable:!0}),K(),ke(),Ae()}catch(e){le({title:"Error",description:e.message,status:"error",duration:3e3,isClosable:!0})}},children:"Update Gedung"})]})]})]}),(0,Xo.jsxs)(JZ,{isOpen:Y,onClose:J,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Tambah Lantai Baru"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.buildingId,children:[(0,Xo.jsx)(sj,{children:"Gedung"}),(0,Xo.jsx)(SQ,{placeholder:"Pilih gedung",value:ne.buildingId,onChange:e=>Te("buildingId",e.target.value),children:A.map((e=>(0,Xo.jsxs)("option",{value:e.buildingId,children:[e.buildingCode," - ",e.buildingName]},e.buildingId)))}),(0,Xo.jsx)(xj,{children:ie.buildingId})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.floorNumber,children:[(0,Xo.jsx)(sj,{children:"Nomor Lantai"}),(0,Xo.jsx)(gj,{type:"number",min:"1",max:"10",value:ne.floorNumber,onChange:e=>Te("floorNumber",parseInt(e.target.value)||1)}),(0,Xo.jsx)(xj,{children:ie.floorNumber})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.floorName,children:[(0,Xo.jsx)(sj,{children:"Nama Lantai"}),(0,Xo.jsx)(gj,{placeholder:"Contoh: Lantai 1, Lantai 2",value:ne.floorName,onChange:e=>Te("floorName",e.target.value)}),(0,Xo.jsx)(xj,{children:ie.floorName})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Deskripsi"}),(0,Xo.jsx)(D1,{placeholder:"Deskripsi lantai",value:ne.description,onChange:e=>Te("description",e.target.value),rows:3})]}),(0,Xo.jsxs)(ij,{display:"flex",alignItems:"center",children:[(0,Xo.jsx)(sj,{mb:"0",children:"Status Tersedia"}),(0,Xo.jsx)(z1,{isChecked:ne.isAvailable,onChange:e=>Te("isAvailable",e.target.checked)})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:J,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{try{oe({});const e={};if(ne.buildingId||(e.buildingId="Building is required"),(!ne.floorNumber||ne.floorNumber<1)&&(e.floorNumber="Valid floor number is required"),ne.floorName.trim()||(e.floorName="Floor name is required"),Object.keys(e).length>0)return void oe(e);await I2.createFloor(ne),le({title:"Success",description:"Floor created successfully",status:"success",duration:3e3,isClosable:!0}),J(),Ce(),Pe()}catch(e){le({title:"Error",description:e.message,status:"error",duration:3e3,isClosable:!0})}},children:"Simpan Lantai"})]})]})]}),(0,Xo.jsxs)(JZ,{isOpen:X,onClose:Q,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Edit Lantai"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.floorNumber,children:[(0,Xo.jsx)(sj,{children:"Nomor Lantai"}),(0,Xo.jsx)(gj,{type:"number",min:"1",max:"10",value:ne.floorNumber,onChange:e=>Te("floorNumber",parseInt(e.target.value)||1)}),(0,Xo.jsx)(xj,{children:ie.floorNumber})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:ie.floorName,children:[(0,Xo.jsx)(sj,{children:"Nama Lantai"}),(0,Xo.jsx)(gj,{placeholder:"Contoh: Lantai 1, Lantai 2",value:ne.floorName,onChange:e=>Te("floorName",e.target.value)}),(0,Xo.jsx)(xj,{children:ie.floorName})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Deskripsi"}),(0,Xo.jsx)(D1,{placeholder:"Deskripsi lantai",value:ne.description,onChange:e=>Te("description",e.target.value),rows:3})]}),(0,Xo.jsxs)(ij,{display:"flex",alignItems:"center",children:[(0,Xo.jsx)(sj,{mb:"0",children:"Status Tersedia"}),(0,Xo.jsx)(z1,{isChecked:ne.isAvailable,onChange:e=>Te("isAvailable",e.target.checked)})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:Q,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{try{oe({});const e={};if((!ne.floorNumber||ne.floorNumber<1)&&(e.floorNumber="Valid floor number is required"),ne.floorName.trim()||(e.floorName="Floor name is required"),Object.keys(e).length>0)return void oe(e);await I2.updateFloor(E.floorId,ne),le({title:"Success",description:"Floor updated successfully",status:"success",duration:3e3,isClosable:!0}),Q(),Ce(),Pe()}catch(e){le({title:"Error",description:e.message,status:"error",duration:3e3,isClosable:!0})}},children:"Update Lantai"})]})]})]}),(0,Xo.jsx)(z5,{isOpen:b,onClose:()=>{m(null),w()},roomId:(null===f||void 0===f?void 0:f.room_id)||(null===f||void 0===f?void 0:f.roomId),onRoomUpdated:Ne,dateFilter:h}),(0,Xo.jsx)($5,{isOpen:k,onClose:_,onRoomCreated:()=>{Ne(),_()}}),(0,Xo.jsx)(c5,{isOpen:ce,leastDestructiveRef:pe,onClose:ze,children:(0,Xo.jsx)(vJ,{children:(0,Xo.jsxs)(d5,{children:[(0,Xo.jsx)(J0,{fontSize:"lg",fontWeight:"bold",children:"Hapus Kamar"}),(0,Xo.jsx)($0,{children:"Apakah Anda yakin ingin menghapus kamar ini? Tindakan ini tidak dapat dibatalkan."}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{ref:pe,onClick:ze,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:async()=>{if(ue)try{await I2.deleteRoom(ue),le({title:"Success",description:"Room deleted successfully",status:"success",duration:3e3,isClosable:!0}),Ne(!0)}catch(e){le({title:"Error",description:e.message||"Failed to delete room",status:"error",duration:3e3,isClosable:!0})}finally{ze()}},ml:3,children:"Hapus"})]})]})})})]})})},e4={getIssues:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/issues",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch issues")}},getIssueById:async e=>{try{const r=await pb.default.get("/issues/".concat(e)),i=r.data.issue||r.data,o=[];try{const t=await pb.default.get("/issues/".concat(e,"/attachments"));t.data&&t.data.attachments&&o.push(...t.data.attachments)}catch(t){console.log("No new attachments found:",t)}let a=null;if(i.hasImageAttachment||i.has_image_attachment)try{const t=await pb.default.get("/issues/".concat(e,"/image"));t.data&&t.data.content&&(a={attachmentId:"legacy_".concat(e),issueId:e,uploadedBy:i.reportedBy||i.reported_by,fileName:"issue_".concat(e,"_report_image"),fileType:t.data.fileType||i.imageFileType||"image/jpeg",fileSizeBytes:0,mimeType:t.data.fileType||i.imageFileType||"image/jpeg",attachmentType:"report",isPrimary:!0,uploadedAt:i.reportedAt||i.reported_at,content:t.data.content,contextDescription:"Initial report evidence (legacy)",id:"legacy_".concat(e),file_name:"issue_".concat(e,"_report_image"),file_type:t.data.fileType||i.imageFileType||"image/jpeg",uploaded_at:i.reportedAt||i.reported_at,attachment_type:"report",is_primary:!0})}catch(n){console.log("No legacy image found or error fetching:",n)}const s=[];a&&s.push(a),s.push(...o),i.attachments=s;const l=a||s.find((e=>e.isPrimary))||s[0];return i.imageData=l?{hasImage:!0,attachmentId:l.attachmentId,fileName:l.fileName,fileType:l.fileType,contextDescription:l.contextDescription,uploadedAt:l.uploadedAt,uploadedBy:l.uploadedBy,imageUrl:l.content?"data:".concat(l.fileType,";base64,").concat(l.content):"/api/v1/issue-attachments/".concat(l.attachmentId)}:{hasImage:!1},i}catch(r){throw new Error(r.message||"Failed to fetch issue details")}},createIssue:async e=>{try{const t={tenant_id:e.tenantId,booking_id:e.bookingId||0,reported_by_user_id:e.reportedByUserId,description:e.description,priority:e.priority||"medium",category:e.category||"general",estimated_resolution_hours:e.estimatedResolutionHours||24,initial_attachments:[]};e.fileName&&e.content&&t.initial_attachments.push({file_name:e.fileName,file_type:e.fileType||"image/png",content:e.content,attachment_type:"evidence",context_description:"Initial issue report attachment",is_primary:!0});return(await pb.default.post("/issues",t)).data}catch(t){throw console.error("Create issue error:",t),new Error(t.message||"Failed to create issue")}},updateIssue:async(e,t)=>{try{return(await pb.default.put("/issues/".concat(e),t)).data}catch(n){throw new Error(n.message||"Failed to update issue")}},updateIssueStatus:async(e,t)=>{try{console.log("Incoming statusData:",t);const n=parseInt(t.updatedBy);if(isNaN(n))throw new Error("Invalid updatedBy value: ".concat(t.updatedBy,". Expected a number."));const r={status:t.status,notes:t.notes||"",updatedBy:n,progressPercentage:parseInt(t.progressPercentage)||0};if(t.resolvedAt&&(r.resolvedAt=t.resolvedAt),t.image&&t.image.content){const e="resolved"===t.status?"completion":"in_progress"===t.status?"progress":"closed"===t.status?"feedback":"report";r.progressAttachments=[{fileName:t.image.fileName,fileType:t.image.fileType,content:t.image.content,attachmentType:e,contextDescription:"Status update to ".concat(t.status,": ").concat(t.notes),isPrimary:!0}]}console.log("Transformed status update payload:",(0,o.A)((0,o.A)({},r),{},{progressAttachments:r.progressAttachments?r.progressAttachments.map((e=>(0,o.A)((0,o.A)({},e),{},{content:"[BASE64 DATA - ".concat(e.content.length," chars]")}))):void 0}));return(await pb.default.put("/issues/".concat(e,"/status"),r)).data}catch(n){throw console.error("Update issue status error:",n),new Error(n.message||"Failed to update issue status")}},assignIssue:async(e,t)=>{try{return(await pb.default.put("/issues/".concat(e,"/assign"),t)).data}catch(n){throw new Error(n.message||"Failed to assign issue")}},updateIssuePriority:async(e,t)=>{try{return(await pb.default.put("/issues/".concat(e,"/priority"),t)).data}catch(n){throw new Error(n.message||"Failed to update issue priority")}},addIssueComment:async(e,t)=>{try{const n={content:t.content||t.comment,comment_type:t.commentType||t.comment_type||"general",is_public:void 0===t.isPublic||t.isPublic,author_id:t.authorId||t.author_id,issue_id:parseInt(e)};t.parentCommentId&&(n.parent_comment_id=t.parentCommentId),console.log("Adding comment with payload:",n);return(await pb.default.post("/issues/".concat(e,"/comments"),n)).data}catch(n){throw console.error("Error adding issue comment:",n),new Error(n.message||"Failed to add comment")}},getIssueComments:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/issues/".concat(e,"/comments"),{params:t})).data}catch(n){return console.error("Failed to get issue comments:",n),{comments:[],totalCount:0}}},getIssueStatusHistory:async e=>{try{return(await pb.default.get("/issues/".concat(e,"/status-history"))).data}catch(t){return console.error("Failed to get issue status history:",t),{history:[]}}},getTenantIssues:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await pb.default.get("/tenants/".concat(e,"/issues"),{params:t})).data}catch(n){throw new Error(n.message||"Failed to fetch tenant issues")}},getOpenIssues:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/issues/open",{params:e})).data}catch(t){throw new Error(t.message||"Failed to fetch open issues")}},getIssueCategories:async()=>{try{return(await pb.default.get("/issues/categories")).data}catch(e){throw new Error(e.message||"Failed to fetch issue categories")}},getIssueStatistics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";try{return(await pb.default.get("/issues/statistics?period=".concat(e))).data}catch(t){throw new Error(t.message||"Failed to fetch issue statistics")}},closeIssue:async(e,t)=>{try{return(await pb.default.post("/issues/".concat(e,"/close"),t)).data}catch(n){throw new Error(n.message||"Failed to close issue")}},reopenIssue:async(e,t)=>{try{return(await pb.default.post("/issues/".concat(e,"/reopen"),t)).data}catch(n){throw new Error(n.message||"Failed to reopen issue")}},exportIssues:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/issues/export",{params:e,responseType:"blob"})).data}catch(t){throw new Error(t.message||"Failed to export issues")}},getIssueAttachments:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const n=t?"/issues/".concat(e,"/attachments/").concat(t):"/issues/".concat(e,"/attachments");return(await pb.default.get(n)).data}catch(n){if(n.response&&404===n.response.status)return{attachments:[]};throw console.error("Error fetching issue attachments:",n),new Error(n.message||"Failed to fetch issue attachments")}},getIssueAttachmentUrl:e=>"/api/v1/issue-attachments/".concat(e),uploadIssueAttachment:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"evidence",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;try{return(await pb.default.post("/issues/".concat(e,"/attachments"),{fileName:t.fileName,fileType:t.fileType,content:t.content,attachmentType:n,contextDescription:t.contextDescription||"".concat(n," attachment"),isPrimary:t.isPrimary||!1,uploadedBy:r})).data}catch(i){throw console.error("Error uploading issue attachment:",i),new Error(i.message||"Failed to upload issue attachment")}},getIssueDetails:async e=>e4.getIssueById(e),deleteIssueAttachment:async(e,t)=>{try{return(await pb.default.delete("/issues/".concat(e,"/attachments/").concat(t))).data}catch(n){throw console.error("Error deleting attachment:",n),n}},getIssueActivity:async e=>({data:[]}),getAvailableAssignees:async()=>({data:[]}),resolveIssue:async(e,t)=>{try{return(await pb.default.put("/issues/".concat(e,"/status"),(0,o.A)({status:"resolved"},t))).data}catch(n){throw new Error(n.message||"Failed to resolve issue")}},getIssueAttachment:async(e,t)=>{try{return(await pb.default.get("/issue-attachments/".concat(t))).data}catch(n){throw console.error("Error fetching individual attachment:",n),n}},uploadIssueAttachments:async(e,t,n)=>{try{const r=t.map((t=>pb.default.post("/issues/".concat(e,"/attachments"),{fileName:t.fileName,fileType:t.fileType,content:t.content,attachmentType:t.attachmentType||"progress",contextDescription:t.contextDescription||"",uploadedBy:n,isPrimary:t.isPrimary||!1})));return{success:!0,attachments:(await Promise.all(r)).map((e=>e.data.attachment))}}catch(r){throw console.error("Error uploading attachments:",r),new Error(r.message||"Failed to upload attachments")}},updateIssueStatusWithImages:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{const r=await e4.updateIssueStatus(e,t);if(n.length>0){const r="in_progress"===t.status?"progress":"resolved"===t.status?"completion":"feedback",i=n.map(((e,t)=>({fileName:e.fileName,fileType:e.fileType,content:e.base64,attachmentType:r,contextDescription:e.contextDescription||"".concat(r," image ").concat(t+1),isPrimary:e.isPrimary||0===t})));await e4.uploadIssueAttachments(e,i,t.updatedBy)}return r}catch(r){throw console.error("Error updating issue status with images:",r),new Error(r.message||"Failed to update issue status with images")}},getIssueImage:async e=>{try{return(await pb.default.get("/issues/".concat(e,"/image"))).data}catch(t){throw console.error("Error fetching issue image:",t),new Error(t.message||"Failed to fetch issue image")}},getAttachmentContent:async e=>{try{return(await pb.default.get("/issue-attachments/".concat(e))).data}catch(t){throw console.error("Error fetching attachment content:",t),new Error(t.message||"Failed to fetch attachment content")}}},t4=e4,n4=e=>{var n,r,i,o,a,s,l,c,d,u,h,p,f,m,g,v,y,x,b,j,w,k,S,_,A,C,P,I,T,N,E,z,O,L,D,R;let{isOpen:M,onClose:B,booking:F,onBookingUpdated:W}=e;const[U,q]=(0,t.useState)(!1),[H,V]=(0,t.useState)(null),[G,K]=(0,t.useState)([]),[Y,Z]=(0,t.useState)(!1),[J,X]=(0,t.useState)(0),[$,Q]=(0,t.useState)(null),[ee,te]=(0,t.useState)(!1),[ne,re]=(0,t.useState)(null),ie=hb();(0,t.useEffect)((()=>{M&&F&&(oe(),ae(),se())}),[M,F]);const oe=async()=>{if(null!==F&&void 0!==F&&F.bookingId)try{q(!0);const e=await r1.getBookingById(F.bookingId);console.log("Full booking details:",e),re(e.booking)}catch(e){console.error("Error fetching full booking details:",e),re(F)}finally{q(!1)}},ae=async()=>{if(null!==F&&void 0!==F&&F.tenantId)try{q(!0);const e=await Q0.getTenantById(F.tenantId);V(e.tenant)}catch(e){console.error("Error fetching tenant details:",e),ie({title:"Error",description:"Failed to fetch tenant details",status:"error",duration:3e3,isClosable:!0})}finally{q(!1)}},se=async()=>{if(null!==F&&void 0!==F&&F.tenantId)try{Z(!0);const e=await t1.getTenantDocuments(F.tenantId);K(e.documents||[])}catch(e){console.error("Error fetching documents:",e),ie({title:"Error",description:"Failed to fetch documents",status:"error",duration:3e3,isClosable:!0}),K([])}finally{Z(!1)}},le=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":return"green";case"pending":return"yellow";case"rejected":return"red";default:return"gray"}};if(!F)return null;const ce=ne||F;return(0,Xo.jsxs)(JZ,{isOpen:M,onClose:B,size:"6xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",overflowY:"auto",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(w_,{}),(0,Xo.jsxs)(Tb,{children:["Detail Booking - BOOK-",ce.bookingId]}),(0,Xo.jsxs)(r_,{colorScheme:(e=>{switch(e){case"pending":return"orange";case"approved":return"green";case"rejected":return"red";case"active":return"blue";default:return"gray"}})(ce.status),ml:2,children:["pending"===ce.status&&"Menunggu","approved"===ce.status&&"Disetujui","rejected"===ce.status&&"Ditolak","active"===ce.status&&"Aktif","completed"===ce.status&&"Selesai","cancelled"===ce.status&&"Dibatalkan",!["pending","approved","rejected","active","completed","cancelled"].includes(ce.status)&&ce.status]})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:U?(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsx)(Qv,{size:"xl"})}):(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:6,children:[(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Informasi Penyewa"}),(0,Xo.jsx)(GS,{fontSize:"lg",children:null===(n=ce.tenant)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.fullName}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(T_,{size:12}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:null===(i=ce.tenant)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.email})]}),(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(D_,{size:12}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:null===(a=ce.tenant)||void 0===a?void 0:a.phone})]})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Detail Kamar"}),(0,Xo.jsx)(GS,{children:null===(s=ce.room)||void 0===s?void 0:s.name}),(0,Xo.jsxs)(KS,{children:[null===(l=ce.room)||void 0===l||null===(c=l.classification)||void 0===c?void 0:c.name," \u2022 ",null===(d=ce.room)||void 0===d||null===(u=d.rentalType)||void 0===u?void 0:u.name]})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Tanggal Pengajuan"}),(0,Xo.jsx)(GS,{fontSize:"lg",children:new Date(ce.createdAt).toLocaleDateString()}),(0,Xo.jsx)(KS,{children:new Date(ce.createdAt).toLocaleTimeString("id-ID")})]})})}),"                ",(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total"}),(0,Xo.jsxs)(GS,{color:"green.500",children:["Rp ",null===(h=ce.totalAmount)||void 0===h?void 0:h.toLocaleString()]}),(0,Xo.jsxs)(KS,{children:["Tarif ",null===(p=ce.room)||void 0===p||null===(f=p.rentalType)||void 0===f?void 0:f.name]})]})})})]}),("approved"===ce.status||"rejected"===ce.status)&&(0,Xo.jsx)(Vb,{borderWidth:2,borderColor:"approved"===ce.status?"green.200":"red.200",bg:"approved"===ce.status?"green.50":"red.50",_dark:{bg:"approved"===ce.status?"green.900":"red.900",borderColor:"approved"===ce.status?"green.600":"red.600"},children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{spacing:3,children:["approved"===ce.status?(0,Xo.jsx)(d_,{color:"green.600",size:24}):(0,Xo.jsx)(iA,{color:"red.600",size:24}),(0,Xo.jsx)(Wb,{size:"md",color:"approved"===ce.status?"green.600":"red.600",_dark:{color:"approved"===ce.status?"green.300":"red.300"},children:"approved"===ce.status?"Booking Disetujui":"Booking Ditolak"})]}),ce.approvals&&ce.approvals.length>0?ce.approvals.map(((e,t)=>{var n,r,i,o,a,s,l,c;return(0,Xo.jsx)(Eb,{p:4,bg:"white",borderRadius:"md",shadow:"sm",_dark:{bg:"gray.700"},children:(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:4,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},children:e.approved?"DISETUJUI OLEH":"DITOLAK OLEH"}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(xZ,{size:"sm",name:null===(n=e.approver)||void 0===n?void 0:n.fullName}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"bold",children:null===(r=e.approver)||void 0===r?void 0:r.fullName}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",_dark:{color:"gray.400"},children:"wakil_direktorat"===(null===(i=e.approver)||void 0===i||null===(o=i.role)||void 0===o?void 0:o.name)?"Wakil Direktorat":"super_admin"===(null===(a=e.approver)||void 0===a||null===(s=a.role)||void 0===s?void 0:s.name)?"Super Admin":null===(l=e.approver)||void 0===l||null===(c=l.role)||void 0===c?void 0:c.name})]})]})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},children:"TANGGAL & WAKTU"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"bold",children:new Date(e.actedAt).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",_dark:{color:"gray.400"},children:new Date(e.actedAt).toLocaleTimeString("id-ID")})]})]}),e.comments&&(0,Xo.jsxs)(Pb,{align:"start",spacing:2,gridColumn:"1 / -1",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},children:e.approved?"CATATAN PERSETUJUAN":"ALASAN PENOLAKAN"}),(0,Xo.jsx)(Eb,{p:3,bg:"approved"===ce.status?"green.100":"red.100",borderRadius:"md",borderLeft:"4px solid",borderLeftColor:"approved"===ce.status?"green.400":"red.400",_dark:{bg:"approved"===ce.status?"green.800":"red.800",borderLeftColor:"approved"===ce.status?"green.300":"red.300"},w:"100%",children:(0,Xo.jsxs)(Tb,{fontSize:"md",fontStyle:"italic",children:['"',e.comments,'"']})})]})]})},t)})):(0,Xo.jsx)(Eb,{p:4,bg:"white",borderRadius:"md",shadow:"sm",_dark:{bg:"gray.700"},children:(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(ay,{status:"approved"===ce.status?"success":"error",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontSize:"md",fontWeight:"bold",children:["Status: ","approved"===ce.status?"Disetujui":"Ditolak"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"approved"===ce.status?"Booking ini telah disetujui oleh admin":"Booking ini telah ditolak oleh admin"})]})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,w:"100%",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},children:"INFORMASI STATUS"}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"100%",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Terakhir diperbarui:"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"bold",children:[new Date(ce.updatedAt).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," - ",new Date(ce.updatedAt).toLocaleTimeString("id-ID")]})]})]}),(0,Xo.jsxs)(Eb,{p:2,bg:"gray.100",borderRadius:"md",fontSize:"xs",color:"gray.600",w:"100%",_dark:{bg:"gray.600",color:"gray.300"},children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Debug Info:"}),(0,Xo.jsxs)(Tb,{children:["Status: ",ce.status]}),(0,Xo.jsxs)(Tb,{children:["Has approvals: ",ce.approvals?"Yes":"No"]}),(0,Xo.jsxs)(Tb,{children:["Approvals length: ",ce.approvals?ce.approvals.length:"N/A"]}),(0,Xo.jsxs)(Tb,{children:["Updated at: ",ce.updatedAt]}),(0,Xo.jsxs)(Tb,{children:["Full booking data: ",JSON.stringify(ce,null,2)]})]})]})})]})})}),(0,Xo.jsx)(Vb,{borderWidth:2,borderColor:"blue.200",bg:"blue.50",_dark:{bg:"blue.900",borderColor:"blue.600"},children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Wb,{size:"md",color:"blue.600",_dark:{color:"blue.300"},children:"Periode Booking"}),(0,Xo.jsxs)(dS,{spacing:8,justify:"center",wrap:"wrap",children:[(0,Xo.jsxs)(Pb,{spacing:2,align:"center",minW:"200px",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"blue.500",_dark:{color:"blue.300"},children:"TANGGAL MASUK"}),(0,Xo.jsx)(Tb,{fontSize:"3xl",fontWeight:"bold",color:"blue.700",_dark:{color:"blue.200"},children:new Date(ce.checkInDate).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",_dark:{color:"gray.400"},children:new Date(ce.checkInDate).toLocaleDateString("id-ID",{weekday:"long"})})]}),(0,Xo.jsx)(Eb,{alignSelf:"center",children:(0,Xo.jsx)(Tb,{fontSize:"2xl",color:"blue.400",_dark:{color:"blue.500"},children:"\u2192"})}),(0,Xo.jsxs)(Pb,{spacing:2,align:"center",minW:"200px",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"blue.500",_dark:{color:"blue.300"},children:"TANGGAL KELUAR"}),(0,Xo.jsx)(Tb,{fontSize:"3xl",fontWeight:"bold",color:"blue.700",_dark:{color:"blue.200"},children:new Date(ce.checkOutDate).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",_dark:{color:"gray.400"},children:new Date(ce.checkOutDate).toLocaleDateString("id-ID",{weekday:"long"})})]})]}),(0,Xo.jsxs)(Eb,{textAlign:"center",mt:4,children:[(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"semibold",color:"blue.600",_dark:{color:"blue.300"},children:["Durasi: ",Math.ceil((new Date(ce.checkOutDate)-new Date(ce.checkInDate))/864e5)," hari"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",_dark:{color:"gray.400"},children:["Tipe Sewa: ",null===(m=ce.room)||void 0===m||null===(g=m.rentalType)||void 0===g?void 0:g.name]})]}),"                  "]})})}),(0,Xo.jsxs)(YQ,{index:J,onChange:X,children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Profil Penyewa"}),(0,Xo.jsxs)(JQ,{children:["Dokumen (",G.length,")"]})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{px:0,children:(0,Xo.jsx)(Vb,{children:(0,Xo.jsxs)(Kb,{children:["                        ",(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(xZ,{size:"xl",name:(null===H||void 0===H||null===(v=H.user)||void 0===v?void 0:v.fullName)||(null===(y=ce.tenant)||void 0===y||null===(x=y.user)||void 0===x?void 0:x.fullName)}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xl",fontWeight:"bold",children:(null===H||void 0===H||null===(b=H.user)||void 0===b?void 0:b.fullName)||(null===(j=ce.tenant)||void 0===j||null===(w=j.user)||void 0===w?void 0:w.fullName)}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(r_,{colorScheme:"blue",children:"L"===(null===H||void 0===H?void 0:H.gender)?"Laki-laki":"Perempuan"}),(0,Xo.jsxs)(Tb,{color:"gray.600",children:["Tipe: ",null===H||void 0===H||null===(k=H.tenantType)||void 0===k?void 0:k.name]}),(null===H||void 0===H?void 0:H.isVerified)&&(0,Xo.jsx)(r_,{colorScheme:"green",children:"Terverifikasi"})]}),(0,Xo.jsxs)(Tb,{color:"gray.600",children:["NIM: ",(null===H||void 0===H?void 0:H.nim)||(null===(S=ce.tenant)||void 0===S?void 0:S.nim)]})]})]}),(0,Xo.jsxs)(Vb,{bg:"blue.50",borderWidth:"2px",borderColor:"blue.200",borderRadius:"xl",children:[(0,Xo.jsx)(Kb,{py:6,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Eb,{p:3,bg:"blue.500",borderRadius:"full",children:(0,Xo.jsx)(N_,{color:"white",size:"24px"})}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",color:"blue.700",children:"Jarak ke Kampus"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Klasifikasi jarak untuk kelayakan hunian"})]})]}),(0,Xo.jsxs)(Eb,{textAlign:"center",py:4,children:[(0,Xo.jsx)(Tb,{fontSize:"4xl",fontWeight:"extrabold",color:"blue.600",children:(null===H||void 0===H?void 0:H.distanceToCampus)||(null===(_=ce.tenant)||void 0===_?void 0:_.distanceToCampus)||"N/A"}),(0,Xo.jsx)(Tb,{fontSize:"xl",fontWeight:"bold",color:"blue.500",mt:-2,children:"KM"}),((null===H||void 0===H?void 0:H.distanceToCampus)||(null===(A=ce.tenant)||void 0===A?void 0:A.distanceToCampus))&&(0,Xo.jsx)(r_,{size:"lg",mt:2,colorScheme:((null===H||void 0===H?void 0:H.distanceToCampus)||(null===(C=ce.tenant)||void 0===C?void 0:C.distanceToCampus))<=5?"green":((null===H||void 0===H?void 0:H.distanceToCampus)||(null===(P=ce.tenant)||void 0===P?void 0:P.distanceToCampus))<=15?"yellow":"red",fontSize:"md",px:4,py:1,children:((null===H||void 0===H?void 0:H.distanceToCampus)||(null===(I=ce.tenant)||void 0===I?void 0:I.distanceToCampus))<=5?"Dekat":((null===H||void 0===H?void 0:H.distanceToCampus)||(null===(T=ce.tenant)||void 0===T?void 0:T.distanceToCampus))<=15?"Sedang":"Jauh"})]}),(null===H||void 0===H?void 0:H.homeLatitude)&&(null===H||void 0===H?void 0:H.homeLongitude)&&(0,Xo.jsx)(Eb,{textAlign:"center",pt:2,borderTop:"1px",borderColor:"blue.200",children:(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Home Coordinates: ",H.homeLatitude.toFixed(6),", ",H.homeLongitude.toFixed(6)]})})]})}),"                          "]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Informasi Kontak"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(T_,{}),(0,Xo.jsx)(Tb,{children:(null===H||void 0===H||null===(N=H.user)||void 0===N?void 0:N.email)||(null===(E=ce.tenant)||void 0===E||null===(z=E.user)||void 0===z?void 0:z.email)})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(D_,{}),(0,Xo.jsx)(Tb,{children:(null===H||void 0===H?void 0:H.phone)||(null===(O=ce.tenant)||void 0===O?void 0:O.phone)})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(N_,{}),(0,Xo.jsx)(Tb,{children:(null===H||void 0===H?void 0:H.address)||(null===(L=ce.tenant)||void 0===L?void 0:L.address)})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Jurusan:"}),(0,Xo.jsx)(Tb,{children:(null===H||void 0===H?void 0:H.jurusan)||(null===(D=ce.tenant)||void 0===D?void 0:D.jurusan)||"-"})]}),(void 0!==(null===H||void 0===H?void 0:H.isAfirmasi)?null===H||void 0===H?void 0:H.isAfirmasi:null===(R=ce.tenant)||void 0===R?void 0:R.isAfirmasi)&&(0,Xo.jsx)(r_,{colorScheme:"purple",size:"sm",children:"Afirmasi"})]}),"                            ",(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Statistik Penyewa"}),null!==H&&void 0!==H&&H.statistics?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(IQ,{columns:2,spacing:4,w:"full",children:[(0,Xo.jsxs)(HS,{size:"sm",children:[(0,Xo.jsx)(VS,{children:"Total Booking"}),(0,Xo.jsx)(GS,{children:H.statistics.totalBookings})]}),(0,Xo.jsxs)(HS,{size:"sm",children:[(0,Xo.jsx)(VS,{children:"Booking Aktif"}),(0,Xo.jsx)(GS,{children:H.statistics.activeBookings})]}),(0,Xo.jsxs)(HS,{size:"sm",children:[(0,Xo.jsx)(VS,{children:"Dokumen"}),(0,Xo.jsxs)(GS,{children:[H.statistics.approvedDocuments,"/",H.statistics.approvedDocuments+H.statistics.pendingDocuments+H.statistics.rejectedDocuments]}),(0,Xo.jsx)(KS,{children:"Disetujui"})]}),(0,Xo.jsxs)(HS,{size:"sm",children:[(0,Xo.jsx)(VS,{children:"Hari Sebagai Penyewa"}),(0,Xo.jsx)(GS,{children:H.statistics.daysAsTenant})]})]}),H.statistics.hasOverduePayments&&(0,Xo.jsx)(r_,{colorScheme:"red",children:"Ada Tunggakan"})]}):(0,Xo.jsx)(Tb,{color:"gray.500",children:"Tidak ada statistik"})]})]})]})]})})}),"                  ",(0,Xo.jsxs)($Q,{px:0,children:[Y?(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsx)(Qv,{})}):0===G.length?(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(w_,{size:48,color:"gray.300"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Belum ada dokumen"})]})}):(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:G.map((e=>{var t;return(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Xj,{justify:"space-between",align:"start",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:null===(t=e.documentType)||void 0===t?void 0:t.name}),e.isImage&&(0,Xo.jsx)(r_,{colorScheme:"blue",size:"sm",children:"Gambar"})]}),(0,Xo.jsx)(Tb,{color:"gray.600",children:e.fileName}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(r_,{colorScheme:le(e.status),children:["approved"===e.status&&"Disetujui","pending"===e.status&&"Menunggu","rejected"===e.status&&"Ditolak",!["approved","pending","rejected"].includes(e.status)&&e.status]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Diunggah: ",new Date(e.uploadedAt).toLocaleDateString("id-ID")]})]}),e.notes&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Catatan: ",e.notes]}),e.approver&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Disetujui oleh: ",e.approver.fullName]})]}),(0,Xo.jsxs)(Pb,{spacing:2,children:[e.isImage&&(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>(async e=>{try{te(!0);const t=await t1.getDocumentImage(e);if(t.content&&t.fileType){const e="data:".concat(t.fileType,";base64,").concat(t.content);Q({url:e,metadata:t.metadata,fileType:t.fileType})}}catch(t){console.error("Error fetching document image:",t),ie({title:"Error",description:"Failed to load document image",status:"error",duration:3e3,isClosable:!0})}finally{te(!1)}})(e.docId),isLoading:ee,children:"Pratinjau"}),e.thumbnailUrl&&(0,Xo.jsx)(Bb,{src:e.thumbnailUrl,boxSize:"50px",objectFit:"cover",borderRadius:"md"})]})]})})},e.docId)}))}),"                  "]})]})]}),"            "]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:B,children:"Tutup"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:()=>{},children:"Ekspor Detail"})]})]}),$&&(0,Xo.jsxs)(JZ,{isOpen:!!$,onClose:()=>Q(null),size:"xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Pratinjau Dokumen"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Bb,{src:$.url,maxH:"500px",maxW:"100%",objectFit:"contain",borderRadius:"md"}),$.metadata&&(0,Xo.jsxs)(dS,{spacing:4,fontSize:"sm",color:"gray.600",children:[(0,Xo.jsxs)(Tb,{children:["Format: ",$.metadata.format]}),(0,Xo.jsxs)(Tb,{children:["Size: ",($.metadata.sizeBytes/1024).toFixed(1)," KB"]}),(0,Xo.jsxs)(Tb,{children:["Dimensions: ",$.metadata.width,"\xd7",$.metadata.height]})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{onClick:()=>Q(null),children:"Tutup"})})]})]})]})},r4=e=>{var n,r,i,o;let{isOpen:a,onClose:s,booking:l,onRejected:c}=e;const[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),f=hb(),m=zs("white","gray.800"),g=zs("gray.200","gray.600"),v=()=>{h||(u(""),s())};return(0,Xo.jsxs)(JZ,{isOpen:a,onClose:v,size:"lg",closeOnOverlayClick:!h,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{bg:m,children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:qk,color:"red.500"}),(0,Xo.jsx)(Tb,{children:"Tolak Booking"})]})}),(0,Xo.jsx)(sQ,{isDisabled:h}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Eb,{p:4,bg:"gray.50",borderRadius:"md",borderColor:g,borderWidth:"1px",children:(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",fontSize:"lg",children:["Booking #",null===l||void 0===l?void 0:l.bookingId]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Penyewa: ",null===l||void 0===l||null===(n=l.tenant)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.fullName]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Kamar: ",null===l||void 0===l||null===(i=l.room)||void 0===i?void 0:i.name]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Total: Rp ",null===l||void 0===l||null===(o=l.totalAmount)||void 0===o?void 0:o.toLocaleString("id-ID")]})]})}),(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"sm",children:"Peringatan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Booking ini akan ditolak dan penyewa akan menerima notifikasi penolakan. Pastikan alasan penolakan jelas dan dapat dipahami."})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Alasan Penolakan"}),(0,Xo.jsx)(D1,{placeholder:"Berikan alasan yang jelas mengapa booking ini ditolak. Contoh: Dokumen belum lengkap, kamar tidak sesuai gender, dll.",value:d,onChange:e=>u(e.target.value),rows:4,isDisabled:h}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"Alasan ini akan dikirim kepada penyewa melalui email notifikasi"})]}),h&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",mb:2,children:"Memproses penolakan..."}),(0,Xo.jsx)(a0,{size:"sm",isIndeterminate:!0,colorScheme:"red"})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"ghost",onClick:v,isDisabled:h,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:async()=>{if(d.trim()){p(!0);try{await c(l.bookingId,d.trim()),u(""),s()}catch(e){console.error("Error rejecting booking:",e),f({title:"Gagal Menolak Booking",description:e.message||"Terjadi kesalahan saat menolak booking",status:"error",duration:5e3,isClosable:!0})}finally{p(!1)}}else f({title:"Alasan diperlukan",description:"Silakan berikan alasan penolakan booking ini",status:"warning",duration:3e3,isClosable:!0})},isLoading:h,loadingText:"Menolak...",isDisabled:!d.trim(),leftIcon:(0,Xo.jsx)(qk,{}),children:"Tolak Booking"})]})})]})]})},i4=["wakil_direktorat","super_admin"],o4=e=>{if(!e)return!1;const t=e.role||e.user_role||e.roleName;return t?i4.includes(t.toLowerCase()):(console.warn("User role not found in user object:",e),!1)},a4=function(){return"Only Wakil Direktorat and Super Admin can ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"perform this action",". Please contact an authorized user if approval is needed.")},s4=e=>{if(!e)return!1;const t=e.role||e.user_role||e.roleName;return"admin"===(null===t||void 0===t?void 0:t.toLowerCase())},l4=()=>{const{user:e}=vb(),n=(e=>o4(e))(e),r=s4(e),[i,a]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)("all"),[j,w]=(0,t.useState)([0,500]),[k,S]=(0,t.useState)("priority"),[_,A]=(0,t.useState)("desc"),[C,P]=(0,t.useState)(null),[I,T]=(0,t.useState)({page:1,limit:10,total:0,totalPages:0}),[N,E]=(0,t.useState)({total:0,pending:0,approved:0,rejected:0,active:0,averageDistance:0,closeProximity:0,mediumProximity:0,farProximity:0,afirmasiCount:0,highPriorityCount:0,averagePriorityScore:0}),{isOpen:z,onOpen:O,onClose:L}=GG(),{isOpen:D,onOpen:R,onClose:M}=GG(),[B,F]=(0,t.useState)(null),W=hb(),U=e=>{var t;if(!e.tenant)return 0;let n=0;const r=e.tenant,i=r.distanceToCampus||0;return n+=Math.min(i/500*100,100),r.isAfirmasi&&(n+=50),"mahasiswa"===(null===(t=r.tenantType)||void 0===t?void 0:t.name)&&(n+=10),Math.round(n)};(0,t.useEffect)((()=>{q()}),[]),(0,t.useEffect)((()=>{if(s.length>0){const e=H(s),t=V(e);a(t),T((t=>(0,o.A)((0,o.A)({},t),{},{total:e.length,totalPages:Math.ceil(e.length/t.limit),page:1})))}}),[p,m,v,x,k,_,s]),(0,t.useEffect)((()=>{if(s.length>0){const e=H(s),t=V(e);a(t)}}),[I.page,I.limit]);const q=async()=>{try{h(!0);const e={page:1,limit:100,sort_by:"createdAt",sort_order:"desc"},t=(await r1.getBookings(e)).bookings||[];l(t);const n=H(t),r=V(n);a(r),T((e=>(0,o.A)((0,o.A)({},e),{},{total:n.length,totalPages:Math.ceil(n.length/e.limit)}))),await G()}catch(e){W({title:"Error",description:"Failed to fetch bookings",status:"error",duration:3e3,isClosable:!0})}finally{h(!1)}},H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=[...e];const n=p.toLowerCase().trim();return n&&(t=t.filter((e=>{var t,r,i,o,a,s,l,c,d;const u=(null===(t=e.tenant)||void 0===t||null===(r=t.user)||void 0===r||null===(i=r.fullName)||void 0===i?void 0:i.toLowerCase())||"",h=(null===(o=e.tenant)||void 0===o||null===(a=o.user)||void 0===a||null===(s=a.email)||void 0===s?void 0:s.toLowerCase())||"",p=(null===(l=e.room)||void 0===l||null===(c=l.name)||void 0===c?void 0:c.toLowerCase())||"",f=String(e.bookingId||"").toLowerCase(),m=(null===(d=e.status)||void 0===d?void 0:d.toLowerCase())||"";return u.includes(n)||h.includes(n)||p.includes(n)||f.includes(n)||m.includes(n)}))),m&&(t=t.filter((e=>e.status===m))),x&&"all"!==x&&(t=t.filter((e=>{var t;const n=(null===(t=e.tenant)||void 0===t?void 0:t.distanceToCampus)||0;switch(x){case"close":return n<=5;case"medium":return n>5&&n<=15;case"far":return n>15;default:return!0}}))),t.sort(((e,t)=>{var n,r,i,o,a,s;let l,c;switch(k){case"priority":l=U(e),c=U(t);break;case"createdAt":l=new Date(e.createdAt||0),c=new Date(t.createdAt||0);break;case"distance":l=(null===(n=e.tenant)||void 0===n?void 0:n.distanceToCampus)||0,c=(null===(r=t.tenant)||void 0===r?void 0:r.distanceToCampus)||0;break;case"tenantName":l=((null===(i=e.tenant)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.fullName)||"").toLowerCase(),c=((null===(a=t.tenant)||void 0===a||null===(s=a.user)||void 0===s?void 0:s.fullName)||"").toLowerCase();break;case"amount":l=parseFloat(e.totalAmount||0),c=parseFloat(t.totalAmount||0);break;default:return 0}return"desc"===_?l>c?-1:l<c?1:0:l<c?-1:l>c?1:0})),console.log("Applied filters - ".concat(t.length," bookings remain from ").concat(e.length)),t},V=e=>{const t=(I.page-1)*I.limit,n=t+I.limit;return e.slice(t,n)},G=async()=>{try{const e=await r1.getBookings({limit:500}),t=e.bookings||[],n=e.totalCount||e.total||t.length;console.log("Fetched ".concat(t.length," bookings for stats out of ").concat(n," total"));let r={total:n,pending:0,approved:0,rejected:0,active:0};t.forEach((e=>{switch(e.status){case"pending":r.pending++;break;case"approved":r.approved++;break;case"rejected":r.rejected++;break;case"active":r.active++}}));const i=t.reduce(((e,t)=>{var n,r;const i=null!==(n=t.tenant)&&void 0!==n&&n.distanceToCampus?parseFloat(t.tenant.distanceToCampus):0;e.totalDistance+=i,i<=5?e.closeProximity++:i<=15?e.mediumProximity++:e.farProximity++;const o=U(t);return e.totalPriorityScore+=o,o>=80&&e.highPriorityCount++,null!==(r=t.tenant)&&void 0!==r&&r.isAfirmasi&&e.afirmasiCount++,e}),{totalDistance:0,closeProximity:0,mediumProximity:0,farProximity:0,totalPriorityScore:0,highPriorityCount:0,afirmasiCount:0});console.log("Enhanced stats calculated:",i),console.log("Stats calculated from all bookings:",t.length),E((0,o.A)((0,o.A)({},r),{},{total:t.length,averageDistance:t.length>0?i.totalDistance/t.length:0,closeProximity:i.closeProximity,mediumProximity:i.mediumProximity,farProximity:i.farProximity,afirmasiCount:i.afirmasiCount,highPriorityCount:i.highPriorityCount,averagePriorityScore:t.length>0?i.totalPriorityScore/t.length:0}))}catch(e){console.error("Failed to fetch booking stats:",e),E({total:i.length,pending:0,approved:0,rejected:0,active:0,averageDistance:0,closeProximity:0,mediumProximity:0,farProximity:0,afirmasiCount:0,highPriorityCount:0,averagePriorityScore:0})}},K=e=>e>15?"green":e>5?"yellow":"red",Y=e=>e>100?"Very Far (Highest Priority)":e>50?"Extremely Far (Very High Priority)":e>15?"Far (High Priority)":e>5?"Medium (Medium Priority)":"Close (Low Priority)",Z=e=>({pending:(0,Xo.jsx)(m_,{}),approved:(0,Xo.jsx)(d_,{}),rejected:(0,Xo.jsx)(iA,{}),active:(0,Xo.jsx)(eA,{}),completed:(0,Xo.jsx)(u_,{}),cancelled:(0,Xo.jsx)(i_,{})}[e]||(0,Xo.jsx)(w_,{}));return u?(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(bb,{h:"400px",children:(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"})})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Eb,{p:6,children:[r&&(0,Xo.jsxs)(ay,{status:"info",mb:6,borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Informasi untuk Administrator"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Anda dapat melihat dan mengelola detail booking, namun hanya Wakil Direktorat dan Super Admin yang dapat menyetujui atau menolak booking."})]})]}),(0,Xo.jsx)(Xj,{justify:"space-between",align:"center",mb:6,children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",children:"Manajemen Booking"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Kelola pemesanan kamar dengan sistem prioritas berbasis jarak"})]})}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:6,mb:6,children:[(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total Booking"}),(0,Xo.jsx)(GS,{children:N.total}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(w_,{}),(0,Xo.jsx)(Tb,{children:"Booking sepanjang waktu"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Rata-rata Jarak"}),(0,Xo.jsxs)(GS,{color:"blue.500",children:[N.averageDistance.toFixed(1)," km"]}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(N_,{}),(0,Xo.jsx)(Tb,{children:"Ke kampus"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Jarak Dekat"}),(0,Xo.jsx)(GS,{color:"red.500",children:N.closeProximity}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(V_,{}),(0,Xo.jsx)(Tb,{children:"\u2264 5km dari kampus (Prioritas rendah)"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Jarak Sedang"}),(0,Xo.jsx)(GS,{color:"yellow.500",children:N.mediumProximity}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(L_,{}),(0,Xo.jsx)(Tb,{children:"5-15km (Prioritas sedang)"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Jarak Jauh"}),(0,Xo.jsx)(GS,{color:"green.500",children:N.farProximity}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)($_,{}),(0,Xo.jsx)(Tb,{children:"> 15km dari kampus (Prioritas tinggi)"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Mahasiswa Afirmasi"}),(0,Xo.jsx)(GS,{color:"purple.500",children:N.afirmasiCount}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(tA,{}),(0,Xo.jsx)(Tb,{children:"Prioritas lebih tinggi"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Prioritas Tinggi"}),(0,Xo.jsx)(GS,{color:"red.500",children:N.highPriorityCount}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(i_,{}),(0,Xo.jsx)(Tb,{children:"Skor \u2265 80 poin"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Rata-rata Skor Prioritas"}),(0,Xo.jsx)(GS,{color:"teal.500",children:N.averagePriorityScore.toFixed(1)}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)($_,{}),(0,Xo.jsx)(Tb,{children:"Dari 160 poin"})]})})]})})}),"        "]}),(0,Xo.jsx)(Vb,{mb:6,bg:"blue.50",borderColor:"blue.200",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(i_,{color:"blue"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"blue.700",children:"Sistem Peringkat Prioritas"})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"blue.600",children:"Booking diurutkan otomatis berdasarkan keadilan sosial dan kebutuhan hunian:"}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,w:"100%",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",color:"purple.700",children:"\ud83d\udcda Mahasiswa Afirmasi: +50 poin"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Prioritas untuk mahasiswa kurang mampu"})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",color:"green.700",children:"\ud83c\udfe0 Jarak dari Kampus: 0-100 poin"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Semakin jauh semakin prioritas"})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",color:"blue.700",children:"\ud83c\udf93 Status Mahasiswa: +10 poin"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:"Mahasiswa lebih diutamakan"})]})]})]})})}),(0,Xo.jsx)(Vb,{mb:6,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:4,children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(W_,{color:"gray.300"})}),(0,Xo.jsx)(gj,{placeholder:"Cari berdasarkan penyewa, kamar, atau ID booking...",value:p,onChange:e=>{f(e.target.value),T((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))}})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{placeholder:"Filter berdasarkan status",value:m,onChange:e=>{g(e.target.value),T((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:[(0,Xo.jsx)("option",{value:"pending",children:"Menunggu"}),(0,Xo.jsx)("option",{value:"approved",children:"Disetujui"}),(0,Xo.jsx)("option",{value:"rejected",children:"Ditolak"}),(0,Xo.jsx)("option",{value:"completed",children:"Selesai"}),(0,Xo.jsx)("option",{value:"cancelled",children:"Dibatalkan"})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{placeholder:"Filter berdasarkan jarak",value:x,onChange:e=>{b(e.target.value),T((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},children:[(0,Xo.jsx)("option",{value:"all",children:"Semua Jarak"}),(0,Xo.jsx)("option",{value:"close",children:"Dekat (\u2264 5km)"}),(0,Xo.jsx)("option",{value:"medium",children:"Sedang (5-15km)"}),(0,Xo.jsx)("option",{value:"far",children:"Jauh (> 15km)"})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{placeholder:"Urutkan berdasarkan",value:k,onChange:e=>{return t=e.target.value,k===t?A("asc"===_?"desc":"asc"):(S(t),A("desc")),void T((e=>(0,o.A)((0,o.A)({},e),{},{page:1})));var t},children:[(0,Xo.jsx)("option",{value:"priority",children:"Skor Prioritas (Rekomendasi)"}),(0,Xo.jsx)("option",{value:"createdAt",children:"Tanggal Pengajuan"}),(0,Xo.jsx)("option",{value:"distance",children:"Jarak ke Kampus"}),(0,Xo.jsx)("option",{value:"tenantName",children:"Nama Penyewa"}),(0,Xo.jsx)("option",{value:"amount",children:"Jumlah Total"})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{value:_,onChange:e=>A(e.target.value),children:[(0,Xo.jsx)("option",{value:"asc",children:"Ascending"}),(0,Xo.jsx)("option",{value:"desc",children:"Descending"})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Item per halaman:"}),(0,Xo.jsxs)(SQ,{width:"100px",value:I.limit,onChange:e=>{return t=e.target.value,void T((e=>(0,o.A)((0,o.A)({},e),{},{page:1,limit:parseInt(t)})));var t},children:[(0,Xo.jsx)("option",{value:"5",children:"5"}),(0,Xo.jsx)("option",{value:"10",children:"10"}),(0,Xo.jsx)("option",{value:"15",children:"15"}),(0,Xo.jsx)("option",{value:"20",children:"20"}),(0,Xo.jsx)("option",{value:"25",children:"25"})]})]})})]})})})}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(Kb,{p:0,children:0===i.length?(0,Xo.jsx)(bb,{p:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(w_,{size:48,color:"gray.300"}),(0,Xo.jsx)(Tb,{fontSize:"lg",color:"gray.500",children:"Tidak ada booking ditemukan"}),(0,Xo.jsx)(Tb,{color:"gray.400",children:0===s.length?"Belum ada booking yang terdaftar dalam sistem.":"Tidak ada booking yang sesuai dengan filter yang dipilih. Coba ubah atau hapus beberapa filter."}),s.length>0&&(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",colorScheme:"blue",mt:2,onClick:()=>{f(""),g(""),y(""),b("all"),S("priority"),A("desc")},children:"Hapus Semua Filter"})]})}):(0,Xo.jsx)(Eb,{overflowX:"auto",children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"ID Booking"}),(0,Xo.jsx)(T0,{children:"Penyewa"}),(0,Xo.jsx)(T0,{children:"Jarak ke Kampus"}),(0,Xo.jsx)(T0,{children:"Kamar"}),(0,Xo.jsx)(T0,{children:"Tanggal Pengajuan"}),(0,Xo.jsx)(T0,{children:"Tanggal Masuk"}),(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Prioritas"}),(0,Xo.jsx)(T0,{children:"Total"}),(0,Xo.jsx)(T0,{children:"Aksi"})]})}),(0,Xo.jsx)(N0,{children:i.map((e=>{var t,i,o,a,s,l,c,d,u,h,p,f,m,g;const v=(null===(t=e.tenant)||void 0===t?void 0:t.distanceToCampus)||0,y=(e=>{const t=U(e),{level:n,color:r}=(e=>e>=120?{level:"Very High",color:"red"}:e>=80?{level:"High",color:"orange"}:e>=40?{level:"Medium",color:"yellow"}:{level:"Low",color:"green"})(t);return{score:t,level:n,color:r}})(e);return(0,Xo.jsxs)(P0,{_hover:{bg:"gray.50"},children:[(0,Xo.jsxs)(z0,{fontWeight:"medium",children:["BOOK-",e.bookingId]}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(xZ,{size:"sm",name:null===(i=e.tenant)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.fullName,src:null===(a=e.tenant)||void 0===a?void 0:a.photo}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:null===(s=e.tenant)||void 0===s||null===(l=s.user)||void 0===l?void 0:l.fullName}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:null===(c=e.tenant)||void 0===c||null===(d=c.user)||void 0===d?void 0:d.email}),(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["NIM: ",null===(u=e.tenant)||void 0===u?void 0:u.nim]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Jurusan: ",(null===(h=e.tenant)||void 0===h?void 0:h.jurusan)||"-"]}),(0,Xo.jsx)(dS,{spacing:1,children:(null===(p=e.tenant)||void 0===p?void 0:p.isAfirmasi)&&(0,Xo.jsx)(r_,{colorScheme:"purple",size:"xs",children:"Afirmasi"})})]})]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(N_,{}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:[v.toFixed(1)," km"]})]}),(0,Xo.jsx)(r_,{colorScheme:K(v),size:"sm",children:Y(v).replace("Very Far (Highest Priority)","Sangat Jauh (Prioritas Tertinggi)").replace("Extremely Far (Very High Priority)","Ekstrem Jauh (Prioritas Sangat Tinggi)").replace("Far (High Priority)","Jauh (Prioritas Tinggi)").replace("Medium (Medium Priority)","Sedang (Prioritas Sedang)").replace("Close (Low Priority)","Dekat (Prioritas Rendah)")})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(__,{}),(0,Xo.jsx)(Tb,{children:null===(f=e.room)||void 0===f?void 0:f.name})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(l_,{}),(0,Xo.jsx)(Tb,{children:new Date(e.createdAt).toLocaleDateString("id-ID")})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(dS,{children:e.checkInDate?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(l_,{}),(0,Xo.jsx)(Tb,{children:new Date(e.checkInDate).toLocaleDateString("id-ID")})]}):(0,Xo.jsx)(Tb,{color:"gray.500",children:"Belum Ditentukan"})})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(r_,{colorScheme:(x=e.status,{pending:"orange",approved:"green",rejected:"red",active:"blue",completed:"gray",cancelled:"red"}[x]||"gray"),children:[Z(e.status)&&(0,Xo.jsx)(Eb,{as:"span",mr:1,display:"inline-flex",alignItems:"center",children:Z(e.status)}),"pending"===e.status&&"Menunggu","approved"===e.status&&"Disetujui","rejected"===e.status&&"Ditolak","active"===e.status&&"Aktif","completed"===e.status&&"Selesai","cancelled"===e.status&&"Dibatalkan",!["pending","approved","rejected","active","completed","cancelled"].includes(e.status)&&e.status]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",color:"".concat(y.color,".500"),children:y.score}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:"poin"})]}),(0,Xo.jsxs)(r_,{colorScheme:y.color,size:"sm",children:["Very High"===y.level&&"Sangat Tinggi","High"===y.level&&"Tinggi","Medium"===y.level&&"Sedang","Low"===y.level&&"Rendah",!["Very High","High","Medium","Low"].includes(y.level)&&y.level]}),(0,Xo.jsxs)(dS,{spacing:1,fontSize:"xs",children:[(0,Xo.jsxs)(Tb,{color:"gray.500",children:[v.toFixed(1),"km"]}),(null===(m=e.tenant)||void 0===m?void 0:m.isAfirmasi)&&(0,Xo.jsx)(tA,{color:"purple"}),"pending"===e.status&&(0,Xo.jsx)(m_,{color:"orange"})]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(v_,{}),(0,Xo.jsxs)(Tb,{children:["Rp ",null===(g=e.totalAmount)||void 0===g?void 0:g.toLocaleString("id-ID")]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm"}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(j_,{}),onClick:()=>(e=>{P(e),O()})(e),children:"Lihat Detail"}),"pending"===e.status&&n&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(u_,{}),color:"green.500",onClick:()=>(async e=>{if(n)try{const n=JSON.parse(localStorage.getItem("user")||"{}"),r=n.userId||n.user_id||1;console.log("\ud83d\udd0d Debug: Attempting to approve booking with user:",n),console.log("\ud83d\udd0d Debug: Approver ID:",r);const i=await r1.approveBooking(e,r,"Booking approved by admin");if(console.log("\ud83d\udd0d Debug: Backend response:",i),console.log("\ud83d\udd0d Debug: Response status:",null===i||void 0===i?void 0:i.status),console.log("\ud83d\udd0d Debug: Response message:",null===i||void 0===i?void 0:i.message),i&&"error"===i.status){const e=i.message||"Unknown error occurred";return console.log("\ud83d\udd0d Debug: Error detected, message:",e),void(e.toLowerCase().includes("permission denied")||e.toLowerCase().includes("insufficient privileges")||e.toLowerCase().includes("only wakil_direktorat can approve")?(console.log("\ud83d\udd0d Debug: Permission denied error detected"),W({title:"Access Denied",description:"Only Wakil Direktorat can approve bookings. Please contact an authorized user.",status:"warning",duration:6e3,isClosable:!0,position:"top"})):(console.log("\ud83d\udd0d Debug: Other error type detected"),W({title:"Approval Failed",description:e,status:"error",duration:5e3,isClosable:!0})))}if(i&&i.approval&&!1===i.approval.approved){var t;console.log("\ud83d\udd0d Debug: Backend silently rejected booking instead of approving - permission issue detected");const e=(null===(t=i.status)||void 0===t?void 0:t.message)||"";return e.toLowerCase().includes("wakil_direktorat")?(W({title:"Access Denied",description:"Only Wakil Direktorat can approve bookings. Your request was automatically rejected.",status:"warning",duration:6e3,isClosable:!0,position:"top"}),q(),void G()):(W({title:"Booking Rejected",description:e||"Booking was rejected instead of approved.",status:"info",duration:5e3,isClosable:!0}),q(),void G())}if(i&&i.approval&&!0===i.approval.approved)return console.log("\ud83d\udd0d Debug: Legitimate approval success"),W({title:"Success",description:"Booking approved successfully",status:"success",duration:3e3,isClosable:!0}),q(),void G();console.log("\ud83d\udd0d Debug: Unexpected response structure"),W({title:"Unexpected Response",description:"Received unexpected response from server. Please refresh and try again.",status:"warning",duration:5e3,isClosable:!0})}catch(r){console.log("\ud83d\udd0d Debug: Exception caught:",r),W({title:"Error",description:r.message||"Failed to approve booking - please try again",status:"error",duration:4e3,isClosable:!0})}else W({title:"Access Denied",description:a4("approve bookings"),status:"warning",duration:6e3,isClosable:!0,position:"top"})})(e.bookingId),children:"Setujui Booking"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(iA,{}),color:"red.500",onClick:()=>(e=>{F(e),R()})(e),children:"Tolak Booking"})]}),"pending"===e.status&&r&&(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(i_,{}),color:"orange.500",isDisabled:!0,children:"Hanya Wakil Direktorat yang Bisa Menyetujui"})]})]})})]},e.bookingId);var x}))})]})})}),i.length>0&&(0,Xo.jsxs)(Eb,{p:4,borderTop:"1px",borderColor:"gray.200",children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:4,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Showing ",(I.page-1)*I.limit+1," to"," ",Math.min(I.page*I.limit,I.total)," of"," ",I.total," entries"]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",mr:2,children:"Items per page:"}),(0,Xo.jsxs)(SQ,{size:"sm",width:"80px",value:I.limit,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{limit:parseInt(e.target.value),page:1}))),children:[(0,Xo.jsx)("option",{value:10,children:"10"}),(0,Xo.jsx)("option",{value:20,children:"20"}),(0,Xo.jsx)("option",{value:50,children:"50"})]})]})]}),(0,Xo.jsx)(Xj,{justify:"center",align:"center",children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>T((e=>(0,o.A)((0,o.A)({},e),{},{page:e.page-1}))),disabled:1===I.page,leftIcon:(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2190"}),children:"Previous"}),Array.from({length:I.totalPages},((e,t)=>t+1)).filter((e=>1===e||e===I.totalPages||Math.abs(e-I.page)<=2)).map(((e,t,n)=>t>0&&n[t-1]!==e-1?[(0,Xo.jsx)(Tb,{color:"gray.500",children:"..."},"ellipsis-".concat(e)),(0,Xo.jsx)(Bj,{size:"sm",variant:I.page===e?"solid":"outline",colorScheme:I.page===e?"blue":"gray",onClick:()=>T((t=>(0,o.A)((0,o.A)({},t),{},{page:e}))),children:e},e)]:(0,Xo.jsx)(Bj,{size:"sm",variant:I.page===e?"solid":"outline",colorScheme:I.page===e?"blue":"gray",onClick:()=>T((t=>(0,o.A)((0,o.A)({},t),{},{page:e}))),children:e},e))),(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>T((e=>(0,o.A)((0,o.A)({},e),{},{page:e.page+1}))),disabled:I.page===I.totalPages,rightIcon:(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2192"}),children:"Next"})]})})]})]}),(0,Xo.jsx)(n4,{isOpen:z,onClose:L,booking:C,onBookingUpdated:()=>{q(),G()}}),(0,Xo.jsx)(r4,{isOpen:D,onClose:M,booking:B,onRejected:async(e,t)=>{await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Admin decision";try{const n=JSON.parse(localStorage.getItem("user")||"{}"),r=n.userId||n.user_id||1,i=await r1.rejectBooking(e,r,t);if(i&&"error"===i.status)return void W({title:"Access Denied",description:i.message||"You do not have permission to reject bookings",status:"error",duration:5e3,isClosable:!0});W({title:"Success",description:"Booking rejected successfully",status:"success",duration:3e3,isClosable:!0}),q(),G()}catch(n){W({title:"Error",description:n.message||"Failed to reject booking",status:"error",duration:3e3,isClosable:!0})}}(e,t),M(),F(null)}})]})})},c4=()=>{var e,n,r,i,a,s;const{user:l}=vb(),c=(e=>o4(e))(l),d=s4(l),[u,h]=(0,t.useState)([]),[p,f]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[j,w]=(0,t.useState)({total_amount:0,verified_amount:0,pending_amount:0,rejected_amount:0,total_count:0,verified_count:0,pending_count:0,rejected_count:0}),[k,S]=(0,t.useState)({search:"",status:"",paymentMethod:"",dateRange:"",sortBy:"createdAt",sortOrder:"desc"}),[_,A]=(0,t.useState)({page:1,limit:10,total:0}),[C,P]=(0,t.useState)(""),[I,T]=(0,t.useState)(""),[N,E]=(0,t.useState)(!1),[z,O]=(0,t.useState)(null),[L,D]=(0,t.useState)(!1),R=GG(),M=GG(),B=GG(),F=hb(),W=(0,t.useMemo)((()=>u&&0!==u.length?u.filter((e=>{if(k.search){const t=k.search.toLowerCase();if(![e.paymentId,e.transactionId,e.tenantId,e.bookingId,e.paymentMethod,e.paymentChannel].map((e=>(e||"").toString().toLowerCase())).some((e=>e.includes(t))))return!1}if(k.status&&e.status!==k.status)return!1;if(k.paymentMethod&&e.paymentMethod!==k.paymentMethod)return!1;if(k.dateRange){const t=new Date(e.createdAt),n=new Date;switch(k.dateRange){case"today":if(t.toDateString()!==n.toDateString())return!1;break;case"week":if(t<new Date(n.getTime()-6048e5))return!1;break;case"month":if(t<new Date(n.getTime()-2592e6))return!1}}return!0})):[]),[u,k]);(0,t.useEffect)((()=>{U()}),[k.dateRange]),(0,t.useEffect)((()=>{H()}),[k,_.page]),(0,t.useEffect)((()=>{if(p.length>0){const e=p.reduce(((e,t)=>{var n;const r=t.amount||0;switch(e.total_count++,e.total_amount+=r,null===(n=t.status)||void 0===n?void 0:n.toLowerCase()){case"verified":e.verified_count++,e.verified_amount+=r;break;case"pending":e.pending_count++,e.pending_amount+=r;break;case"rejected":case"failed":e.rejected_count++,e.rejected_amount+=r}return e}),{total_amount:0,verified_amount:0,pending_amount:0,rejected_amount:0,total_count:0,verified_count:0,pending_count:0,rejected_count:0});w(e)}else w({total_amount:0,verified_amount:0,pending_amount:0,rejected_amount:0,total_count:0,verified_count:0,pending_count:0,rejected_count:0})}),[p]);const U=async()=>{try{const e={};if(k.dateRange){const t=q(k.dateRange);t.startDate&&(e.start_date=t.startDate),t.endDate&&(e.end_date=t.endDate)}console.log("Fetching all payments for stats with params:",e);const t=await o1.getPayments(e);if(console.log("All payments for stats:",t),t.status&&"error"===t.status.status)throw new Error(t.status.message||"Failed to fetch all payments");const n=(null===t||void 0===t?void 0:t.payments)||[];f(n)}catch(Pee){console.error("Error fetching all payments:",Pee),f([])}},q=e=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(e){case"today":return{startDate:n.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0]};case"yesterday":const e=new Date(n);return e.setDate(e.getDate()-1),{startDate:e.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]};case"7days":const t=new Date(n);return t.setDate(t.getDate()-7),{startDate:t.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0]};case"30days":const r=new Date(n);return r.setDate(r.getDate()-30),{startDate:r.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0]};case"90days":const i=new Date(n);return i.setDate(i.getDate()-90),{startDate:i.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0]};default:return{startDate:null,endDate:null}}},H=async()=>{try{g(!0);const e={};if(k.search&&(e.search=k.search),k.status&&(e.status=k.status),k.paymentMethod&&(e.payment_method=k.paymentMethod),k.dateRange){const t=q(k.dateRange);t.startDate&&(e.start_date=t.startDate),t.endDate&&(e.end_date=t.endDate)}_.page>1&&(e.page=_.page),10!==_.limit&&(e.limit=_.limit),"createdAt"!==k.sortBy&&(e.sort_by=k.sortBy),"desc"!==k.sortOrder&&(e.sort_order=k.sortOrder),console.log("Sending payment request with params:",e);const t=await o1.getPayments(e);if(console.log("Payments API response:",t),t.status&&"error"===t.status.status)throw new Error(t.status.message||"Failed to fetch payments");const n=(null===t||void 0===t?void 0:t.payments)||[];h(n),A((e=>(0,o.A)((0,o.A)({},e),{},{total:t.totalCount||0}))),y(null)}catch(Pee){y(Pee.message),console.error("Error fetching payments:",Pee),h([])}finally{g(!1)}},V=e=>{b(e),(async e=>{D(!0);try{const t=await o1.getPaymentById(e);O(t.payment),b(t.payment),R.onOpen()}catch(Pee){console.error("Error fetching payment details:",Pee),F({title:"Error",description:Pee.message,status:"error",duration:5e3,isClosable:!0})}finally{D(!1)}})(e.paymentId)},G=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(c)if(e||C.trim()){E(!0);try{const n={verifierId:(null===l||void 0===l?void 0:l.userId)||1,approved:e,verificationNotes:C.trim(),verifiedAt:(new Date).toISOString()};console.log("\ud83d\udd0d Payment Debug: Submitting verification:",n);const r=await o1.verifyPayment(x.paymentId,n);if(console.log("\ud83d\udd0d Payment Debug: Backend response:",r),r&&"error"===r.status){const e=r.message||"Unknown error occurred";return void(e.toLowerCase().includes("permission denied")||e.toLowerCase().includes("insufficient privileges")||e.toLowerCase().includes("only wakil_direktorat can")?F({title:"Access Denied",description:"Only Wakil Direktorat can verify payments. Please contact an authorized user.",status:"warning",duration:6e3,isClosable:!0,position:"top"}):F({title:"Verification Failed",description:e,status:"error",duration:5e3,isClosable:!0}))}if(r&&r.payment&&e){const e=r.payment.status;if("failed"===e||"rejected"===e){var t;console.log("\ud83d\udd0d Payment Debug: Backend silently failed payment instead of approving - permission issue detected");if(((null===(t=r.status)||void 0===t?void 0:t.message)||"").toLowerCase().includes("wakil_direktorat"))return F({title:"Access Denied",description:"Only Wakil Direktorat can verify payments. Your request was automatically rejected.",status:"warning",duration:6e3,isClosable:!0,position:"top"}),await H(),await U(),M.onClose(),R.onClose(),P(""),void b(null)}}F({title:e?"Payment Approved":"Payment Rejected",description:"Payment has been successfully ".concat(e?"approved":"rejected","."),status:"success",duration:3e3,isClosable:!0}),await H(),await U(),M.onClose(),R.onClose(),P(""),b(null)}catch(Pee){console.error("Verification error:",Pee),F({title:"Error",description:Pee.message||"Failed to process payment verification - please try again",status:"error",duration:4e3,isClosable:!0})}finally{E(!1)}}else F({title:"Validation Error",description:"Please provide verification notes for rejection.",status:"warning",duration:3e3,isClosable:!0});else F({title:"Access Denied",description:a4("verify payments"),status:"warning",duration:6e3,isClosable:!0,position:"top"})},K=e=>{const t=[["Payment ID","Transaction ID","Date","Tenant ID","Booking ID","Amount","Status","Payment Method","Payment Channel"].join(",")];return e.forEach((e=>{const n=[e.paymentId||"N/A",e.transactionId||(e.invoiceId?"INV-".concat(e.invoiceId):"N/A"),e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A",e.tenantId||"N/A",e.bookingId||"N/A",e.amount?"".concat(e.amount.toLocaleString()):"0",e.status||"N/A",e.paymentMethod||"N/A",e.paymentChannel||"N/A"];t.push(n.map((e=>'"'.concat(e,'"'))).join(","))})),t.join("\n")},Y=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"verified":return"green";case"pending":return"yellow";case"failed":case"rejected":return"red";case"refunded":case"cancelled":return"orange";default:return"gray"}},Z=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"verified":return d_;case"pending":return m_;case"failed":case"rejected":return rA;case"refunded":case"cancelled":return i_;case"expired":return P_;default:return w_}},J=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"midtrans":default:return g_;case"manual":return v_}},X=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",$=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0);return m?(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Eb,{p:6,children:[(0,Xo.jsx)(Xj,{justify:"space-between",align:"center",mb:6,children:(0,Xo.jsx)(Wb,{size:"lg",children:"Payment Management"})}),(0,Xo.jsx)(bb,{h:"400px",children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Loading payment data..."})]})})]})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Eb,{p:6,children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:6,children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"lg",children:"Payment Management"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Track and manage all payments and transactions"})]}),"          ",(0,Xo.jsx)(dS,{spacing:3,children:(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(y_,{}),colorScheme:"brand",onClick:async()=>{try{const e=K(W),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=n,r.download="payments-export-".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),F({title:"Export Successful",description:"".concat(W.length," payment records exported to CSV"),status:"success",duration:3e3,isClosable:!0})}catch(Pee){console.error("Export error:",Pee),F({title:"Error",description:"Failed to export payment data",status:"error",duration:5e3,isClosable:!0})}},children:"Export CSV"})})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(4, 1fr)"},gap:6,mb:6,children:[(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total Transactions"}),(0,Xo.jsx)(GS,{color:"blue.500",children:j.total_count}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(a_,{}),(0,Xo.jsx)(Tb,{children:$(j.total_amount)})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Verified Payments"}),(0,Xo.jsx)(GS,{color:"green.500",children:j.verified_count}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(d_,{}),(0,Xo.jsx)(Tb,{children:$(j.verified_amount)})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Pending Payments"}),(0,Xo.jsx)(GS,{color:"yellow.500",children:j.pending_count}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(m_,{}),(0,Xo.jsx)(Tb,{children:$(j.pending_amount)})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Rejected Payments"}),(0,Xo.jsx)(GS,{color:"red.500",children:j.rejected_count}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(rA,{}),(0,Xo.jsx)(Tb,{children:$(j.rejected_amount)})]})})]})})})]}),(0,Xo.jsx)(Vb,{mb:6,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(4, 1fr)"},gap:4,children:[(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(W_,{color:"gray.400"})}),(0,Xo.jsx)(gj,{placeholder:"Search by transaction ID, tenant...",value:k.search,onChange:e=>S((t=>(0,o.A)((0,o.A)({},t),{},{search:e.target.value})))})]}),(0,Xo.jsxs)(SQ,{placeholder:"Payment Status",value:k.status,onChange:e=>S((t=>(0,o.A)((0,o.A)({},t),{},{status:e.target.value}))),children:[(0,Xo.jsx)("option",{value:"verified",children:"Verified"}),(0,Xo.jsx)("option",{value:"pending",children:"Pending"}),(0,Xo.jsx)("option",{value:"failed",children:"Failed"}),(0,Xo.jsx)("option",{value:"refunded",children:"Refunded"}),(0,Xo.jsx)("option",{value:"expired",children:"Expired"})]}),(0,Xo.jsxs)(SQ,{placeholder:"Payment Method",value:k.paymentMethod,onChange:e=>S((t=>(0,o.A)((0,o.A)({},t),{},{paymentMethod:e.target.value}))),children:[(0,Xo.jsx)("option",{value:"midtrans",children:"Midtrans"}),(0,Xo.jsx)("option",{value:"manual",children:"Manual Transfer"})]}),(0,Xo.jsxs)(SQ,{placeholder:"Date Range",value:k.dateRange,onChange:e=>S((t=>(0,o.A)((0,o.A)({},t),{},{dateRange:e.target.value}))),children:[(0,Xo.jsx)("option",{value:"today",children:"Today"}),(0,Xo.jsx)("option",{value:"yesterday",children:"Yesterday"}),(0,Xo.jsx)("option",{value:"7days",children:"Last 7 Days"}),(0,Xo.jsx)("option",{value:"30days",children:"Last 30 Days"}),(0,Xo.jsx)("option",{value:"90days",children:"Last 90 Days"})]})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsxs)(Kb,{p:0,children:[(0,Xo.jsx)(Eb,{overflowX:"auto",children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Payment ID"}),(0,Xo.jsx)(T0,{children:"Tenant"}),(0,Xo.jsx)(T0,{children:"Amount"}),(0,Xo.jsx)(T0,{children:"Method"}),(0,Xo.jsx)(T0,{children:"Date"}),(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Actions"})]})}),(0,Xo.jsx)(N0,{children:v?(0,Xo.jsx)(P0,{children:(0,Xo.jsx)(z0,{colSpan:7,children:(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),v]})})}):0===u.length?(0,Xo.jsx)(P0,{children:(0,Xo.jsx)(z0,{colSpan:7,textAlign:"center",py:8,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:v_,boxSize:10,color:"gray.400"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"No payments found"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.400",children:"Try adjusting your filters"})]})})}):u.map((e=>(0,Xo.jsxs)(P0,{children:[(0,Xo.jsxs)(z0,{children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:J(e.paymentMethod),color:"blue.500"}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["#",e.paymentId]})]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.transactionId||"INV-".concat(e.invoiceId)})]}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(xZ,{size:"sm",name:"Tenant ".concat(e.tenantId)}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["Tenant #",e.tenantId]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Booking #",e.bookingId]})]})]})}),(0,Xo.jsx)(z0,{fontWeight:"medium",children:$(e.amount)}),(0,Xo.jsxs)(z0,{children:[(0,Xo.jsx)(r_,{colorScheme:"midtrans"===e.paymentMethod?"blue":"purple",children:e.paymentMethod}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:e.paymentChannel||"N/A"})]}),(0,Xo.jsxs)(z0,{children:[(0,Xo.jsx)(Tb,{children:X(e.createdAt)}),e.paidAt&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"green.500",children:["Paid: ",X(e.paidAt)]})]}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:Y(e.status),children:(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Zv,{as:Z(e.status)}),(0,Xo.jsx)(Tb,{children:e.status})]})})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm"}),(0,Xo.jsxs)(kZ,{children:["                              ",(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(j_,{}),onClick:()=>V(e),children:"View Details"}),"pending"===e.status&&c&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(d_,{}),color:"green.500",onClick:()=>{b(e),M.onOpen()},children:"Verify Payment"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(rA,{}),color:"red.500",onClick:()=>{b(e),B.onOpen()},children:"Reject Payment"})]}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(w_,{}),onClick:()=>{},children:"View Receipt"})]})]})})]},e.paymentId)))})]})}),!m&&u.length>0&&(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",p:4,borderTop:"1px",borderColor:"gray.200",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Showing ",(_.page-1)*_.limit+1," to"," ",Math.min(_.page*_.limit,_.total)," of"," ",_.total," payments"]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",isDisabled:1===_.page,onClick:()=>A((e=>(0,o.A)((0,o.A)({},e),{},{page:e.page-1}))),children:"Previous"}),(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",isDisabled:_.page*_.limit>=_.total,onClick:()=>A((e=>(0,o.A)((0,o.A)({},e),{},{page:e.page+1}))),children:"Next"})]})]})]})}),"        ",(0,Xo.jsxs)(JZ,{isOpen:R.isOpen,onClose:R.onClose,size:"6xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",overflowY:"auto",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:v_}),(0,Xo.jsxs)(Tb,{children:["Payment Details #",null===x||void 0===x?void 0:x.paymentId]}),(null===x||void 0===x?void 0:x.status)&&(0,Xo.jsx)(r_,{colorScheme:Y(x.status),ml:2,children:x.status})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:L?(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Qv,{size:"lg"}),(0,Xo.jsx)(Tb,{children:"Loading payment details..."})]})}):z?(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment Information"})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)"},gap:4,children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Payment ID"}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["#",z.paymentId]})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Status"}),(0,Xo.jsx)(r_,{colorScheme:Y(z.status),children:z.status})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",color:"green.500",children:$(z.amount)})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Method"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:J(z.paymentMethod)}),(0,Xo.jsx)(Tb,{children:z.paymentMethod})]})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Channel"}),(0,Xo.jsx)(Tb,{children:z.paymentChannel||"N/A"})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Transaction ID"}),(0,Xo.jsx)(Tb,{children:z.transactionId||"N/A"})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Invoice ID"}),(0,Xo.jsxs)(Tb,{children:["#",z.invoiceId]})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Created"}),(0,Xo.jsx)(Tb,{children:X(z.createdAt)})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Updated"}),(0,Xo.jsx)(Tb,{children:X(z.updatedAt)})]}),z.paidAt&&(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Paid At"}),(0,Xo.jsx)(Tb,{color:"green.500",children:X(z.paidAt)})]})]}),z.notes&&(0,Xo.jsxs)(Eb,{mt:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:2,children:"Payment Notes"}),(0,Xo.jsx)(Tb,{p:3,bg:"gray.50",borderRadius:"md",children:z.notes})]})]})]}),z.booking&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Booking Information"})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)"},gap:4,children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Booking ID"}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["#",z.booking.bookingId]})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Check-in Date"}),(0,Xo.jsx)(Tb,{children:X(z.booking.checkInDate)})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Check-out Date"}),(0,Xo.jsx)(Tb,{children:X(z.booking.checkOutDate)})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Total Booking Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:$(z.booking.totalAmount)})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Booking Status"}),(0,Xo.jsx)(r_,{colorScheme:"approved"===z.booking.status?"green":"yellow",children:z.booking.status})]}),z.booking.room&&(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Room"}),(0,Xo.jsx)(Tb,{children:z.booking.room.name}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[null===(e=z.booking.room.classification)||void 0===e?void 0:e.name," \u2022 ",null===(n=z.booking.room.rentalType)||void 0===n?void 0:n.name]})]})]}),z.booking.tenant&&(0,Xo.jsxs)(Eb,{mt:4,p:3,bg:"blue.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"blue.800",mb:2,children:"Tenant Information"}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)"},gap:3,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(xZ,{size:"sm",name:null===(r=z.booking.tenant.user)||void 0===r?void 0:r.fullName}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:null===(i=z.booking.tenant.user)||void 0===i?void 0:i.fullName}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:null===(a=z.booking.tenant.user)||void 0===a?void 0:a.email})]})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["Phone: ",z.booking.tenant.phone]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["NIM: ",z.booking.tenant.nim]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["Type: ",null===(s=z.booking.tenant.tenantType)||void 0===s?void 0:s.name]})]})]})]})]})]}),z.paymentProof&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment Proof"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"1fr 2fr"},gap:6,children:[(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"File Name"}),(0,Xo.jsx)(Tb,{children:z.paymentProof.fileName})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"File Type"}),(0,Xo.jsx)(Tb,{children:z.paymentProof.fileType})]}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Uploaded At"}),(0,Xo.jsx)(Tb,{children:X(z.paymentProof.uploadedAt)})]}),z.paymentProof.bankName&&(0,Xo.jsxs)(Eb,{p:3,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Bank Transfer Details"}),(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)("strong",{children:"Bank:"})," ",z.paymentProof.bankName]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)("strong",{children:"Account:"})," ",z.paymentProof.accountNumber]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)("strong",{children:"Holder:"})," ",z.paymentProof.accountHolderName]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)("strong",{children:"Transfer Date:"})," ",X(z.paymentProof.transferDate)]})]})]}),z.paymentProof.verificationStatus&&(0,Xo.jsxs)(Eb,{p:3,bg:"verified"===z.paymentProof.verificationStatus?"green.50":"yellow.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",mb:1,children:"Verification Status"}),(0,Xo.jsx)(r_,{colorScheme:"verified"===z.paymentProof.verificationStatus?"green":"yellow",children:z.paymentProof.verificationStatus}),z.paymentProof.verificationNotes&&(0,Xo.jsx)(Tb,{fontSize:"sm",mt:2,children:z.paymentProof.verificationNotes}),z.paymentProof.verifiedAt&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",mt:1,children:["Verified: ",X(z.paymentProof.verifiedAt)]})]})]}),z.paymentProof.imageContent&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:2,children:"Payment Receipt"}),(0,Xo.jsx)(Eb,{border:"2px solid",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",children:(0,Xo.jsx)(Bb,{src:"data:".concat(z.paymentProof.fileType,";base64,").concat(z.paymentProof.imageContent),alt:"Payment proof",width:"100%",maxH:"500px",objectFit:"contain",bg:"white"})}),(0,Xo.jsxs)(dS,{mt:2,spacing:2,children:[(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",leftIcon:(0,Xo.jsx)(y_,{}),onClick:()=>{const e=document.createElement("a");e.href="data:".concat(z.paymentProof.fileType,";base64,").concat(z.paymentProof.imageContent),e.download=z.paymentProof.fileName,e.click()},children:"Download"}),(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",leftIcon:(0,Xo.jsx)(j_,{}),onClick:()=>{window.open().document.write('<img src="data:'.concat(z.paymentProof.fileType,";base64,").concat(z.paymentProof.imageContent,'" style="max-width:100%;height:auto;" />'))},children:"View Full Size"})]})]})]})})]}),"                  ","pending"===z.status&&c&&(0,Xo.jsx)(Vb,{bg:"orange.50",borderColor:"orange.200",children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(dS,{spacing:4,justify:"center",children:[(0,Xo.jsx)(Bj,{colorScheme:"green",leftIcon:(0,Xo.jsx)(Y_,{}),onClick:()=>{M.onOpen()},size:"lg",children:"Approve Payment"}),(0,Xo.jsx)(Bj,{colorScheme:"red",leftIcon:(0,Xo.jsx)(K_,{}),onClick:()=>{M.onOpen()},size:"lg",children:"Reject Payment"})]}),(0,Xo.jsx)(Tb,{textAlign:"center",mt:2,fontSize:"sm",color:"orange.600",children:"This payment requires your verification"})]})}),"pending"===z.status&&d&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Limited Access"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"You can view payment details but cannot approve or reject payments. Only Wakil Direktorat and Super Admin users can verify payments."})]})]})]}):(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),"Failed to load payment details"]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{onClick:R.onClose,children:"Close"})})]})]}),(0,Xo.jsxs)(JZ,{isOpen:M.isOpen,onClose:M.onClose,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Payment Verification"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Payment Verification Required"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Payment #",null===x||void 0===x?void 0:x.paymentId," for ",$(null===x||void 0===x?void 0:x.amount)," requires your verification."]})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Verification Notes"}),(0,Xo.jsx)(D1,{placeholder:"Add notes about this verification (required for rejection)",value:C,onChange:e=>P(e.target.value),rows:4}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"Please provide detailed notes for your verification decision"})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"outline",mr:3,onClick:M.onClose,isDisabled:N,children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"red",mr:3,onClick:()=>G(!1),isLoading:N,loadingText:"Rejecting...",isDisabled:N||!C.trim(),children:"Reject Payment"}),(0,Xo.jsx)(Bj,{colorScheme:"green",onClick:()=>G(!0),isLoading:N,loadingText:"Approving...",isDisabled:N,children:"Approve Payment"})]})]})]}),(0,Xo.jsxs)(JZ,{isOpen:B.isOpen,onClose:B.onClose,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Reject Payment"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Confirm Payment Rejection"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["You are about to reject payment #",null===x||void 0===x?void 0:x.paymentId," for ",$(null===x||void 0===x?void 0:x.amount),"."]})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Rejection Reason"}),(0,Xo.jsx)(D1,{placeholder:"Provide a reason for rejecting this payment",value:I,onChange:e=>T(e.target.value),rows:4})]})]})}),(0,Xo.jsxs)(M1,{children:["                              ",(0,Xo.jsx)(Bj,{variant:"outline",mr:3,onClick:B.onClose,isDisabled:N,children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:async()=>{if(I.trim()){E(!0);try{await o1.rejectPayment(x.paymentId,{verifierId:(null===l||void 0===l?void 0:l.userId)||1,reason:I.trim()}),F({title:"Payment Rejected",description:"Payment has been rejected.",status:"info",duration:3e3,isClosable:!0}),await H(),await U(),B.onClose(),T(""),b(null)}catch(Pee){console.error("Rejection error:",Pee),F({title:"Error",description:Pee.message||"Failed to reject payment",status:"error",duration:5e3,isClosable:!0})}finally{E(!1)}}else F({title:"Validation Error",description:"Please provide a reason for rejection.",status:"warning",duration:3e3,isClosable:!0})},isLoading:N,loadingText:"Rejecting...",children:"Reject Payment"})]})]})]})]})})},d4=()=>{var e,n,r,i,a,s,l,c,d;const{user:u}=vb(),h=(e=>o4(e))(u),p=s4(u),[f,m]=(0,t.useState)([]),[g,v]=(0,t.useState)({}),[y,x]=(0,t.useState)(!0),[b,j]=(0,t.useState)(null),[w,k]=(0,t.useState)(null),[S,_]=(0,t.useState)(null),[A,C]=(0,t.useState)(!1),[P,I]=(0,t.useState)(""),[T,N]=(0,t.useState)(!1),[E,z]=(0,t.useState)(null),[O,L]=(0,t.useState)({page:1,limit:10,total:0,totalPages:0}),[D,R]=(0,t.useState)(1),[M,B]=(0,t.useState)(0),[F,W]=(0,t.useState)({search:"",status:"",documentType:"",sortBy:"uploaded_at",sortOrder:"desc"}),{isOpen:U,onOpen:q,onClose:H}=GG(),V=hb(),G=async()=>{try{x(!0);const e=(0,o.A)({page:O.page,limit:O.limit},F),t=await t1.getAllDocuments(e);if("success"!==t.status.status)throw new Error(t.status.message);{m(t.documents);const e=t.totalCount||t.documents.length;L((t=>(0,o.A)((0,o.A)({},t),{},{total:e,totalPages:Math.ceil(e/t.limit)}))),B(e);const n=t.documents.reduce(((e,t)=>{const n=t.tenantId;return e[n]||(e[n]={tenant:t.tenant,documents:[]}),e[n].documents.push(t),e}),{});v(n)}}catch(E){var e,t;console.error("Document fetch error:",E),null!==(e=E.message)&&void 0!==e&&e.includes("converting NULL to string is unsupported")&&null!==(t=E.message)&&void 0!==t&&t.includes("nim")?(V({title:"Database Configuration Issue",description:"Unable to load documents due to NIM field handling for non-mahasiswa tenants. Please contact system administrator.",status:"error",duration:8e3,isClosable:!0}),z("NIM field database issue: Non-mahasiswa tenants have NULL NIM values that need proper backend handling.")):(V({title:"Error fetching documents",description:E.message,status:"error",duration:3e3,isClosable:!0}),z(E.message))}finally{x(!1)}};(0,t.useEffect)((()=>{G()}),[O.page,O.limit,F]);const K=(e,t)=>{W((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))),L((e=>(0,o.A)((0,o.A)({},e),{},{page:1}))),R(1)},Y=()=>{j(null),k(null),_(null),C(!1),I(""),H()},Z=async e=>{if(b)if(h)try{N(!0);const n={reviewerId:1,approved:e,notes:P};console.log("\ud83d\udd0d Document Debug: Submitting review:",n);const r=await t1.reviewDocument(b.docId,n);if(console.log("\ud83d\udd0d Document Debug: Backend response:",r),r&&"error"===r.status){const e=r.message||"Unknown error occurred";return void(e.toLowerCase().includes("permission denied")||e.toLowerCase().includes("insufficient privileges")||e.toLowerCase().includes("only wakil_direktorat can")?V({title:"Access Denied",description:"Only Wakil Direktorat can review documents. Please contact an authorized user.",status:"warning",duration:6e3,isClosable:!0,position:"top"}):V({title:"Review Failed",description:e,status:"error",duration:5e3,isClosable:!0}))}if(r&&r.document&&e){if("rejected"===r.document.status){var t;console.log("\ud83d\udd0d Document Debug: Backend silently rejected document instead of approving - permission issue detected");if(((null===(t=r.status)||void 0===t?void 0:t.message)||"").toLowerCase().includes("wakil_direktorat"))return V({title:"Access Denied",description:"Only Wakil Direktorat can review documents. Your request was automatically rejected.",status:"warning",duration:6e3,isClosable:!0,position:"top"}),Y(),void G()}}V({title:"Document ".concat(e?"Approved":"Rejected"),description:"Document has been ".concat(e?"approved":"rejected"," successfully"),status:"success",duration:3e3,isClosable:!0}),Y(),G()}catch(E){V({title:"Error reviewing document",description:E.message||"Failed to review document - please try again",status:"error",duration:4e3,isClosable:!0})}finally{N(!1)}else V({title:"Access Denied",description:a4("review documents"),status:"warning",duration:6e3,isClosable:!0,position:"top"})},J=e=>{switch(e){case"approved":return"green";case"rejected":return"red";case"pending":return"yellow";default:return"gray"}},X=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return y?(0,Xo.jsx)(bb,{h:"400px",children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Loading documents..."})]})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(Ob,{maxW:"full",p:4,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{size:"lg",mb:2,children:"Manajemen Dokumen"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Kelola dan review dokumen penyewa"})]}),E&&E.includes("NIM field database issue")&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Database Configuration Issue"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"The documents cannot be loaded because non-mahasiswa tenants have NULL NIM values. This requires backend code changes to handle nullable NIM fields properly."}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",mt:2,children:[(0,Xo.jsx)("strong",{children:"Technical Details:"})," Backend needs to use sql.NullString or COALESCE for NIM field scanning."]})]})]}),E&&!E.includes("NIM field database issue")&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Error Loading Documents"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:E})]})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2,lg:4},spacing:4,children:[(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(W_,{color:"gray.300"})}),(0,Xo.jsx)(gj,{placeholder:"Cari dokumen...",value:F.search,onChange:e=>K("search",e.target.value)})]}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Status",value:F.status,onChange:e=>K("status",e.target.value),children:[(0,Xo.jsx)("option",{value:"pending",children:"Menunggu"}),(0,Xo.jsx)("option",{value:"approved",children:"Disetujui"}),(0,Xo.jsx)("option",{value:"rejected",children:"Ditolak"})]}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Jenis Dokumen",value:F.documentType,onChange:e=>K("documentType",e.target.value),children:[(0,Xo.jsx)("option",{value:"ktp",children:"KTP"}),(0,Xo.jsx)("option",{value:"transkrip",children:"Transkrip Nilai"}),(0,Xo.jsx)("option",{value:"kk",children:"Kartu Keluarga"})]}),(0,Xo.jsxs)(SQ,{value:"".concat(F.sortBy,"_").concat(F.sortOrder),onChange:e=>{const[t,n]=e.target.value.split("_");K("sortBy",t),K("sortOrder",n)},children:[(0,Xo.jsx)("option",{value:"uploaded_at_desc",children:"Terbaru"}),(0,Xo.jsx)("option",{value:"uploaded_at_asc",children:"Terlama"}),(0,Xo.jsx)("option",{value:"status_asc",children:"Status A-Z"}),(0,Xo.jsx)("option",{value:"status_desc",children:"Status Z-A"})]})]})})}),(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:0===Object.keys(g).length?(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(w_,{size:48,color:"gray.400"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Tidak ada dokumen ditemukan"})]})})})}):Object.entries(g).map((e=>{var t,n;let[r,i]=e;return(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(xZ,{size:"md",name:(null===(t=i.tenant)||void 0===t?void 0:t.nim)||"Tidak diketahui"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:["NIM: ",(null===(n=i.tenant)||void 0===n?void 0:n.nim)||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["ID Penyewa: ",r," \u2022 ",i.documents.length," dokumen"]})]}),(0,Xo.jsxs)(r_,{colorScheme:"blue",ml:"auto",children:[i.documents.filter((e=>"pending"===e.status)).length," Menunggu"]})]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsx)(Pb,{spacing:3,align:"stretch",children:i.documents.map((e=>{var t;return(0,Xo.jsxs)(Eb,{p:4,border:"1px",borderColor:"gray.200",borderRadius:"md",bg:"gray.50",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"sm",children:(null===(t=e.documentType)||void 0===t?void 0:t.name)||"Jenis Tidak Diketahui"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.fileName})]}),(0,Xo.jsxs)(r_,{colorScheme:J(e.status),children:["approved"===e.status&&"Disetujui","pending"===e.status&&"Menunggu","rejected"===e.status&&"Ditolak",!["approved","pending","rejected"].includes(e.status)&&e.status]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[(0,Xo.jsx)(l_,{style:{display:"inline",marginRight:"4px"}}),X(e.uploadedAt)]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Uj,{size:"sm",icon:(0,Xo.jsx)(j_,{}),variant:"ghost",colorScheme:"blue",onClick:()=>(async e=>{j(e),I(e.notes||""),C(!0),q();try{const t=await t1.getTenantDetails(e.tenantId);k(t.tenant);const n=(await t1.getTenantDocuments(e.tenantId)).documents.find((t=>t.docId===e.docId));_(n)}catch(E){V({title:"Error loading document details",description:E.message,status:"error",duration:3e3,isClosable:!0})}finally{C(!1)}})(e),title:"Lihat Detail"}),"pending"===e.status&&h&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Uj,{size:"sm",icon:(0,Xo.jsx)(u_,{}),variant:"ghost",colorScheme:"green",onClick:()=>{j(e),I(""),Z(!0)},title:"Setujui Cepat"}),(0,Xo.jsx)(Uj,{size:"sm",icon:(0,Xo.jsx)(iA,{}),variant:"ghost",colorScheme:"red",onClick:()=>{j(e),I("Dokumen ditolak"),Z(!1)},title:"Tolak Cepat"})]})]})]}),e.notes&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",mt:2,fontStyle:"italic",children:["Catatan: ",e.notes]})]},e.docId)}))})})]},r)}))}),"        ",(0,Xo.jsxs)(JZ,{isOpen:U,onClose:Y,size:"4xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxH:"90vh",overflow:"hidden",children:[(0,Xo.jsx)(J0,{children:"Detail Dokumen"}),(0,Xo.jsx)(sQ,{}),b&&(0,Xo.jsx)($0,{overflow:"auto",children:A?(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Qv,{size:"lg",color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Memuat detail..."})]})}):(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[S&&S.isImage&&S.content&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:"Pratinjau Dokumen"})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsx)(bb,{children:(0,Xo.jsx)(Bb,{src:"data:".concat(S.fileType,";base64,").concat(S.content),alt:S.fileName,maxW:"100%",maxH:"400px",objectFit:"contain",border:"1px",borderColor:"gray.200",borderRadius:"md"})})})]}),w&&(0,Xo.jsxs)(Vb,{bg:"blue.50",borderColor:"blue.200",children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(eA,{}),(0,Xo.jsx)(Wb,{size:"sm",children:"Informasi Penyewa"}),(0,Xo.jsxs)(r_,{colorScheme:"blue",ml:"auto",children:["Distance: ",null===(e=w.distanceToCampus)||void 0===e?void 0:e.toFixed(2)," km to campus"]})]})}),(0,Xo.jsxs)(Kb,{pt:0,children:[(0,Xo.jsxs)(IQ,{columns:2,spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Nama Lengkap"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===(n=w.user)||void 0===n?void 0:n.fullName)||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"NIM"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:w.nim||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Email"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===(r=w.user)||void 0===r?void 0:r.email)||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Telepon"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:w.phone||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Jenis Kelamin"}),(0,Xo.jsx)(Tb,{children:"L"===w.gender?"Laki-laki":"P"===w.gender?"Perempuan":"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Tipe"}),(0,Xo.jsx)(Tb,{children:(null===(i=w.tenantType)||void 0===i?void 0:i.name)||"N/A"})]}),(0,Xo.jsxs)(Eb,{gridColumn:"span 2",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Alamat"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:w.address||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Tanggal Registrasi"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:X(w.createdAt)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Hari sebagai Penyewa"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(null===(a=w.statistics)||void 0===a?void 0:a.daysAsTenant)||0," hari"]})]})]}),(0,Xo.jsx)(ew,{my:4}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",mb:2,children:"Statistik Dokumen"}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(r_,{colorScheme:"green",children:["Disetujui: ",(null===(s=w.statistics)||void 0===s?void 0:s.approvedDocuments)||0]}),(0,Xo.jsxs)(r_,{colorScheme:"yellow",children:["Menunggu: ",(null===(l=w.statistics)||void 0===l?void 0:l.pendingDocuments)||0]}),(0,Xo.jsxs)(r_,{colorScheme:"red",children:["Ditolak: ",(null===(c=w.statistics)||void 0===c?void 0:c.rejectedDocuments)||0]})]})]})]})]}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:"Informasi Dokumen"})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(IQ,{columns:2,spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Jenis Dokumen"}),(0,Xo.jsx)(Tb,{children:(null===(d=b.documentType)||void 0===d?void 0:d.name)||"Unknown"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Status"}),(0,Xo.jsx)(r_,{colorScheme:J(b.status),children:b.status.toUpperCase()})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Nama Berkas"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:b.fileName})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Tipe Berkas"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:b.fileType})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Dibuat Pada"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:X(b.uploadedAt)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Diperbarui Pada"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:X(b.updatedAt)})]})]})})]}),"pending"===b.status&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:"Review Dokumen"})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Catatan Review"}),(0,Xo.jsx)(D1,{value:P,onChange:e=>I(e.target.value),placeholder:"Tambahkan catatan review (opsional)",rows:3})]})})})]}),b.notes&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:"Catatan Saat Ini"})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:b.notes})})]}),b.approver&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"sm",children:"Informasi Persetujuan"})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(IQ,{columns:2,spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Diperiksa Oleh"}),(0,Xo.jsx)(Tb,{children:b.approver.fullName||"Unknown"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Diperiksa Pada"}),(0,Xo.jsx)(Tb,{children:X(b.approvedAt)})]})]})})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"ghost",onClick:Y,children:"Tutup"}),"pending"===(null===b||void 0===b?void 0:b.status)&&h&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:()=>Z(!1),isLoading:T,leftIcon:(0,Xo.jsx)(iA,{}),children:"Tolak"}),(0,Xo.jsx)(Bj,{colorScheme:"green",onClick:()=>Z(!0),isLoading:T,leftIcon:(0,Xo.jsx)(u_,{}),children:"Setujui"})]}),"pending"===(null===b||void 0===b?void 0:b.status)&&p&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Akses Terbatas"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Anda dapat melihat detail dokumen tetapi tidak dapat menyetujui atau menolak dokumen. Hanya pengguna Wakil Direktorat dan Super Admin yang dapat mereview dokumen."})]})]})]})})]})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Menampilkan ",f.length," dari ",M," dokumen"]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsxs)(r_,{colorScheme:"yellow",children:[f.filter((e=>"pending"===e.status)).length," Menunggu"]}),(0,Xo.jsxs)(r_,{colorScheme:"green",children:[f.filter((e=>"approved"===e.status)).length," Disetujui"]}),(0,Xo.jsxs)(r_,{colorScheme:"red",children:[f.filter((e=>"rejected"===e.status)).length," Ditolak"]})]})]})})}),!y&&f.length>0&&(0,Xo.jsxs)(Eb,{mt:4,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Menampilkan ",(O.page-1)*O.limit+1," hingga ",Math.min(O.page*O.limit,O.total)," dari ",O.total," dokumen"]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Item per halaman:"}),(0,Xo.jsxs)(SQ,{width:"80px",size:"sm",value:O.limit,onChange:e=>{return t=e.target.value,L((e=>(0,o.A)((0,o.A)({},e),{},{page:1,limit:parseInt(t)}))),void R(1);var t},children:[(0,Xo.jsx)("option",{value:"5",children:"5"}),(0,Xo.jsx)("option",{value:"10",children:"10"}),(0,Xo.jsx)("option",{value:"15",children:"15"}),(0,Xo.jsx)("option",{value:"20",children:"20"}),(0,Xo.jsx)("option",{value:"25",children:"25"})]})]})]}),(0,Xo.jsx)(m5,{currentPage:O.page,totalPages:O.totalPages,onPageChange:e=>{L((t=>(0,o.A)((0,o.A)({},t),{},{page:e}))),R(e)}})]})]})})})},u4=["ratio","children","className"],h4=Dv((function(e,n){const{ratio:r=4/3,children:i,className:a}=e,s=Jo(e,u4),l=t.Children.only(i),c=Lv("chakra-aspect-ratio",a);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:n,position:"relative",className:c,_before:{height:0,content:'""',display:"block",paddingBottom:_b(r,(e=>"".concat(1/e*100,"%")))},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}}},s),{},{children:l}))}));h4.displayName="AspectRatio";const p4=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})},f4=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},m4=e=>(e=>{if(!e)return"N/A";const t=new Date(e),n=new Date-t;if(isNaN(t.getTime()))return"Invalid date";const r=Math.floor(n/6e4),i=Math.floor(n/36e5),o=Math.floor(n/864e5);return r<1?"Just now":r<60?"".concat(r," minutes ago"):i<24?"".concat(i," hours ago"):o<7?"".concat(o," days ago"):p4(e)})(e),g4=e=>{let{attachments:n=[],currentStatus:r="open",showTitle:i=!0,groupByPhase:o=!0,allowDownload:a=!0,allowFullscreen:s=!0,compact:l=!1}=e;const{isOpen:c,onOpen:d,onClose:u}=GG(),[h,p]=(0,t.useState)(null),f=zs("white","gray.700"),m=zs("gray.200","gray.600"),g=zs("gray.600","gray.300"),v=o?function(e){const t={open:[],in_progress:[],resolved:[],closed:[]};return e.forEach((e=>{let n=e.status_phase||e.statusPhase;if(!n){switch(e.attachment_type||e.attachmentType||"evidence"){case"evidence":case"initial":case"report":default:n="open";break;case"progress":case"work_in_progress":n="in_progress";break;case"completion":case"resolved":case"before_after":n="resolved";break;case"feedback":case"verification":case"satisfaction":n="closed"}}t[n]?t[n].push(e):t.open.push(e)})),t}(n):{all:n},y={open:"Initial Report",in_progress:"Progress Updates",resolved:"Resolution Evidence",closed:"Final Verification"},x={open:"red",in_progress:"yellow",resolved:"green",closed:"blue"};const b=e=>{p(e),d()},j=async e=>{try{let t=e.file_url||e.fileUrl||e.filePath||e.file_path;if(!t&&e.content){const n=e.file_type||e.fileType||e.mimeType||"image/jpeg";t="data:".concat(n,";base64,").concat(e.content)}if(!t&&(e.id||e.attachmentId||e.attachment_id)){const n=e.id||e.attachmentId||e.attachment_id;t="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"rusunawa-skripsi-v1-production.up.railway.app",REACT_APP_APP_NAME:"Rusunawa Admin System",REACT_APP_ENVIRONMENT:"production",REACT_APP_VERSION:"v1"}.REACT_APP_API_URL||"http://localhost:8080/api/v1","/issues/attachments/").concat(n)}const n=await fetch(t),r=await n.blob(),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.file_name||e.fileName||"attachment.jpg",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)}catch(t){console.error("Error downloading image:",t)}},w=(e,t)=>{let n=e.file_url||e.fileUrl||e.filePath||e.file_path;if(!n&&e.content){const t=e.file_type||e.fileType||e.mimeType||"image/jpeg";n="data:".concat(t,";base64,").concat(e.content)}if(!n&&(e.id||e.attachmentId||e.attachment_id)){const t=e.id||e.attachmentId||e.attachment_id;n="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"rusunawa-skripsi-v1-production.up.railway.app",REACT_APP_APP_NAME:"Rusunawa Admin System",REACT_APP_ENVIRONMENT:"production",REACT_APP_VERSION:"v1"}.REACT_APP_API_URL||"http://localhost:8080/api/v1","/issues/attachments/").concat(t)}return n||(n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSIjYWFhIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2U8L3RleHQ+PC9zdmc+"),(0,Xo.jsxs)(Vb,{bg:f,borderWidth:"1px",borderColor:m,overflow:"hidden",cursor:"pointer",_hover:{transform:"scale(1.02)",transition:"transform 0.2s"},onClick:()=>b(e),children:[(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(Bb,{src:n,alt:e.file_name||e.fileName,w:"100%",h:l?"120px":"150px",objectFit:"cover",fallback:(0,Xo.jsx)(Xj,{align:"center",justify:"center",h:l?"120px":"150px",bg:"gray.100",color:"gray.500",children:(0,Xo.jsx)(Zv,{as:Jw,w:8,h:8})})}),e.is_primary&&(0,Xo.jsx)(r_,{position:"absolute",top:2,left:2,colorScheme:"blue",variant:"solid",fontSize:"xs",children:"Primary"}),(0,Xo.jsx)(Eb,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",opacity:0,_hover:{opacity:1},transition:"opacity 0.2s",display:"flex",alignItems:"center",justifyContent:"center",children:(0,Xo.jsxs)(dS,{spacing:2,children:[s&&(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"blue",variant:"solid",leftIcon:(0,Xo.jsx)(Yw,{}),onClick:t=>{t.stopPropagation(),b(e)},children:"View"}),a&&(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"gray",variant:"solid",leftIcon:(0,Xo.jsx)(Bw,{}),onClick:t=>{t.stopPropagation(),j(e)},children:"Download"})]})})]}),!l&&(0,Xo.jsx)(Kb,{p:3,children:(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",noOfLines:1,children:e.file_name||e.fileName||"Attachment"}),(0,Xo.jsxs)(Pb,{spacing:1,align:"start",w:"100%",children:[e.context_description&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:g,noOfLines:2,children:e.context_description}),(0,Xo.jsxs)(dS,{spacing:2,fontSize:"xs",color:"gray.500",children:[(0,Xo.jsx)(Zv,{as:ww}),(0,Xo.jsx)(Tb,{children:f4(e.uploaded_at||e.uploadedAt||new Date)})]}),e.uploaded_by_name&&(0,Xo.jsxs)(dS,{spacing:2,fontSize:"xs",color:"gray.500",children:[(0,Xo.jsx)(Zv,{as:tS}),(0,Xo.jsx)(Tb,{noOfLines:1,children:e.uploaded_by_name})]})]})]})})]},e.id||t)};return n&&0!==n.length?(0,Xo.jsxs)(Eb,{children:[i&&(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"semibold",mb:4,children:["Attached Images (",n.length,")"]}),o?(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:Object.entries(v).map((e=>{let[t,n]=e;return((e,t)=>t&&0!==t.length?(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:3,mb:4,children:[(0,Xo.jsx)(r_,{colorScheme:x[e]||"gray",variant:"solid",px:3,py:1,borderRadius:"full",children:y[e]||e.replace("_"," ").toUpperCase()}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:g,children:[t.length," image",1!==t.length?"s":""]})]}),(0,Xo.jsx)(t_,{templateColumns:l?"repeat(auto-fill, minmax(150px, 1fr))":"repeat(auto-fill, minmax(200px, 1fr))",gap:4,mb:6,children:t.map(((e,t)=>w(e,t)))})]},e):null)(t,n)}))}):(0,Xo.jsx)(t_,{templateColumns:l?"repeat(auto-fill, minmax(150px, 1fr))":"repeat(auto-fill, minmax(200px, 1fr))",gap:4,children:n.map(((e,t)=>w(e,t)))}),(0,Xo.jsxs)(JZ,{isOpen:c,onClose:u,size:"6xl",children:[(0,Xo.jsx)(vJ,{bg:"blackAlpha.800"}),(0,Xo.jsxs)(Y0,{maxW:"90vw",maxH:"90vh",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{children:(null===h||void 0===h?void 0:h.file_name)||(null===h||void 0===h?void 0:h.fileName)||"Image"}),(0,Xo.jsxs)(dS,{spacing:4,fontSize:"sm",color:g,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww}),(0,Xo.jsx)(Tb,{children:f4((null===h||void 0===h?void 0:h.uploaded_at)||(null===h||void 0===h?void 0:h.uploadedAt)||new Date)})]}),(null===h||void 0===h?void 0:h.uploaded_by_name)&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:tS}),(0,Xo.jsx)(Tb,{children:h.uploaded_by_name})]})]})]}),a&&h&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Bw,{}),onClick:()=>j(h),colorScheme:"blue",variant:"outline",children:"Download"})]})}),(0,Xo.jsx)(sQ,{}),"          ",(0,Xo.jsx)($0,{pb:6,children:h&&(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Bb,{src:(()=>{let e=h.file_url||h.fileUrl||h.filePath||h.file_path;if(!e&&h.content){const t=h.file_type||h.fileType||h.mimeType||"image/jpeg";e="data:".concat(t,";base64,").concat(h.content)}if(!e&&(h.id||h.attachmentId||h.attachment_id)){const t=h.id||h.attachmentId||h.attachment_id;e="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"rusunawa-skripsi-v1-production.up.railway.app",REACT_APP_APP_NAME:"Rusunawa Admin System",REACT_APP_ENVIRONMENT:"production",REACT_APP_VERSION:"v1"}.REACT_APP_API_URL||"http://localhost:8080/api/v1","/issues/attachments/").concat(t)}return e})(),alt:h.file_name||h.fileName,maxW:"100%",maxH:"70vh",objectFit:"contain"}),h.context_description&&(0,Xo.jsx)(Vb,{w:"100%",bg:f,children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Ow,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Description:"})]}),(0,Xo.jsx)(Tb,{mt:2,color:g,children:h.context_description})]})})]})})]})]})]}):(0,Xo.jsx)(Vb,{bg:f,borderWidth:"1px",borderColor:m,children:(0,Xo.jsxs)(Kb,{textAlign:"center",py:8,children:[(0,Xo.jsx)(Zv,{as:Jw,w:12,h:12,color:"gray.400",mb:4}),(0,Xo.jsx)(Tb,{color:g,children:"No images attached"})]})})},v4={createUser:async e=>{try{if(!e.name&&!e.fullName)throw new Error("Name is required");if(!e.email)throw new Error("Email is required");if(!e.password)throw new Error("Password is required");const t={email:e.email.trim(),name:(e.name||e.fullName).trim(),password:e.password,role:e.role||(1===e.roleId||"1"===e.roleId?"admin":3===e.roleId||"3"===e.roleId?"super_admin":4===e.roleId||"4"===e.roleId?"wakil_direktorat":"admin")};console.log("\ud83d\udd0d Original form data:",e),console.log("\ud83d\udd0d Transformed request data:",t);return(await pb.default.post("/auth/register",t)).data}catch(n){var t;throw console.error("Failed to create user:",n),console.error("\ud83d\udccb Full error details:",null===(t=n.response)||void 0===t?void 0:t.data),new Error(n.message||"Failed to create user")}},getUserById:async e=>{try{return(await pb.default.get("/users/".concat(e))).data}catch(t){throw console.error("Failed to get user:",t),new Error(t.message||"Failed to fetch user details")}},getUsersByIds:async e=>{try{const t=[...new Set(e)].filter((e=>e&&e>0));if(0===t.length)return{};const n=t.map((e=>v4.getUserById(e).catch((t=>(console.warn("Failed to fetch user ".concat(e,":"),t),null))))),r=await Promise.all(n),i={};return t.forEach(((e,t)=>{const n=r[t];n&&n.user&&(i[e]=n.user)})),i}catch(t){return console.error("Failed to get users:",t),{}}},getCurrentUser:async()=>{try{return(await pb.default.get("/users/profile")).data}catch(e){throw console.error("Failed to get current user:",e),new Error(e.message||"Failed to fetch user profile")}},updateProfile:async e=>{try{return(await pb.default.put("/users/profile",e)).data}catch(t){throw console.error("Failed to update profile:",t),new Error(t.message||"Failed to update profile")}},getUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await pb.default.get("/users",{params:e})).data}catch(t){throw console.error("Failed to get users:",t),new Error(t.message||"Failed to fetch users")}},updateUser:async(e,t)=>{try{var n,r;const i={user_id:parseInt(e),email:null===(n=t.email)||void 0===n?void 0:n.trim(),name:null===(r=t.name||t.fullName)||void 0===r?void 0:r.trim(),role:t.role||(1===t.roleId||"1"===t.roleId?"admin":3===t.roleId||"3"===t.roleId?"super_admin":4===t.roleId||"4"===t.roleId?"wakil_direktorat":"admin")};t.password&&t.password.trim()&&(i.password=t.password.trim()),console.log("\ud83d\udd0d Original update data:",t),console.log("\ud83d\udd0d Transformed update request:",i);return(await pb.default.put("/users/".concat(e),i)).data}catch(o){var i;throw console.error("Failed to update user:",o),console.error("\ud83d\udccb Full error details:",null===(i=o.response)||void 0===i?void 0:i.data),new Error(o.message||"Failed to update user")}},deleteUser:async e=>{try{return(await pb.default.delete("/users/".concat(e))).data}catch(t){throw console.error("Failed to delete user:",t),new Error(t.message||"Failed to delete user")}},getRoles:async()=>{try{return(await pb.default.get("/roles")).data}catch(e){throw console.error("Failed to get roles:",e),new Error(e.message||"Failed to fetch roles")}}},y4=v4,x4=e=>{let{comment:t,onReply:n,showInternalComments:r,getCommentTypeStyle:i,cardBg:o,borderColor:a,textColor:s,publicCommentBg:l,internalCommentBg:c,depth:d=0}=e;if(t.isInternal&&!r)return null;const u=i(t.commentType),h=!0===t.isInternal,p=d>0;return(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Vb,{bg:h?c:l,borderWidth:"1px",borderColor:a,borderLeft:h?"4px solid orange":"4px solid blue",ml:4*d,size:p?"sm":"md",children:(0,Xo.jsx)(Kb,{p:p?3:4,children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:3,children:[(0,Xo.jsxs)(dS,{justify:"space-between",wrap:"wrap",children:[(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(xZ,{size:p?"xs":"sm",name:t.authorName||"User",bg:h?"orange.500":"blue.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:p?"xs":"sm",children:t.authorName||"User"}),t.authorRole&&(0,Xo.jsx)(r_,{colorScheme:"gray",size:"xs",variant:"outline",children:"admin"===t.authorRole?"Admin":"penyewa"===t.authorRole?"Penyewa":"wakil_direktorat"===t.authorRole?"Wakil Direktorat":t.authorRole}),h&&(0,Xo.jsx)(r_,{colorScheme:"orange",size:"xs",variant:"solid",children:"Internal"})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:u.icon,color:u.color,boxSize:2.5}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:s,children:u.label}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:s,children:"\u2022"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:s,children:f4(t.commentedAt)})]})]})]}),(0,Xo.jsx)(Bj,{size:"xs",variant:"ghost",leftIcon:(0,Xo.jsx)(Pk,{}),onClick:()=>n(t),fontSize:"xs",children:"Balas"})]}),(0,Xo.jsx)(Tb,{fontSize:p?"xs":"sm",lineHeight:"1.5",children:t.commentText||t.content})]})})}),t.replies&&t.replies.length>0&&(0,Xo.jsx)(Pb,{align:"stretch",spacing:2,mt:2,children:t.replies.map((e=>(0,Xo.jsx)(x4,{comment:e,onReply:n,showInternalComments:r,getCommentTypeStyle:i,cardBg:o,borderColor:a,textColor:s,publicCommentBg:l,internalCommentBg:c,depth:d+1},e.commentId)))})]})},b4=e=>{let{issue:n,currentUser:r,onCommentAdded:i}=e;const[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)({}),[y,x]=(0,t.useState)(""),[b,j]=(0,t.useState)("general"),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)(null),[A,C]=(0,t.useState)(null),[P,I]=(0,t.useState)("all"),[T,N]=(0,t.useState)(!0),{isOpen:E,onOpen:z,onClose:O}=GG(),L=hb(),D=zs("white","gray.700"),R=zs("gray.200","gray.600"),M=zs("gray.600","gray.300"),B=zs("blue.50","blue.900"),F=zs("orange.50","orange.900"),W=zs("gray.50","gray.600");(0,t.useEffect)((()=>{n&&(U(),q())}),[n]);const U=async()=>{const e=(null===n||void 0===n?void 0:n.issueId)||(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.issue_id);if(e){u(!0);try{const n=(await t4.getIssueComments(e)).comments||[],r=[...new Set(n.map((e=>e.commentedBy)).filter((e=>e)))];let i={};if(r.length>0)try{i=await y4.getUsersByIds(r),v((e=>(0,o.A)((0,o.A)({},e),i)))}catch(t){console.warn("Failed to fetch user details:",t)}const a=n.map((e=>{var t,n,r,a,s,l,c,d;return(0,o.A)((0,o.A)({},e),{},{authorName:(null===(t=i[e.commentedBy])||void 0===t?void 0:t.fullName)||(null===(n=i[e.commentedBy])||void 0===n?void 0:n.full_name)||(null===(r=g[e.commentedBy])||void 0===r?void 0:r.fullName)||(null===(a=g[e.commentedBy])||void 0===a?void 0:a.full_name)||"Unknown User",authorRole:(null===(s=i[e.commentedBy])||void 0===s||null===(l=s.role)||void 0===l?void 0:l.name)||(null===(c=g[e.commentedBy])||void 0===c||null===(d=c.role)||void 0===d?void 0:d.name)||"user"})}));s(a),console.log("Enhanced comments with user names:",a)}catch(t){console.error("Failed to load comments:",t),L({title:"Kesalahan",description:"Gagal memuat komentar",status:"error",duration:3e3,isClosable:!0})}finally{u(!1)}}},q=async()=>{const e=(null===n||void 0===n?void 0:n.issueId)||(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.issue_id);if(e){p(!0);try{console.log("Loading status history for issue:",e);const t=await t4.getIssueStatusHistory(e);c(t.history||[])}catch(t){console.error("Failed to load status history:",t);const e=[];n.reportedAt&&e.push({status:"open",updatedByName:n.reporterName||"Penyewa",updatedAt:n.reportedAt,notes:"Laporan masalah diterima"}),n.assignedAt&&e.push({status:"assigned",updatedByName:n.assigneeName||"Admin",updatedAt:n.assignedAt,notes:"Ditugaskan kepada ".concat(n.assigneeName)}),"in_progress"===n.status&&e.push({status:"in_progress",updatedByName:n.lastUpdatedBy||"Teknisi",updatedAt:n.lastUpdatedAt||n.updated_at||(new Date).toISOString(),notes:"Perbaikan dimulai"}),"resolved"!==n.status&&"closed"!==n.status||e.push({status:"resolved",updatedByName:n.lastUpdatedBy||"Admin",updatedAt:n.resolvedAt||n.resolved_at||(new Date).toISOString(),notes:n.lastUpdateNotes||"Masalah telah diselesaikan"}),"closed"===n.status&&e.push({status:"closed",updatedByName:n.completionVerifiedBy||"Admin",updatedAt:n.completionVerifiedAt||n.completion_verified_at||(new Date).toISOString(),notes:"Masalah ditutup dan diverifikasi"}),c(e)}finally{p(!1)}}},H=e=>{C(e),_(e.commentId),x("@".concat(e.authorName||"User"," ")),z()},V=()=>{C(null),_(null),x(""),O()},G=e=>{switch(e){case"status_update":return{icon:ck,color:"blue.500",label:"Pembaruan Status"};case"question":return{icon:_k,color:"purple.500",label:"Pertanyaan"};case"solution":return{icon:_w,color:"green.500",label:"Solusi"};case"progress_note":return{icon:Hk,color:"orange.500",label:"Catatan Progres"};case"quality_check":return{icon:Vw,color:"red.500",label:"Pengecekan Kualitas"};case"tenant_feedback":return{icon:Ow,color:"teal.500",label:"Umpan Balik Penyewa"};default:return{icon:Ow,color:"gray.500",label:"Komentar Umum"}}},K=e=>{switch(e){case"open":return"red";case"in_progress":return"yellow";case"resolved":return"green";default:return"gray"}},Y=a.filter((e=>"public"===P?!0!==e.isInternal:"internal"!==P||!0===e.isInternal)),Z=(e=>{const t=new Map,n=[];e.forEach((e=>{t.set(e.commentId,(0,o.A)((0,o.A)({},e),{},{replies:[]}))})),e.forEach((e=>{if(e.parentCommentId&&0!==e.parentCommentId){const r=t.get(e.parentCommentId);r?r.replies.push(t.get(e.commentId)):n.push(t.get(e.commentId))}else n.push(t.get(e.commentId))}));const r=e=>{e.replies&&e.replies.length>0&&(e.replies.sort(((e,t)=>new Date(e.commentedAt)-new Date(t.commentedAt))),e.replies.forEach(r))};return n.forEach(r),n.sort(((e,t)=>new Date(t.commentedAt)-new Date(e.commentedAt))),n})(Y);return(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(YQ,{defaultIndex:0,children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Ow}),(0,Xo.jsxs)(Tb,{children:["Komentar (",a.length,")"]})]})}),(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:ik}),(0,Xo.jsx)(Tb,{children:"Riwayat Status"})]})})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{px:0,children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",wrap:"wrap",children:[(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(SQ,{value:P,onChange:e=>I(e.target.value),size:"sm",w:"auto",children:[(0,Xo.jsx)("option",{value:"all",children:"Semua Komentar"}),(0,Xo.jsx)("option",{value:"public",children:"Publik Saja"}),(0,Xo.jsx)("option",{value:"internal",children:"Internal Saja"})]}),(0,Xo.jsx)(y0,{label:T?"Sembunyikan komentar internal":"Tampilkan komentar internal",children:(0,Xo.jsx)(Uj,{icon:T?(0,Xo.jsx)(Yw,{}):(0,Xo.jsx)(Kw,{}),size:"sm",variant:"outline",onClick:()=>N(!T),colorScheme:T?"blue":"gray"})})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(kk,{}),colorScheme:"blue",size:"sm",onClick:()=>{C(null),_(null),z()},children:"Tambah Komentar"})]}),d?(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{children:"Memuat komentar..."})]})}):(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:0===Z.length?(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Zv,{as:Ow,boxSize:"3em",color:"gray.300"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Belum ada komentar"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.400",textAlign:"center",children:"Jadilah yang pertama menambahkan komentar atau pembaruan tentang masalah ini"})]})}):Z.map(((e,t)=>(0,Xo.jsx)(x4,{comment:e,onReply:H,showInternalComments:T,getCommentTypeStyle:G,cardBg:D,borderColor:R,textColor:M,publicCommentBg:B,internalCommentBg:F},e.commentId||t)))})]})}),(0,Xo.jsx)($Q,{px:0,children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:h?(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{children:"Memuat riwayat..."})]})}):(0,Xo.jsxs)(Vb,{bg:D,borderWidth:"1px",borderColor:R,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:ik}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Kronologi Masalah"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:0===l.length?(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Zv,{as:Nw,boxSize:"3em",color:"gray.300"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Tidak ada riwayat status tersedia"})]})}):l.map(((e,t)=>{var n,r;return(0,Xo.jsxs)(Eb,{borderLeft:"3px solid",borderColor:K(e.newStatus||e.status)+".300",pl:4,children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(r_,{colorScheme:K(e.newStatus||e.status),variant:"solid",children:null===(n=e.newStatus||e.status)||void 0===n?void 0:n.replace("_"," ").toUpperCase()}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===(r=e.changedByUser)||void 0===r?void 0:r.name)||e.updatedByName||"System"}),e.oldStatus&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:M,children:["dari ",e.oldStatus.replace("_"," ")]})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:M,children:e.changedAt||e.updatedAt?f4(e.changedAt||e.updatedAt):""})]}),(e.changeReason||e.notes)&&(0,Xo.jsx)(Tb,{color:M,fontSize:"sm",children:e.changeReason||e.notes})]},t)}))})})]})})})]})]}),(0,Xo.jsxs)(JZ,{isOpen:E,onClose:V,size:"xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:A?"Balas Komentar":"Tambah Komentar"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:["              ",A&&(0,Xo.jsx)(Vb,{bg:W,size:"sm",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Membalas kepada:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"blue.500",children:A.authorName||"User"})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:M,noOfLines:3,children:A.content})]})})}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Jenis Komentar"}),(0,Xo.jsxs)(SQ,{value:b,onChange:e=>j(e.target.value),children:[(0,Xo.jsx)("option",{value:"general",children:"Komentar Umum"}),(0,Xo.jsx)("option",{value:"status_update",children:"Pembaruan Status"}),(0,Xo.jsx)("option",{value:"question",children:"Pertanyaan"}),(0,Xo.jsx)("option",{value:"solution",children:"Solusi"}),(0,Xo.jsx)("option",{value:"progress_note",children:"Catatan Progres"}),(0,Xo.jsx)("option",{value:"quality_check",children:"Pengecekan Kualitas"}),(0,Xo.jsx)("option",{value:"tenant_feedback",children:"Umpan Balik Penyewa"})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Komentar"}),(0,Xo.jsx)(D1,{value:y,onChange:e=>x(e.target.value),placeholder:"Ketik komentar Anda di sini...",rows:4,resize:"vertical"})]}),(0,Xo.jsx)(ij,{children:(0,Xo.jsx)(dS,{spacing:4,children:(0,Xo.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,Xo.jsx)("input",{type:"checkbox",checked:w,onChange:e=>k(e.target.checked),style:{marginRight:"8px"}}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Komentar internal (khusus admin)"})]})})})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:V,children:"Batal"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{if(!y.trim())return void L({title:"Kesalahan",description:"Komentar tidak boleh kosong",status:"error",duration:3e3,isClosable:!0});const e=(null===n||void 0===n?void 0:n.issueId)||(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.issue_id);if(e){m(!0);try{const t={author_id:(null===r||void 0===r?void 0:r.userId)||(null===r||void 0===r?void 0:r.user_id)||1,content:y.trim(),comment_type:b,is_public:!w,issue_id:parseInt(e)};S&&(t.parent_comment_id=S),console.log("Adding comment:",t);await t4.addIssueComment(e,t);L({title:"Berhasil",description:"Komentar berhasil ditambahkan",status:"success",duration:3e3,isClosable:!0}),x(""),j("general"),k(!1),_(null),C(null),O(),await U(),i&&i()}catch(t){console.error("Failed to add comment:",t),L({title:"Kesalahan",description:t.message||"Gagal menambahkan komentar",status:"error",duration:5e3,isClosable:!0})}finally{m(!1)}}},isLoading:f,loadingText:"Menambahkan...",disabled:!y.trim(),children:A?"Balas":"Tambah Komentar"})]})]})]})]})},j4=["attachment"],w4=e=>{var n,r;let{isOpen:i,onClose:a,issue:s,onIssueUpdated:l,currentUser:c}=e;const[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(0),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)([]),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)(null),[A,C]=(0,t.useState)(!1),P=(hb(),zs("white","gray.700")),I=zs("gray.200","gray.600"),T=zs("gray.600","gray.300");(0,t.useEffect)((()=>{s&&(N(),E())}),[s]);const N=async()=>{const e=(null===s||void 0===s?void 0:s.issueId)||(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.issue_id);if(s&&e){x(!0);try{console.log("Loading attachments for issue:",e),console.log("Issue object:",s),console.log("Has image attachment check:",{hasImageAttachment:s.hasImageAttachment,has_image_attachment:s.has_image_attachment,imageFileUrl:s.imageFileUrl,imageFileType:s.imageFileType});const a=(await t4.getIssueAttachments(e)).attachments||[];let l=null;const c=s.hasImageAttachment||s.has_image_attachment||s.imageFileUrl||s.imageFileType;if(console.log("Attempting to fetch legacy image, conditions met:",c),c)try{console.log("Fetching legacy image for issue:",e);const t=await t4.getIssueImage(e);console.log("Legacy image response:",t),t.content?(l={attachmentId:"legacy_".concat(e),issueId:e,uploadedBy:s.reportedBy||s.reported_by,fileName:"issue_".concat(e,"_report_image"),fileType:t.fileType||s.imageFileType||"image/jpeg",fileSizeBytes:0,mimeType:t.fileType||s.imageFileType||"image/jpeg",attachmentType:"report",isPrimary:!0,uploadedAt:s.reportedAt||s.reported_at,content:t.content,contextDescription:"Initial report evidence (legacy)",id:"legacy_".concat(e),file_name:"issue_".concat(e,"_report_image"),file_type:t.fileType||s.imageFileType||"image/jpeg",uploaded_at:s.reportedAt||s.reported_at,attachment_type:"report",is_primary:!0},console.log("Legacy image loaded successfully:",l)):console.log("Legacy image response has no content")}catch(t){console.log("No legacy image found or error fetching:",t);try{console.log("Attempting fallback legacy image fetch...");const t=await t4.getIssueImage(e);t&&t.content&&(l={attachmentId:"legacy_".concat(e),issueId:e,uploadedBy:s.reportedBy||s.reported_by,fileName:"issue_".concat(e,"_report_image"),fileType:t.fileType||"image/jpeg",fileSizeBytes:0,mimeType:t.fileType||"image/jpeg",attachmentType:"report",isPrimary:!0,uploadedAt:s.reportedAt||s.reported_at,content:t.content,contextDescription:"Initial report evidence (legacy - fallback)",id:"legacy_".concat(e),file_name:"issue_".concat(e,"_report_image"),file_type:t.fileType||"image/jpeg",uploaded_at:s.reportedAt||s.reported_at,attachment_type:"report",is_primary:!0},console.log("Fallback legacy image loaded successfully"))}catch(n){console.log("Fallback legacy image fetch also failed:",n)}}else try{console.log("No image metadata found, but trying anyway for issue:",e);const t=await t4.getIssueImage(e);t&&t.content&&(l={attachmentId:"legacy_".concat(e),issueId:e,uploadedBy:s.reportedBy||s.reported_by,fileName:"issue_".concat(e,"_report_image"),fileType:t.fileType||"image/jpeg",fileSizeBytes:0,mimeType:t.fileType||"image/jpeg",attachmentType:"report",isPrimary:!0,uploadedAt:s.reportedAt||s.reported_at,content:t.content,contextDescription:"Initial report evidence (found despite no metadata)",id:"legacy_".concat(e),file_name:"issue_".concat(e,"_report_image"),file_type:t.fileType||"image/jpeg",uploaded_at:s.reportedAt||s.reported_at,attachment_type:"report",is_primary:!0},console.log("Legacy image found despite no metadata:",l))}catch(r){console.log("No legacy image found (no metadata):",r)}const d=[];l&&d.push(l);for(const e of a)try{const t=await t4.getAttachmentContent(e.attachmentId),n=(0,o.A)((0,o.A)({},e),{},{content:t.content,contentType:t.fileType,contentEncoding:t.contentEncoding});d.push(n)}catch(i){console.error("Error loading content for attachment:",e.attachmentId,i),d.push(e)}console.log("Loaded attachments with content:",d),v(d)}catch(a){console.error("Error loading issue attachments:",a),v([])}finally{x(!1)}}},E=async()=>{const e=(null===s||void 0===s?void 0:s.issueId)||(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.issue_id);if(s&&e){k(!0);try{var t;const n=await(null===(t=t4.getIssueStatusHistory)||void 0===t?void 0:t.call(t4,e));if(null===n||void 0===n||!n.history||!Array.isArray(n.history))throw new Error("Status history API not available");j(n.history)}catch(i){var n,r;console.log("Status history API not implemented, using fallback:",i.message);const e=[{status:"open",updatedByName:s.reporterName||s.reporter_name||"System",updatedAt:s.reportedAt||s.reported_at||(new Date).toISOString(),notes:"Issue reported: ".concat(null===(n=s.description)||void 0===n?void 0:n.substring(0,100)).concat((null===(r=s.description)||void 0===r?void 0:r.length)>100?"...":"")}];s.status&&"open"!==s.status&&("in_progress"!==s.status&&"resolved"!==s.status&&"closed"!==s.status||e.push({status:"in_progress",updatedByName:s.assignedToName||s.assigned_to_name||"Admin",updatedAt:s.assignedAt||s.assigned_at||(new Date).toISOString(),notes:"Issue assigned and work started"}),"resolved"!==s.status&&"closed"!==s.status||e.push({status:"resolved",updatedByName:s.lastUpdatedBy||"Admin",updatedAt:s.resolvedAt||s.resolved_at||(new Date).toISOString(),notes:s.lastUpdateNotes||"Issue resolved"}),"closed"===s.status&&e.push({status:"closed",updatedByName:s.completionVerifiedBy||"Admin",updatedAt:s.completionVerifiedAt||s.completion_verified_at||(new Date).toISOString(),notes:"Issue closed and verified"})),j(e)}finally{k(!1)}}},z=e=>{switch(e){case"open":return"red";case"in_progress":return"yellow";case"resolved":return"green";default:return"gray"}},O=e=>{switch(e){case"high":return"red";case"medium":return"orange";case"low":return"green";default:return"gray"}},L=e=>{switch(e){case"high":return"Mendesak";case"medium":return"Segera";case"low":return"Biasa";default:return"Tidak Diketahui"}},D=e=>{switch(e){case"open":return 25;case"in_progress":return 50;case"resolved":return 75;case"closed":return 100;default:return 0}},R=()=>{const e={evidence:[],progress:[],completion:[],feedback:[],other:[]},t=new Set;return g.forEach((n=>{const r=n.attachmentId||n.id||n.fileName;t.has(r)||("report"===n.attachmentType||"evidence"===n.attachmentType?e.evidence.push(n):"progress"===n.attachmentType?e.progress.push(n):"completion"===n.attachmentType?e.completion.push(n):"feedback"===n.attachmentType?e.feedback.push(n):e.other.push(n),t.add(r))})),e},M=e=>{_(e),C(!0)},B=e=>{let{attachment:n}=e,r=Jo(e,j4);const[i,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{try{if(l(!0),n.content){const e=n.fileType||n.mimeType||"image/jpeg",t="data:".concat(e,";base64,").concat(n.content);a(t)}else console.warn("Attachment without content:",n),d(!0)}catch(Pee){console.error("Error processing attachment content:",Pee),d(!0)}finally{l(!1)}}),[n]),s?(0,Xo.jsx)(bb,(0,o.A)((0,o.A)({bg:"gray.100"},r),{},{children:(0,Xo.jsx)(Qv,{size:"sm"})})):c||!i?(0,Xo.jsx)(bb,(0,o.A)((0,o.A)({bg:"gray.100"},r),{},{children:(0,Xo.jsx)(Zv,{as:lk,boxSize:6,color:"gray.400"})})):(0,Xo.jsx)(Bb,(0,o.A)({src:i,alt:n.fileName,objectFit:"cover"},r))},F=e=>{let{isOpen:n,onClose:r,attachment:i}=e;const[o,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{if(!i||!n)return;(async()=>{l(!0),d(!1);try{if(i.content){const e=i.fileType||i.mimeType||"image/jpeg",t="data:".concat(e,";base64,").concat(i.content);return a(t),void l(!1)}if(i.attachmentId&&i.attachmentId.startsWith("legacy_")){console.log("Fetching legacy image content for preview:",i);const e=await t4.getIssueImage(i.issueId);if(e.content){const t=e.fileType||i.fileType||"image/jpeg",n="data:".concat(t,";base64,").concat(e.content);a(n)}else d(!0)}else{console.log("Fetching attachment content for preview:",i.attachmentId);const e=await t4.getAttachmentContent(i.attachmentId);if(e.content){const t=e.fileType||i.fileType||i.mimeType||"image/jpeg",n="data:".concat(t,";base64,").concat(e.content);a(n)}else d(!0)}}catch(Pee){console.error("Error fetching image content:",Pee),d(!0)}finally{l(!1)}})()}),[i,n]),(0,Xo.jsxs)(JZ,{isOpen:n,onClose:r,size:"6xl",scrollBehavior:"inside",children:[(0,Xo.jsx)(vJ,{bg:"blackAlpha.800"}),(0,Xo.jsxs)(Y0,{maxW:"90vw",maxH:"90vh",bg:"transparent",boxShadow:"none",children:[(0,Xo.jsx)(J0,{color:"white",textAlign:"center",children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:null===i||void 0===i?void 0:i.fileName}),(0,Xo.jsxs)(dS,{spacing:4,fontSize:"sm",opacity:.8,children:[(0,Xo.jsxs)(Tb,{children:["Size: ",null!==i&&void 0!==i&&i.fileSizeBytes?"".concat((i.fileSizeBytes/1024).toFixed(1)," KB"):"Unknown"]}),(0,Xo.jsxs)(Tb,{children:["Type: ",null===i||void 0===i?void 0:i.fileType]}),(0,Xo.jsxs)(Tb,{children:["Uploaded: ",null!==i&&void 0!==i&&i.uploadedAt?f4(i.uploadedAt):"Unknown"]})]})]})}),(0,Xo.jsx)(sQ,{color:"white",size:"lg"}),(0,Xo.jsx)($0,{p:4,children:(0,Xo.jsx)(bb,{children:s?(0,Xo.jsxs)(Pb,{spacing:4,color:"white",children:[(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{children:"Loading image..."})]}):c||!o?(0,Xo.jsxs)(Pb,{spacing:4,color:"white",children:[(0,Xo.jsx)(Zv,{as:lk,boxSize:"4em",opacity:.5}),(0,Xo.jsx)(Tb,{children:"Failed to load image"}),(0,Xo.jsx)(Tb,{fontSize:"sm",opacity:.7,children:"The image could not be displayed"})]}):(0,Xo.jsx)(Eb,{maxW:"100%",maxH:"70vh",overflow:"hidden",children:(0,Xo.jsx)(Bb,{src:o,alt:null===i||void 0===i?void 0:i.fileName,maxW:"100%",maxH:"70vh",objectFit:"contain",borderRadius:"lg",boxShadow:"2xl"})})})}),"          ",(0,Xo.jsx)(M1,{justifyContent:"center",children:(0,Xo.jsx)(Bj,{onClick:r,variant:"solid",colorScheme:"gray",size:"lg",children:"Close"})})]})]})};return s?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(JZ,{isOpen:i,onClose:a,size:"6xl",scrollBehavior:"inside",children:[(0,Xo.jsx)(vJ,{bg:"blackAlpha.600"}),(0,Xo.jsxs)(Y0,{maxW:"95vw",maxH:"90vh",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(Tb,{children:["Issue #",s.issueId]}),(0,Xo.jsx)(r_,{colorScheme:z(s.status),variant:"solid",px:3,py:1,children:(s.status||"pending").replace("_"," ").toUpperCase()}),s.priority&&(0,Xo.jsx)(r_,{colorScheme:O(s.priority),variant:"outline",px:3,py:1,children:L(s.priority).toUpperCase()})]}),(0,Xo.jsxs)(Eb,{w:"100%",children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Progress"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:T,children:[D(s.status),"% Complete"]})]}),(0,Xo.jsx)(a0,{value:D(s.status),colorScheme:z(s.status),hasStripe:!0,isAnimated:!0})]})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(YQ,{index:f,onChange:m,children:["            ",(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Issue Details"}),(0,Xo.jsx)(JQ,{children:"Images by Status"}),(0,Xo.jsx)(JQ,{children:"History & Comments"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Issue Information"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"medium",children:s.title||"Maintenance Request"}),(0,Xo.jsx)(Tb,{color:T,whiteSpace:"pre-line",children:s.description||"No description provided"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Booking ID"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.bookingId?"#".concat(s.bookingId):"N/A"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Tenant ID"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.tenantId?"#".concat(s.tenantId):"N/A"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Location"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.location||s.description&&(null===(n=s.description.match(/Location:\s*(.*)/i))||void 0===n?void 0:n[1])||"N/A"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Contact"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.contact||s.description&&(null===(r=s.description.match(/Contact:\s*(.*)/i))||void 0===r?void 0:r[1])||"N/A"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Category"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.category||"General"})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Priority"}),(0,Xo.jsx)(GS,{fontSize:"md",children:(0,Xo.jsx)(r_,{colorScheme:O(s.priority),children:L(s.priority||"medium").toUpperCase()})})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Status"}),(0,Xo.jsx)(GS,{fontSize:"md",children:(0,Xo.jsx)(r_,{colorScheme:z(s.status),variant:"solid",children:(s.status||"open").replace("_"," ").toUpperCase()})})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Reported By"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.reporterName||s.reporter_name||(s.reportedBy?"User #".concat(s.reportedBy):"Unknown")})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Reported Date"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.reportedAt?p4(s.reportedAt):"Unknown"})]})]})]})})]}),(s.roomNumber||s.roomType||s.buildingName)&&(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Location Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(t_,{templateColumns:"repeat(3, 1fr)",gap:4,children:[s.buildingName&&(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Building"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.buildingName})]}),s.roomType&&(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Room Type"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.roomType})]}),s.floorNumber&&(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Floor"}),(0,Xo.jsxs)(GS,{fontSize:"md",children:["Floor ",s.floorNumber]})]})]})})]}),(s.assigneeName||s.assignee_name)&&(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Assignment Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(t_,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Assigned To"}),(0,Xo.jsx)(GS,{fontSize:"md",children:s.assigneeName||s.assignee_name})]}),(s.assignedAt||s.assigned_at)&&(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Assigned Date"}),(0,Xo.jsx)(GS,{fontSize:"md",children:p4(s.assignedAt||s.assigned_at)})]})]})})]})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:y?(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{children:"Loading images..."})]})}):(0,Xo.jsxs)(Xo.Fragment,{children:[R().evidence.length>0&&(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Vw,color:"red.500"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Report Evidence"}),(0,Xo.jsxs)(r_,{colorScheme:"red",variant:"outline",children:[R().evidence.length," image(s)"]})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(IQ,{columns:{base:2,md:3,lg:4},spacing:4,children:(()=>{let e=!1;return R().evidence.map(((t,n)=>{const r=t.isPrimary&&!e;return r&&(e=!0),(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(h4,{ratio:1,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(B,{attachment:t,borderRadius:"md",cursor:"pointer",onClick:()=>M(t),_hover:{opacity:.8},transition:"opacity 0.2s"}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Yw,{}),size:"sm",position:"absolute",top:2,right:2,bg:"blackAlpha.700",color:"white",_hover:{bg:"blackAlpha.800"},onClick:()=>M(t)})]})}),(0,Xo.jsx)(Tb,{fontSize:"xs",mt:2,noOfLines:2,children:t.fileName||"Report Image"}),r&&(0,Xo.jsx)(r_,{colorScheme:"blue",size:"sm",mt:1,children:"Primary"})]},t.attachmentId||"evidence_".concat(n))}))})()})})]}),R().progress.length>0&&(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Hk,color:"yellow.500"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Work Progress"}),(0,Xo.jsxs)(r_,{colorScheme:"yellow",variant:"outline",children:[R().progress.length," image(s)"]})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(IQ,{columns:{base:2,md:3,lg:4},spacing:4,children:(()=>{let e=!1;return R().progress.map(((t,n)=>{const r=t.isPrimary&&!e;return r&&(e=!0),(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(h4,{ratio:1,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(B,{attachment:t,borderRadius:"md",cursor:"pointer",onClick:()=>M(t),_hover:{opacity:.8},transition:"opacity 0.2s"}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Yw,{}),size:"sm",position:"absolute",top:2,right:2,bg:"blackAlpha.700",color:"white",_hover:{bg:"blackAlpha.800"},onClick:()=>M(t)})]})}),(0,Xo.jsx)(Tb,{fontSize:"xs",mt:2,noOfLines:2,children:t.fileName||"Progress Image"}),r&&(0,Xo.jsx)(r_,{colorScheme:"blue",size:"sm",mt:1,children:"Primary"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:T,children:t.uploadedAt?f4(t.uploadedAt):""})]},t.attachmentId||"progress_".concat(n))}))})()})})]}),R().completion.length>0&&(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Aw,color:"green.500"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Completion Proof"}),(0,Xo.jsxs)(r_,{colorScheme:"green",variant:"outline",children:[R().completion.length," image(s)"]})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(IQ,{columns:{base:2,md:3,lg:4},spacing:4,children:(()=>{let e=!1;return R().completion.map(((t,n)=>{const r=t.isPrimary&&!e;return r&&(e=!0),(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(h4,{ratio:1,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(B,{attachment:t,borderRadius:"md",cursor:"pointer",onClick:()=>M(t),_hover:{opacity:.8},transition:"opacity 0.2s"}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Yw,{}),size:"sm",position:"absolute",top:2,right:2,bg:"blackAlpha.700",color:"white",_hover:{bg:"blackAlpha.800"},onClick:()=>M(t)})]})}),(0,Xo.jsx)(Tb,{fontSize:"xs",mt:2,noOfLines:2,children:t.fileName||"Completion Image"}),r&&(0,Xo.jsx)(r_,{colorScheme:"blue",size:"sm",mt:1,children:"Primary"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:T,children:t.uploadedAt?f4(t.uploadedAt):""})]},t.attachmentId||"completion_".concat(n))}))})()})})]}),R().feedback.length>0&&(0,Xo.jsxs)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Ow,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Tenant Feedback"}),(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"outline",children:[R().feedback.length," image(s)"]})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(IQ,{columns:{base:2,md:3,lg:4},spacing:4,children:(()=>{let e=!1;return R().feedback.map(((t,n)=>{const r=t.isPrimary&&!e;return r&&(e=!0),(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(h4,{ratio:1,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(B,{attachment:t,borderRadius:"md",cursor:"pointer",onClick:()=>M(t),_hover:{opacity:.8},transition:"opacity 0.2s"}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Yw,{}),size:"sm",position:"absolute",top:2,right:2,bg:"blackAlpha.700",color:"white",_hover:{bg:"blackAlpha.800"},onClick:()=>M(t)})]})}),(0,Xo.jsx)(Tb,{fontSize:"xs",mt:2,noOfLines:2,children:t.fileName||"Feedback Image"}),r&&(0,Xo.jsx)(r_,{colorScheme:"blue",size:"sm",mt:1,children:"Primary"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:T,children:t.uploadedAt?f4(t.uploadedAt):""})]},t.attachmentId||"feedback_".concat(n))}))})()})})]}),0===g.length&&(0,Xo.jsx)(Vb,{bg:P,borderWidth:"1px",borderColor:I,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Zv,{as:lk,boxSize:"3em",color:"gray.400"}),(0,Xo.jsx)(Tb,{color:T,children:"No images attached to this issue"})]})})})})]})})}),"              ",(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(b4,{issue:s,currentUser:c,onCommentAdded:l})})]})]})}),"        ",(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:a,children:"Close"})})]})]}),(0,Xo.jsx)(F,{isOpen:A,onClose:()=>{_(null),C(!1)},attachment:S})]}):null},k4={open:"Terbuka",in_progress:"Sedang Dikerjakan",resolved:"Terselesaikan",closed:"Ditutup"},S4=e=>{let{isOpen:n,onClose:r,issue:i,onIssueUpdated:o}=e;const{user:a}=vb(),[s,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(!1),m=hb(),g=(null===i||void 0===i?void 0:i.status)||"open";console.log("SimpleIssueStatusModal - Current Status:",g),console.log("SimpleIssueStatusModal - Issue:",i);const v=e=>{let t;switch(console.log("getNextStatus called with:",e),e){case"open":t="in_progress";break;case"in_progress":t="resolved";break;case"resolved":t="closed";break;default:t=null}return console.log("getNextStatus returning:",t),t},y=e=>{switch(e){case"open":return{label:"Terbuka",color:"orange",icon:R_};case"in_progress":return{label:"Sedang Dikerjakan",color:"blue",icon:R_};case"resolved":return{label:"Terselesaikan",color:"green",icon:u_};case"closed":return{label:"Ditutup",color:"gray",icon:d_};default:return{label:"Tidak Diketahui",color:"gray",icon:R_}}},x=()=>"resolved"===v(g);if(!i)return null;const b=y(g),j=v(g),w=j?y(j):null;return(0,Xo.jsxs)(JZ,{isOpen:n,onClose:r,size:"xl",isCentered:!0,children:[(0,Xo.jsx)(vJ,{bg:"blackAlpha.600"}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(b.icon,{}),(0,Xo.jsx)(Tb,{children:"Perbarui Status Isu"})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(Wb,{size:"sm",children:["Isu #",i.issueId||i.issue_id]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:i.description}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Dilaporkan oleh: ",i.reporterName||"Tidak diketahui"]})]})})}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Alur Status"}),(0,Xo.jsx)(dS,{spacing:4,children:["open","in_progress","resolved","closed"].map(((e,n)=>{const r=y(e),i=e===g,o=["open","in_progress","resolved","closed"].indexOf(e)<["open","in_progress","resolved","closed"].indexOf(g),a=e===j;return(0,Xo.jsxs)(t.Fragment,{children:[(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsx)(Eb,{p:2,borderRadius:"full",bg:o?"green.500":i?"".concat(r.color,".500"):a?"".concat(r.color,".100"):"gray.100",color:o||i?"white":a?"".concat(r.color,".600"):"gray.400",children:(0,Xo.jsx)(r.icon,{size:16})}),(0,Xo.jsx)(Tb,{fontSize:"xs",textAlign:"center",color:i?"".concat(r.color,".600"):"gray.500",children:r.label})]}),n<3&&(0,Xo.jsx)(Eb,{h:"2px",w:"20px",bg:o?"green.500":"gray.200",borderRadius:"full"})]},e)}))})]}),(0,Xo.jsx)(ew,{}),j&&(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["Mengubah dari ",b.label," ke ",w.label]}),(0,Xo.jsxs)(ij,{isRequired:"in_progress"===j,children:[(0,Xo.jsx)(sj,{children:"in_progress"===j?"Rencana Kerja":"resolved"===j?"Catatan Penyelesaian":"Catatan Pembaruan"}),(0,Xo.jsx)(D1,{value:s,onChange:e=>l(e.target.value),placeholder:"in_progress"===j?"Jelaskan pekerjaan yang akan dilakukan...":"resolved"===j?"Jelaskan pekerjaan yang telah diselesaikan...":"Tambahkan catatan final...",rows:3})]}),j&&(0,Xo.jsxs)(ij,{isRequired:x(),children:[(0,Xo.jsx)(sj,{children:(()=>{switch(v(g)){case"in_progress":return"Gambar Progres (Opsional)";case"resolved":return"Gambar Penyelesaian (Wajib)";case"closed":return"Gambar Feedback (Opsional)";default:return"Gambar Status"}})()}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:3,children:(()=>{switch(v(g)){case"in_progress":return"Unggah gambar yang menunjukkan pekerjaan sedang berlangsung (opsional)";case"resolved":return"Unggah gambar yang menunjukkan pekerjaan telah selesai (wajib)";case"closed":return"Unggah gambar untuk verifikasi final (opsional)";default:return"Unggah gambar untuk pembaruan status ini"}})()}),u?(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(h4,{ratio:16/9,maxW:"300px",children:(0,Xo.jsx)(Bb,{src:u,alt:"Gambar ".concat(j),objectFit:"cover",borderRadius:"md",border:"2px solid",borderColor:x()?"red.200":"blue.200"})}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(iA,{}),size:"sm",colorScheme:"red",position:"absolute",top:2,right:2,onClick:()=>{d(null),h(null)}})]}):(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(gj,{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!t.type.startsWith("image/"))return void m({title:"Kesalahan",description:"Silakan pilih file gambar",status:"error",duration:3e3,isClosable:!0});if(t.size>5242880)return void m({title:"Kesalahan",description:"Ukuran gambar harus kurang dari 5MB",status:"error",duration:3e3,isClosable:!0});d(t);const e=new FileReader;e.onload=e=>{h(e.target.result)},e.readAsDataURL(t)}},display:"none",id:"status-image-upload"}),(0,Xo.jsx)(Bj,{as:"label",htmlFor:"status-image-upload",leftIcon:(0,Xo.jsx)(Q_,{}),colorScheme:x()?"red":"blue",variant:"outline",cursor:"pointer",w:"full",children:x()?"Unggah Gambar Wajib":"Unggah Gambar Opsional"})]})]})]}),!j&&(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"closed"===g?"Isu ini sudah ditutup.":'Isu ini dalam status "'.concat(k4[g],'". Tidak ada pembaruan status lebih lanjut yang tersedia.')]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"ghost",onClick:r,children:"Batal"}),j&&(0,Xo.jsx)(Bj,{colorScheme:w.color,onClick:async()=>{const e=v(g);if(e)if("in_progress"!==e||s.trim())if("resolved"!==e||c){f(!0);try{console.log("User object:",a),console.log("User ID for update:",(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.userId)||1);const n=(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.userId)||(null===a||void 0===a?void 0:a.user_id)||1;if(!n||isNaN(parseInt(n)))return void m({title:"Kesalahan Otentikasi",description:"Tidak dapat mengidentifikasi pengguna saat ini. Silakan login kembali.",status:"error",duration:3e3,isClosable:!0});const l={status:e,notes:s||"Status diperbarui menjadi ".concat(k4[e]),updatedBy:parseInt(n)};if(await t4.updateIssueStatus(i.issueId||i.issue_id,l),c){console.log("Starting image upload for status:",e),console.log("Image file:",c),console.log("Issue ID:",i.issueId||i.issue_id),console.log("User ID:",parseInt(n));try{const t=(e=>{switch(e){case"in_progress":return"progress";case"resolved":return"completion";case"closed":return"feedback";default:return"report"}})(e),r=await t4.uploadIssueAttachment(i.issueId||i.issue_id,c,t,parseInt(n));console.log("Image upload successful:",r)}catch(t){console.error("Image upload failed:",t),m({title:"Gagal Mengunggah Gambar",description:"Status berhasil diperbarui, tetapi gagal mengunggah gambar status. Anda dapat mencoba mengunggahnya lagi.",status:"warning",duration:5e3,isClosable:!0})}}m({title:"Berhasil",description:"Status isu berhasil diperbarui menjadi ".concat(y(e).label),status:"success",duration:3e3,isClosable:!0}),o&&o(),r()}catch(n){console.error("Error updating issue status:",n),m({title:"Kesalahan",description:"Gagal memperbarui status isu",status:"error",duration:3e3,isClosable:!0})}finally{f(!1)}}else m({title:"Gambar Penyelesaian Diperlukan",description:"Silakan unggah gambar yang menunjukkan pekerjaan telah selesai",status:"warning",duration:3e3,isClosable:!0});else m({title:"Catatan Progres Diperlukan",description:"Silakan tambahkan catatan tentang apa yang akan dikerjakan",status:"warning",duration:3e3,isClosable:!0})},isLoading:p,leftIcon:(0,Xo.jsx)(w.icon,{}),children:(e=>{switch(e){case"open":return"Mulai Kerjakan";case"in_progress":return"Tandai Terselesaikan";case"resolved":return"Tutup Isu";default:return"Perbarui Status"}})(g)})]})})]})]})},_4=[{value:"low",label:"Biasa"},{value:"medium",label:"Segera"},{value:"high",label:"Mendesak"}],A4=e=>{var n;let{isOpen:r,onClose:i,issue:o,onUpdated:a}=e;const[s,l]=(0,t.useState)((null===o||void 0===o?void 0:o.priority)||""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),p=hb(),f=zs("white","gray.800"),m=zs("gray.200","gray.600");(0,t.useEffect)((()=>{o&&(l(o.priority||""),d(""))}),[o]);const g=_4.find((e=>e.value===s)),v=()=>{u||(l((null===o||void 0===o?void 0:o.priority)||""),d(""),i())};return(0,Xo.jsxs)(JZ,{isOpen:r,onClose:v,size:"xl",closeOnOverlayClick:!u,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{bg:f,maxH:"90vh",overflowY:"auto",children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:Wk,color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Assign Issue Priority"})]})}),(0,Xo.jsx)(sQ,{isDisabled:u}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Vb,{bg:f,borderWidth:"1px",borderColor:m,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",fontSize:"lg",children:["Issue #",(null===o||void 0===o?void 0:o.issueId)||(null===o||void 0===o?void 0:o.id)]}),(()=>{if(null===o||void 0===o||!o.priority)return(0,Xo.jsx)(r_,{variant:"outline",colorScheme:"gray",px:3,py:1,children:"NO PRIORITY ASSIGNED"});const e=_4.find((e=>e.value===o.priority));return(0,Xo.jsx)(r_,{colorScheme:(null===e||void 0===e?void 0:e.color)||"gray",variant:"solid",px:3,py:1,children:(null===e||void 0===e?void 0:e.label.toUpperCase())||o.priority.toUpperCase()})})()]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:(null===o||void 0===o?void 0:o.description)||(null===o||void 0===o?void 0:o.title)}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(2, 1fr)",gap:4,fontSize:"sm",children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:tS,color:"gray.500"}),(0,Xo.jsxs)(Tb,{children:["Reporter: ",(null===o||void 0===o?void 0:o.reporter_name)||"Unknown"]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"gray.500"}),(0,Xo.jsxs)(Tb,{children:["Reported: ",null!==o&&void 0!==o&&o.reportedAt?new Date(o.reportedAt).toLocaleDateString():"Unknown date"]})]})})]})]})})}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Select Priority Level"}),(0,Xo.jsx)(SQ,{placeholder:"Choose priority level...",value:s,onChange:e=>l(e.target.value),isDisabled:u,children:_4.map((e=>(0,Xo.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Reason for Priority Assignment"}),(0,Xo.jsx)(D1,{placeholder:"Provide a clear reason for this priority level assignment...",value:c,onChange:e=>d(e.target.value),rows:4,isDisabled:u}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"This information will be visible to the tenant and maintenance team"})]}),(null===o||void 0===o?void 0:o.priority)&&o.priority!==s&&s&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{fontSize:"sm",children:"Priority Change Notice"}),(0,Xo.jsxs)(cy,{fontSize:"xs",children:["Priority will change from"," ",(0,Xo.jsx)("strong",{children:null===(n=_4.find((e=>e.value===o.priority)))||void 0===n?void 0:n.label})," ","to"," ",(0,Xo.jsx)("strong",{children:null===g||void 0===g?void 0:g.label}),". The tenant and maintenance team will be notified of this change."]})]})]}),u&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",mb:2,children:"Updating priority..."}),(0,Xo.jsx)(a0,{size:"sm",isIndeterminate:!0,colorScheme:"blue"})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"ghost",onClick:v,isDisabled:u,children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:async()=>{if(s)if(c.trim()){h(!0);try{console.log("Updating priority for issue:",o.issueId||o.id),console.log("Priority data:",{priority:s,reason:c.trim(),updatedBy:1});const e=await t4.updateIssuePriority(o.issueId||o.id,{priority:s,reason:c.trim(),updatedBy:1});console.log("Priority update response:",e),p({title:"Priority Updated Successfully",description:"Issue priority has been set to ".concat(null===g||void 0===g?void 0:g.label),status:"success",duration:5e3,isClosable:!0}),l(""),d(""),a&&await a(),i()}catch(e){console.error("Error updating priority:",e),p({title:"Failed to Update Priority",description:e.message||"An error occurred while updating the priority",status:"error",duration:5e3,isClosable:!0})}finally{h(!1)}}else p({title:"Please provide a reason for this priority assignment",status:"warning",duration:3e3,isClosable:!0});else p({title:"Please select a priority level",status:"warning",duration:3e3,isClosable:!0})},isLoading:u,loadingText:"Updating...",isDisabled:!s||!c.trim(),children:"Assign Priority"})]})})]})]})},C4={open:"Terbuka",in_progress:"Sedang Dikerjakan",resolved:"Terselesaikan",closed:"Ditutup",on_hold:"Ditunda"},P4={low:"Biasa",medium:"Segera",high:"Mendesak"},I4=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)("reportedAt"),[f,m]=(0,t.useState)("desc"),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)({total:0,open:0,in_progress:0,resolved:0,closed:0,high_priority:0,critical_priority:0,low_priority:0,medium_priority:0,no_priority:0,with_attachments:0}),[b,j]=(0,t.useState)(1),[w,k]=(0,t.useState)(10),[S,_]=(0,t.useState)(0),[A,C]=(0,t.useState)({page:1,limit:10,total:0,totalPages:0}),{isOpen:P,onOpen:I,onClose:T}=GG(),{isOpen:N,onOpen:E,onClose:z}=GG(),{isOpen:O,onOpen:L,onClose:D}=GG(),R=hb();(0,t.useEffect)((()=>{M()}),[A.page,A.limit,a,l,d,h,f]);const M=async()=>{try{i(!0);const e={page:A.page,limit:A.limit,search:a,status:l,priority:d,sortBy:h,sortOrder:f},t=await t4.getIssues(e),r=t.issues||t.data||[],s=t.totalCount||r.length;if(n(r),C((e=>(0,o.A)((0,o.A)({},e),{},{total:s,totalPages:Math.ceil(s/e.limit)}))),j(A.page),k(A.limit),_(s),t.stats&&"object"===typeof t.stats)x(t.stats);else{const t=(0,o.A)((0,o.A)({},e),{},{page:1,limit:500}),n=await t4.getIssues(t),r=n.issues||n.data||[],i=n.totalCount||n.total||r.length,a=(new Date,r.reduce(((e,t)=>{e.total++;switch((t.status||"").toLowerCase()){case"open":e.open++;break;case"in_progress":e.in_progress++;break;case"resolved":e.resolved++;break;case"closed":e.closed++}switch((t.priority||"").toLowerCase()){case"high":e.high_priority++;break;case"critical":e.critical_priority++;break;case"low":e.low_priority++;break;case"medium":e.medium_priority++;break;default:t.priority||e.no_priority++}return((t.attachmentCount||t.attachment_count||t.totalAttachments||0)>0||t.hasImageAttachment)&&e.with_attachments++,e}),{total:0,open:0,in_progress:0,resolved:0,closed:0,high_priority:0,critical_priority:0,low_priority:0,medium_priority:0,no_priority:0,with_attachments:0}));a.total=i,x(a)}}catch(e){R({title:"Error",description:"Failed to fetch issues",status:"error",duration:3e3,isClosable:!0})}finally{i(!1)}},B=e=>{v(e),I()},F=e=>{v(e),E()},W=e=>{v(e),L()},U=e.filter((e=>{var t,n,r,i;const o=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(a.toLowerCase()))||(null===(r=e.reporter_name)||void 0===r?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null===(i=e.room_number)||void 0===i?void 0:i.toLowerCase().includes(a.toLowerCase())),s=!l||e.status===l;let c=!d;return"no_priority"===d?c=!e.priority||""===e.priority:d&&(c=e.priority===d),o&&s&&c})).sort(((e,t)=>{const n=e=>{var t;switch(h){case"priority":return{critical:4,high:3,medium:2,low:1}[null===(t=e.priority)||void 0===t?void 0:t.toLowerCase()]||0;case"reportedAt":return new Date(e.reportedAt).getTime();case"status":return e.status;case"issueId":return e.issueId;default:return e[h]||""}},r=n(e),i=n(t);return"asc"===f?r>i?1:-1:r<i?1:-1})),q=e=>{switch(e){case"open":return"orange";case"in_progress":return"blue";case"resolved":return"green";case"closed":default:return"gray";case"on_hold":return"yellow"}},H=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"low":return"green";case"medium":return"yellow";case"high":return"orange";case"critical":return"red";default:return"gray"}},V=e=>{switch(e){case"maintenance":return"orange";case"electrical":return"yellow";case"plumbing":return"blue";case"internet":return"purple";case"hvac":return"cyan";case"room":return"green";default:return"gray"}},G=e=>{let{issue:t}=e;const n=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"in_progress":return{text:"Ditugaskan (Sedang Dikerjakan)",color:"blue.500",bgColor:"blue.50",icon:Z_};case"resolved":return{text:"Terselesaikan",color:"green.500",bgColor:"green.50",icon:d_};case"closed":return{text:"Ditutup",color:"gray.500",bgColor:"gray.50",icon:iA};default:return{text:"Belum Ditugaskan",color:"orange.500",bgColor:"orange.50",icon:m_}}})(t.status),r=n.icon;return(0,Xo.jsxs)(Eb,{p:2,borderRadius:"md",bg:n.bgColor,borderWidth:"1px",borderColor:n.color,minW:"120px",children:["        ",(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(r,{size:14,color:n.color}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:n.color,fontWeight:"medium",children:n.text})]}),"      "]})};return r?(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(bb,{h:"400px",children:(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"})})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Eb,{p:6,children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:6,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",children:"Manajemen Isu"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Pantau, tetapkan prioritas, dan selesaikan masalah fasilitas & pemeliharaan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"purple.600",fontWeight:"medium",children:"\ud83d\udca1 Sebagai admin, Anda dapat menetapkan prioritas pada setiap issue untuk membantu tim maintenance"})]}),(0,Xo.jsx)(dS,{spacing:3,children:(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(B_,{}),variant:"outline",onClick:M,children:"Muat Ulang"})})]}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:4,mb:6,children:[(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total Isu"}),(0,Xo.jsx)(GS,{children:y.total}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(i_,{}),(0,Xo.jsx)(Tb,{children:"Semua isu"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Terbuka"}),(0,Xo.jsx)(GS,{color:"orange.500",children:y.open}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(m_,{}),(0,Xo.jsx)(Tb,{children:"Isu baru"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Sedang Dikerjakan"}),(0,Xo.jsx)(GS,{color:"blue.500",children:y.in_progress}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Z_,{}),(0,Xo.jsx)(Tb,{children:"Sedang diproses"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Terselesaikan/Ditutup"}),(0,Xo.jsx)(GS,{color:"green.500",children:y.resolved+y.closed}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(d_,{}),(0,Xo.jsx)(Tb,{children:"Isu selesai"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Prioritas Tinggi"}),(0,Xo.jsx)(GS,{color:"orange.500",children:y.high_priority}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(i_,{}),(0,Xo.jsx)(Tb,{children:"Butuh perhatian"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Belum Ada Prioritas"}),(0,Xo.jsx)(GS,{color:"purple.500",children:y.no_priority}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(H_,{}),(0,Xo.jsx)(Tb,{children:"Perlu ditetapkan admin"})]})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Dengan Lampiran"}),(0,Xo.jsx)(GS,{color:"blue.500",children:y.with_attachments}),(0,Xo.jsx)(KS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(A_,{}),(0,Xo.jsx)(Tb,{children:"Ada gambar/berkas"})]})})]})})})]}),y.no_priority>0&&(0,Xo.jsxs)(ay,{status:"info",mb:6,borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:[y.no_priority," issue",y.no_priority>1?"s":""," belum memiliki prioritas"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",mt:1,children:'Sebagai admin, Anda dapat menetapkan prioritas untuk membantu tim maintenance mengutamakan penanganan berdasarkan tingkat urgensi. Klik tombol "Tetapkan Prioritas" pada setiap issue untuk menentukan level prioritas (Low, Medium, High, atau Critical).'})]})]}),(0,Xo.jsx)(Vb,{mb:6,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(t_,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(W_,{color:"gray.300"})}),(0,Xo.jsx)(gj,{placeholder:"Cari isu, pelapor, atau kamar...",value:a,onChange:e=>{s(e.target.value),C((e=>(0,o.A)((0,o.A)({},e),{},{page:1}))),j(1)}})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{placeholder:"Filter berdasarkan status",value:l,onChange:e=>{c(e.target.value),C((e=>(0,o.A)((0,o.A)({},e),{},{page:1}))),j(1)},children:[(0,Xo.jsx)("option",{value:"open",children:"Terbuka"}),(0,Xo.jsx)("option",{value:"in_progress",children:"Sedang Dikerjakan"}),(0,Xo.jsx)("option",{value:"resolved",children:"Terselesaikan"}),(0,Xo.jsx)("option",{value:"closed",children:"Ditutup"}),(0,Xo.jsx)("option",{value:"on_hold",children:"Ditunda"})]})}),"              ",(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{placeholder:"Filter berdasarkan prioritas",value:d,onChange:e=>{u(e.target.value),C((e=>(0,o.A)((0,o.A)({},e),{},{page:1}))),j(1)},children:[(0,Xo.jsx)("option",{value:"no_priority",children:"Belum Ada Prioritas"}),(0,Xo.jsx)("option",{value:"low",children:"Prioritas Rendah"}),(0,Xo.jsx)("option",{value:"medium",children:"Prioritas Sedang"}),(0,Xo.jsx)("option",{value:"high",children:"Prioritas Tinggi"}),(0,Xo.jsx)("option",{value:"critical",children:"Prioritas Kritis"})]})}),"              ",(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(SQ,{placeholder:"Urutkan...",value:"".concat(h,"-").concat(f),onChange:e=>{const[t,n]=e.target.value.split("-");p(t),m(n)},children:[(0,Xo.jsx)("option",{value:"reportedAt-desc",children:"Terbaru"}),(0,Xo.jsx)("option",{value:"reportedAt-asc",children:"Terlama"}),(0,Xo.jsx)("option",{value:"priority-desc",children:"Prioritas (Tinggi ke Rendah)"}),(0,Xo.jsx)("option",{value:"priority-asc",children:"Prioritas (Rendah ke Tinggi)"}),(0,Xo.jsx)("option",{value:"status-asc",children:"Status (A-Z)"}),(0,Xo.jsx)("option",{value:"issueId-desc",children:"ID (Tinggi ke Rendah)"}),(0,Xo.jsx)("option",{value:"issueId-asc",children:"ID (Rendah ke Tinggi)"})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Jumlah per halaman:"}),(0,Xo.jsxs)(SQ,{width:"100px",value:A.limit,onChange:e=>{return t=e.target.value,C((e=>(0,o.A)((0,o.A)({},e),{},{page:1,limit:parseInt(t)}))),j(1),void k(parseInt(t));var t},children:[(0,Xo.jsx)("option",{value:"5",children:"5"}),(0,Xo.jsx)("option",{value:"10",children:"10"}),(0,Xo.jsx)("option",{value:"15",children:"15"}),(0,Xo.jsx)("option",{value:"20",children:"20"}),(0,Xo.jsx)("option",{value:"25",children:"25"})]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>{s(""),c(""),u(""),p("reportedAt"),m("desc"),C((e=>(0,o.A)((0,o.A)({},e),{},{page:1})))},size:"md",width:"100%",children:"Hapus Semua Filter"})})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsxs)(Kb,{p:0,children:[0===U.length?(0,Xo.jsx)(bb,{p:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(i_,{size:48,color:"gray.300"}),(0,Xo.jsx)(Tb,{fontSize:"lg",color:"gray.500",children:"Tidak ada isu ditemukan"}),(0,Xo.jsx)(Tb,{color:"gray.400",children:"Coba ubah filter pencarian Anda"})]})}):(0,Xo.jsxs)(Eb,{overflowX:"auto",children:["                ",(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:"gray.50",children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Isu"}),(0,Xo.jsx)(T0,{children:"Pelapor"}),(0,Xo.jsx)(T0,{children:"Kamar"}),(0,Xo.jsx)(T0,{children:"Prioritas"}),(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Lampiran"}),(0,Xo.jsx)(T0,{children:"Status Penugasan"}),(0,Xo.jsx)(T0,{children:"Aksi"})]})}),(0,Xo.jsx)(N0,{children:U.map((e=>{var t,n;(e=>{switch(e){case"maintenance":return Z_;case"electrical":return oA;case"plumbing":return x_;case"internet":return nA;case"hvac":return G_;case"room":return __;default:;}})(e.category);return(0,Xo.jsxs)(P0,{_hover:{bg:"gray.50"},children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"sm",children:e.title||"Isu #".concat(e.issueId)}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",noOfLines:2,children:e.description}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.400",children:["#ID: ",e.issueId]}),e.category&&(0,Xo.jsx)(r_,{variant:"outline",colorScheme:V(e.category),fontSize:"xs",children:e.category})]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.400",children:["Dilaporkan: ",new Date(e.reportedAt).toLocaleDateString()," ",new Date(e.reportedAt).toLocaleTimeString()]}),"                            "]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(xZ,{size:"sm",name:e.reporter_name||"Pengguna ".concat(e.reportedBy),src:e.reporter_photo}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:e.reporter_name||"ID Pengguna: ".concat(e.reportedBy)}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.reporter_type||"Penghuni"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.400",children:["ID Penyewa: ",e.tenantId]}),"                              "]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(__,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:e.room_number||"Area Umum"}),"                            "]})}),(0,Xo.jsx)(z0,{children:e.priority?(0,Xo.jsxs)(dS,{spacing:2,children:[(()=>{const t=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"low":return d_;case"medium":default:return m_;case"high":return i_;case"critical":return oA}})(e.priority);return(0,Xo.jsx)(t,{size:14,color:"var(--chakra-colors-".concat(H(e.priority),"-500)")})})(),(0,Xo.jsx)(r_,{colorScheme:H(e.priority),variant:"solid",fontSize:"xs",children:(null===(t=P4[null===(n=e.priority)||void 0===n?void 0:n.toLowerCase()])||void 0===t?void 0:t.toUpperCase())||e.priority.toUpperCase()})]}):(0,Xo.jsxs)(Pb,{spacing:1,align:"start",children:[(0,Xo.jsx)(r_,{variant:"outline",colorScheme:"red",fontSize:"xs",children:"PRIORITAS BELUM DITETAPKAN"}),(0,Xo.jsx)(Bj,{size:"xs",colorScheme:"purple",variant:"ghost",leftIcon:(0,Xo.jsx)(H_,{}),onClick:()=>W(e),children:"Tetapkan"})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{colorScheme:q(e.status),children:C4[e.status]||e.status})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(A_,{}),(0,Xo.jsx)(r_,{variant:"outline",colorScheme:"blue",children:e.attachmentCount||e.attachment_count||e.totalAttachments||0}),(e.attachmentCount||e.attachment_count||e.totalAttachments)>0&&(0,Xo.jsx)(y0,{label:"Isu memiliki lampiran",children:(0,Xo.jsx)(r_,{colorScheme:"green",size:"sm",children:"\u2713"})})]}),e.hasImageAttachment&&(0,Xo.jsx)(r_,{colorScheme:"purple",variant:"outline",fontSize:"xs",children:"ADA GAMBAR"}),e.imageFileUrl&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"blue.500",children:"\ud83d\udcf7 Gambar Utama"}),(e.commentCount||0)>0&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(z_,{size:12}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[e.commentCount," komentar"]})]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(G,{issue:e})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,icon:(0,Xo.jsx)(O_,{}),variant:"ghost",size:"sm"}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(j_,{}),onClick:()=>B(e),children:"Lihat Detail"}),"open"===e.status&&(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(aA,{}),onClick:()=>F(e),children:"Mulai Kerjakan"}),"                                ","in_progress"===e.status&&(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(u_,{}),color:"green.500",onClick:()=>F(e),children:"Perbarui Status"}),"resolved"===e.status&&(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(u_,{}),color:"blue.500",onClick:()=>F(e),children:"Tandai Selesai"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(z_,{}),onClick:()=>B(e),children:"Tambah Komentar"}),(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(H_,{}),color:"purple.500",onClick:()=>W(e),children:e.priority?"Ubah Prioritas":"Tetapkan Prioritas"}),"                                ","critical"===e.priority&&"resolved"!==e.status&&"closed"!==e.status&&(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(oA,{}),color:"red.500",onClick:()=>F(e),children:"\ud83d\udea8 Tangani Isu Kritis"}),"high"===e.priority&&"resolved"!==e.status&&"closed"!==e.status&&(0,Xo.jsx)(TZ,{icon:(0,Xo.jsx)(i_,{}),color:"orange.500",onClick:()=>F(e),children:"\u26a1 Prioritaskan Isu Ini"})]})]})})]},e.issueId)}))})]})]}),!r&&e.length>0&&(0,Xo.jsxs)(Eb,{mt:4,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Menampilkan ",(A.page-1)*A.limit+1," - ",Math.min(A.page*A.limit,A.total)," dari ",A.total," isu"]}),(0,Xo.jsx)(m5,{currentPage:A.page,totalPages:A.totalPages,onPageChange:e=>{C((t=>(0,o.A)((0,o.A)({},t),{},{page:e}))),j(e)}})]})]})}),(0,Xo.jsx)(w4,{isOpen:P,onClose:T,issue:g,onIssueUpdated:()=>{M(),T()},currentUser:{id:1,name:"Admin User"}}),(0,Xo.jsx)(S4,{isOpen:N,onClose:z,issue:g,onIssueUpdated:M}),(0,Xo.jsx)(A4,{isOpen:O,onClose:D,issue:g,onUpdated:async()=>{setTimeout((async()=>{if(await M(),g&&P)try{const e=await t4.getIssueById(g.issueId||g.id),t=e.issue||e;console.log("Updated issue data:",t),v(t)}catch(e){console.error("Error fetching updated issue:",e)}}),500),D()}})]})})},T4=Dv((function(e,t){return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},e),{},{ref:t,role:"group",className:Lv("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))}));T4.displayName="StatGroup";const N4=Tv("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});N4.displayName="Spacer";const E4=["overflow","overflowX","className"],z4=Dv(((e,t)=>{var n;const{overflow:r,overflowX:i,className:a}=e,s=Jo(e,E4);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-table__container",a)},s),{},{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!==(n=null!==r&&void 0!==r?r:i)&&void 0!==n?n:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),O4=Vj({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),L4=Vj({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),D4=Vj({viewBox:"0 0 14 14",d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z",displayName:"SettingsIcon"}),R4=Vj({displayName:"EditIcon",path:(0,Xo.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[(0,Xo.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Xo.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),M4=Vj({displayName:"DeleteIcon",path:(0,Xo.jsx)("g",{fill:"currentColor",children:(0,Xo.jsx)("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),B4={1:{name:"admin",label:"Admin",color:"red",icon:eS},3:{name:"super_admin",label:"Super Admin",color:"purple",icon:eS},4:{name:"wakil_direktorat",label:"Wakil Direktorat",color:"green",icon:function(e){return sw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(e)}}},F4=[{value:"",label:"All Roles"},{value:"1",label:"Admin"},{value:"3",label:"Super Admin"},{value:"4",label:"Wakil Direktorat"}],W4=()=>{var e;const[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)({fullName:"",email:"",roleId:"1",password:""}),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[j,w]=(0,t.useState)({total:0,admins:0,superAdmins:0,wakilDirektorat:0}),k=hb(),{user:S}=vb(),{isOpen:_,onOpen:A,onClose:C}=GG(),{isOpen:P,onOpen:I,onClose:T}=GG(),{isOpen:N,onOpen:E,onClose:z}=GG(),O=(zs("white","gray.800"),zs("gray.200","gray.600"),zs("gray.50","gray.700")),L=(0,t.useCallback)((async()=>{try{l(!0);const e=await y4.getUsers({limit:100});if(e&&e.users){const t=e.users.filter((e=>e.role&&("admin"===e.role.name||"super_admin"===e.role.name||"wakil_direktorat"===e.role.name)));r(t),a(t);const n=t.filter((e=>"admin"===e.role.name)).length,i=t.filter((e=>"super_admin"===e.role.name)).length,o=t.filter((e=>"wakil_direktorat"===e.role.name)).length;w({total:t.length,admins:n,superAdmins:i,wakilDirektorat:o})}}catch(e){k({title:"Error",description:e.message||"Failed to fetch users",status:"error",duration:5e3,isClosable:!0})}finally{l(!1)}}),[k]);(0,t.useEffect)((()=>{let e=n;if(u&&(e=e.filter((e=>e.roleId.toString()===u))),c){const t=c.toLowerCase();e=e.filter((e=>{var n;return e.fullName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||(null===(n=e.role)||void 0===n?void 0:n.name.toLowerCase().includes(t))}))}a(e)}),[n,c,u]),(0,t.useEffect)((()=>{L()}),[L]),(0,t.useEffect)((()=>{}),[S]);const D=()=>{g({fullName:"",email:"",roleId:"1",password:""}),f(null),y(!1),C()},R=e=>{const t=B4[e.roleId];return t?(0,Xo.jsx)(r_,{colorScheme:t.color,variant:"subtle",children:t.label}):null},M=e=>{var t;if(!S||!e)return!1;const n=(null===(t=S.role)||void 0===t?void 0:t.name)||S.roleName||(1===S.roleId?"admin":3===S.roleId?"super_admin":4===S.roleId?"wakil_direktorat":null);return S.userId!==e.userId&&"super_admin"===n};return s&&0===n.length?(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(bb,{minH:"400px",children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{children:"Loading users..."})]})})}):(0,Xo.jsx)(pQ,{children:(0,Xo.jsxs)(Ob,{maxW:"7xl",py:8,children:[(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Xj,{align:"center",justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"lg",color:"brand.600",children:"User Management"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Manage admin and wakil direktorat users. Only super admins can create, edit, or delete users."})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(O4,{}),colorScheme:"brand",onClick:()=>{y(!1),f(null),g({fullName:"",email:"",roleId:"1",password:""}),A()},isDisabled:!S||"super_admin"!==(null===(e=S.role)||void 0===e?void 0:e.name)&&3!==S.roleId,children:"Add User"})]}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(T4,{children:[(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total Users"}),(0,Xo.jsx)(GS,{children:j.total})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Admins"}),(0,Xo.jsx)(GS,{children:j.admins})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Super Admins"}),(0,Xo.jsx)(GS,{children:j.superAdmins})]}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Wakil Direktorat"}),(0,Xo.jsx)(GS,{children:j.wakilDirektorat})]})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(Sj,{maxW:"300px",children:[(0,Xo.jsx)(Tj,{children:(0,Xo.jsx)(L4,{color:"gray.400"})}),(0,Xo.jsx)(gj,{placeholder:"Search users...",value:c,onChange:e=>d(e.target.value)})]}),(0,Xo.jsx)(SQ,{maxW:"200px",value:u,onChange:e=>h(e.target.value),icon:(0,Xo.jsx)(ek,{}),children:F4.map((e=>(0,Xo.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Xo.jsx)(N4,{}),(0,Xo.jsx)(Bj,{variant:"outline",leftIcon:(0,Xo.jsx)(D4,{}),onClick:L,isLoading:s,children:"Refresh"})]})})}),(0,Xo.jsx)(Vb,{children:(0,Xo.jsxs)(Kb,{p:0,children:[(0,Xo.jsx)(z4,{children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:O,children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"User"}),(0,Xo.jsx)(T0,{children:"Email"}),(0,Xo.jsx)(T0,{children:"Role"}),(0,Xo.jsx)(T0,{children:"Created At"}),(0,Xo.jsx)(T0,{children:"Actions"})]})}),(0,Xo.jsx)(N0,{children:i.map((e=>(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:e.fullName}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["ID: ",e.userId]})]})}),(0,Xo.jsx)(z0,{children:e.email}),(0,Xo.jsx)(z0,{children:R(e.role)}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:new Date(e.createdAt).toLocaleDateString("id-ID")})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(y0,{label:"View Details",children:(0,Xo.jsx)(Uj,{size:"sm",variant:"ghost",icon:(0,Xo.jsx)(Kj,{}),onClick:()=>(e=>{f(e),E()})(e)})}),M(e)&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(y0,{label:"Edit User",children:(0,Xo.jsx)(Uj,{size:"sm",variant:"ghost",icon:(0,Xo.jsx)(R4,{}),onClick:()=>(e=>{y(!0),f(e),g({fullName:e.fullName,email:e.email,roleId:e.roleId.toString(),password:""}),A()})(e)})}),(0,Xo.jsx)(y0,{label:"Delete User",children:(0,Xo.jsx)(Uj,{size:"sm",variant:"ghost",colorScheme:"red",icon:(0,Xo.jsx)(M4,{}),onClick:()=>{return t=e.userId,b(t),void I();var t}})})]})]})})]},e.userId)))})]})}),0===i.length&&(0,Xo.jsx)(bb,{py:10,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(nS,{size:48,color:"gray"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"No users found"})]})})]})})]}),(0,Xo.jsxs)(JZ,{isOpen:_,onClose:D,size:"md",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsx)(Y0,{children:(0,Xo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m.fullName.includes("@"))return void k({title:"Validation Error",description:"Please enter a valid name. Email should be entered in the Email field.",status:"error",duration:4e3,isClosable:!0});if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email))try{if(l(!0),v&&p){const e={fullName:m.fullName,email:m.email,roleId:parseInt(m.roleId)};m.password&&(e.password=m.password),await y4.updateUser(p.userId,e),k({title:"Success",description:"User updated successfully",status:"success",duration:3e3,isClosable:!0})}else{const e={name:m.fullName,email:m.email,role:"1"===m.roleId?"admin":"3"===m.roleId?"super_admin":"wakil_direktorat",password:m.password};await y4.createUser(e),k({title:"Success",description:"User created successfully",status:"success",duration:3e3,isClosable:!0})}await L(),D()}catch(t){k({title:"Error",description:t.message||"Operation failed",status:"error",duration:5e3,isClosable:!0})}finally{l(!1)}else k({title:"Validation Error",description:"Please enter a valid email address.",status:"error",duration:4e3,isClosable:!0})},children:[(0,Xo.jsx)(J0,{children:v?"Edit User":"Create New User"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Full Name"}),(0,Xo.jsx)(gj,{value:m.fullName,onChange:e=>g((t=>(0,o.A)((0,o.A)({},t),{},{fullName:e.target.value}))),placeholder:"Enter full name (e.g., John Doe)"}),(0,Xo.jsx)(oj,{children:"Enter the person's full name, not their email address"})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Email"}),(0,Xo.jsx)(gj,{type:"email",value:m.email,onChange:e=>g((t=>(0,o.A)((0,o.A)({},t),{},{email:e.target.value}))),placeholder:"Enter email address"})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Role"}),(0,Xo.jsxs)(SQ,{value:m.roleId,onChange:e=>g((t=>(0,o.A)((0,o.A)({},t),{},{roleId:e.target.value}))),children:[(0,Xo.jsx)("option",{value:"1",children:"Admin"}),(0,Xo.jsx)("option",{value:"3",children:"Super Admin"}),(0,Xo.jsx)("option",{value:"4",children:"Wakil Direktorat"})]})]}),(0,Xo.jsxs)(ij,{isRequired:!v,children:[(0,Xo.jsxs)(sj,{children:["Password ",v&&(0,Xo.jsx)(Tb,{as:"span",fontSize:"sm",color:"gray.500",children:"(leave empty to keep current)"})]}),(0,Xo.jsx)(gj,{type:"password",value:m.password,onChange:e=>g((t=>(0,o.A)((0,o.A)({},t),{},{password:e.target.value}))),placeholder:v?"Enter new password (optional)":"Enter password"})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:D,children:"Cancel"}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",isLoading:s,children:v?"Update":"Create"})]})]})})]}),(0,Xo.jsxs)(JZ,{isOpen:N,onClose:z,size:"md",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"User Details"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:p&&(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Full Name"}),(0,Xo.jsx)(Tb,{children:p.fullName})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Email"}),(0,Xo.jsx)(Tb,{children:p.email})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Role"}),R(p.role)]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"User ID"}),(0,Xo.jsx)(Tb,{children:p.userId})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Created At"}),(0,Xo.jsx)(Tb,{children:new Date(p.createdAt).toLocaleString("id-ID")})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Last Updated"}),(0,Xo.jsx)(Tb,{children:new Date(p.updatedAt).toLocaleString("id-ID")})]})]})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{onClick:z,children:"Close"})})]})]}),(0,Xo.jsx)(c5,{isOpen:P,onClose:T,children:(0,Xo.jsx)(vJ,{children:(0,Xo.jsxs)(d5,{children:[(0,Xo.jsx)(J0,{fontSize:"lg",fontWeight:"bold",children:"Delete User"}),(0,Xo.jsx)($0,{children:"Are you sure you want to delete this user? This action cannot be undone."}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{onClick:T,children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:async()=>{try{l(!0),await y4.deleteUser(x),k({title:"Success",description:"User deleted successfully",status:"success",duration:3e3,isClosable:!0}),await L(),T(),b(null)}catch(e){k({title:"Error",description:e.message||"Failed to delete user",status:"error",duration:5e3,isClosable:!0})}finally{l(!1)}},ml:3,isLoading:s,children:"Delete"})]})]})})})]})})};function U4(e){const n=(0,t.useRef)(null);return n.current=e,n}function q4(e){const t=function(e){var t;return null!==(t=e.view)&&void 0!==t?t:window}(e);return"undefined"!==typeof t.PointerEvent&&e instanceof t.PointerEvent?!("mouse"!==e.pointerType):e instanceof t.MouseEvent}function H4(e){return!!e.touches}function V4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return H4(e)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";const n=e.touches[0]||e.changedTouches[0];return{x:n["".concat(t,"X")],y:n["".concat(t,"Y")]}}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e["".concat(t,"X")],y:e["".concat(t,"Y")]}}(e,t)}function G4(e){function t(t){e(t,{point:V4(t)})}const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(e){return t=>{const n=q4(t);(!n||n&&0===t.button)&&e(t)}}(t):t;return n}function K4(e,t,n,r){return function(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}(e,t,G4(n,"pointerdown"===t),r)}const Y4=1/60*1e3,Z4="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),J4="undefined"!==typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(Z4())),Y4);let X4=!0,$4=!1,Q4=!1;const e3={delta:0,timestamp:0},t3=["read","update","preRender","render","postRender"],n3=t3.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),-1===s.indexOf(e)&&(s.push(e),o&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>$4=!0)),e)),{}),r3=t3.reduce(((e,t)=>{const n=n3[t];return e[t]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $4||s3(),n.schedule(e,t,r)},e}),{}),i3=t3.reduce(((e,t)=>(e[t]=n3[t].cancel,e)),{}),o3=(t3.reduce(((e,t)=>(e[t]=()=>n3[t].process(e3),e)),{}),e=>n3[e].process(e3)),a3=e=>{$4=!1,e3.delta=X4?Y4:Math.max(Math.min(e-e3.timestamp,40),1),e3.timestamp=e,Q4=!0,t3.forEach(o3),Q4=!1,$4&&(X4=!1,J4(a3))},s3=()=>{$4=!0,X4=!0,Q4||J4(a3)},l3=()=>e3,c3=r3;var d3=Object.defineProperty,u3=(e,t,n)=>(((e,t,n)=>{t in e?d3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class h3{constructor(e,t,n){var r;if(u3(this,"history",[]),u3(this,"startEvent",null),u3(this,"lastEvent",null),u3(this,"lastEventInfo",null),u3(this,"handlers",{}),u3(this,"removeListeners",(()=>{})),u3(this,"threshold",3),u3(this,"win"),u3(this,"updatePoint",(()=>{if(!this.lastEvent||!this.lastEventInfo)return;const e=f3(this.lastEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){if("number"===typeof e&&"number"===typeof t)return v3(e,t);if(y3(e)&&y3(t)){const n=v3(e.x,t.x),r=v3(e.y,t.y);return Math.sqrt(n**2+r**2)}return 0}(e.offset,{x:0,y:0})>=this.threshold;if(!t&&!n)return;const{timestamp:r}=l3();this.history.push((0,o.A)((0,o.A)({},e.point),{},{timestamp:r}));const{onStart:i,onMove:a}=this.handlers;t||(null===i||void 0===i||i(this.lastEvent,e),this.startEvent=this.lastEvent),null===a||void 0===a||a(this.lastEvent,e)})),u3(this,"onPointerMove",((e,t)=>{this.lastEvent=e,this.lastEventInfo=t,c3.update(this.updatePoint,!0)})),u3(this,"onPointerUp",((e,t)=>{const n=f3(t,this.history),{onEnd:r,onSessionEnd:i}=this.handlers;null===i||void 0===i||i(e,n),this.end(),r&&this.startEvent&&(null===r||void 0===r||r(e,n))})),this.win=null!==(r=e.view)&&void 0!==r?r:window,function(e){return H4(e)&&e.touches.length>1}(e))return;this.handlers=t,n&&(this.threshold=n),e.stopPropagation(),e.preventDefault();const i={point:V4(e)},{timestamp:a}=l3();this.history=[(0,o.A)((0,o.A)({},i.point),{},{timestamp:a})];const{onSessionStart:s}=t;null===s||void 0===s||s(e,f3(i,this.history)),this.removeListeners=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)}(K4(this.win,"pointermove",this.onPointerMove),K4(this.win,"pointerup",this.onPointerUp),K4(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;null===(e=this.removeListeners)||void 0===e||e.call(this),i3.update(this.updatePoint)}}function p3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function f3(e,t){return{point:e.point,delta:p3(e.point,t[t.length-1]),offset:p3(e.point,t[0]),velocity:g3(t,.1)}}const m3=e=>1e3*e;function g3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=e[e.length-1];for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>m3(t)));)n--;if(!r)return{x:0,y:0};const o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function v3(e,t){return Math.abs(e-t)}function y3(e){return"x"in e&&"y"in e}function x3(e,n){const{onPan:r,onPanStart:i,onPanEnd:o,onPanSessionStart:a,onPanSessionEnd:s,threshold:l}=n,c=Boolean(r||i||o||a||s),d=(0,t.useRef)(null),u=U4({onSessionStart:a,onSessionEnd:s,onStart:i,onMove:r,onEnd(e,t){d.current=null,null===o||void 0===o||o(e,t)}});(0,t.useEffect)((()=>{var e;null===(e=d.current)||void 0===e||e.updateHandlers(u.current)})),(0,t.useEffect)((()=>{const t=e.current;if(t&&c)return K4(t,"pointerdown",(function(e){d.current=new h3(e,u.current,l)}))}),[e,c,u,l]),(0,t.useEffect)((()=>()=>{var e;null===(e=d.current)||void 0===e||e.end(),d.current=null}),[])}function b3(e){const{orientation:t,vertical:n,horizontal:r}=e;return"vertical"===t?n:r}function j3(e){const{orientation:t,thumbPercents:n,isReversed:r}=e,i=(0,o.A)({position:"absolute"},b3({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})),a=1===n.length,s=[0,r?100-n[0]:n[0]],l=a?s:n;let c=l[0];!a&&r&&(c=100-c);const d=Math.abs(l[l.length-1]-l[0]);return{trackStyle:i,innerTrackStyle:(0,o.A)((0,o.A)({},i),b3({orientation:t,vertical:r?{height:"".concat(d,"%"),top:"".concat(c,"%")}:{height:"".concat(d,"%"),bottom:"".concat(c,"%")},horizontal:r?{width:"".concat(d,"%"),right:"".concat(c,"%")}:{width:"".concat(d,"%"),left:"".concat(c,"%")}})),rootStyle:{position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},getThumbStyle:e=>(0,o.A)({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none"},b3({orientation:t,vertical:{bottom:"".concat(n[e],"%"),transform:"translate(-50%, 50%) scale(var(--slider-thumb-scale, 1))"},horizontal:{left:"".concat(n[e],"%"),transform:"translate(-50%, -50%) scale(var(--slider-thumb-scale, 1))"}}))}}function w3(e){const{isReversed:t,direction:n,orientation:r}=e;return"ltr"===n||"vertical"===r?t:!t}const k3=["min","max","onChange","value","defaultValue","isReversed","direction","orientation","id","isDisabled","isReadOnly","onChangeStart","onChangeEnd","step","getAriaValueText","aria-valuetext","aria-label","aria-labelledby","name","focusThumbOnChange"];function S3(e,t){return t<e?e:e+(t-e)/2}const _3=["getInputProps","getRootProps"],[A3,C3]=Nc({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[P3,I3]=Nc({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),T3=Dv(((e,n)=>{var r;const i=(0,o.A)((0,o.A)({},e),{},{orientation:null!==(r=null===e||void 0===e?void 0:e.orientation)&&void 0!==r?r:"horizontal"}),a=Gv("Slider",i),s=Ov(i),{direction:l}=Fv();s.direction=l;const c=function(e){var n;const{min:r=0,max:i=100,onChange:a,value:s,defaultValue:l,isReversed:c,direction:d="ltr",orientation:u="horizontal",id:h,isDisabled:p,isReadOnly:f,onChangeStart:m,onChangeEnd:g,step:v=1,getAriaValueText:y,"aria-valuetext":x,"aria-label":b,"aria-labelledby":j,name:w,focusThumbOnChange:k=!0}=e,S=Jo(e,k3),_=fd(m),A=fd(g),C=fd(y),P=w3({isReversed:c,direction:d,orientation:u}),[I,T]=uS({value:s,defaultValue:null!==l&&void 0!==l?l:S3(r,i),onChange:a}),[N,E]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!1),L=!(p||f),D=(i-r)/10,R=v||(i-r)/100,M=W2(I,r,i),B=M2(P?i-M+r:M,r,i),F="vertical"===u,W=U4({min:r,max:i,step:v,isDisabled:p,value:M,isInteractive:L,isReversed:P,isVertical:F,eventSource:null,focusThumbOnChange:k,orientation:u}),U=(0,t.useRef)(null),q=(0,t.useRef)(null),H=(0,t.useRef)(null),V=(0,t.useId)(),G=null!==h&&void 0!==h?h:V,[K,Y]=["slider-thumb-".concat(G),"slider-track-".concat(G)],Z=(0,t.useCallback)((e=>{var t,n;if(!U.current)return;const r=W.current;r.eventSource="pointer";const i=U.current.getBoundingClientRect(),{clientX:o,clientY:a}=null!==(t=null===(n=e.touches)||void 0===n?void 0:n[0])&&void 0!==t?t:e;let s=(F?i.bottom-a:o-i.left)/(F?i.height:i.width);P&&(s=1-s);let l=B2(s,r.min,r.max);return r.step&&(l=parseFloat(F2(l,r.min,r.step))),l=W2(l,r.min,r.max),l}),[F,P,W]),J=(0,t.useCallback)((e=>{const t=W.current;t.isInteractive&&(e=W2(e=parseFloat(F2(e,t.min,R)),t.min,t.max),T(e))}),[R,T,W]),X=(0,t.useMemo)((()=>({stepUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;J(P?M-e:M+e)},stepDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;J(P?M+e:M-e)},reset(){J(l||0)},stepTo(e){J(e)}})),[J,P,M,R,l]),$=(0,t.useCallback)((e=>{const t=W.current,n={ArrowRight:()=>X.stepUp(),ArrowUp:()=>X.stepUp(),ArrowLeft:()=>X.stepDown(),ArrowDown:()=>X.stepDown(),PageUp:()=>X.stepUp(D),PageDown:()=>X.stepDown(D),Home:()=>J(t.min),End:()=>J(t.max)}[e.key];n&&(e.preventDefault(),e.stopPropagation(),n(e),t.eventSource="keyboard")}),[X,J,D,W]),Q=null!==(n=null===C||void 0===C?void 0:C(M))&&void 0!==n?n:x,{getThumbStyle:ee,rootStyle:te,trackStyle:ne,innerTrackStyle:re}=(0,t.useMemo)((()=>{const e=W.current;return j3({isReversed:P,orientation:e.orientation,thumbPercents:[B]})}),[P,B,W]),ie=(0,t.useCallback)((()=>{W.current.focusThumbOnChange&&setTimeout((()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.focus()}))}),[W]);function oe(e){const t=Z(e);null!=t&&t!==W.current.value&&T(t)}pd((()=>{const e=W.current;ie(),"keyboard"===e.eventSource&&(null===A||void 0===A||A(e.value))}),[M,A]),x3(H,{onPanSessionStart(e){const t=W.current;t.isInteractive&&(E(!0),ie(),oe(e),null===_||void 0===_||_(t.value))},onPanSessionEnd(){const e=W.current;e.isInteractive&&(E(!1),null===A||void 0===A||A(e.value))},onPan(e){W.current.isInteractive&&oe(e)}});const ae=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)((0,o.A)({},e),S),{},{ref:Yb(t,H),tabIndex:-1,"aria-disabled":Xb(p),"data-focused":Jb(z),style:(0,o.A)((0,o.A)({},e.style),te)})}),[S,p,z,te]),se=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,U),id:Y,"data-disabled":Jb(p),style:(0,o.A)((0,o.A)({},e.style),ne)})}),[p,Y,ne]),le=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,style:(0,o.A)((0,o.A)({},e.style),re)})}),[re]),ce=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,q),role:"slider",tabIndex:L?0:void 0,id:K,"data-active":Jb(N),"aria-valuetext":Q,"aria-valuemin":r,"aria-valuemax":i,"aria-valuenow":M,"aria-orientation":u,"aria-disabled":Xb(p),"aria-readonly":Xb(f),"aria-label":b,"aria-labelledby":b?void 0:j,style:(0,o.A)((0,o.A)({},e.style),ee(0)),onKeyDown:dj(e.onKeyDown,$),onFocus:dj(e.onFocus,(()=>O(!0))),onBlur:dj(e.onBlur,(()=>O(!1)))})}),[L,K,N,Q,r,i,M,u,p,f,b,j,ee,$]),de=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=!(e.value<r||e.value>i),a=M>=e.value,s=M2(e.value,r,i),l=(0,o.A)({position:"absolute",pointerEvents:"none"},function(e){const{orientation:t,vertical:n,horizontal:r}=e;return"vertical"===t?n:r}({orientation:u,vertical:{bottom:"".concat(P?100-s:s,"%")},horizontal:{left:"".concat(P?100-s:s,"%")}}));return(0,o.A)((0,o.A)({},e),{},{ref:t,role:"presentation","aria-hidden":!0,"data-disabled":Jb(p),"data-invalid":Jb(!n),"data-highlighted":Jb(a),style:(0,o.A)((0,o.A)({},e.style),l)})}),[p,P,i,r,u,M]),ue=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,type:"hidden",value:M,name:w})}),[w,M]);return{state:{value:M,isFocused:z,isDragging:N},actions:X,getRootProps:ae,getTrackProps:se,getInnerTrackProps:le,getThumbProps:ce,getMarkerProps:de,getInputProps:ue}}(s),{getInputProps:d,getRootProps:u}=c,h=Jo(c,_3),p=u(),f=d({},n);return(0,Xo.jsx)(A3,{value:h,children:(0,Xo.jsx)(P3,{value:a,children:(0,Xo.jsxs)(Tv.div,(0,o.A)((0,o.A)({},p),{},{className:Lv("chakra-slider",i.className),__css:a.container,children:[i.children,(0,Xo.jsx)("input",(0,o.A)({},f))]}))})})}));T3.displayName="Slider";const N3=Dv(((e,t)=>{const{getThumbProps:n}=C3(),r=I3(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:Lv("chakra-slider__thumb",e.className),__css:r.thumb}))}));N3.displayName="SliderThumb";const E3=Dv(((e,t)=>{const{getTrackProps:n}=C3(),r=I3(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:Lv("chakra-slider__track",e.className),__css:r.track}))}));E3.displayName="SliderTrack";const z3=Dv(((e,t)=>{const{getInnerTrackProps:n}=C3(),r=I3(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:Lv("chakra-slider__filled-track",e.className),__css:r.filledTrack}))}));z3.displayName="SliderFilledTrack";const O3=Dv(((e,t)=>{const{getMarkerProps:n}=C3(),r=I3(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:Lv("chakra-slider__marker",e.className),__css:r.mark}))}));O3.displayName="SliderMark";const L3=["onChange","value","defaultValue","name","isDisabled","isFocusable","isNative"];function D3(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onChange:n,value:r,defaultValue:i,name:a,isDisabled:s,isFocusable:l,isNative:c}=e,d=Jo(e,L3),[u,h]=(0,t.useState)(i||""),p="undefined"!==typeof r,f=p?r:u,m=(0,t.useRef)(null),g=(0,t.useCallback)((()=>{const e=m.current;if(!e)return;let t="input:not(:disabled):checked";const n=e.querySelector(t);if(n)return void n.focus();t="input:not(:disabled)";const r=e.querySelector(t);null===r||void 0===r||r.focus()}),[]),v=(0,t.useId)(),y="radio-".concat(v),x=a||y,b=(0,t.useCallback)((e=>{const t=function(e){return e&&Fn(e)&&Fn(e.target)}(e)?e.target.value:e;p||h(t),null===n||void 0===n||n(String(t))}),[n,p]),j=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,m),role:"radiogroup"})}),[]),w=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=c?"checked":"isChecked";return(0,o.A)((0,o.A)({},e),{},{ref:t,name:x,[n]:null!=f?e.value===f:void 0,onChange(e){b(e)},"data-radiogroup":!0})}),[c,x,b,f]);return{getRootProps:j,getRadioProps:w,name:x,ref:m,focus:g,setValue:h,value:f,onChange:b,isDisabled:s,isFocusable:l,htmlProps:d}}const R3=["colorScheme","size","variant","children","className","isDisabled","isFocusable"],[M3,B3]=Nc({name:"RadioGroupContext",strict:!1}),F3=Dv(((e,n)=>{const{colorScheme:r,size:i,variant:a,children:s,className:l,isDisabled:c,isFocusable:d}=e,u=Jo(e,R3),{value:h,onChange:p,getRootProps:f,name:m,htmlProps:g}=D3(u),v=(0,t.useMemo)((()=>({name:m,size:i,onChange:p,colorScheme:r,value:h,variant:a,isDisabled:c,isFocusable:d})),[m,i,p,r,h,a,c,d]);return(0,Xo.jsx)(M3,{value:v,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},f(g,n)),{},{className:Lv("chakra-radio-group",l),children:s}))})}));F3.displayName="RadioGroup";const W3=["defaultChecked","isChecked","isFocusable","isDisabled","isReadOnly","isRequired","onChange","isInvalid","name","value","id","data-radiogroup","aria-describedby"];function U3(e){e.preventDefault(),e.stopPropagation()}const q3=["spacing","children","isDisabled","isFocusable","inputProps"],H3=Dv(((e,n)=>{var r;const i=B3(),{onChange:a,value:s}=e,l=Gv("Radio",(0,o.A)((0,o.A)({},i),e)),c=Ov(e),{spacing:d="0.5rem",children:u,isDisabled:h=(null===i||void 0===i?void 0:i.isDisabled),isFocusable:p=(null===i||void 0===i?void 0:i.isFocusable),inputProps:f}=c,m=Jo(c,q3);let g=e.isChecked;null!=(null===i||void 0===i?void 0:i.value)&&null!=s&&(g=i.value===s);let v=a;null!==i&&void 0!==i&&i.onChange&&null!=s&&(v=cj(i.onChange,a));const y=null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:null===i||void 0===i?void 0:i.name,{getInputProps:x,getRadioProps:b,getLabelProps:j,getRootProps:w,htmlProps:k}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{defaultChecked:n,isChecked:r,isFocusable:i,isDisabled:a,isReadOnly:s,isRequired:l,onChange:c,isInvalid:d,name:u,value:h,id:p,"data-radiogroup":f,"aria-describedby":m}=e,g=Jo(e,W3),v="radio-".concat((0,t.useId)()),y=rj(),x=B3();let b=!y||x||f?v:y.id;b=null!==p&&void 0!==p?p:b;const j=null!==a&&void 0!==a?a:null===y||void 0===y?void 0:y.isDisabled,w=null!==s&&void 0!==s?s:null===y||void 0===y?void 0:y.isReadOnly,k=null!==l&&void 0!==l?l:null===y||void 0===y?void 0:y.isRequired,S=null!==d&&void 0!==d?d:null===y||void 0===y?void 0:y.isInvalid,[_,A]=(0,t.useState)(!1),[C,P]=(0,t.useState)(!1),[I,T]=(0,t.useState)(!1),[N,E]=(0,t.useState)(Boolean(n)),z="undefined"!==typeof r,O=z?r:N,L=(0,t.useRef)(!1);(0,t.useEffect)((()=>C1((e=>{L.current=e}))),[]);const D=(0,t.useCallback)((e=>{w||j?e.preventDefault():(z||E(e.currentTarget.checked),null===c||void 0===c||c(e))}),[z,j,w,c]),R=(0,t.useCallback)((e=>{" "===e.key&&T(!0)}),[T]),M=(0,t.useCallback)((e=>{" "===e.key&&T(!1)}),[T]),B=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,"data-active":Jb(I),"data-hover":Jb(C),"data-disabled":Jb(j),"data-invalid":Jb(S),"data-checked":Jb(O),"data-focus":Jb(_),"data-focus-visible":Jb(_&&L.current),"data-readonly":Jb(w),"aria-hidden":!0,onMouseDown:dj(e.onMouseDown,(()=>T(!0))),onMouseUp:dj(e.onMouseUp,(()=>T(!1))),onMouseEnter:dj(e.onMouseEnter,(()=>P(!0))),onMouseLeave:dj(e.onMouseLeave,(()=>P(!1)))})}),[I,C,j,S,O,_,w]),{onFocus:F,onBlur:W}=null!==y&&void 0!==y?y:{},U=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=j&&!i;return(0,o.A)((0,o.A)({},e),{},{id:b,ref:t,type:"radio",name:u,value:h,onChange:dj(e.onChange,D),onBlur:dj(W,e.onBlur,(()=>A(!1))),onFocus:dj(F,e.onFocus,(()=>A(!0))),onKeyDown:dj(e.onKeyDown,R),onKeyUp:dj(e.onKeyUp,M),checked:O,disabled:n,readOnly:w,required:k,"aria-invalid":Xb(S),"aria-disabled":Xb(n),"aria-required":Xb(k),"data-readonly":Jb(w),"aria-describedby":m,style:P1})}),[j,i,b,u,h,D,W,F,R,M,O,w,k,S,m]);return{state:{isInvalid:S,isFocused:_,isChecked:O,isActive:I,isHovered:C,isDisabled:j,isReadOnly:w,isRequired:k},getRadioProps:B,getInputProps:U,getLabelProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,onMouseDown:dj(e.onMouseDown,U3),"data-disabled":Jb(j),"data-checked":Jb(O),"data-invalid":Jb(S)})},getRootProps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({htmlFor:b},e),{},{ref:t,"data-disabled":Jb(j),"data-checked":Jb(O),"data-invalid":Jb(S)})},htmlProps:g}}((0,o.A)((0,o.A)({},m),{},{isChecked:g,isFocusable:p,isDisabled:h,onChange:v,name:y})),[S,_]=xQ(k,kc),A=b(_),C=x(f,n),P=j(),I=Object.assign({},S,w()),T=(0,o.A)({display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative"},l.container),N=(0,o.A)({display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},l.control),E=(0,o.A)({userSelect:"none",marginStart:d},l.label);return(0,Xo.jsxs)(Tv.label,(0,o.A)((0,o.A)({className:"chakra-radio"},I),{},{__css:T,children:[(0,Xo.jsx)("input",(0,o.A)({className:"chakra-radio__input"},C)),(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({className:"chakra-radio__control"},A),{},{__css:N})),u&&(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({className:"chakra-radio__label"},P),{},{__css:E,children:u}))]}))}));H3.displayName="Radio";const[V3,G3]=Nc({name:"CheckboxGroupContext",strict:!1});function K3(e){return e&&Fn(e)&&Fn(e.target)}function Y3(e){const{colorScheme:n,size:r,variant:i,children:a,isDisabled:s}=e,{value:l,onChange:c}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{defaultValue:n,value:r,onChange:i,isDisabled:a,isNative:s}=e,l=fd(i),[c,d]=uS({value:r,defaultValue:n||[],onChange:l}),u=(0,t.useCallback)((e=>{if(!c)return;const t=K3(e)?e.target.checked:!c.includes(e),n=K3(e)?e.target.value:e,r=t?[...c,n]:c.filter((e=>String(e)!==String(n)));d(r)}),[d,c]),h=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s?"checked":"isChecked";return(0,o.A)((0,o.A)({},e),{},{[t]:c.some((t=>String(e.value)===String(t))),onChange:u})}),[u,s,c]);return{value:c,isDisabled:a,onChange:u,setValue:d,getCheckboxProps:h}}(e),d=(0,t.useMemo)((()=>({size:r,onChange:c,colorScheme:n,value:l,variant:i,isDisabled:s})),[r,c,n,l,i,s]);return(0,Xo.jsx)(V3,{value:d,children:a})}Y3.displayName="CheckboxGroup";const Z3=["isIndeterminate","isChecked"];function J3(e){return(0,Xo.jsx)(Tv.svg,(0,o.A)((0,o.A)({width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),{},{children:(0,Xo.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})}))}function X3(e){return(0,Xo.jsx)(Tv.svg,(0,o.A)((0,o.A)({width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4}},e),{},{children:(0,Xo.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})}))}function $3(e){const{isIndeterminate:t,isChecked:n}=e,r=Jo(e,Z3),i=t?X3:J3;return n||t?(0,Xo.jsx)(Tv.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,Xo.jsx)(i,(0,o.A)({},r))}):null}const Q3=["spacing","className","children","iconColor","iconSize","icon","isChecked","isDisabled","onChange","inputProps"],e6={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},t6={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},n6=Zs({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),r6=Zs({from:{opacity:0},to:{opacity:1}}),i6=Zs({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),o6=Dv((function(e,n){const r=G3(),i=Gv("Checkbox",(0,o.A)((0,o.A)({},r),e)),a=Ov(e),{spacing:s="0.5rem",className:l,children:c,iconColor:d,iconSize:u,icon:h=(0,Xo.jsx)($3,{}),isChecked:p,isDisabled:f=(null===r||void 0===r?void 0:r.isDisabled),onChange:m,inputProps:g}=a,v=Jo(a,Q3);let y=p;null!==r&&void 0!==r&&r.value&&a.value&&(y=r.value.includes(a.value));let x=m;null!==r&&void 0!==r&&r.onChange&&a.value&&(x=cj(r.onChange,m));const{state:b,getInputProps:j,getCheckboxProps:w,getLabelProps:k,getRootProps:S}=T1((0,o.A)((0,o.A)({},v),{},{isDisabled:f,isChecked:y,onChange:x})),_=function(e){const[n,r]=(0,t.useState)(e),[i,o]=(0,t.useState)(!1);return e!==n&&(o(!0),r(e)),i}(b.isChecked),A=(0,t.useMemo)((()=>(0,o.A)((0,o.A)({animation:_?b.isIndeterminate?"".concat(r6," 20ms linear, ").concat(i6," 200ms linear"):"".concat(n6," 200ms linear"):void 0},i.icon),hv({fontSize:u,color:d}))),[d,u,_,b.isIndeterminate,i.icon]),C=(0,t.cloneElement)(h,{__css:A,isIndeterminate:b.isIndeterminate,isChecked:b.isChecked});return(0,Xo.jsxs)(Tv.label,(0,o.A)((0,o.A)({__css:(0,o.A)((0,o.A)({},t6),i.container),className:Lv("chakra-checkbox",l)},S()),{},{children:[(0,Xo.jsx)("input",(0,o.A)({className:"chakra-checkbox__input"},j(g,n))),(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({__css:(0,o.A)((0,o.A)({},e6),i.control),className:"chakra-checkbox__control"},w()),{},{children:C})),c&&(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({className:"chakra-checkbox__label"},k()),{},{__css:(0,o.A)({marginStart:s},i.label),children:c}))]}))}));o6.displayName="Checkbox";const a6=e=>{let{label:t,value:n,onChange:r,min:i=1,max:o=5,labels:a=["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"],isRequired:s=!0}=e;return(0,Xo.jsxs)(ij,{isRequired:s,children:[(0,Xo.jsx)(sj,{fontWeight:"medium",children:t}),(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsxs)(T3,{value:n||i,onChange:r,min:i,max:o,step:1,colorScheme:"brand",children:[(0,Xo.jsx)(E3,{children:(0,Xo.jsx)(z3,{})}),(0,Xo.jsx)(N3,{boxSize:6,children:(0,Xo.jsx)(Eb,{color:"brand.500",fontSize:"sm",fontWeight:"bold",children:n||i})})]}),(0,Xo.jsx)(dS,{justify:"space-between",w:"full",fontSize:"xs",color:"gray.600",children:a.map(((e,t)=>(0,Xo.jsxs)(Tb,{textAlign:"center",minW:"60px",children:[t+1,". ",e]},t)))})]})]})},s6=e=>{let{label:t,value:n,onChange:r,options:i,isRequired:o=!0}=e;return(0,Xo.jsxs)(ij,{isRequired:o,children:[(0,Xo.jsx)(sj,{fontWeight:"medium",children:t}),(0,Xo.jsx)(F3,{value:n,onChange:r,children:(0,Xo.jsx)(Pb,{align:"start",spacing:2,children:i.map(((e,t)=>(0,Xo.jsx)(H3,{value:e.value,colorScheme:"brand",children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:e.label})},t)))})})]})},l6=e=>{let{label:t,value:n=[],onChange:r,options:i,isRequired:o=!1}=e;return(0,Xo.jsxs)(ij,{isRequired:o,children:[(0,Xo.jsx)(sj,{fontWeight:"medium",children:t}),(0,Xo.jsx)(Y3,{value:n,onChange:r,colorScheme:"brand",children:(0,Xo.jsx)(Pb,{align:"start",spacing:2,children:i.map(((e,t)=>(0,Xo.jsx)(o6,{value:e.value,children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:e.label})},t)))})})]})},c6=e=>{let{label:t,value:n,onChange:r,placeholder:i,isRequired:o=!1,isTextarea:a=!1,rows:s=4}=e;return(0,Xo.jsxs)(ij,{isRequired:o,children:[(0,Xo.jsx)(sj,{fontWeight:"medium",children:t}),a?(0,Xo.jsx)(D1,{value:n||"",onChange:e=>r(e.target.value),placeholder:i,rows:s,resize:"vertical"}):(0,Xo.jsx)(gj,{value:n||"",onChange:e=>r(e.target.value),placeholder:i})]})},d6=e=>{let{label:t,value:n,onChange:r,options:i,placeholder:o="Pilih opsi...",isRequired:a=!0}=e;return(0,Xo.jsxs)(ij,{isRequired:a,children:[(0,Xo.jsx)(sj,{fontWeight:"medium",children:t}),(0,Xo.jsx)(SQ,{value:n||"",onChange:e=>r(e.target.value),placeholder:o,children:i.map(((e,t)=>(0,Xo.jsx)("option",{value:e.value,children:e.label},t)))})]})},u6=e=>{let{title:t,description:n,children:r,isRequired:i=!1,alertMessage:o,alertType:a="info"}=e;const s=zs("gray.50","gray.700");return(0,Xo.jsx)(Vb,{bg:s,variant:"outline",mb:6,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Wb,{size:"md",color:"brand.600",children:t}),i&&(0,Xo.jsx)(r_,{colorScheme:"red",size:"sm",children:"Required"})]}),n&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:2,children:n})]}),o&&(0,Xo.jsxs)(ay,{status:a,size:"sm",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(cy,{fontSize:"sm",children:o})]}),(0,Xo.jsx)(ew,{}),r]})})})},h6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Informasi Responden",description:"Mohon isi informasi pribadi Anda untuk keperluan identifikasi testing",isRequired:!0,alertMessage:"Semua informasi dalam section ini wajib diisi",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(c6,{label:"Nama Lengkap",value:t.nama_lengkap,onChange:e=>r("nama_lengkap",e),placeholder:"Masukkan nama lengkap Anda",isRequired:!0}),(0,Xo.jsx)(d6,{label:"Role/Posisi",value:t.role,onChange:e=>r("role",e),options:[{value:"admin",label:"Admin"},{value:"wakil_direktorat",label:"Wakil Direktorat"},{value:"super_admin",label:"Super Admin"}],placeholder:"Pilih role Anda...",isRequired:!0}),(0,Xo.jsx)(c6,{label:"Email",value:t.email,onChange:e=>r("email",e),placeholder:"nama@email.com",isRequired:!0}),(0,Xo.jsx)(d6,{label:"Lama Pengalaman menggunakan sistem serupa",value:t.pengalaman,onChange:e=>r("pengalaman",e),options:[{value:"<1",label:"< 1 tahun"},{value:"1-3",label:"1-3 tahun"},{value:"3-5",label:"3-5 tahun"},{value:">5",label:"> 5 tahun"}],placeholder:"Pilih pengalaman...",isRequired:!0})]})})})},p6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Authentication & Authorization Testing",description:"Silakan login ke sistem menggunakan kredensial yang telah diberikan dan jawab pertanyaan berikut",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba login ke sistem sebelum mengisi section ini",alertType:"warning",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Seberapa mudah proses login ke sistem?",value:t.login_ease,onChange:e=>r("login_ease",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"2. Apakah sistem meminta konfirmasi saat login dari device baru?",value:t.login_confirmation,onChange:e=>r("login_confirmation",e),options:[{value:"email",label:"Ya, meminta konfirmasi email"},{value:"sms",label:"Ya, meminta konfirmasi SMS"},{value:"none",label:"Tidak ada konfirmasi"},{value:"unknown",label:"Tidak tahu/tidak mencoba"}]}),(0,Xo.jsx)(s6,{label:"3. Apakah sistem logout otomatis setelah idle?",value:t.auto_logout,onChange:e=>r("auto_logout",e),options:[{value:"<30",label:"Ya, < 30 menit"},{value:"30-60",label:"Ya, 30-60 menit"},{value:">60",label:"Ya, > 1 jam"},{value:"none",label:"Tidak ada auto logout"},{value:"unknown",label:"Tidak tahu"}]}),(0,Xo.jsx)(l6,{label:"4. Fitur mana yang dapat Anda akses sesuai role? (Pilih semua yang berlaku)",value:t.accessible_features,onChange:e=>r("accessible_features",e),options:[{value:"dashboard",label:"Dashboard"},{value:"user_management",label:"User Management"},{value:"room_management",label:"Room Management"},{value:"booking_approval",label:"Booking Approval"},{value:"document_review",label:"Document Review"},{value:"payment_verification",label:"Payment Verification"},{value:"issue_management",label:"Issue Management"},{value:"notification_management",label:"Notification Management"}]}),(0,Xo.jsx)(c6,{label:"5. Masalah Authentication (Opsional)",value:t.auth_issues,onChange:e=>r("auth_issues",e),placeholder:"Apakah ada masalah saat login/logout? Jelaskan...",isTextarea:!0,isRequired:!1})]})})})},f6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Dashboard & Navigation Testing",description:"Navigasi ke halaman dashboard dan lakukan eksplorasi menu",isRequired:!0,alertMessage:"Pastikan Anda telah mengeksplorasi dashboard dan menu navigasi",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Seberapa informatif dashboard utama?",value:t.dashboard_informativeness,onChange:e=>r("dashboard_informativeness",e),labels:["Tidak Informatif","Kurang Informatif","Cukup Informatif","Informatif","Sangat Informatif"]}),(0,Xo.jsx)(a6,{label:"2. Seberapa mudah navigasi antar menu?",value:t.navigation_ease,onChange:e=>r("navigation_ease",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"3. Apakah struktur menu logis dan mudah dipahami?",value:t.menu_structure,onChange:e=>r("menu_structure",e),options:[{value:"very_easy",label:"Sangat mudah dipahami"},{value:"easy",label:"Mudah dipahami"},{value:"moderate",label:"Cukup mudah dipahami"},{value:"difficult",label:"Sulit dipahami"},{value:"very_difficult",label:"Sangat sulit dipahami"}]}),(0,Xo.jsx)(s6,{label:"4. Bagaimana kecepatan loading halaman?",value:t.response_time,onChange:e=>r("response_time",e),options:[{value:"very_fast",label:"Sangat cepat (< 2 detik)"},{value:"fast",label:"Cepat (2-5 detik)"},{value:"normal",label:"Normal (5-10 detik)"},{value:"slow",label:"Lambat (10-20 detik)"},{value:"very_slow",label:"Sangat lambat (> 20 detik)"}]}),(0,Xo.jsx)(c6,{label:"5. Saran Perbaikan Dashboard (Opsional)",value:t.dashboard_suggestions,onChange:e=>r("dashboard_suggestions",e),placeholder:"Apa yang perlu diperbaiki dari dashboard?",isTextarea:!0,isRequired:!1})]})})})},m6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"User Management Testing",description:"Coba akses menu User Management dan lakukan operasi berikut",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba fitur-fitur User Management",alertType:"warning",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Coba buat user baru. Seberapa mudah prosesnya?",value:t.create_user_ease,onChange:e=>r("create_user_ease",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"2. Apakah sistem memberikan error yang jelas saat input invalid?",value:t.user_validation,onChange:e=>r("user_validation",e),options:[{value:"very_clear",label:"Ya, error message sangat jelas"},{value:"clear",label:"Ya, error message cukup jelas"},{value:"unclear",label:"Error message tidak jelas"},{value:"none",label:"Tidak ada error message"},{value:"not_tried",label:"Tidak mencoba"}]}),(0,Xo.jsx)(a6,{label:"3. Coba edit data user. Seberapa mudah prosesnya?",value:t.edit_user_ease,onChange:e=>r("edit_user_ease",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"4. Apakah sistem meminta konfirmasi saat hapus user?",value:t.delete_confirmation,onChange:e=>r("delete_confirmation",e),options:[{value:"clear_confirmation",label:"Ya, ada konfirmasi yang jelas"},{value:"unclear_confirmation",label:"Ya, ada konfirmasi tapi tidak jelas"},{value:"no_confirmation",label:"Tidak ada konfirmasi"},{value:"not_tried",label:"Tidak mencoba"}]}),(0,Xo.jsx)(a6,{label:"5. Bagaimana tampilan daftar user?",value:t.user_list_display,onChange:e=>r("user_list_display",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(c6,{label:"6. Issue User Management (Opsional)",value:t.user_management_issues,onChange:e=>r("user_management_issues",e),placeholder:"Apakah ada masalah dalam User Management? Jelaskan...",isTextarea:!0,isRequired:!1})]})})})},g6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Room Management Testing",description:"Akses menu Room Management dan test fitur-fitur berikut",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba semua fitur Room Management",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Coba buat ruangan baru. Seberapa mudah prosesnya?",value:t.room_creation_ease,onChange:e=>r("room_creation_ease",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"2. Apakah pilihan klasifikasi ruangan mudah dipahami?",value:t.room_classification,onChange:e=>r("room_classification",e),options:[{value:"very_easy",label:"Sangat mudah dipahami"},{value:"easy",label:"Mudah dipahami"},{value:"moderate",label:"Cukup mudah dipahami"},{value:"difficult",label:"Sulit dipahami"},{value:"very_difficult",label:"Sangat sulit dipahami"}]}),(0,Xo.jsx)(a6,{label:"3. Coba tambah/edit amenities ruangan. Seberapa mudah?",value:t.amenities_management,onChange:e=>r("amenities_management",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"4. Coba upload gambar ruangan. Bagaimana hasilnya?",value:t.image_upload,onChange:e=>r("image_upload",e),options:[{value:"success_good",label:"Berhasil, gambar tampil dengan baik"},{value:"success_poor",label:"Berhasil, tapi gambar tidak optimal"},{value:"failed",label:"Gagal upload"},{value:"not_tried",label:"Tidak mencoba"}]}),(0,Xo.jsx)(a6,{label:"5. Bagaimana fitur pencarian dan filter ruangan?",value:t.room_search_filter,onChange:e=>r("room_search_filter",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(c6,{label:"6. Room Management Issues (Opsional)",value:t.room_management_issues,onChange:e=>r("room_management_issues",e),placeholder:"Masalah apa yang ditemukan di Room Management?",isTextarea:!0,isRequired:!1})]})})})},v6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Booking Management Testing",description:"Akses menu Booking Management dan test approval workflow",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba fitur-fitur Booking Management sesuai role",alertType:"warning",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Bagaimana tampilan daftar booking?",value:t.booking_list_view,onChange:e=>r("booking_list_view",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(s6,{label:"2. Apakah informasi detail booking lengkap dan jelas?",value:t.booking_details,onChange:e=>r("booking_details",e),options:[{value:"very_complete",label:"Sangat lengkap dan jelas"},{value:"complete",label:"Lengkap dan jelas"},{value:"adequate",label:"Cukup lengkap"},{value:"incomplete",label:"Kurang lengkap"},{value:"very_incomplete",label:"Tidak lengkap sama sekali"}]}),(0,Xo.jsx)(a6,{label:"3. Seberapa mudah proses approve/reject booking?",value:t.approval_process,onChange:e=>r("approval_process",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"4. Apakah perubahan status booking real-time?",value:t.status_updates,onChange:e=>r("status_updates",e),options:[{value:"immediate",label:"Ya, langsung terupdate"},{value:"1-2min",label:"Ya, terupdate dalam 1-2 menit"},{value:"5-10min",label:"Ya, terupdate dalam 5-10 menit"},{value:"not_realtime",label:"Tidak real-time"},{value:"unknown",label:"Tidak tahu"}]}),(0,Xo.jsx)(a6,{label:"5. Bagaimana fitur filter dan pencarian booking?",value:t.filter_search,onChange:e=>r("filter_search",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(c6,{label:"6. Booking Management Feedback (Opsional)",value:t.booking_management_feedback,onChange:e=>r("booking_management_feedback",e),placeholder:"Saran perbaikan untuk Booking Management?",isTextarea:!0,isRequired:!1})]})})})},y6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Document Management Testing",description:"Test fitur review dan approval dokumen",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba fitur-fitur Document Management",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Bagaimana interface untuk review dokumen?",value:t.document_review_interface,onChange:e=>r("document_review_interface",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(s6,{label:"2. Bagaimana kualitas gambar dokumen yang ditampilkan?",value:t.image_quality,onChange:e=>r("image_quality",e),options:[{value:"very_clear",label:"Sangat jelas dan mudah dibaca"},{value:"clear",label:"Jelas dan mudah dibaca"},{value:"adequate",label:"Cukup jelas"},{value:"unclear",label:"Kurang jelas"},{value:"very_unclear",label:"Tidak jelas sama sekali"}]}),(0,Xo.jsx)(a6,{label:"3. Seberapa mudah proses approve/reject dokumen?",value:t.approval_process,onChange:e=>r("approval_process",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"4. Apakah fitur batch approve berfungsi dengan baik?",value:t.batch_operations,onChange:e=>r("batch_operations",e),options:[{value:"very_good",label:"Ya, sangat baik"},{value:"good",label:"Ya, cukup baik"},{value:"minor_bugs",label:"Ya, tapi ada bug kecil"},{value:"not_working",label:"Tidak berfungsi"},{value:"not_tried",label:"Tidak mencoba"}]}),(0,Xo.jsx)(a6,{label:"5. Bagaimana fitur filter dokumen berdasarkan status/tipe?",value:t.document_filters,onChange:e=>r("document_filters",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(c6,{label:"6. Document Management Issues (Opsional)",value:t.document_management_issues,onChange:e=>r("document_management_issues",e),placeholder:"Masalah apa yang ditemukan di Document Management?",isTextarea:!0,isRequired:!1})]})})})},x6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Payment Management Testing",description:"Test fitur verifikasi pembayaran",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba fitur-fitur Payment Management",alertType:"warning",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Bagaimana tampilan bukti pembayaran?",value:t.payment_proof_display,onChange:e=>r("payment_proof_display",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(a6,{label:"2. Seberapa mudah proses verifikasi pembayaran?",value:t.verification_process,onChange:e=>r("verification_process",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"3. Apakah status pembayaran sinkron dengan booking?",value:t.payment_status_sync,onChange:e=>r("payment_status_sync",e),options:[{value:"always_sync",label:"Ya, selalu sinkron"},{value:"sometimes_sync",label:"Ya, kadang-kadang sinkron"},{value:"not_sync",label:"Tidak sinkron"},{value:"unknown",label:"Tidak tahu"}]}),(0,Xo.jsx)(a6,{label:"4. Bagaimana fitur history pembayaran?",value:t.payment_history,onChange:e=>r("payment_history",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(c6,{label:"5. Payment Management Feedback (Opsional)",value:t.payment_management_feedback,onChange:e=>r("payment_management_feedback",e),placeholder:"Saran untuk Payment Management?",isTextarea:!0,isRequired:!1})]})})})},b6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Issue Management Testing",description:"Test fitur manajemen issue/keluhan",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba fitur-fitur Issue Management",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Bagaimana tampilan daftar issue?",value:t.issue_list_display,onChange:e=>r("issue_list_display",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(s6,{label:"2. Apakah detail issue lengkap dan informatif?",value:t.issue_details,onChange:e=>r("issue_details",e),options:[{value:"very_complete",label:"Sangat lengkap dan informatif"},{value:"complete",label:"Lengkap dan informatif"},{value:"adequate",label:"Cukup lengkap"},{value:"incomplete",label:"Kurang lengkap"},{value:"very_incomplete",label:"Tidak lengkap"}]}),(0,Xo.jsx)(a6,{label:"3. Seberapa mudah update status issue?",value:t.status_management,onChange:e=>r("status_management",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"4. Bagaimana fitur lihat attachment gambar?",value:t.attachment_viewing,onChange:e=>r("attachment_viewing",e),options:[{value:"very_good",label:"Sangat baik, gambar jelas"},{value:"good",label:"Baik, gambar cukup jelas"},{value:"adequate",label:"Cukup baik"},{value:"poor",label:"Kurang baik"},{value:"not_working",label:"Tidak berfungsi"}]}),(0,Xo.jsx)(c6,{label:"5. Issue Management Feedback (Opsional)",value:t.issue_management_feedback,onChange:e=>r("issue_management_feedback",e),placeholder:"Saran perbaikan Issue Management?",isTextarea:!0,isRequired:!1})]})})})},j6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Notification System Testing",description:"Test sistem notifikasi",isRequired:!0,alertMessage:"Pastikan Anda telah mencoba fitur-fitur Notification System",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Bagaimana tampilan notifikasi?",value:t.notification_display,onChange:e=>r("notification_display",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(s6,{label:"2. Apakah notifikasi real-time?",value:t.realtime_updates,onChange:e=>r("realtime_updates",e),options:[{value:"very_realtime",label:"Ya, sangat real-time"},{value:"realtime",label:"Ya, cukup real-time"},{value:"delayed",label:"Kadang-kadang delay"},{value:"not_realtime",label:"Tidak real-time"},{value:"unknown",label:"Tidak tahu"}]}),(0,Xo.jsx)(a6,{label:"3. Seberapa mudah mark notifikasi sebagai read?",value:t.mark_as_read,onChange:e=>r("mark_as_read",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"4. Apakah notifikasi yang diterima relevan dengan role Anda?",value:t.notification_relevance,onChange:e=>r("notification_relevance",e),options:[{value:"very_relevant",label:"Sangat relevan"},{value:"relevant",label:"Relevan"},{value:"adequate",label:"Cukup relevan"},{value:"less_relevant",label:"Kurang relevan"},{value:"not_relevant",label:"Tidak relevan"}]}),(0,Xo.jsx)(c6,{label:"5. Notification System Feedback (Opsional)",value:t.notification_system_feedback,onChange:e=>r("notification_system_feedback",e),placeholder:"Saran untuk sistem notifikasi?",isTextarea:!0,isRequired:!1})]})})})},w6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Overall System Evaluation",description:"Evaluasi keseluruhan sistem",isRequired:!0,alertMessage:"Section ini adalah evaluasi keseluruhan sistem berdasarkan pengalaman Anda",alertType:"success",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(a6,{label:"1. Secara keseluruhan, seberapa mudah menggunakan sistem?",value:t.overall_usability,onChange:e=>r("overall_usability",e),labels:["Sangat Sulit","Sulit","Cukup","Mudah","Sangat Mudah"]}),(0,Xo.jsx)(s6,{label:"2. Bagaimana stabilitas sistem selama penggunaan?",value:t.system_stability,onChange:e=>r("system_stability",e),options:[{value:"very_stable",label:"Sangat stabil, tidak ada error"},{value:"stable",label:"Stabil, error minimal"},{value:"adequate",label:"Cukup stabil"},{value:"unstable",label:"Kurang stabil, sering error"},{value:"very_unstable",label:"Tidak stabil"}]}),(0,Xo.jsx)(a6,{label:"3. Bagaimana performa sistem secara keseluruhan?",value:t.performance,onChange:e=>r("performance",e),labels:["Sangat Lambat","Lambat","Cukup","Cepat","Sangat Cepat"]}),(0,Xo.jsx)(a6,{label:"4. Bagaimana pengalaman pengguna secara keseluruhan?",value:t.user_experience,onChange:e=>r("user_experience",e),labels:["Sangat Buruk","Buruk","Cukup","Baik","Sangat Baik"]}),(0,Xo.jsx)(s6,{label:"5. Apakah fitur sistem sudah lengkap untuk kebutuhan admin?",value:t.feature_completeness,onChange:e=>r("feature_completeness",e),options:[{value:"very_complete",label:"Sangat lengkap"},{value:"complete",label:"Lengkap"},{value:"adequate",label:"Cukup lengkap"},{value:"incomplete",label:"Kurang lengkap"},{value:"very_incomplete",label:"Tidak lengkap"}]}),(0,Xo.jsx)(a6,{label:"6. Apakah Anda akan merekomendasikan sistem ini?",value:t.recommendation_score,onChange:e=>r("recommendation_score",e),labels:["Definitely No","Probably No","Maybe","Probably Yes","Definitely Yes"]}),(0,Xo.jsx)(c6,{label:"7. Most Liked Features (Opsional)",value:t.most_liked_features,onChange:e=>r("most_liked_features",e),placeholder:"Fitur apa yang paling Anda sukai?",isTextarea:!0,isRequired:!1}),(0,Xo.jsx)(c6,{label:"8. Most Disliked Features (Opsional)",value:t.most_disliked_features,onChange:e=>r("most_disliked_features",e),placeholder:"Fitur apa yang paling Anda tidak sukai?",isTextarea:!0,isRequired:!1}),(0,Xo.jsx)(c6,{label:"9. Missing Features (Opsional)",value:t.missing_features,onChange:e=>r("missing_features",e),placeholder:"Fitur apa yang masih kurang dan perlu ditambahkan?",isTextarea:!0,isRequired:!1}),(0,Xo.jsx)(c6,{label:"10. Overall Suggestions (Opsional)",value:t.overall_suggestions,onChange:e=>r("overall_suggestions",e),placeholder:"Saran keseluruhan untuk perbaikan sistem?",isTextarea:!0,isRequired:!1}),(0,Xo.jsx)(c6,{label:"11. Bug Reports (Opsional)",value:t.bug_reports,onChange:e=>r("bug_reports",e),placeholder:"Apakah ada bug/error yang ditemukan? Jelaskan detailnya...",isTextarea:!0,isRequired:!1})]})})})},k6=e=>{let{data:t,onChange:n}=e;const r=(e,r)=>{n((0,o.A)((0,o.A)({},t),{},{[e]:r}))};return(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(u6,{title:"Technical Issues",description:"Informasi teknis yang dapat membantu analisis",isRequired:!1,alertMessage:"Section ini opsional namun sangat membantu untuk analisis teknis",alertType:"info",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(s6,{label:"1. Browser apa yang Anda gunakan untuk testing?",value:t.browser_used,onChange:e=>r("browser_used",e),options:[{value:"chrome",label:"Chrome"},{value:"firefox",label:"Firefox"},{value:"safari",label:"Safari"},{value:"edge",label:"Edge"},{value:"other",label:"Lainnya"}],isRequired:!1}),(0,Xo.jsx)(s6,{label:"2. Device apa yang digunakan?",value:t.device_used,onChange:e=>r("device_used",e),options:[{value:"desktop",label:"Desktop/Laptop"},{value:"tablet",label:"Tablet"},{value:"mobile",label:"Mobile Phone"}],isRequired:!1}),(0,Xo.jsx)(s6,{label:"3. Resolusi layar yang digunakan?",value:t.screen_resolution,onChange:e=>r("screen_resolution",e),options:[{value:"high",label:"1920x1080 atau lebih tinggi"},{value:"medium",label:"1366x768"},{value:"low",label:"1280x720"},{value:"mobile",label:"Mobile resolution"},{value:"other",label:"Lainnya"}],isRequired:!1}),(0,Xo.jsx)(s6,{label:"4. Kecepatan internet saat testing?",value:t.internet_connection,onChange:e=>r("internet_connection",e),options:[{value:"very_fast",label:"Sangat cepat (>50 Mbps)"},{value:"fast",label:"Cepat (10-50 Mbps)"},{value:"medium",label:"Sedang (1-10 Mbps)"},{value:"slow",label:"Lambat (<1 Mbps)"}],isRequired:!1}),(0,Xo.jsx)(c6,{label:"5. Technical Issues Encountered (Opsional)",value:t.technical_issues,onChange:e=>r("technical_issues",e),placeholder:"Masalah teknis apa yang ditemukan?",isTextarea:!0,isRequired:!1})]})})})};n(7762).uE;n(557);const S6=()=>{const[e,n]=(0,t.useState)(0),[r,i]=(0,t.useState)({}),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)({}),d=hb(),u=(0,t.useRef)(),h=zs("gray.50","gray.900"),p=zs("white","gray.800"),f=zs("gray.200","gray.600"),m=[{id:"responden",title:"Informasi Responden",component:h6,required:!0,icon:w_},{id:"authentication",title:"Authentication & Authorization",component:p6,required:!0,icon:d_},{id:"dashboard",title:"Dashboard & Navigation",component:f6,required:!0,icon:w_},{id:"user_management",title:"User Management",component:m6,required:!0,icon:w_},{id:"room_management",title:"Room Management",component:g6,required:!0,icon:w_},{id:"booking_management",title:"Booking Management",component:v6,required:!0,icon:w_},{id:"document_management",title:"Document Management",component:y6,required:!0,icon:w_},{id:"payment_management",title:"Payment Management",component:x6,required:!0,icon:w_},{id:"issue_management",title:"Issue Management",component:b6,required:!0,icon:w_},{id:"notification",title:"Notification System",component:j6,required:!0,icon:w_},{id:"overall_evaluation",title:"Overall System Evaluation",component:w6,required:!0,icon:w_},{id:"technical_issues",title:"Technical Issues",component:k6,required:!1,icon:i_}],g=m[e],v=g.component,y=(e+1)/m.length*100,x=t=>{const n=m[t],i=r[n.id]&&Object.keys(r[n.id]).length>0;return l[n.id]?"error":i?"completed":t===e?"current":"pending"};return(0,Xo.jsx)(Eb,{minH:"100vh",bg:h,py:8,children:(0,Xo.jsx)(Ob,{maxW:"6xl",children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsx)(Vb,{bg:p,shadow:"lg",borderColor:f,children:(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"lg",color:"brand.600",textAlign:"center",children:"User Acceptance Testing (UAT) - Admin/User POV"}),(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.600",children:"Sistem Manajemen Rusunawa - Pengujian Komprehensif"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",mb:2,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:["Section ",e+1," of ",m.length]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"brand.600",fontWeight:"medium",children:[Math.round(y),"% Complete"]})]}),(0,Xo.jsx)(a0,{value:y,colorScheme:"brand",size:"lg",borderRadius:"full",bg:"gray.100"})]})]})})}),(0,Xo.jsx)(Vb,{bg:p,shadow:"md",borderColor:f,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Xj,{flexWrap:"wrap",gap:2,children:m.map(((t,r)=>{const i=(e=>{switch(e){case"completed":return"green";case"current":return"blue";case"error":return"red";default:return"gray"}})(x(r));return(0,Xo.jsx)(r_,{variant:r===e?"solid":"outline",colorScheme:i,px:3,py:1,borderRadius:"full",cursor:"pointer",onClick:()=>n(r),_hover:{transform:"scale(1.05)"},transition:"all 0.2s",children:(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Zv,{as:t.icon,w:3,h:3}),(0,Xo.jsxs)(Tb,{fontSize:"xs",fontWeight:"medium",children:[r+1,". ",t.title]})]})},t.id)}))})})}),l[g.id]&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(ly,{children:"Error!"}),(0,Xo.jsx)(cy,{children:l[g.id]})]}),(0,Xo.jsxs)(Vb,{bg:p,shadow:"lg",borderColor:f,ref:u,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:g.icon,w:6,h:6,color:"brand.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsxs)(Wb,{size:"md",color:"brand.600",children:["Section ",e+1,": ",g.title]}),g.required&&(0,Xo.jsx)(r_,{colorScheme:"red",size:"sm",children:"Required"})]})]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsx)(v,{data:r[g.id]||{},onChange:e=>((e,t)=>{i((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})))})(g.id,e)})})]}),(0,Xo.jsx)(Vb,{bg:p,shadow:"md",borderColor:f,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Xj,{children:[(0,Xo.jsx)(Bj,{onClick:()=>{e>0&&n(e-1)},disabled:0===e,variant:"outline",colorScheme:"brand",children:"Previous"}),(0,Xo.jsx)(N4,{}),(0,Xo.jsx)(dS,{spacing:4,children:e===m.length-1?(0,Xo.jsx)(Bj,{onClick:async()=>{try{s(!0);let e=!1;const t={};if(m.forEach((n=>{!n.required||r[n.id]&&0!==Object.keys(r[n.id]).length||(t[n.id]="Section wajib belum diisi",e=!0)})),e)return c(t),void d({title:"Form Belum Lengkap",description:"Mohon lengkapi semua section yang wajib diisi",status:"error",duration:5e3,isClosable:!0});await((e,t)=>{try{let n='<!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><title>Hasil Pengujian UAT - Sistem Rusunawa</title><style>\n      body { font-family: Arial, sans-serif; margin: 32px; }\n      h1, h2 { color: #0080e6; }\n      table { border-collapse: collapse; width: 100%; margin-bottom: 24px; }\n      th, td { border: 1px solid #ccc; padding: 8px; }\n      th { background: #0080e6; color: #fff; }\n      .section { margin-bottom: 32px; }\n      .footer { color: #888; font-size: 12px; text-align: center; margin-top: 48px; }\n    </style></head><body>';n+="<h1>Hasil Pengujian UAT - Sistem Rusunawa</h1>",n+="<div><strong>Tanggal Export:</strong> ".concat((new Date).toLocaleString("id-ID"),"</div>"),e.responden&&(n+="<div><strong>Nama:</strong> ".concat(e.responden.nama_lengkap||"-","<br>"),n+="<strong>Role:</strong> ".concat(e.responden.role||"-","<br>"),n+="<strong>Email:</strong> ".concat(e.responden.email||"-","<br>"),n+="<strong>Pengalaman:</strong> ".concat(e.responden.pengalaman||"-","</div>")),t.forEach(((t,r)=>{const i=e[t.id]||{};n+='<div class="section"><h2>'.concat(r+1,". ").concat(t.title,"</h2><table><tbody>"),Object.entries(i).forEach((e=>{let[t,r]=e;n+="<tr><th>".concat(t,"</th><td>").concat(Array.isArray(r)?r.join(", "):r||"-","</td></tr>")})),n+="</tbody></table></div>"})),n+='<div class="footer">Exported at '.concat((new Date).toLocaleString("id-ID"),"</div>"),n+="</body></html>";const r=new Blob([n],{type:"text/html"}),i=URL.createObjectURL(r),o=document.createElement("a");return o.href=i,o.download="UAT_Test_Results_".concat((new Date).toISOString().replace(/[:.]/g,"-"),".html"),document.body.appendChild(o),o.click(),setTimeout((()=>{document.body.removeChild(o),URL.revokeObjectURL(i)}),100),{success:!0}}catch(n){throw console.error("HTML Export Error:",n),new Error("Gagal mengekspor HTML: "+n.message)}})(r,m),d({title:"Export Berhasil",description:"Hasil pengujian UAT berhasil diekspor ke HTML",status:"success",duration:3e3,isClosable:!0})}catch(e){console.error("Export error:",e),d({title:"Export Gagal",description:"Terjadi kesalahan saat mengekspor HTML",status:"error",duration:5e3,isClosable:!0})}finally{s(!1)}},colorScheme:"green",size:"lg",leftIcon:(0,Xo.jsx)(y_,{}),isLoading:a,loadingText:"Exporting...",children:"Export to PDF"}):(0,Xo.jsx)(Bj,{onClick:()=>{(()=>{const e=g.id,t=r[e]||{};if(g.required&&!(Object.keys(t).length>0))return c({[e]:"Section ini wajib diisi"}),!1;return c({}),!0})()?e<m.length-1&&n(e+1):d({title:"Validasi Error",description:"Mohon lengkapi section ini sebelum melanjutkan",status:"error",duration:3e3,isClosable:!0})},colorScheme:"brand",size:"lg",children:"Next Section"})})]})})}),(0,Xo.jsx)(Vb,{bg:p,shadow:"md",borderColor:f,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Wb,{size:"sm",color:"gray.600",children:"Progress Summary"}),(0,Xo.jsxs)(dS,{spacing:8,justify:"center",children:[(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:m.filter(((e,t)=>"completed"===x(t))).length}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Completed"})]}),(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"blue.500",children:"1"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Current"})]}),(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"gray.500",children:m.filter(((e,t)=>"pending"===x(t))).length}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Remaining"})]}),m.filter(((e,t)=>"error"===x(t))).length>0&&(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"red.500",children:m.filter(((e,t)=>"error"===x(t))).length}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Errors"})]})]})]})})})]})})})},_6=["className"],A6=Dv((function(e,t){const n=Vv("Code",e),r=Ov(e),{className:i}=r,a=Jo(r,_6);return(0,Xo.jsx)(Tv.code,(0,o.A)((0,o.A)({ref:t,className:Lv("chakra-code",e.className)},a),{},{__css:(0,o.A)({display:"inline-block"},n)}))}));A6.displayName="Code";const C6=()=>{const[e,n]=(0,t.useState)("1"),[r,i]=(0,t.useState)(!1),o=hb();return(0,Xo.jsx)(pQ,{children:(0,Xo.jsx)(Eb,{p:6,maxW:"1200px",mx:"auto",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"lg",children:"Room Image Gallery Demo"}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"API Information"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:4,children:[(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Endpoint:"})," ",(0,Xo.jsxs)(A6,{children:["GET /v1/rooms/","{roomId}","/images"]})]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Example URL:"})," ",(0,Xo.jsx)(A6,{children:"rusunawa-skripsi-v1-production.up.railway.app/v1/rooms/1/images"})]}),(0,Xo.jsx)(Tb,{children:(0,Xo.jsx)("strong",{children:"Response Format:"})}),(0,Xo.jsx)(A6,{display:"block",whiteSpace:"pre",p:4,bg:"gray.50",borderRadius:"md",fontSize:"sm",maxH:"300px",overflowY:"auto",children:JSON.stringify({images:[{imageId:1,roomId:1,imageData:"iVBORw0KGgoAAAANSUhEUgAAAA...",imageName:"kafka.png",contentType:"image/png",fileSize:233114,isPrimary:!0,uploadedAt:"2025-06-18T03:06:08.323930Z"}],status:{message:"Room images retrieved successfully",status:"success"}},null,2)})]})})]}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Features Implemented"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{children:"\u2705 Image data returned with binary bytes for preview"}),(0,Xo.jsx)(Tb,{children:"\u2705 Automatic conversion to data URLs for display"}),(0,Xo.jsx)(Tb,{children:"\u2705 Primary image marking and management"}),(0,Xo.jsx)(Tb,{children:"\u2705 Image upload with validation (5MB max, JPEG/PNG only)"}),(0,Xo.jsx)(Tb,{children:"\u2705 Image deletion with confirmation"}),(0,Xo.jsx)(Tb,{children:"\u2705 Full-screen image preview modal"}),(0,Xo.jsx)(Tb,{children:"\u2705 Download functionality"}),(0,Xo.jsx)(Tb,{children:"\u2705 File size and upload date display"}),(0,Xo.jsx)(Tb,{children:"\u2705 Grid layout with responsive design"})]})})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Test Room Image Gallery"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Enter a room ID to test the image gallery functionality. Make sure your backend server is running on port 8001."]}),(0,Xo.jsxs)(dS,{w:"100%",children:[(0,Xo.jsx)(Tb,{minW:"80px",children:"Room ID:"}),(0,Xo.jsx)(gj,{value:e,onChange:e=>n(e.target.value),placeholder:"Enter room ID (e.g., 1)",maxW:"200px"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",onClick:()=>{e&&""!==e.trim()?i(!0):o({title:"Error",description:"Please enter a valid room ID",status:"error",duration:3e3,isClosable:!0})},children:"Load Gallery"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>i(!1),children:"Hide Gallery"})]}),r&&(0,Xo.jsx)(Eb,{w:"100%",mt:6,children:(0,Xo.jsx)(E5,{roomId:parseInt(e),isEditable:!0,onImagesChange:e=>{console.log("Images updated:",e),o({title:"Images Updated",description:"Gallery now has ".concat(e.length," image(s)"),status:"info",duration:2e3,isClosable:!0})}})})]})})]}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"How to Use"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"1. View Images:"})," The gallery automatically loads all images for the specified room with preview data."]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"2. Upload Images:"}),' Click "Add Image" to upload new images (max 5MB, JPEG/PNG only).']}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"3. Set Primary:"})," Click the star icon to set an image as the primary room image."]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"4. Delete Images:"})," Click the trash icon to delete images (with confirmation)."]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"5. Preview:"})," Click on any image to view it in full-screen mode."]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"6. Download:"})," Use the download button in the preview modal to save images."]})]})})]})]})})})},P6=()=>(0,Xo.jsx)(yb,{children:(0,Xo.jsxs)(Gx,{children:[(0,Xo.jsx)(Hx,{path:"/admin/login",element:(0,Xo.jsx)(Zj,{})}),(0,Xo.jsx)(Hx,{path:"/admin/forgot-password",element:(0,Xo.jsx)(cS,{})}),(0,Xo.jsx)(Hx,{path:"/admin/reset-password",element:(0,Xo.jsx)(zS,{})}),(0,Xo.jsx)(Hx,{path:"/admin/dashboard",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(yQ,{})})}),"          ",(0,Xo.jsx)(Hx,{path:"/admin/analytics",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(w0,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/tenants",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(T2,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/rooms",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(Q5,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/rooms/types",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(Q5,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/rooms/availability",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(Q5,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/bookings",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(l4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/bookings/pending",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(l4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/bookings/calendar",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(l4,{})})}),"        ",(0,Xo.jsx)(Hx,{path:"/admin/payments",element:(0,Xo.jsx)(Nb,{allowedRoles:["admin","wakil_direktorat","super_admin"],children:(0,Xo.jsx)(c4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/payments/pending",element:(0,Xo.jsx)(Nb,{allowedRoles:["admin","wakil_direktorat","super_admin"],children:(0,Xo.jsx)(c4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/invoices",element:(0,Xo.jsx)(Nb,{allowedRoles:["admin","wakil_direktorat","super_admin"],children:(0,Xo.jsx)(c4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/payments/reports",element:(0,Xo.jsx)(Nb,{allowedRoles:["admin","wakil_direktorat","super_admin"],children:(0,Xo.jsx)(c4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/documents",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(d4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/documents/pending",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(d4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/documents/types",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(d4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/issues",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(I4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/issues/open",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(I4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/issues/categories",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(I4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/users",element:(0,Xo.jsx)(Nb,{allowedRoles:["admin","wakil_direktorat","super_admin"],children:(0,Xo.jsx)(W4,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/testing",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(S6,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/pengujian",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(S6,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/uat",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(S6,{})})}),(0,Xo.jsx)(Hx,{path:"/admin/room-image-demo",element:(0,Xo.jsx)(Nb,{children:(0,Xo.jsx)(C6,{})})}),(0,Xo.jsx)(Hx,{path:"/admin",element:(0,Xo.jsx)(qx,{to:"/admin/dashboard",replace:!0})}),(0,Xo.jsx)(Hx,{path:"/",element:(0,Xo.jsx)(qx,{to:"/admin/dashboard",replace:!0})}),(0,Xo.jsx)(Hx,{path:"*",element:(0,Xo.jsx)(qx,{to:"/admin/login",replace:!0})})]})});var I6=n(9722);const T6="rusunawa-skripsi-v1-production.up.railway.app",N6="".concat(T6,"/v1/tenant/auth"),E6={login:async e=>{try{var t;const n={email:e.email||"",password:e.password||""};console.log("Sending login request for email:",n.email);const r={headers:{"Content-Type":"application/json"}},i=await I6.A.post("".concat(N6,"/login"),n,r);return null!==(t=i.data)&&void 0!==t&&t.token&&(localStorage.setItem("tenant_token",i.data.token),localStorage.setItem("token",i.data.token),localStorage.setItem("tenant",JSON.stringify(i.data.tenant))),i.data}catch(l){var n,r,i,o;if(console.error("Login error:",l),401===(null===(n=l.response)||void 0===n?void 0:n.status)&&null!==(r=l.response.data)&&void 0!==r&&null!==(i=r.message)&&void 0!==i&&i.includes("not verified")){if("true"===localStorage.getItem("email_verified")){localStorage.removeItem("email_verified");try{var a;console.log("Recent verification detected - retrying login after delay"),await new Promise((e=>setTimeout(e,1500)));const t=await I6.A.post("".concat(N6,"/login"),e);return null!==(a=t.data)&&void 0!==a&&a.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("tenant",JSON.stringify(t.data.tenant))),t.data}catch(c){var s;throw console.error("Retry login error:",c),(null===(s=c.response)||void 0===s?void 0:s.data)||{message:"Email not verified, please check your email for verification link"}}}}throw(null===(o=l.response)||void 0===o?void 0:o.data)||{message:"Authentication failed"}}},register:async e=>{try{const t=(0,o.A)({},e);void 0!==t.homeLatitude&&(t.homeLatitude=null===t.homeLatitude?null:Number(t.homeLatitude)),void 0!==t.homeLongitude&&(t.homeLongitude=null===t.homeLongitude?null:Number(t.homeLongitude)),console.log("Final registration payload:",t);return(await I6.A.post("".concat(N6,"/register"),t)).data}catch(n){var t;throw console.error("Registration error:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Registration failed"}}},verifyToken:async e=>{try{const t=2;let r,i=0;for(console.log("Verifying token at:","".concat(N6,"/verify-token"));i<=t;)try{return(await I6.A.post("".concat(N6,"/verify-token"),e,{timeout:5e3})).data}catch(n){r=n,i++,i<=t&&(await new Promise((e=>setTimeout(e,1e3*i))),console.log("Retrying token verification (attempt ".concat(i,")")))}throw console.error("Token verification failed after retries:",r),r}catch(n){var t;if(console.error("Token verification error:",n),"ERR_NETWORK"===n.code)return console.warn("Network error during token verification, allowing offline mode"),{valid:!0,status:{status:"warning",message:"Using cached credentials due to connectivity issues"},offline:!0};throw(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Token verification failed"}}},forgotPassword:async e=>{try{return(await I6.A.post("".concat(N6,"/forgot-password"),e)).data}catch(n){var t;throw console.error("Password reset request error:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Password reset request failed"}}},resetPassword:async e=>{try{return(await I6.A.post("".concat(N6,"/reset-password"),e)).data}catch(n){var t;throw console.error("Password reset error:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Password reset failed"}}},verifyEmail:async e=>{try{console.log("Attempting to verify email with token:",e.token);const t="".concat(N6,"/verify-email");console.log("Sending verification request to:",t);const n=await I6.A.post(t,e,{timeout:1e4});return console.log("Verification successful:",n.data),localStorage.setItem("email_verified","true"),n.data}catch(r){var t,n;return console.error("Email verification error:",r),r.response?(console.error("Error response:",r.response.data),console.error("Error status:",r.response.status),500===r.response.status&&null!==(t=r.response.data)&&void 0!==t&&null!==(n=t.message)&&void 0!==n&&n.includes("already verified")?(console.log("Email is already verified - setting verified status"),localStorage.setItem("email_verified","true"),{status:"success",message:"Email is already verified",alreadyVerified:!0}):{status:"error",message:r.response.data.message||"Verification failed"}):r.request?(console.error("No response received:",r.request),{status:"error",message:"No response from server. Please try again."}):(console.error("Request setup error:",r.message),{status:"error",message:"Request failed. Please try again."})}},resendVerification:async e=>{try{console.log("Resending verification email to:",e.email);const t=await I6.A.post("".concat(N6,"/resend-verification"),e);return console.log("Resend successful:",t.data),t.data}catch(t){if(console.error("Resend verification error:",t),t.response)return{status:"error",message:t.response.data.message||"Failed to resend verification"};throw t}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("tenant")},getCurrentTenant:()=>{const e=localStorage.getItem("tenant");return e?JSON.parse(e):null},getToken:()=>localStorage.getItem("token"),isAuthenticated:()=>!!localStorage.getItem("token"),checkNIMAvailability:async e=>{try{const t=await I6.A.get("".concat(T6,"/v1/tenants"));if(t.data&&t.data.tenants){const n=!t.data.tenants.filter((e=>e.nim)).map((e=>e.nim.toLowerCase())).includes(e.toLowerCase());return{available:n,message:n?"NIM available":"NIM already registered"}}return{available:!0,message:"Unable to verify, assuming available"}}catch(t){return console.error("Error checking NIM availability:",t),{available:!0,message:"Unable to check availability, proceeding with registration"}}},checkEmailAvailability:async e=>{try{const t=await I6.A.get("".concat(T6,"/v1/tenants"));if(t.data&&t.data.tenants){const n=!t.data.tenants.filter((e=>e.user&&e.user.email)).map((e=>e.user.email.toLowerCase())).includes(e.toLowerCase());return{available:n,message:n?"Email available":"Email already registered"}}return{available:!0,message:"Unable to verify, assuming available"}}catch(t){return console.error("Error checking email availability:",t),{available:!0,message:"Unable to check availability, proceeding with registration"}}},checkEmailVerification:async e=>{try{const t=E6.getToken(),n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{},r=await I6.A.get("".concat(T6,"/tenants/").concat(e,"/verification-status"),n);return r.data&&r.data.isVerified&&localStorage.setItem("email_verified","true"),r.data}catch(t){return console.error("Error checking verification status:",t),{isVerified:"true"===localStorage.getItem("email_verified")}}}},z6=E6,O6=(0,t.createContext)(null),L6=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{l(!0);try{const e=localStorage.getItem("tenant_token");if(!e)return a(!1),i(null),void l(!1);const t=await z6.verifyToken({token:e});console.log("TenantAuth - Token verification response:",t),t.valid&&t.tenant?(a(!0),i(t.tenant),console.log("TenantAuth - User authenticated:",t.tenant)):(a(!1),i(null),localStorage.removeItem("tenant_token"),localStorage.removeItem("email_verified"),console.log("TenantAuth - Invalid token, user logged out"))}catch(c){console.error("Authentication error:",c),d("Authentication failed. Please try again."),a(!1),i(null),localStorage.removeItem("tenant_token"),localStorage.removeItem("email_verified")}finally{l(!1)}})()}),[]);const u={tenant:r,isAuthenticated:o,isLoading:s,error:c,login:async e=>{l(!0),d(null);try{const{email:t,password:n}=e,r=await z6.login({email:t,password:n});return r.token&&r.tenant?(localStorage.setItem("tenant_token",r.token),a(!0),i(r.tenant),console.log("TenantAuth - Login successful, user authenticated:",r.tenant),{success:!0,tenant:r.tenant}):(d("Login failed. Please check your credentials."),console.log("TenantAuth - Login failed, no token or tenant in response"),{success:!1,error:"Login failed"})}catch(c){var t,n;if(null!==(t=c.message)&&void 0!==t&&t.includes("not verified")||null!==(n=c.message)&&void 0!==n&&n.includes("verification")){const t="Email not verified. Please check your email for the verification link.";return d(t),{success:!1,error:t,needsVerification:!0,email:e.email}}const i=c.message||"Login failed. Please try again.";return d(i),{success:!1,error:i}}finally{l(!1)}},logout:()=>{localStorage.removeItem("tenant_token"),localStorage.removeItem("email_verified"),a(!1),i(null)},register:async e=>{l(!0),d(null);try{const t=await z6.register(e);return t.tenant?{success:!0,tenant:t.tenant}:(d("Registration failed."),{success:!1,error:"Registration failed"})}catch(c){var t,n;const r=(null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Registration failed. Please try again.";return d(r),{success:!1,error:r}}finally{l(!1)}},requestPasswordReset:async e=>{l(!0),d(null);try{return{success:!0,message:(await z6.forgotPassword({email:e})).message}}catch(c){const t=c.message||"Failed to request password reset. Please try again.";throw d(t),new Error(t)}finally{l(!1)}},refreshTenant:async()=>{try{const e=localStorage.getItem("tenant_token");if(!e)return;const t=await z6.verifyToken({token:e});if(t.valid&&t.tenant)return i(t.tenant),t.tenant}catch(c){console.error("Error refreshing tenant data:",c)}}};return(0,Xo.jsx)(O6.Provider,{value:u,children:n})},D6=()=>{const e=(0,t.useContext)(O6);if(!e)throw new Error("useTenantAuth must be used within a TenantAuthProvider");return e},R6=e=>{let{message:t="Loading..."}=e;return(0,Xo.jsxs)(Xj,{direction:"column",justifyContent:"center",alignItems:"center",height:"50vh",width:"100%",children:[(0,Xo.jsx)(Qv,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"brand.500",size:"xl"}),(0,Xo.jsx)(Tb,{mt:4,color:"gray.500",children:t})]})},M6=e=>{let{children:n}=e;const{isLoading:r}=D6(),i=_x();return(0,t.useEffect)((()=>{["/tenant/login","/tenant/register","/tenant/forgot-password","/tenant/reset-password","/tenant/verification-prompt","/tenant/email-verification"].includes(i.pathname)||sessionStorage.setItem("tenant_last_location",i.pathname+i.search)}),[i]),r?(0,Xo.jsx)(R6,{message:"Initializing application..."}):n},B6=()=>{const[e,n]=(0,t.useState)({email:"",password:"",rememberMe:!1}),[r,i]=(0,t.useState)({}),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),f=zs("white","gray.700"),m=zs("gray.700","gray.200"),g=zs("gray.50","gray.800"),v=Cx(),y=_x(),x=hb(),{login:b,isAuthenticated:j}=D6(),w=(()=>{var e,t;if(null!==(e=y.state)&&void 0!==e&&null!==(t=e.from)&&void 0!==t&&t.pathname)return y.state.from.pathname;const n=sessionStorage.getItem("tenant_last_location");return n&&"/tenant/login"!==n?n:"/tenant/dashboard"})();(0,t.useEffect)((()=>{const e=new URLSearchParams(y.search),t=e.get("verified"),r=e.get("email");"true"===t&&(u(!0),r&&n((e=>(0,o.A)((0,o.A)({},e),{},{email:r}))),x({title:"Verifikasi Email Berhasil",description:"Kamu sekarang dapat masuk ke akunmu.",status:"success",duration:5e3,isClosable:!0}))}),[y,x]),(0,t.useEffect)((()=>{var e;null!==(e=y.state)&&void 0!==e&&e.verificationSuccess&&(x({title:"Email Berhasil Diverifikasi!",description:y.state.message||"Email kamu berhasil diverifikasi. Silakan masuk.",status:"success",duration:5e3,isClosable:!0}),v(y.pathname,{replace:!0}))}),[y,x,v]),(0,t.useEffect)((()=>{if(j&&"/tenant/login"===y.pathname){sessionStorage.getItem("just_logged_in")&&(sessionStorage.removeItem("just_logged_in"),v(w,{replace:!0}))}}),[j,v,w,y.pathname]);const k=e=>{const{name:t,value:a,checked:s}=e.target,l="rememberMe"===t?s:a;n((e=>(0,o.A)((0,o.A)({},e),{},{[t]:l}))),r[t]&&i((e=>(0,o.A)((0,o.A)({},e),{},{[t]:""}))),h&&p("")};return(0,Xo.jsx)(Eb,{minH:"100vh",bg:g,children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:10,children:(0,Xo.jsxs)(Cb,{direction:{base:"column",md:"row"},spacing:8,children:[(0,Xo.jsx)(Eb,{display:{base:"none",md:"block"},flexBasis:{md:"50%"},children:(0,Xo.jsxs)(Pb,{align:"start",spacing:6,children:[(0,Xo.jsx)(Wb,{as:"h1",size:"xl",children:"Selamat Datang di Rusunawa PNJ"}),(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa PNJ Logo",borderRadius:"md",boxShadow:"lg",w:"100%",h:"400px",objectFit:"contain",fallbackSrc:Yj}),(0,Xo.jsx)(Tb,{fontSize:"lg",children:"Rusunawa PNJ menyediakan hunian nyaman dan terjangkau untuk mahasiswa dan profesional di Politeknik Negeri Jakarta."}),(0,Xo.jsx)(Vb,{variant:"outline",width:"100%",children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsx)(Wb,{size:"md",mb:4,children:"Kenapa Memilih Rusunawa PNJ?"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nk,color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Lokasi strategis di dalam kampus"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nk,color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Keamanan & dukungan 24 jam"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nk,color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Harga terjangkau untuk mahasiswa"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nk,color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Fasilitas nyaman & terawat"})]})]})]})})]})}),(0,Xo.jsxs)(Eb,{flexBasis:{base:"100%",md:"50%"},children:[(0,Xo.jsx)(Vb,{bg:f,p:8,borderRadius:"lg",boxShadow:"md",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,as:"form",onSubmit:async t=>{if(t.preventDefault(),p(""),(()=>{const t={};return e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Masukkan alamat email yang valid"):t.email="Email wajib diisi",e.password?e.password.length<6&&(t.password="Kata sandi minimal 6 karakter"):t.password="Kata sandi wajib diisi",i(t),0===Object.keys(t).length})()){c(!0);try{const t=await b({email:e.email,password:e.password});if(t.success)sessionStorage.setItem("just_logged_in","true"),sessionStorage.removeItem("tenant_last_location"),x({title:"Berhasil Masuk",description:"Selamat datang kembali!",status:"success",duration:3e3,isClosable:!0}),v(w,{replace:!0});else if(t.needsVerification)v("/tenant/verification-prompt",{state:{email:e.email,from:w}});else{let e="Email atau kata sandi salah";t.error&&(e=t.error.includes("invalid email or password")?"Email atau kata sandi salah. Silakan cek kembali.":t.error.includes("Login failed")?"Gagal masuk. Silakan cek email dan kata sandi.":t.error),p(e),x({title:"Gagal Masuk",description:e,status:"error",duration:5e3,isClosable:!0})}}catch(Pee){console.error("Login error:",Pee);let t="Terjadi kesalahan. Silakan coba lagi.";if(Pee.response&&Pee.response.data){const n=Pee.response.data;n.message&&n.message.includes("invalid email or password")?t="Email atau kata sandi salah. Silakan cek kembali.":n.message&&(t=n.message)}else Pee.message&&(t=Pee.message);p(t),x({title:"Kesalahan Masuk",description:t,status:"error",duration:5e3,isClosable:!0})}finally{c(!1)}}},children:[(0,Xo.jsx)(Wb,{textAlign:"center",children:"Masuk ke Akun Anda"}),d&&(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Email berhasil diverifikasi!"}),(0,Xo.jsx)(cy,{children:"Email kamu sudah diverifikasi. Silakan masuk ke akunmu."})]})]}),h&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Gagal Masuk!"}),(0,Xo.jsx)(cy,{children:h})]})]}),(0,Xo.jsxs)(ij,{isInvalid:!!r.email,children:[(0,Xo.jsx)(sj,{color:m,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:qw}),(0,Xo.jsx)(Tb,{children:"Alamat Email"})]})}),(0,Xo.jsx)(gj,{type:"email",name:"email",value:e.email,onChange:k,placeholder:"emailkamu@email.com",size:"lg",autoComplete:"email"}),(0,Xo.jsx)(xj,{children:r.email})]}),(0,Xo.jsxs)(ij,{isInvalid:!!r.password,children:[(0,Xo.jsx)(sj,{color:m,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:fk}),(0,Xo.jsx)(Tb,{children:"Kata Sandi"})]})}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{type:a?"text":"password",name:"password",value:e.password,onChange:k,placeholder:"Masukkan kata sandi",size:"lg",autoComplete:"current-password"}),(0,Xo.jsx)(Nj,{width:"4.5rem",h:"100%",children:(0,Xo.jsx)(Bj,{h:"1.75rem",size:"sm",onClick:()=>s(!a),variant:"ghost",children:a?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{})})})]}),(0,Xo.jsx)(xj,{children:r.password})]}),(0,Xo.jsx)(dS,{justify:"flex-end",width:"100%",children:(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/forgot-password",color:"brand.500",children:"Lupa kata sandi?"})}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",width:"100%",isLoading:l,loadingText:"Sedang Masuk",children:"Masuk"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Tb,{textAlign:"center",children:["Belum punya akun?"," ",(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/register",color:"brand.500",fontWeight:"semibold",children:"Daftar Sekarang"})]})]})})}),(0,Xo.jsx)(Eb,{display:{base:"block",md:"none"},textAlign:"center",mt:4,children:(0,Xo.jsx)(Hj,{as:nb,to:"/",color:"brand.500",children:"\u2190 Kembali ke Beranda"})})]})]})})})},F6=Vj({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}),W6=Vj({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z",displayName:"WarningIcon"}),U6=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.length>254?"Email address is too long":e.includes("..")?"Email address cannot contain consecutive dots":e.startsWith(".")||e.endsWith(".")?"Email address cannot start or end with a dot":"":"Please enter a valid email address":"Email is required",q6=e=>e?e.length<8?"Password must be at least 8 characters":/\d/.test(e)?/[!@#$%^&*(),.?":{}|<>]/.test(e)?"":"Password must contain at least one special character":"Password must contain at least one number":"Password is required",H6=(e,t)=>t?e!==t?"Passwords do not match":"":"Please confirm your password",V6=e=>e?e.length<2?"Name must be at least 2 characters":"":"Name is required",G6=e=>e?/^(\+62|62|0)8[1-9][0-9]{6,9}$/.test(e)?"":"Invalid Indonesian phone number":"Phone number is required",K6=e=>{if(!e)return"NIM is required";if(e.length<5)return"NIM must be at least 5 characters";if(e.length>20)return"NIM cannot exceed 20 characters";return/^[a-zA-Z0-9]+$/.test(e)?e.length>0&&""===e.trim()?"NIM cannot be empty or just spaces":"":"NIM can only contain letters and numbers"},Y6=e=>e?e.length<10?"Address must be at least 10 characters":"":"Address is required",Z6=e=>{if(!e)return"";const t={"gamil.com":"gmail.com","gmai.com":"gmail.com","gmial.com":"gmail.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com","hotmial.com":"hotmail.com","outloook.com":"outlook.com"},n=e.split("@")[1];return n&&t[n.toLowerCase()]?"Did you mean ".concat(e.split("@")[0],"@").concat(t[n.toLowerCase()],"?"):""},J6=function(e){if(!e)return"NIM is required";if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){if(!/^2[0-9]\d{2}[0-9A-Z]{4,8}$/i.test(e))return"NIM format tidak valid. NIM PNJ harus dimulai dengan 2 angka tahun (contoh: 2021, 2024) diikuti kode program."}return K6(e)},X6=["Teknik Informatika","Sistem Informasi","Teknik Komputer","Teknik Elektro","Teknik Mesin","Teknik Sipil","Teknik Industri","Teknik Kimia","Arsitektur","Manajemen","Akuntansi","Ekonomi","Hukum","Psikologi","Kedokteran","Farmasi","Keperawatan","Pendidikan","Sastra Indonesia","Sastra Inggris","Komunikasi","Desain Grafis","Lainnya"],$6=[{title:"Akun",description:"Buat akun"},{title:"Data Diri",description:"Informasi pribadi"},{title:"Lokasi",description:"Alamat rumah"},{title:"Tinjau",description:"Selesai"}],Q6=()=>{const e=Cx(),n=_x(),r=hb(),{activeStep:i,setActiveStep:a}=O5({index:0,count:$6.length}),{isAuthenticated:s}=D6();(0,t.useEffect)((()=>{if(s&&"/tenant/register"===n.pathname){sessionStorage.getItem("just_registered")&&(sessionStorage.removeItem("just_registered"),e("/tenant/dashboard",{replace:!0}))}}),[s,e,n.pathname]);const[l,c]=(0,t.useState)({email:"",password:"",confirmPassword:"",name:"",gender:"",phone:"",address:"",homeLatitude:null,homeLongitude:null,nim:"",typeId:1,isAfirmasi:!1,jurusan:"",customJurusan:"",isCustomJurusan:!1}),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)({}),[f,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[A,C]=(0,t.useState)(null),[P,I]=(0,t.useState)(null),[T,N]=(0,t.useState)({emails:{},nims:{}}),[E,z]=(0,t.useState)(0),O=(0,t.useRef)(l);(0,t.useEffect)((()=>{O.current=l}),[l]);const L=zs("white","gray.700"),D=zs("gray.700","gray.200"),R=(0,t.useCallback)(((e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...i)}),t)}}),[]),M=(0,t.useCallback)(R((async e=>{if(!e||!U6(e))return void C(null);const t=e.toLowerCase();if(void 0===T.emails[t]){k(!0);try{const n=await z6.checkEmailAvailability(e);C(n.available),N((e=>(0,o.A)((0,o.A)({},e),{},{emails:(0,o.A)((0,o.A)({},e.emails),{},{[t]:n.available})}))),n.available||p((e=>(0,o.A)((0,o.A)({},e),{},{email:"Email sudah terdaftar. Silakan gunakan email lain."})))}catch(n){console.error("Error checking email availability:",n),C(null)}finally{k(!1)}}else C(T.emails[t])}),1200),[R,T.emails]),B=(0,t.useCallback)(R((async e=>{if(!e||1!==l.typeId)return void I(null);if(J6(e,!0))return void I(null);const t=e.toLowerCase();if(void 0===T.nims[t]){_(!0);try{const n=await z6.checkNIMAvailability(e);I(n.available),N((e=>(0,o.A)((0,o.A)({},e),{},{nims:(0,o.A)((0,o.A)({},e.nims),{},{[t]:n.available})}))),n.available||p((e=>(0,o.A)((0,o.A)({},e),{},{nim:"NIM sudah terdaftar. Silakan periksa kembali NIM Anda."})))}catch(n){console.error("Error checking NIM availability:",n),I(null)}finally{_(!1)}}else I(T.nims[t])}),1200),[R,l.typeId,T.nims]),F=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c((n=>(0,o.A)((0,o.A)({},n),{},{homeLatitude:(null===e||void 0===e?void 0:e.lat)||null,homeLongitude:(null===e||void 0===e?void 0:e.lng)||null},t&&{address:t}))),p((e=>(0,o.A)((0,o.A)({},e),{},{location:""}))),t&&r({title:"Address Updated",description:"Address has been automatically updated based on your selected coordinates.",status:"info",duration:2e3,isClosable:!0})}),[r]),W=e=>{const{name:t,value:n}=e.target;if("typeId"===t){const e=parseInt(n);c((n=>(0,o.A)((0,o.A)({},n),{},{[t]:e},1!==e&&{nim:"",isAfirmasi:!1,jurusan:"",customJurusan:"",isCustomJurusan:!1}))),I(null),_(!1),1!==e&&N((e=>(0,o.A)((0,o.A)({},e),{},{nims:{}})))}else c((e=>(0,o.A)((0,o.A)({},e),{},{[t]:n})));if(h[t]&&p((e=>(0,o.A)((0,o.A)({},e),{},{[t]:""}))),d&&u(""),"email"===t&&n){const e=U6(n),t=Z6(n);e?(p((t=>(0,o.A)((0,o.A)({},t),{},{email:e}))),C(null)):t?(p((e=>(0,o.A)((0,o.A)({},e),{},{email:t}))),C(null)):M(n)}if("nim"===t&&n&&1===l.typeId){const e=J6(n,!0);e?(p((t=>(0,o.A)((0,o.A)({},t),{},{nim:e}))),I(null)):B(n)}if("confirmPassword"===t&&n){const e=H6(l.password,n);e&&p((t=>(0,o.A)((0,o.A)({},t),{},{confirmPassword:e})))}},U=e=>{const t=e.target.value;c((e=>(0,o.A)((0,o.A)({},e),{},{address:t}))),h.address&&p((e=>(0,o.A)((0,o.A)({},e),{},{address:""})))},q=e=>{"Enter"===e.key&&(e.preventDefault(),H())},H=(0,t.useCallback)((()=>{const e=O.current.address;!e||e.trim().length<10?r({title:"Address Too Short",description:"Please enter a more detailed address (at least 10 characters)",status:"warning",duration:3e3,isClosable:!0}):(z((e=>e+1)),r({title:"Checking Coordinates",description:"Looking up coordinates for your address...",status:"info",duration:2e3,isClosable:!0}))}),[r]),V=(0,t.useCallback)((e=>{c((t=>(0,o.A)((0,o.A)({},t),{},{address:e})))}),[]),G=(0,t.useMemo)((()=>({lat:l.homeLatitude,lng:l.homeLongitude})),[l.homeLatitude,l.homeLongitude]);return(0,Xo.jsx)(Eb,{minH:"100vh",bg:zs("gray.50","gray.800"),children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:10,children:(0,Xo.jsxs)(Cb,{direction:{base:"column",md:"row"},spacing:8,align:"flex-start",children:[(0,Xo.jsx)(Eb,{display:{base:"none",md:"block"},flexBasis:{md:"40%",lg:"50%"},children:(0,Xo.jsxs)(Pb,{align:"start",spacing:6,children:["              ",(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa PNJ Logo",borderRadius:"md",boxShadow:"md",objectFit:"contain",height:"300px",width:"100%",fallbackSrc:Yj}),(0,Xo.jsx)(Wb,{as:"h2",size:"lg",children:"Daftar Rusunawa PNJ"}),(0,Xo.jsx)(Tb,{fontSize:"md",children:"Daftar sekarang untuk memesan hunian terbaik di Rusunawa Politeknik Negeri Jakarta. Nikmati kamar nyaman, fasilitas lengkap, dan komunitas yang suportif."}),(0,Xo.jsxs)(Pb,{align:"start",spacing:3,mt:4,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(F6,{color:"green.500"}),(0,Xo.jsx)(Tb,{children:"Hunian ramah mahasiswa & terverifikasi"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(F6,{color:"green.500"}),(0,Xo.jsx)(Tb,{children:"Pembayaran aman & mudah"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(F6,{color:"green.500"}),(0,Xo.jsx)(Tb,{children:"Dukungan & keamanan 24 jam"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(F6,{color:"green.500"}),(0,Xo.jsx)(Tb,{children:"Lokasi strategis dekat fasilitas kampus"})]})]})]})}),(0,Xo.jsx)(Eb,{flexBasis:{base:"100%",md:"60%",lg:"50%"},bg:L,p:8,borderRadius:"lg",boxShadow:"md",as:"form",onSubmit:async t=>{t.preventDefault(),p({}),u(""),m(!0);const n=(()=>{const e={};return l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(e.email="Invalid email format"):e.email="Email is required",l.password?l.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",l.password!==l.confirmPassword&&(e.confirmPassword="Passwords do not match"),l.name||(e.name="Name is required"),l.gender||(e.gender="Gender is required"),l.typeId||l.tenantType||(e.typeId="Tenant type is required"),1!==l.typeId&&"mahasiswa"!==l.tenantType||l.nim||(e.nim="NIM is required for students"),1!==l.typeId&&"mahasiswa"!==l.tenantType||l.jurusan.trim()||(e.jurusan="Jurusan (Major/Department) is required for students"),e})();if(Object.keys(n).length>0)return p(n),void m(!1);try{const t=await z6.register(l);t.success||t.status&&"success"===t.status.status||t.tenant&&t.tenant.tenantId?(r({title:"Registrasi Berhasil!",description:"Silakan cek email kamu untuk kode verifikasi.",status:"success",duration:5e3,isClosable:!0}),e("/tenant/verification-prompt",{state:{email:l.email,fromRegistration:!0}})):u(t.message||t.error||"Registration failed. Please try again.")}catch(Pee){var i;console.error("Registration error:",Pee);let t="Registration failed. Please try again.";if(null!==Pee&&void 0!==Pee&&null!==(i=Pee.response)&&void 0!==i&&i.data){const n=Pee.response.data;n.message&&(n.message.includes("duplicate key value")||n.message.includes("already exists")||n.message.toLowerCase().includes("email sudah terdaftar")||n.message.toLowerCase().includes("email already registered"))?(t="Email sudah terdaftar. Silakan gunakan email lain atau login dengan akun yang sudah ada.",p((e=>(0,o.A)((0,o.A)({},e),{},{email:"Email ini sudah terdaftar"})))):n.message&&(n.message.includes("idx_tenants_nim_unique")||n.message.includes("duplicate key value violates unique constraint")||n.message.toLowerCase().includes("nim")&&(n.message.includes("duplicate")||n.message.includes("already exists")))?(t="NIM sudah terdaftar dalam sistem. Silakan periksa kembali NIM Anda atau hubungi admin jika ini adalah kesalahan.",p((e=>(0,o.A)((0,o.A)({},e),{},{nim:"NIM ini sudah terdaftar"}))),a(1),r({title:"NIM Sudah Terdaftar",description:"Silakan periksa kembali NIM Anda pada halaman informasi personal.",status:"warning",duration:5e3,isClosable:!0})):n.message&&n.message.toLowerCase().includes("invalid email")?(t="Format email tidak valid. Silakan periksa kembali email Anda.",p((e=>(0,o.A)((0,o.A)({},e),{},{email:"Format email tidak valid"})))):n.message&&n.message.toLowerCase().includes("password")?(t="Kata sandi tidak memenuhi persyaratan. Pastikan minimal 8 karakter dengan angka dan karakter khusus.",p((e=>(0,o.A)((0,o.A)({},e),{},{password:"Kata sandi tidak memenuhi persyaratan"})))):n.message&&n.message.includes("invalid argument")?t="Data yang dimasukkan tidak valid. Silakan periksa kembali semua informasi Anda.":n.message&&(t=n.message)}else Pee.message&&(t=Pee.message);r({title:"Registrasi Gagal",description:t,status:"error",duration:6e3,isClosable:!0}),u(t)}finally{m(!1)}},children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{textAlign:"center",mb:2,children:"Registrasi"}),(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.500",children:"Buat akun Rusunawa PNJ kamu"})]}),(0,Xo.jsx)(F5,{index:i,colorScheme:"brand",mb:8,children:$6.map(((e,t)=>(0,Xo.jsxs)(W5,{children:[(0,Xo.jsx)(U5,{children:(0,Xo.jsx)(q5,{complete:(0,Xo.jsx)(V5,{}),incomplete:(0,Xo.jsx)(K5,{}),active:(0,Xo.jsx)(K5,{})})}),(0,Xo.jsxs)(Eb,{flexShrink:"0",children:[(0,Xo.jsx)(Y5,{children:e.title}),(0,Xo.jsx)(Z5,{children:e.description})]}),(0,Xo.jsx)(J5,{})]},t)))}),d&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",mb:4,children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Kesalahan Registrasi!"}),(0,Xo.jsx)(cy,{children:d})]})]}),(()=>{var e,t;switch(i){case 0:return(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isInvalid:!!h.email,children:[(0,Xo.jsx)(sj,{htmlFor:"email",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:qw}),(0,Xo.jsx)(Tb,{children:"Alamat Email"})]})}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{id:"email",name:"email",type:"email",value:l.email,onChange:W,placeholder:"emailkamu@email.com",size:"lg"}),(0,Xo.jsxs)(Nj,{width:"4.5rem",h:"100%",children:[w&&(0,Xo.jsx)(Qv,{size:"sm",color:"blue.500"}),!w&&!0===A&&(0,Xo.jsx)(F6,{color:"green.500"}),!w&&!1===A&&(0,Xo.jsx)(W6,{color:"red.500"})]})]}),(0,Xo.jsx)(xj,{children:h.email}),!h.email&&!0===A&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",mt:1,children:"\u2713 Email tersedia"}),!h.email&&!1===A&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"red.600",mt:1,children:"\u2717 Email sudah digunakan"}),!h.email&&w&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"blue.600",mt:1,children:"\u23f3 Memeriksa ketersediaan email..."}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"Gunakan email aktif yang valid. Sistem akan memeriksa ketersediaan email secara otomatis dan mengirim kode verifikasi."})]}),(0,Xo.jsxs)(ij,{isInvalid:!!h.password,children:[(0,Xo.jsx)(sj,{htmlFor:"password",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:fk}),(0,Xo.jsx)(Tb,{children:"Kata Sandi"})]})}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{id:"password",name:"password",type:y?"text":"password",value:l.password,onChange:W,placeholder:"Buat kata sandi yang kuat",size:"lg"}),(0,Xo.jsx)(Nj,{width:"4.5rem",h:"100%",children:(0,Xo.jsx)(Bj,{h:"1.75rem",size:"sm",onClick:()=>x(!y),variant:"ghost",children:y?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{})})})]}),(0,Xo.jsx)(xj,{children:h.password})]}),(0,Xo.jsxs)(ij,{isInvalid:!!h.confirmPassword,children:[(0,Xo.jsx)(sj,{htmlFor:"confirmPassword",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:fk}),(0,Xo.jsx)(Tb,{children:"Konfirmasi Kata Sandi"})]})}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",value:l.confirmPassword,onChange:W,placeholder:"Ulangi kata sandi",size:"lg"}),(0,Xo.jsx)(Nj,{width:"4.5rem",h:"100%",children:(0,Xo.jsx)(Bj,{h:"1.75rem",size:"sm",onClick:()=>j(!b),variant:"ghost",children:b?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{})})})]}),(0,Xo.jsx)(xj,{children:h.confirmPassword})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{htmlFor:"typeId",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:tS}),(0,Xo.jsx)(Tb,{children:"Tipe Akun"})]})}),(0,Xo.jsxs)(SQ,{id:"typeId",name:"typeId",value:l.typeId,onChange:W,size:"lg",children:[(0,Xo.jsx)("option",{value:1,children:"Mahasiswa"}),(0,Xo.jsx)("option",{value:2,children:"Non-Mahasiswa"})]})]})]});case 1:return(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isInvalid:!!h.name,children:[(0,Xo.jsx)(sj,{htmlFor:"name",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:tS}),(0,Xo.jsx)(Tb,{children:"Nama Lengkap"})]})}),(0,Xo.jsx)(gj,{id:"name",name:"name",value:l.name,onChange:W,placeholder:"Nama lengkap sesuai KTP/identitas",size:"lg"}),(0,Xo.jsx)(xj,{children:h.name})]}),(0,Xo.jsxs)(ij,{isInvalid:!!h.gender,children:[(0,Xo.jsx)(sj,{htmlFor:"gender",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Gk}),(0,Xo.jsx)(Tb,{children:"Jenis Kelamin"})]})}),(0,Xo.jsxs)(SQ,{id:"gender",name:"gender",value:l.gender,onChange:W,placeholder:"Pilih jenis kelamin",size:"lg",children:[(0,Xo.jsx)("option",{value:"L",children:"Laki-laki"}),(0,Xo.jsx)("option",{value:"P",children:"Perempuan"})]}),(0,Xo.jsx)(xj,{children:h.gender})]}),(0,Xo.jsxs)(ij,{isInvalid:!!h.phone,children:[(0,Xo.jsx)(sj,{htmlFor:"phone",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:wk}),(0,Xo.jsx)(Tb,{children:"No. HP"})]})}),(0,Xo.jsx)(gj,{id:"phone",name:"phone",value:l.phone,onChange:W,placeholder:"Contoh: 08123456789",size:"lg"}),(0,Xo.jsx)(xj,{children:h.phone})]}),1===l.typeId&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(ij,{isInvalid:!!h.nim,children:[(0,Xo.jsx)(sj,{htmlFor:"nim",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:sk}),(0,Xo.jsx)(Tb,{children:"NIM (Nomor Induk Mahasiswa)"})]})}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{id:"nim",name:"nim",value:l.nim,onChange:W,placeholder:"Contoh: 2021123456, 2024987654",size:"lg"}),(0,Xo.jsxs)(Nj,{width:"4.5rem",h:"100%",children:[S&&(0,Xo.jsx)(Qv,{size:"sm",color:"blue.500"}),!S&&!0===P&&(0,Xo.jsx)(F6,{color:"green.500"}),!S&&!1===P&&(0,Xo.jsx)(W6,{color:"red.500"})]})]}),(0,Xo.jsx)(xj,{children:h.nim}),!h.nim&&!0===P&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",mt:1,children:"\u2713 NIM tersedia"}),!h.nim&&!1===P&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"red.600",mt:1,children:"\u2717 NIM sudah digunakan"}),!h.nim&&S&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"blue.600",mt:1,children:"\u23f3 Memeriksa ketersediaan NIM..."}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"Format NIM PNJ: Tahun masuk (2021, 2024, dll) + kode program. Sistem akan memeriksa ketersediaan NIM secara otomatis."})]}),"                ",(0,Xo.jsxs)(ij,{isInvalid:!!h.jurusan,children:[(0,Xo.jsx)(sj,{htmlFor:"jurusan",color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Nk}),(0,Xo.jsx)(Tb,{children:"Jurusan"})]})}),(0,Xo.jsx)(SQ,{id:"jurusan",name:"jurusan",value:l.isCustomJurusan?"Lainnya":l.jurusan,onChange:e=>{const t=e.target.value;c("Lainnya"===t?e=>(0,o.A)((0,o.A)({},e),{},{isCustomJurusan:!0,jurusan:""}):e=>(0,o.A)((0,o.A)({},e),{},{isCustomJurusan:!1,jurusan:t,customJurusan:""}))},placeholder:"Pilih jurusan",size:"lg",children:X6.map((e=>(0,Xo.jsx)("option",{value:e,children:e},e)))}),l.isCustomJurusan&&(0,Xo.jsx)(gj,{mt:2,id:"customJurusan",name:"customJurusan",type:"text",value:l.customJurusan,onChange:e=>{const t=e.target.value;c((e=>(0,o.A)((0,o.A)({},e),{},{customJurusan:t,jurusan:t})))},placeholder:"Masukkan jurusan",size:"lg"}),(0,Xo.jsx)(xj,{children:h.jurusan})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:F6}),(0,Xo.jsx)(Tb,{children:"Status Mahasiswa"})]})}),(0,Xo.jsxs)(SQ,{name:"isAfirmasi",value:l.isAfirmasi,onChange:e=>c((t=>(0,o.A)((0,o.A)({},t),{},{isAfirmasi:"true"===e.target.value}))),size:"lg",children:[(0,Xo.jsx)("option",{value:!1,children:"Mahasiswa Reguler"}),(0,Xo.jsx)("option",{value:!0,children:"Mahasiswa Afirmasi"})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:'Pilih "Mahasiswa Afirmasi" jika kamu penerima beasiswa atau program afirmasi'})]})]})]});case 2:return(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isInvalid:!!h.location,children:[(0,Xo.jsx)(sj,{color:D,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:mk}),(0,Xo.jsx)(Tb,{children:"Lokasi Rumah"})]})}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:2,children:"Klik pada peta untuk memilih lokasi rumah kamu"}),"              ",(0,Xo.jsx)(j2,{value:G,onChange:F,addressValue:l.address,onAddressChange:V,triggerGeocode:E}),(0,Xo.jsx)(xj,{children:h.location})]}),"            ",(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{htmlFor:"address",color:D,children:"Alamat Lengkap"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:2,children:"Ketik alamat lengkap atau klik pada peta untuk mengisi otomatis"}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(gj,{id:"address",name:"address",value:l.address,onChange:U,onKeyDown:q,placeholder:"Masukkan alamat lengkap (cth: Jl. Raya Tambun, Tambun Selatan, Bekasi)",size:"lg",flex:1}),(0,Xo.jsx)(Uj,{"aria-label":"Check coordinates for address",icon:(0,Xo.jsx)(L4,{}),onClick:H,colorScheme:"blue",variant:"outline",size:"lg",isDisabled:!l.address||l.address.trim().length<10,title:"Klik untuk mencari koordinat dari alamat"})]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:'Tekan Enter atau klik tombol cari untuk menemukan koordinat dari alamat kamu. Sertakan nama kota/kecamatan untuk hasil terbaik (cth: "Tambun Selatan, Bekasi").'})]})]});case 3:return g?(0,Xo.jsxs)(Pb,{spacing:6,align:"center",children:[(0,Xo.jsx)(Zv,{as:F6,w:20,h:20,color:"green.500"}),(0,Xo.jsx)(Wb,{size:"lg",textAlign:"center",children:"Registrasi Selesai!"}),(0,Xo.jsx)(Tb,{textAlign:"center",children:"Terima kasih telah mendaftar di Rusunawa PNJ. Silakan cek email kamu untuk instruksi verifikasi."}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/login",colorScheme:"brand",size:"lg",width:"100%",children:"Masuk ke Akun"})]}):(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"md",mb:2,children:"Tinjau Data Anda"}),(0,Xo.jsx)(Vb,{variant:"outline",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Detail Akun"}),(0,Xo.jsxs)(Tb,{children:["Email: ",l.email]}),(0,Xo.jsxs)(Tb,{children:["Tipe Akun: ",1===l.typeId?"Mahasiswa":"Non-Mahasiswa"]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Data Diri"}),(0,Xo.jsxs)(Tb,{children:["Nama: ",l.name]}),(0,Xo.jsxs)(Tb,{children:["Jenis Kelamin: ","L"===l.gender?"Laki-laki":"Perempuan"]}),(0,Xo.jsxs)(Tb,{children:["No. HP: ",l.phone]}),1===l.typeId&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Tb,{children:["NIM: ",l.nim]}),(0,Xo.jsxs)(Tb,{children:["Jurusan: ",l.jurusan]}),(0,Xo.jsxs)(Tb,{children:["Status: ",l.isAfirmasi?"Mahasiswa Afirmasi":"Mahasiswa Reguler"]})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Lokasi"}),(0,Xo.jsxs)(Tb,{children:["Koordinat: ",null===(e=l.homeLatitude)||void 0===e?void 0:e.toFixed(6),", ",null===(t=l.homeLongitude)||void 0===t?void 0:t.toFixed(6)]}),(0,Xo.jsxs)(Tb,{children:["Alamat: ",l.address||"(Otomatis dari koordinat)"]})]})]})})}),(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Dengan mendaftar, kamu menyetujui Syarat & Ketentuan serta Kebijakan Privasi kami."]})]});default:return null}})(),(0,Xo.jsxs)(dS,{justifyContent:i>0?"space-between":"flex-end",mt:4,children:[i>0&&(0,Xo.jsx)(Bj,{onClick:()=>{a(i-1)},variant:"outline",colorScheme:"brand",isDisabled:f,children:"Kembali"}),i<$6.length-1?(0,Xo.jsx)(Bj,{onClick:()=>{(()=>{const e={};switch(i){case 0:const t=U6(l.email),n=q6(l.password),r=H6(l.password,l.confirmPassword);if(t&&(e.email=t),n&&(e.password=n),r&&(e.confirmPassword=r),!t){const t=Z6(l.email);t&&t.includes("Did you mean")&&(e.email=t)}break;case 1:const i=V6(l.name),o=G6(l.phone);if(i&&(e.name=i),o&&(e.phone=o),l.gender||(e.gender="Gender is required"),1===l.typeId){const t=J6(l.nim,!0);t&&(e.nim=t),l.jurusan.trim()||(e.jurusan="Jurusan (Major/Department) is required for students")}break;case 2:l.homeLatitude&&l.homeLongitude||(e.location="Please select your home location on the map")}return p(e),0===Object.keys(e).length})()&&a(i+1)},colorScheme:"brand",children:"Selanjutnya"}):!g&&(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",isLoading:f,loadingText:"Mengirim...",children:"Daftar"})]}),!g&&(0,Xo.jsxs)(Tb,{mt:4,textAlign:"center",children:["Sudah punya akun?"," ",(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/login",color:"brand.500",fontWeight:"semibold",children:"Masuk"})]})]})})]})})})},e8=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(!1),{requestPasswordReset:c}=D6(),d=zs("white","gray.700"),u=zs("gray.50","gray.800");return r?(0,Xo.jsx)(Xj,{minH:"100vh",align:"center",justify:"center",bg:u,children:(0,Xo.jsx)(Ob,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsx)(Eb,{p:8,bg:d,boxShadow:"lg",borderRadius:"xl",textAlign:"center",children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsx)(Zv,{as:qw,boxSize:12,color:"brand.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:"Check Your Email"}),(0,Xo.jsxs)(Tb,{children:["We've sent a 6-digit reset code to ",(0,Xo.jsx)("strong",{children:e}),". Please check your inbox and use the code to reset your password."]}),(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"If you don't see the email, check your spam folder. The code expires in 24 hours."]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/reset-password",colorScheme:"brand",size:"lg",mt:4,children:"Enter Reset Code"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/login",leftIcon:(0,Xo.jsx)(tw,{}),variant:"outline",mt:2,children:"Return to Login"})]})})})}):(0,Xo.jsx)(Xj,{minH:"100vh",align:"center",justify:"center",bg:u,children:(0,Xo.jsx)(Ob,{maxW:"md",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsx)(Eb,{p:8,bg:d,boxShadow:"lg",borderRadius:"xl",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Wb,{textAlign:"center",size:"lg",children:"Forgot Your Password?"}),(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.500",children:"Enter your email address and we'll send you a 6-digit reset code."}),o&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),o]}),(0,Xo.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),a(""),e.trim())if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))try{l(!0),await c(e),i(!0)}catch(Pee){console.error("Password reset request error:",Pee),a(Pee.message||"Failed to request password reset. Please try again later.")}finally{l(!1)}else a("Please enter a valid email address");else a("Email is required")},children:(0,Xo.jsxs)(Pb,{spacing:6,align:"flex-start",children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{htmlFor:"email",children:"Email"}),(0,Xo.jsx)(gj,{id:"email",type:"email",value:e,onChange:e=>n(e.target.value),placeholder:"your.email@example.com"})]}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",fontSize:"md",width:"full",isLoading:s,loadingText:"Submitting...",children:"Reset Password"}),(0,Xo.jsxs)(Hj,{as:nb,to:"/tenant/login",alignSelf:"center",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(tw,{mr:1})," Back to Login"]})]})})]})})})})},t8=()=>{const[e]=ob(),n=e.get("token"),[r,i]=(0,t.useState)(n||""),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),v=Cx(),y=zs("gray.50","gray.800"),x=zs("white","gray.700"),b=zs("white","gray.700");return(0,Xo.jsx)(Xj,{minH:"100vh",align:"center",justify:"center",bg:y,children:(0,Xo.jsx)(Ob,{maxW:"md",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,Xo.jsx)(Eb,{py:"8",px:{base:"4",sm:"10"},bg:x,boxShadow:"lg",borderRadius:"xl",children:(0,Xo.jsxs)(Pb,{spacing:"6",children:[(0,Xo.jsx)(Wb,{as:"h1",size:"xl",children:"Reset Password"}),(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.500",children:"Enter the 6-digit code sent to your email and create a new password."}),!n&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Check your email for the 6-digit reset code."]}),u?(0,Xo.jsxs)(Eb,{textAlign:"center",children:[(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",mb:4,children:[(0,Xo.jsx)(sy,{}),"Password successfully reset!"]}),(0,Xo.jsx)(Tb,{mb:4,children:"You will be redirected to login shortly..."}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/login",colorScheme:"brand",width:"full",children:"Go to Login"})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[m&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),m]}),(0,Xo.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),g(""),r&&6===r.length)if(o===s)if(o.length<6)g("Password must be at least 6 characters long");else{f(!0);try{await z6.resetPassword({token:r,new_password:o}),h(!0),setTimeout((()=>{v("/tenant/login")}),3e3)}catch(Pee){g("Failed to reset password. The reset code may be expired or invalid.")}finally{f(!1)}}else g("Passwords do not match");else g("Please enter the 6-digit reset code from your email.")},style:{width:"100%"},children:(0,Xo.jsxs)(Pb,{spacing:"5",align:"flex-start",children:[!n&&(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{htmlFor:"resetCode",textAlign:"center",children:"Enter 6-Digit Reset Code"}),(0,Xo.jsx)(Eb,{display:"flex",justifyContent:"center",children:(0,Xo.jsxs)(NS,{value:r,onChange:i,size:"lg",placeholder:"",type:"number",children:[(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{}),(0,Xo.jsx)(ES,{})]})})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{htmlFor:"password",children:"New Password"}),(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(gj,{id:"password",type:c?"text":"password",value:o,onChange:e=>a(e.target.value),bg:b,placeholder:"Enter new password"}),(0,Xo.jsx)(Nj,{children:(0,Xo.jsx)(Uj,{"aria-label":c?"Hide password":"Show password",icon:c?(0,Xo.jsx)(Gj,{}):(0,Xo.jsx)(Kj,{}),onClick:()=>d(!c),variant:"ghost"})})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,Xo.jsx)(gj,{id:"confirmPassword",type:"password",value:s,onChange:e=>l(e.target.value),bg:b,placeholder:"Confirm new password"})]}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",fontSize:"md",isLoading:p,loadingText:"Resetting Password...",width:"full",isDisabled:!r||6!==r.length,children:"Reset Password"})]})}),(0,Xo.jsxs)(Pb,{spacing:3,pt:4,children:[(0,Xo.jsxs)(Tb,{align:"center",children:["Remember your password?"," ",(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/login",color:"brand.500",children:"Sign in"})]}),(0,Xo.jsxs)(Hj,{as:nb,to:"/tenant/forgot-password",display:"flex",alignItems:"center",color:"gray.500",fontSize:"sm",children:[(0,Xo.jsx)(tw,{mr:1})," Need a new reset code?"]})]})]})]})})})})},n8=Vj({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),r8=Vj({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"}),i8=Vj({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),o8=e=>{let{label:t,to:n,active:r}=e;const i=zs("gray.600","gray.200"),o=zs("brand.500","white"),a=zs("brand.600","brand.300"),s=zs("brand.50","gray.700");return(0,Xo.jsx)(Eb,{as:nb,to:n,px:2,py:1,rounded:"md",bg:r?s:"transparent",color:r?a:i,fontWeight:r?"semibold":"medium",_hover:{bg:s,color:o},transition:"all 0.2s",children:t})},a8=e=>{let{isAuthenticated:t,handleLogout:n}=e;return(0,Xo.jsxs)(Cb,{bg:zs("white","gray.800"),p:4,display:{md:"none"},boxShadow:"md",children:[(0,Xo.jsx)(s8,{label:"Home",href:"/tenant"}),(0,Xo.jsx)(s8,{label:"Rooms",href:"/tenant/rooms"}),t&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(s8,{label:"My Bookings",href:"/tenant/bookings"}),(0,Xo.jsx)(s8,{label:"Dashboard",href:"/tenant/dashboard"}),(0,Xo.jsx)(s8,{label:"Documents",href:"/tenant/documents"}),(0,Xo.jsx)(s8,{label:"Payment History",href:"/tenant/payments/history"}),(0,Xo.jsx)(s8,{label:"Invoices",href:"/tenant/invoices"}),(0,Xo.jsx)(s8,{label:"Report Issue",href:"/tenant/issues/report"})]}),t?(0,Xo.jsx)(Bj,{onClick:n,colorScheme:"red",mt:2,children:"Logout"}):(0,Xo.jsxs)(Cb,{spacing:2,mt:2,children:[(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/login",variant:"outline",colorScheme:"brand",children:"Sign In"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/register",colorScheme:"brand",children:"Sign Up"})]})]})},s8=e=>{let{label:t,href:n}=e;return(0,Xo.jsx)(Cb,{spacing:4,children:(0,Xo.jsx)(Eb,{py:2,as:nb,to:n,justifyContent:"space-between",alignItems:"center",_hover:{textDecoration:"none"},children:(0,Xo.jsx)(Tb,{fontWeight:600,color:zs("gray.600","gray.200"),children:t})})})},l8=()=>{var e;const{isOpen:t,onToggle:n}=GG(),{isAuthenticated:r,tenant:i,logout:o}=D6(),a=Cx(),s=_x(),l=zs("white","gray.800"),c=zs("gray.200","gray.700"),d=()=>{o(),a("/tenant/login")};return(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{bg:l,color:zs("gray.600","white"),minH:"60px",py:{base:2},px:{base:4,md:8},borderBottom:1,borderStyle:"solid",borderColor:c,align:"center",position:"sticky",top:"0",zIndex:"sticky",boxShadow:"sm",children:[(0,Xo.jsx)(Xj,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:(0,Xo.jsx)(Uj,{onClick:n,icon:t?(0,Xo.jsx)(n8,{w:3,h:3}):(0,Xo.jsx)(r8,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),(0,Xo.jsx)(Xj,{flex:{base:1},justify:{base:"center",md:"start"},children:(0,Xo.jsxs)(nb,{to:"/tenant",children:[(0,Xo.jsx)(Bb,{src:Yj,alt:"Rusunawa Logo",height:"40px",display:{base:"none",md:"block"}}),(0,Xo.jsx)(Tb,{textAlign:{base:"center",md:"left"},fontFamily:"heading",fontWeight:"bold",color:zs("brand.600","white"),fontSize:"xl",display:{base:"block",md:"none"},children:"Rusunawa"})]})}),"        ",(0,Xo.jsxs)(Cb,{direction:"row",spacing:4,display:{base:"none",md:"flex"},flex:1,justify:"center",children:[(0,Xo.jsx)(o8,{to:"/tenant",label:"Home",active:"/tenant"===s.pathname}),(0,Xo.jsx)(o8,{to:"/tenant/rooms",label:"Rooms",active:s.pathname.includes("/tenant/rooms")}),"          ",r&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(o8,{to:"/tenant/bookings",label:"My Bookings",active:s.pathname.includes("/tenant/bookings")}),(0,Xo.jsx)(o8,{to:"/tenant/dashboard",label:"Dashboard",active:s.pathname.includes("/tenant/dashboard")}),(0,Xo.jsx)(o8,{to:"/tenant/documents",label:"Documents",active:s.pathname.includes("/tenant/documents")}),(0,Xo.jsx)(o8,{to:"/tenant/payments/history",label:"Payment History",active:s.pathname.includes("/tenant/payments/history")}),(0,Xo.jsx)(o8,{to:"/tenant/invoices",label:"Invoices",active:s.pathname.includes("/tenant/invoices")}),(0,Xo.jsx)(o8,{to:"/tenant/issues/report",label:"Report Issue",active:s.pathname.includes("/tenant/issues")})]})]}),(0,Xo.jsx)(Cb,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:4,align:"center",children:r?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,size:"sm",variant:"ghost","aria-label":"Notifications",icon:(0,Xo.jsx)(i8,{w:5,h:5}),position:"relative"}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{fontWeight:"bold",color:"brand.500",isDisabled:!0,children:"Notifications"}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{isDisabled:!0,children:(0,Xo.jsxs)(Eb,{textAlign:"center",py:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",fontWeight:"medium",children:"\ud83d\udea7 Under Development"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.400",mt:1,children:"Notification system is coming soon"})]})}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{isDisabled:!0,fontWeight:"semibold",color:"gray.400",children:"Feature coming soon"})]})]}),(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Bj,rounded:"full",variant:"link",cursor:"pointer",minW:0,children:(0,Xo.jsx)(xZ,{size:"sm",name:(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.fullName)||"User",bg:"brand.500"})}),"                ",(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{as:nb,to:"/tenant/profile",children:"Profile"}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{onClick:d,children:"Logout"})]})]})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Bj,{as:nb,fontSize:"sm",fontWeight:400,variant:"link",to:"/tenant/login",children:"Sign In"}),(0,Xo.jsx)(Bj,{as:nb,display:{base:"none",md:"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"brand.500",to:"/tenant/register",_hover:{bg:"brand.400"},children:"Sign Up"})]})})]}),(0,Xo.jsx)(I5,{in:t,animateOpacity:!0,children:(0,Xo.jsx)(a8,{isAuthenticated:r,handleLogout:d})})]})},c8=()=>{const e=(new Date).getFullYear(),t=zs("gray.50","gray.900"),n=zs("gray.200","gray.700");return(0,Xo.jsxs)(Eb,{bg:t,color:zs("gray.700","gray.200"),borderTopWidth:"1px",borderColor:n,children:[(0,Xo.jsx)(Ob,{as:Cb,maxW:"container.xl",py:10,children:(0,Xo.jsxs)(IQ,{templateColumns:{sm:"1fr 1fr",md:"2fr 1fr 1fr 1fr"},spacing:8,children:[(0,Xo.jsxs)(Cb,{spacing:6,children:[(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Bb,{src:Yj,width:"150px",alt:"Rusunawa Logo"})}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Rusunawa PNJ provides comfortable and affordable accommodation for students and professionals at Politeknik Negeri Jakarta."}),(0,Xo.jsxs)(Cb,{direction:"row",spacing:6,children:[(0,Xo.jsx)(Hj,{href:"#",isExternal:!0,children:(0,Xo.jsx)(cw,{size:"20px"})}),(0,Xo.jsx)(Hj,{href:"#",isExternal:!0,children:(0,Xo.jsx)(uw,{size:"20px"})}),(0,Xo.jsx)(Hj,{href:"#",isExternal:!0,children:(0,Xo.jsx)(dw,{size:"20px"})}),(0,Xo.jsx)(Hj,{href:"#",isExternal:!0,children:(0,Xo.jsx)(hw,{size:"20px"})})]})]}),(0,Xo.jsxs)(Cb,{align:"flex-start",children:[(0,Xo.jsx)(Wb,{as:"h5",size:"sm",mb:2,children:"Navigation"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant",children:"Home"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/rooms",children:"Rooms"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/about",children:"About Us"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/contact",children:"Contact"})]}),(0,Xo.jsxs)(Cb,{align:"flex-start",children:[(0,Xo.jsx)(Wb,{as:"h5",size:"sm",mb:2,children:"Legal"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/terms",children:"Terms of Service"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/privacy",children:"Privacy Policy"}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/faq",children:"FAQ"})]}),(0,Xo.jsxs)(Cb,{align:"flex-start",children:[(0,Xo.jsx)(Wb,{as:"h5",size:"sm",mb:2,children:"Contact"}),(0,Xo.jsxs)(Xj,{align:"center",children:[(0,Xo.jsx)(mk,{}),(0,Xo.jsx)(Tb,{ml:2,children:"Jl. Prof. DR. G.A. Siwabessy, Kampus UI Depok 16425"})]}),(0,Xo.jsxs)(Xj,{align:"center",children:[(0,Xo.jsx)(wk,{}),(0,Xo.jsx)(Tb,{ml:2,children:"+62-21-7270036"})]}),(0,Xo.jsxs)(Xj,{align:"center",children:[(0,Xo.jsx)(qw,{}),(0,Xo.jsx)(Tb,{ml:2,children:"info@rusunawa.pnj.ac.id"})]})]})]})}),(0,Xo.jsx)(ew,{borderColor:n}),(0,Xo.jsx)(Eb,{py:4,children:(0,Xo.jsx)(Ob,{maxW:"container.xl",children:(0,Xo.jsxs)(Tb,{textAlign:"center",children:["\xa9 ",e," Rusunawa Politeknik Negeri Jakarta. All rights reserved."]})})})]})},d8=["size","colorScheme","variant","className","spacing","isAttached","isDisabled","orientation"],u8={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},h8={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},p8=Dv((function(e,n){const{size:r,colorScheme:i,variant:a,className:s,spacing:l="0.5rem",isAttached:c,isDisabled:d,orientation:u="horizontal"}=e,h=Jo(e,d8),p=Lv("chakra-button__group",s),f=(0,t.useMemo)((()=>({size:r,colorScheme:i,variant:a,isDisabled:d})),[r,i,a,d]);let m=(0,o.A)({display:"inline-flex"},c?u8[u]:h8[u](l));const g="vertical"===u;return(0,Xo.jsx)(Ej,{value:f,children:(0,Xo.jsx)(Tv.div,(0,o.A)({ref:n,role:"group",__css:m,className:p,"data-attached":c?"":void 0,"data-orientation":u,flexDir:g?"column":void 0},h))})}));p8.displayName="ButtonGroup";const f8=()=>{const e=_x(),t=zs("white","gray.800"),n=zs("gray.200","gray.600"),r=zs("blue.50","blue.900"),i=zs("blue.600","blue.200"),o=[{path:"/tenant/rooms/enhanced",label:"Enhanced Rooms",icon:gw,description:"Streamlined booking experience"},{path:"/tenant/bookings/enhanced",label:"Enhanced Bookings",icon:pk,description:"Advanced booking management"}];return o.some((t=>e.pathname.includes(t.path.replace("/tenant",""))))?(0,Xo.jsx)(Eb,{bg:t,borderBottomWidth:"1px",borderColor:n,px:4,py:2,position:"sticky",top:"60px",zIndex:"banner",boxShadow:"sm",children:(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",maxW:"container.xl",mx:"auto",children:[(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Ik,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"blue.600",children:"Enhanced Mode"}),(0,Xo.jsx)(r_,{colorScheme:"blue",variant:"subtle",children:"BETA"})]}),(0,Xo.jsx)(p8,{size:"sm",variant:"ghost",spacing:1,children:o.map((t=>{const n=e.pathname===t.path;return(0,Xo.jsx)(y0,{label:t.description,placement:"bottom",children:(0,Xo.jsx)(Bj,{as:nb,to:t.path,leftIcon:(0,Xo.jsx)(Zv,{as:t.icon}),bg:n?r:"transparent",color:n?i:"gray.600",_hover:{bg:r,color:i},size:"sm",children:t.label})},t.path)}))})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Switch to classic view"}),(0,Xo.jsxs)(p8,{size:"sm",isAttached:!0,variant:"outline",children:[(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/dashboard",colorScheme:"gray",size:"sm",children:"Classic"}),(0,Xo.jsx)(Bj,{colorScheme:"blue",size:"sm",isDisabled:!0,children:"Enhanced"})]})]})]})}):null},m8=e=>{let{children:t,hideHeader:n=!1,hideFooter:r=!1}=e;const i=zs("gray.50","gray.900");return(0,Xo.jsxs)(Eb,{minH:"100vh",bg:i,display:"flex",flexDirection:"column",children:[!n&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(l8,{}),(0,Xo.jsx)(f8,{})]}),(0,Xo.jsx)(Eb,{flex:"1",as:"main",children:t}),!r&&(0,Xo.jsx)(c8,{})]})},g8={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"rusunawa-skripsi-v1-production.up.railway.app",REACT_APP_APP_NAME:"Rusunawa Admin System",REACT_APP_ENVIRONMENT:"production",REACT_APP_VERSION:"v1"}.REACT_APP_API_URL||"rusunawa-skripsi-v1-production.up.railway.app/v1",v8="rusunawa-skripsi-v1-production.up.railway.app",y8=()=>{const e=localStorage.getItem("tenant_token");return{Authorization:e?"Bearer ".concat(e):"","Content-Type":"application/json"}},x8={login:async(e,t)=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/login"),{email:e,password:t})).data}catch(n){throw console.error("Login error:",n),n}},register:async e=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/register"),e)).data}catch(t){throw console.error("Register error:",t),t}},verifyToken:async e=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/verify-token"),{token:e})).data}catch(t){throw console.error("Token verification error:",t),t}},forgotPassword:async e=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/forgot-password"),{email:e})).data}catch(t){throw console.error("Forgot password error:",t),t}},resetPassword:async(e,t)=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/reset-password"),{token:e,new_password:t})).data}catch(n){throw console.error("Reset password error:",n),n}},verifyEmail:async e=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/verify-email"),{token:e})).data}catch(t){throw console.error("Email verification error:",t),t}},resendVerificationEmail:async e=>{try{return(await I6.A.post("".concat(g8,"/tenant/auth/resend-verification"),{email:e})).data}catch(t){throw console.error("Resend verification error:",t),t}}},b8=x8,j8=()=>{const[e,n]=(0,t.useState)("loading"),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(!0),s=Cx(),l=_x(),c=zs("white","gray.800"),d=zs("gray.200","gray.600");(0,t.useEffect)((()=>{(async()=>{try{const e=new URLSearchParams(l.search).get("token");if(!e)return n("error"),i("Verification token is missing."),void a(!1);const t=await b8.verifyEmail(e);n("success"),i(t.message||"Your email has been successfully verified!"),a(!1)}catch(e){console.error("Email verification failed:",e),n("error"),i(e.message||"Failed to verify email. The token may be invalid or expired."),a(!1)}})()}),[l]);const u=()=>{s("success"===e?"/tenant/login":"/tenant/resend-verification")};return(0,Xo.jsx)(m8,{hideHeader:!0,children:(0,Xo.jsx)(Ob,{maxW:"container.sm",py:10,children:(0,Xo.jsxs)(Eb,{bg:c,borderWidth:"1px",borderColor:d,borderRadius:"lg",p:8,shadow:"md",children:[(0,Xo.jsxs)(Xj,{align:"center",mb:6,children:[(0,Xo.jsx)(Zv,{as:qw,boxSize:"1.5rem",mr:3,color:"brand.500"}),(0,Xo.jsx)(Wb,{size:"xl",children:"Email Verification"})]}),o?(0,Xo.jsxs)(Pb,{spacing:6,py:10,children:[(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Verifying your email address..."})]}):"success"===e?(0,Xo.jsxs)(Pb,{spacing:6,py:10,textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:_w,boxSize:"4rem",color:"green.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:"Email Verified!"}),(0,Xo.jsx)(Tb,{children:r}),(0,Xo.jsx)(Tb,{children:"You can now log in to your account and enjoy all features of our platform."}),(0,Xo.jsx)(Bj,{rightIcon:(0,Xo.jsx)(fw,{}),colorScheme:"brand",onClick:u,size:"lg",mt:4,children:"Continue to Login"})]}):(0,Xo.jsxs)(Pb,{spacing:6,py:10,textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:Hw,boxSize:"4rem",color:"red.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:"Verification Failed"}),(0,Xo.jsx)(Tb,{children:r}),(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"If your token has expired, you can request a new verification email."]}),(0,Xo.jsx)(Bj,{rightIcon:(0,Xo.jsx)(fw,{}),colorScheme:"brand",onClick:u,size:"lg",mt:4,children:"Resend Verification Email"})]})]})})})},w8=["className","justify"],k8=Dv((function(e,t){const{className:n,justify:r}=e,i=Jo(e,w8),a=qb();return(0,Xo.jsx)(Tv.div,(0,o.A)({ref:t,className:Lv("chakra-card__footer",n),__css:(0,o.A)({display:"flex",justifyContent:r},a.footer)},i))})),S8=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),{isAuthenticated:u,tenant:h,verifyEmail:p}=D6(),f=Cx(),m=_x(),g=hb();(0,t.useEffect)((()=>{var e;if(u&&null!==h&&void 0!==h&&h.isVerified&&(null===(e=m.state)||void 0===e||!e.fromRegistration)&&"/tenant/verification-prompt"===m.pathname){var t,n;const e=(null===(t=m.state)||void 0===t||null===(n=t.from)||void 0===n?void 0:n.pathname)||"/tenant/dashboard";f(e,{replace:!0})}}),[u,h,f,m.state,m.pathname]),(0,t.useEffect)((()=>{if("true"===localStorage.getItem("email_verified")&&"/tenant/verification-prompt"===m.pathname)if(u){var e,t;const n=(null===(e=m.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/tenant/dashboard";f(n,{replace:!0})}else f("/tenant/login",{state:{verificationSuccess:!0,message:"Your email has been verified. Please log in."}})}),[u,f,m]),(0,t.useEffect)((()=>{var e;null!==(e=m.state)&&void 0!==e&&e.email?d(m.state.email):u&&null!==h&&void 0!==h&&h.email&&d(h.email)}),[m.state,h,u]),(0,t.useEffect)((()=>{if(h&&!0===h.isVerified)return g({title:"Already Verified",description:"Your email is already verified. Redirecting to dashboard.",status:"success",duration:3e3,isClosable:!0}),void f("/dashboard");u&&null!==h&&void 0!==h&&h.id&&z6.checkEmailVerification(h.id).then((e=>{e&&e.isVerified&&(localStorage.setItem("email_verified","true"),g({title:"Already Verified",description:"Your email is already verified. Redirecting to dashboard.",status:"success",duration:3e3,isClosable:!0}),f("/tenant/dashboard"))})).catch((e=>{console.error("Error checking verification status:",e)}))}),[h,u,f,g]);return(0,Xo.jsx)(Ob,{maxW:"md",py:12,children:(0,Xo.jsxs)(Vb,{boxShadow:"lg",children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsxs)(Pb,{textAlign:"center",spacing:3,children:[(0,Xo.jsx)(bb,{w:16,h:16,bg:"brand.500",color:"white",rounded:"full",mb:1,children:(0,Xo.jsx)(Zv,{as:qw,boxSize:8})}),(0,Xo.jsx)(Wb,{size:"lg",children:"Verify Your Email"}),(0,Xo.jsxs)(Tb,{color:"gray.600",px:4,children:["We've sent a verification token to ",c?(0,Xo.jsx)("strong",{children:c}):"your email address",". Please check your inbox (and spam folder) and enter the token below."]})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:5,as:"form",onSubmit:async t=>{if(t.preventDefault(),e.trim()){i(!0),l("");try{var n;const t=await z6.verifyEmail({token:e});if("success"===t.status||null!==(n=t.message)&&void 0!==n&&n.toLowerCase().includes("success")||t.alreadyVerified){localStorage.setItem("email_verified","true");const e=t.alreadyVerified?"Your email was already verified. You can now login.":"Your account is now fully activated. You can now login.";g({title:"Email verified successfully!",description:e,status:"success",duration:5e3,isClosable:!0}),f("/tenant/login",{state:{verificationSuccess:!0,message:e}})}else l("Invalid verification token. Please check your email and try again.")}catch(Pee){l("An error occurred during verification. Please try again."),console.error("Verification error:",Pee)}finally{i(!1)}}else l("Please enter the verification token from your email")},children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"How to find your token:"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["1. Check your email inbox for a message from Rusunawa",(0,Xo.jsx)("br",{}),"2. Open the email and copy the verification token",(0,Xo.jsx)("br",{}),"3. Paste or type the token in the field below"]})]})]}),(0,Xo.jsxs)(ij,{isInvalid:!!s,children:[(0,Xo.jsx)(sj,{children:"Verification Token"}),(0,Xo.jsxs)(Sj,{size:"lg",children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(Zv,{as:uk,color:"gray.400"})}),(0,Xo.jsx)(gj,{placeholder:"Enter the token from your email",value:e,onChange:e=>n(e.target.value),type:"text",required:!0})]}),(0,Xo.jsx)(xj,{children:s})]}),(0,Xo.jsx)(Bj,{colorScheme:"brand",size:"lg",width:"full",type:"submit",isLoading:r,loadingText:"Verifying...",children:"Verify Email"})]})}),(0,Xo.jsx)(ew,{}),(0,Xo.jsx)(k8,{children:(0,Xo.jsxs)(Pb,{width:"full",spacing:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",textAlign:"center",children:"Didn't receive the token? Check your spam folder or click below to resend."}),!c&&(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Your Email"}),(0,Xo.jsx)(gj,{placeholder:"Enter your email address",value:c,onChange:e=>d(e.target.value),type:"email",mb:3})]}),(0,Xo.jsx)(Bj,{variant:"outline",colorScheme:"brand",width:"full",leftIcon:(0,Xo.jsx)(Ck,{}),onClick:async()=>{if(c){a(!0);try{await z6.resendVerification({email:c});g({title:"Verification email sent",description:"Please check your inbox for the verification token",status:"success",duration:5e3,isClosable:!0})}catch(Pee){g({title:"Error",description:"Failed to send verification email. Please try again later",status:"error",duration:5e3,isClosable:!0}),console.error("Resend verification error:",Pee)}finally{a(!1)}}else g({title:"Email Required",description:"Please enter your email address",status:"warning",duration:5e3,isClosable:!0})},isLoading:o,loadingText:"Sending...",children:"Resend Verification Token"})]})})]})})},_8=e=>{if(void 0===e||null===e)return null;if("number"===typeof e)return e>0?e:null;if("string"===typeof e){const t=parseInt(e,10);if(!isNaN(t)&&t>0)return t}return null};class A8{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5;this.cache=new Map,this.defaultTTL=e}generateKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{});return"".concat(e,"?").concat(JSON.stringify(n))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.generateKey(e,t),r=this.cache.get(n);if(!r)return null;return Date.now()>r.expiry?(this.cache.delete(n),null):r.data}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultTTL;const i=this.generateKey(e,t),o=Date.now()+r;this.cache.set(i,{data:n,expiry:o,timestamp:Date.now()})}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.generateKey(e,t);this.cache.delete(n)}clear(){this.cache.clear()}getStats(){const e=Date.now(),t=Array.from(this.cache.values()).filter((t=>e<=t.expiry));return{totalEntries:this.cache.size,validEntries:t.length,expiredEntries:this.cache.size-t.length}}cleanExpired(){const e=Date.now(),t=[];for(const[n,r]of this.cache.entries())e>r.expiry&&t.push(n);return t.forEach((e=>this.cache.delete(e))),t.length}}const C8=new A8(3e5),P8=new A8(6e5),I8=new A8(12e4),T8=new A8(9e5);setInterval((()=>{C8.cleanExpired(),P8.cleanExpired(),I8.cleanExpired(),T8.cleanExpired()}),3e5);const N8="".concat(v8,"/v1/bookings"),E8={createBooking:async e=>{try{const r=z6.getToken();if(!r)throw new Error("Authentication required");const a={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}},s={tenantId:parseInt(e.tenantId),roomId:parseInt(e.roomId),checkInDate:new Date(e.checkInDate).toISOString(),checkOutDate:new Date(e.checkOutDate).toISOString()};e.rentalTypeId&&(s.rentalTypeId=parseInt(e.rentalTypeId)),e.totalAmount&&(s.totalAmount=parseFloat(e.totalAmount));const l=await I6.A.post(N8,s,a);if(l.data){if(l.data.status&&"error"===l.data.status.status)throw new Error(l.data.status.message||"Booking failed");if(l.data.booking)return l.data;if(l.data.status&&"success"===l.data.status.status){if(l.data.bookingId)return{booking:(0,o.A)({bookingId:l.data.bookingId},s),status:l.data.status};try{var t,n;console.log("Attempting to fetch booking after creation...");const r=await I6.A.get("".concat(v8,"/v1/tenants/").concat(e.tenantId,"/bookings"),(0,o.A)((0,o.A)({},a),{},{params:{page:1,limit:1}}));if((null===(t=r.data)||void 0===t||null===(n=t.bookings)||void 0===n?void 0:n.length)>0){return{booking:r.data.bookings[0],status:l.data.status}}}catch(i){}}return l.data}throw new Error("No response data received")}catch(a){var r;throw(null===(r=a.response)||void 0===r?void 0:r.data)||{message:a.message||"Failed to create booking",details:a.toString()}}},getBooking:async e=>{const t=_8(e);if(null===t)throw new Error("Invalid booking ID: ".concat(e));try{const e=z6.getToken(),n=e?{headers:{Authorization:"Bearer ".concat(e)}}:{};console.log("Fetching booking with ID: ".concat(t));return(await I6.A.get("".concat(N8,"/").concat(t),n)).data}catch(r){var n;throw console.error("Error fetching booking ".concat(t,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to fetch booking details"}}},getTenantBookings:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n="tenant-bookings-".concat(e),r=C8.get(n,t);if(r)return r;const i=z6.getToken();if(!i)throw new Error("No authentication token found");const a={headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}};t&&Object.keys(t).length>0&&(a.params=t);const s=await I6.A.get("".concat(v8,"/v1/tenants/").concat(e,"/bookings"),a);if(s.data&&s.data.bookings){const e=s.data.bookings.map((e=>(0,o.A)((0,o.A)({},e),{},{booking_id:e.bookingId,room_id:e.roomId,tenant_id:e.tenantId,check_in:e.checkInDate,check_out:e.checkOutDate,start_date:e.checkInDate,end_date:e.checkOutDate,total_amount:e.totalAmount,amount:e.totalAmount,payment_status:e.paymentStatus||"pending"}))),r=(0,o.A)((0,o.A)({},s.data),{},{bookings:e});return C8.set(n,t,r,12e4),r}return s.data}catch(r){var n;throw(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to fetch tenant bookings"}}},updateBookingStatus:async(e,t)=>{try{const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}};return(await I6.A.put("".concat(N8,"/").concat(e,"/status"),{status:t},r)).data}catch(r){var n;throw console.error("Error updating status for booking ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to update booking status"}}},cancelBooking:async e=>{try{return await E8.updateBookingStatus(e,"cancelled")}catch(n){var t;throw console.error("Error cancelling booking ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to cancel booking"}}},checkIn:async(e,t)=>{try{const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}};return(await I6.A.post("".concat(N8,"/").concat(e,"/check-in"),t,r)).data}catch(r){var n;throw console.error("Error checking in for booking ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to check in"}}},checkOut:async(e,t)=>{try{const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}};return(await I6.A.post("".concat(N8,"/").concat(e,"/check-out"),t,r)).data}catch(r){var n;throw console.error("Error checking out for booking ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to check out"}}},submitFeedback:async(e,t)=>{try{const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}};return(await I6.A.post("".concat(N8,"/").concat(e,"/feedback"),t,r)).data}catch(r){var n;throw console.error("Error submitting feedback for booking ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to submit feedback"}}},getDynamicRate:async(e,t,n)=>{try{const r="dynamic-rate-".concat(e,"-").concat(t,"-").concat(n),i=C8.get(r);if(i)return i;const o=z6.getToken();if(!o)throw new Error("Authentication required");const a={headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}},s={tenant_id:parseInt(e),room_id:parseInt(t),rental_type_id:parseInt(n)},l=await I6.A.post("".concat(v8,"/v1/rooms/dynamic-rate"),s,a);if(l.data)return C8.set(r,{},l.data,3e5),l.data;throw new Error("No dynamic rate data received")}catch(i){var r;throw(null===(r=i.response)||void 0===r?void 0:r.data)||{message:i.message||"Failed to get dynamic rate",details:i.toString()}}},getAvailableRates:async e=>{try{const t=z6.getToken();if(!t)throw new Error("Authentication required");const n={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}},r={tenant_id:parseInt(e)};console.log("Getting available rates for tenant:",e);const i=await I6.A.post("".concat(v8,"/v1/rooms/available-rates"),r,n);if(i.data)return i.data;throw new Error("No available rates data received")}catch(n){var t;throw console.error("Error getting available rates:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:n.message||"Failed to get available rates",details:n.toString()}}},calculateBookingCost:async(e,t,n,r,i)=>{try{const o=z6.getToken();if(!o)throw new Error("Authentication required");const a={headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}},s={tenant_id:parseInt(e),room_id:parseInt(t),rental_type_id:parseInt(n),check_in_date:r,check_out_date:i};console.log("Calculating booking cost with data:",s);const l=await I6.A.post("".concat(v8,"/v1/bookings/calculate-cost"),s,a);if(console.log("Booking cost response:",l.data),l.data)return l.data;throw new Error("No booking cost data received")}catch(a){var o;throw console.error("Error calculating booking cost:",a),(null===(o=a.response)||void 0===o?void 0:o.data)||{message:a.message||"Failed to calculate booking cost",details:a.toString()}}},checkRoomAvailability:async(e,t,n)=>{try{const r=z6.getToken();if(!r)throw new Error("Authentication required");const i={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}};console.log("Checking room availability for room:",e,"dates:",t,"to",n);const a=(await I6.A.get("".concat(v8,"/v1/rooms/").concat(e),i)).data.room;if(!a)throw new Error("Room not found");const s=(await I6.A.get("".concat(v8,"/v1/rooms/").concat(e,"/bookings"),(0,o.A)((0,o.A)({},i),{},{params:{start_date:new Date(t).toISOString(),end_date:new Date(n).toISOString(),status:"confirmed,checked_in"}}))).data.bookings||[],l=s.length,c=a.capacity-l,d={available:c>0,room_capacity:a.capacity,occupied_slots:l,available_capacity:c,total_bookings:s.length,room_id:e,check_in_date:t,check_out_date:n};return console.log("Room availability calculated:",d),d}catch(s){var r,i,a;if(console.error("Error checking room availability:",s),404===(null===(r=s.response)||void 0===r?void 0:r.status)||501===(null===(i=s.response)||void 0===i?void 0:i.status)){console.warn("Availability endpoint not found, assuming room is available");try{const r=(await I6.A.get("".concat(v8,"/v1/rooms/").concat(e),{headers:{Authorization:"Bearer ".concat(z6.getToken())}})).data.room;return{available:!0,room_capacity:r.capacity||4,occupied_slots:0,available_capacity:r.capacity||4,total_bookings:0,room_id:e,check_in_date:t,check_out_date:n,fallback:!0}}catch(l){console.error("Error getting room details for fallback:",l)}}throw(null===(a=s.response)||void 0===a?void 0:a.data)||{message:s.message||"Failed to check room availability",details:s.toString()}}},checkTenantActiveBooking:async e=>{try{const n=z6.getToken();if(!n)throw new Error("Authentication required");const r={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}};console.log("Checking for any active bookings for tenant ".concat(e));const i=await I6.A.get("".concat(v8,"/v1/tenants/").concat(e,"/bookings"),r);if(i.data&&i.data.bookings){var t;const e=new Date;e.setHours(0,0,0,0);const n=i.data.bookings.find((t=>{const n=new Date(t.checkOutDate||t.check_out||t.end_date);return n.setHours(23,59,59,999),n>=e&&("confirmed"===t.status||"checked_in"===t.status||"paid"===t.paymentStatus)}));return{hasActiveBooking:!!n,activeBooking:n||null,checkOutDate:n?n.checkOutDate||n.check_out||n.end_date:null,roomName:n?(null===(t=n.room)||void 0===t?void 0:t.name)||n.roomName||"Room ".concat(n.roomId||n.room_id):null}}return{hasActiveBooking:!1,activeBooking:null,checkOutDate:null,roomName:null}}catch(Pee){var n,r;throw console.error("Error checking tenant active booking:",Pee),new Error((null===(n=Pee.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to check existing bookings")}}},z8=E8,O8=()=>{try{const e=z6.getToken(),t=b8.getToken(),n=e||t;return{headers:{Authorization:n?"Bearer ".concat(n):"","Content-Type":"application/json"}}}catch(e){return{headers:{"Content-Type":"application/json"}}}},L8={generateInvoice:async(e,t)=>{try{var n;const r=b8.getToken(),i={headers:{Authorization:"Bearer ".concat(r)}};console.log("Generating invoice for booking ".concat(e," with payment method ").concat(t));const o=await I6.A.post("".concat(g8,"/bookings/").concat(e,"/invoice"),{method_id:t},i);return console.log("Generate invoice response:",o.data),{invoice:o.data.invoice,paymentLink:o.data.paymentLink,payment_url:o.data.paymentUrl,invoice_id:null===(n=o.data.invoice)||void 0===n?void 0:n.invoiceId,status:o.data.status}}catch(i){var r;throw console.error("Error generating invoice for booking ".concat(e,":"),i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to generate invoice"}}},generateInvoiceWithMidtrans:async e=>{try{const t=O8();console.log("Generating invoice with Midtrans:",e);const n=await I6.A.post("".concat(g8,"/invoices/generate"),e,t);return console.log("Generate invoice response:",n.data),n.data}catch(n){var t;throw console.error("Error generating invoice with Midtrans:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to generate invoice with Midtrans"}}},getPaymentMethods:async()=>{try{const e=O8();console.log("Fetching payment methods...");const t=await I6.A.get("".concat(g8,"/payment-methods"),e);return console.log("Payment methods response:",t.data),t.data}catch(e){console.error("Error fetching payment methods:",e);const t={methods:[{methodId:1,name:"midtrans",description:"Online Payment (Credit Card, Bank Transfer, E-Wallet)",enabled:!0},{methodId:2,name:"manual",description:"Manual Transfer with Receipt Upload",enabled:!0}]};return console.warn("Using mock payment methods data"),t}},uploadPaymentReceipt:async(e,t)=>{try{const n=b8.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}};return(await I6.A.post("".concat(g8,"/invoices/").concat(e,"/receipt"),t,r)).data}catch(r){var n;throw console.error("Error uploading receipt for invoice ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to upload payment receipt"}}},getPaymentReceiptImage:async e=>{try{const t=b8.getToken(),n={headers:{Authorization:"Bearer ".concat(t)},responseType:"arraybuffer"};return(await I6.A.get("".concat(g8,"/payments/").concat(e,"/receipt-image"),n)).data}catch(n){var t;throw console.error("Error fetching receipt image for payment ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch payment receipt image"}}},getPaymentLinkByRoom:async e=>{try{return(await I6.A.get("".concat(g8,"/rooms/").concat(e,"/payment-link"))).data}catch(n){var t;throw console.error("Error fetching payment link for room ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch payment link"}}},checkMidtransPaymentStatus:async e=>{try{const t=b8.getToken(),n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{};console.log("Checking payment status for transaction ID: ".concat(e));const r=await I6.A.get("".concat(g8,"/payments/midtrans/").concat(e,"/status"),n);return console.log("Payment status check response:",r.data),r.data}catch(n){var t;throw console.error("Error checking Midtrans payment status for transaction ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to check payment status"}}},handlePaymentCallback:async e=>{try{const t=b8.getToken(),n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{};return(await I6.A.post("".concat(g8,"/payments/midtrans/callback"),e,n)).data}catch(n){var t;throw console.error("Error handling payment callback:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to process payment callback"}}},createManualPayment:async e=>{try{const t=O8();return(await I6.A.post("".concat(g8,"/payments/manual"),e,t)).data}catch(n){var t;throw(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to create manual payment"}}},verifyPayment:async(e,t)=>{try{const n=O8();console.log("Verifying payment ".concat(e,":"),t);const r=await I6.A.post("".concat(g8,"/payments/").concat(e,"/verify"),t,n);return console.log("Payment verification response:",r.data),r.data}catch(r){var n;throw console.error("Error verifying payment ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to verify payment"}}},getPayment:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=O8(),r=new URLSearchParams;r.append("include_proof_metadata","true"),r.append("include_image_content","true"),!1!==t.includeImageContent&&r.append("include_image_content","true");const i="".concat(g8,"/payments/").concat(e,"?").concat(r.toString());return(await I6.A.get(i,n)).data}catch(r){var n;throw(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to fetch payment details"}}},getPayments:async()=>{try{const e=O8();return(await I6.A.get("".concat(g8,"/payments"),e)).data}catch(t){var e;throw console.error("Error fetching payments:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch payments"}}},getInvoices:async()=>{try{const e=O8();return(await I6.A.get("".concat(g8,"/invoices"),e)).data}catch(t){var e;throw console.error("Error fetching invoices:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch invoices"}}},getBookingPayments:async e=>{try{const t=b8.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}};return(await I6.A.get("".concat(g8,"/bookings/").concat(e,"/payments"),n)).data}catch(n){var t;throw console.error("Error fetching payments for booking ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch booking payments"}}},getMidtransPaymentLink:async e=>{try{const t=b8.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}};return(await I6.A.post("".concat(g8,"/payments/midtrans/link"),e,n)).data}catch(n){var t;throw console.error("Error fetching Midtrans payment link:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch payment link"}}},uploadPaymentProof:async(e,t)=>{try{const n=b8.getToken(),r={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}};return(await I6.A.post("".concat(g8,"/payments/").concat(e,"/proof"),t,r)).data}catch(r){var n;throw console.error("Error uploading payment proof for payment ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to upload payment proof"}}},getTenantInvoices:async e=>{try{return(await I6.A.get("".concat(g8,"/tenants/").concat(e,"/invoices"),O8())).data}catch(n){var t;throw console.error("Error fetching tenant invoices:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch tenant invoices"}}},getTenantPayments:async e=>{try{return(await I6.A.get("".concat(g8,"/tenants/").concat(e,"/payments"),O8())).data}catch(n){var t;throw console.error("Error fetching tenant payments:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch tenant payments"}}},getBookingPaymentStatus:async e=>{try{return(await I6.A.get("".concat(g8,"/bookings/").concat(e,"/payment-status"),O8())).data}catch(n){var t;throw console.error("Error fetching booking payment status:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch booking payment status"}}},handleMidtransCallback:async e=>{try{const t=O8();return(await I6.A.post("".concat(g8,"/payments/midtrans-callback"),e,t)).data}catch(n){var t;throw console.error("Error handling Midtrans callback:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to process Midtrans callback"}}},downloadReceipt:async e=>{try{const t=(0,o.A)((0,o.A)({},O8()),{},{responseType:"blob"});return(await I6.A.get("".concat(g8,"/payments/").concat(e,"/receipt"),t)).data}catch(n){var t;throw console.error("Error downloading receipt:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to download receipt"}}},downloadInvoicePDF:async e=>{try{const t=(0,o.A)((0,o.A)({},O8()),{},{responseType:"blob"});return(await I6.A.get("".concat(g8,"/invoices/").concat(e,"/pdf"),t)).data}catch(n){var t;throw console.error("Error downloading invoice PDF:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to download invoice PDF"}}},getPaymentStatistics:async()=>{try{const e=O8();return(await I6.A.get("".concat(g8,"/payments/statistics"),e)).data}catch(t){var e;throw console.error("Error fetching payment statistics:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch payment statistics"}}},getPendingPayments:async()=>{try{const e=O8();return(await I6.A.get("".concat(g8,"/payments/pending"),e)).data}catch(t){var e;throw console.error("Error fetching pending payments:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch pending payments"}}},getOverdueInvoices:async()=>{try{const e=O8();return(await I6.A.get("".concat(g8,"/invoices/overdue"),e)).data}catch(t){var e;throw console.error("Error fetching overdue invoices:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch overdue invoices"}}},generateSnapToken:async(e,t)=>{try{const n=O8(),r="".concat(g8,"/payments/snap-token"),i={};e&&(i.booking_id=e),t&&(i.invoice_id=t),console.log("Generating Snap token with data:",i);const o=await I6.A.post(r,i,n);return console.log("Snap token response:",o.data),o.data}catch(r){var n;throw console.error("Error generating Snap token:",r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to generate Snap token"}}},getTenantPaymentsWithProof:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n="tenant-payments-proof-".concat(e),r=I8.get(n,t);if(r&&!t.forceRefresh)return r;const i=O8(),o=new URLSearchParams;t.status&&o.append("status",t.status),t.paymentMethod&&o.append("payment_method",t.paymentMethod),t.paymentChannel&&o.append("payment_channel",t.paymentChannel),t.dateFrom&&o.append("date_from",t.dateFrom),t.dateTo&&o.append("date_to",t.dateTo),t.page&&o.append("page",t.page),t.limit&&o.append("limit",t.limit),t.sortBy&&o.append("sort_by",t.sortBy),t.sortOrder&&o.append("sort_order",t.sortOrder),t.includeProofMetadata&&o.append("include_proof_metadata",t.includeProofMetadata),t.includeInvoiceDetails&&o.append("include_invoice_details",t.includeInvoiceDetails);const a=o.toString(),s="".concat(g8,"/tenants/").concat(e,"/payments/with-proof").concat(a?"?".concat(a):""),l=await fetch(s,i),c=await l.json();if(!l.ok)throw new Error(c.message||"Failed to get tenant payments with proof");return I8.set(n,t,c,6e4),c}catch(n){throw n}},getTenantInvoiceById:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{console.log("Getting tenant invoice:",{tenantId:e,invoiceId:t,options:n});const r=O8(),i=new URLSearchParams;n.includePayments&&i.append("include_payments",n.includePayments),n.includeItems&&i.append("include_items",n.includeItems),n.includeProofMetadata&&i.append("include_proof_metadata",n.includeProofMetadata);const o=i.toString(),a="".concat(g8,"/tenants/").concat(e,"/invoices/").concat(t).concat(o?"?".concat(o):""),s=await fetch(a,r),l=await s.json();if(console.log("Tenant invoice response:",l),!s.ok)throw new Error(l.message||"Failed to get tenant invoice");return l}catch(r){throw console.error("Error getting tenant invoice:",r),r}},getPaymentProofMetadata:async e=>{try{console.log("Getting payment proof metadata for payment:",e);const t=O8(),n=await fetch("".concat(g8,"/payments/").concat(e,"/proof/metadata"),t),r=await n.json();if(console.log("Payment proof metadata response:",r),!n.ok)throw new Error(r.message||"Failed to get payment proof metadata");return r}catch(t){throw console.error("Error getting payment proof metadata:",t),t}},checkPendingManualPayments:async(e,t)=>{try{if(!t){const e=JSON.parse(localStorage.getItem("tenant")||"{}");t=e.tenantId||e.tenant_id||e.id}if(!t)return console.warn("No tenant ID available for pending payment check"),{hasPendingPayments:!1,pendingPayments:[],total:0};console.log("Checking pending manual payments for invoice ".concat(e,", tenant ").concat(t));try{const n=await L8.getTenantInvoices(t);if(n&&n.invoices){const t=n.invoices.find((t=>t.invoiceId===e||t.invoice_id===e));if(t&&t.payments&&t.payments.length>0){const e=t.payments.filter((e=>{const t="pending"===e.status,n="manual"===e.paymentMethod;return t&&n}));if(e.length>0)return console.log("Found pending payments in invoice:",e),{hasPendingPayments:!0,pendingPayments:e,total:e.length}}}}catch(n){console.warn("Could not check invoice payments, falling back to tenant payments:",n)}try{const n=await L8.getTenantPayments(t);if(n&&n.payments){const t=n.payments.filter((t=>{const n=t.invoiceId===e,r="pending"===t.status,i="manual"===t.paymentMethod;return console.log("Checking payment ".concat(t.paymentId,": invoice=").concat(t.invoiceId,", status=").concat(t.status,", method=").concat(t.paymentMethod)),console.log("Matches: invoice=".concat(n,", pending=").concat(r,", manual=").concat(i)),n&&r&&i})),r={hasPendingPayments:t.length>0,pendingPayments:t,total:t.length};return console.log("Pending payments check result from tenant payments:",r),r}}catch(r){console.warn("Could not check tenant payments:",r)}return{hasPendingPayments:!1,pendingPayments:[],total:0}}catch(i){return console.error("Error checking pending payments for invoice ".concat(e,":"),i),console.warn("Allowing payment flow to continue due to API error"),{hasPendingPayments:!1,pendingPayments:[],total:0,error:i.message}}},getPaymentProofDetails:async e=>{try{const t=O8();console.log("Getting payment proof details for payment ".concat(e));const n=await I6.A.get("".concat(g8,"/payments/").concat(e,"/proof/details"),t);return console.log("Payment proof details response:",n.data),n.data}catch(n){var t;throw console.error("Error getting payment proof details for payment ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to get payment proof details"}}},getPaymentProofImage:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=O8(),r=new URLSearchParams;t.format&&r.append("format",t.format),t.encoding&&r.append("encoding",t.encoding),console.log("Getting payment proof image for payment ".concat(e));const i=await I6.A.get("".concat(g8,"/payments/").concat(e,"/proof/image?").concat(r.toString()),n);return console.log("Payment proof image response received"),i.data}catch(r){var n;throw console.error("Error getting payment proof image for payment ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to get payment proof image"}}},createDynamicPayment:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r=O8(),i=(0,o.A)({booking_id:parseInt(e),payment_method_id:parseInt(t)},n);console.log("Creating dynamic payment with data:",i);const a=await I6.A.post("".concat(g8,"/bookings/").concat(e,"/payments"),i,r);if(a.data)return a.data;throw new Error("No payment data received")}catch(i){var r;throw console.error("Error creating dynamic payment:",i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:i.message||"Failed to create payment",details:i.toString()}}},getInvoiceWithBreakdown:async e=>{try{const t=O8();console.log("Getting invoice breakdown for invoice ".concat(e));const n=await I6.A.get("".concat(g8,"/invoices/").concat(e,"/breakdown"),t);if(n.data)return n.data;throw new Error("No invoice breakdown data received")}catch(n){var t;throw console.error("Error getting invoice breakdown:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:n.message||"Failed to get invoice breakdown",details:n.toString()}}},processMidtransPayment:async(e,t)=>{try{const n=O8(),r={invoice_id:parseInt(e),customer_details:t};console.log("Processing Midtrans payment with data:",r);const i=await I6.A.post("".concat(g8,"/payments/midtrans/create"),r,n);if(i.data)return i.data;throw new Error("No Midtrans payment data received")}catch(r){var n;throw console.error("Error processing Midtrans payment:",r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:r.message||"Failed to process Midtrans payment",details:r.toString()}}},uploadManualPaymentProof:async(e,t,n)=>{try{const r=z6.getToken();if(!r)throw new Error("Authentication required");const i=new FormData;i.append("invoice_id",e),i.append("payment_proof",t),i.append("bank_name",n.bankName||""),i.append("account_name",n.accountName||""),i.append("transfer_date",n.transferDate||""),i.append("amount",n.amount||""),i.append("notes",n.notes||"");const o={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}};console.log("Uploading manual payment proof for invoice:",e);const a=await I6.A.post("".concat(g8,"/payments/manual/upload"),i,o);if(a.data)return a.data;throw new Error("No manual payment response received")}catch(i){var r;throw console.error("Error uploading manual payment proof:",i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:i.message||"Failed to upload payment proof",details:i.toString()}}}},D8=L8,R8="".concat("rusunawa-skripsi-v1-production.up.railway.app","/v1"),M8={getInvoice:async e=>{try{const t=z6.getToken(),n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{};return(await I6.A.get("".concat(R8,"/invoices/").concat(e),n)).data}catch(n){var t;throw console.error("Error fetching invoice ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch invoice details"}}},getTenantInvoices:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=z6.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}},r=z6.getCurrentTenant();if(!r||!r.tenantId)throw new Error("No authenticated tenant found");console.log("Fetching invoices for tenant ".concat(r.tenantId,"..."));const i=await I6.A.get("".concat(R8,"/tenants/").concat(r.tenantId,"/invoices"),(0,o.A)((0,o.A)({},n),{},{params:e}));return console.log("Tenant invoices response:",i.data),i.data}catch(n){var t;throw console.error("Error fetching tenant invoices:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch invoices"}}},getTenantInvoiceById:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r=z6.getToken(),i={headers:{Authorization:"Bearer ".concat(r)}},o=new URLSearchParams;n.includePayments&&o.append("include_payments",n.includePayments),n.includeItems&&o.append("include_items",n.includeItems),n.includeProofMetadata&&o.append("include_proof_metadata",n.includeProofMetadata);const a=o.toString(),s="".concat(R8,"/tenants/").concat(e,"/invoices/").concat(t).concat(a?"?".concat(a):"");console.log("Fetching tenant invoice:",s);const l=await I6.A.get(s,i);return console.log("Tenant invoice response:",l.data),l.data}catch(i){var r;throw console.error("Error fetching tenant invoice ".concat(t,":"),i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to fetch invoice details"}}},getInvoiceDetails:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r=z6.getToken(),i={headers:{Authorization:"Bearer ".concat(r)}},o=new URLSearchParams;!1!==n.includePayments&&o.append("include_payments","true"),!1!==n.includeItems&&o.append("include_items","true"),!1!==n.includeProofMetadata&&o.append("include_proof_metadata","true");const a=o.toString(),s="".concat(R8,"/tenants/").concat(e,"/invoices/").concat(t).concat(a?"?".concat(a):"");console.log("Fetching invoice details:",s);const l=await I6.A.get(s,i);return console.log("Invoice details response:",l.data),l.data}catch(i){var r;throw console.error("Error fetching invoice details for tenant ".concat(e,", invoice ").concat(t,":"),i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to fetch invoice details"}}},generateInvoiceWithMidtrans:async e=>{try{const t=z6.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}};return(await I6.A.post("".concat(R8,"/invoices/generate"),e,n)).data}catch(n){var t;throw console.error("Error generating invoice with Midtrans:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to generate invoice with Midtrans"}}},updateInvoiceStatus:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=z6.getToken(),i={headers:{Authorization:"Bearer ".concat(r)}},o={status:t,midtransPaymentId:n,paidAt:"paid"===t?(new Date).toISOString():null};return(await I6.A.put("".concat(R8,"/").concat(e,"/status"),o,i)).data}catch(i){var r;throw console.error("Error updating status for invoice ".concat(e,":"),i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to update invoice status"}}},uploadReceipt:async(e,t)=>{try{const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}};return(await I6.A.post("".concat(R8,"/").concat(e,"/receipt"),t,r)).data}catch(r){var n;throw console.error("Error uploading receipt for invoice ".concat(e,":"),r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to upload receipt"}}}},B8=M8,F8=["min","max","onChange","value","defaultValue","isReversed","direction","orientation","id","isDisabled","isReadOnly","onChangeStart","onChangeEnd","step","getAriaValueText","aria-valuetext","aria-label","aria-labelledby","name","focusThumbOnChange","minStepsBetweenThumbs"],W8=["index"],U8=["value"],q8=["index"];function H8(e){const{min:n=0,max:r=100,onChange:i,value:a,defaultValue:s,isReversed:l,direction:c="ltr",orientation:d="horizontal",id:u,isDisabled:h,isReadOnly:p,onChangeStart:f,onChangeEnd:m,step:g=1,getAriaValueText:v,"aria-valuetext":y,"aria-label":x,"aria-labelledby":b,name:j,focusThumbOnChange:w=!0,minStepsBetweenThumbs:k=0}=e,S=Jo(e,F8),_=fd(f),A=fd(m),C=fd(v),P=w3({isReversed:l,direction:c,orientation:d}),[I,T]=uS({value:a,defaultValue:null!==s&&void 0!==s?s:[25,75],onChange:i});if(!Array.isArray(I))throw new TypeError("[range-slider] You passed an invalid value for `value` or `defaultValue`, expected `Array` but got `".concat(typeof I,"`"));const[N,E]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!1),[L,D]=(0,t.useState)(-1),R=!(h||p),M=(0,t.useRef)(I),B=I.map((e=>W2(e,n,r))),F=function(e,t,n,r){return e.map(((i,o)=>({min:0===o?t:e[o-1]+r,max:o===e.length-1?n:e[o+1]-r})))}(B,n,r,k*g),W=(0,t.useRef)({eventSource:null,value:[],valueBounds:[]});W.current.value=B,W.current.valueBounds=F;const U=B.map((e=>r-e+n)),q=(P?U:B).map((e=>M2(e,n,r))),H="vertical"===d,V=(0,t.useRef)(null),G=(0,t.useRef)(null),K=(0,t.useId)(),Y=function(e){return{root:"slider-root-".concat(e),getThumb:t=>"slider-thumb-".concat(e,"-").concat(t),getInput:t=>"slider-input-".concat(e,"-").concat(t),track:"slider-track-".concat(e),innerTrack:"slider-filled-track-".concat(e),getMarker:t=>"slider-marker-".concat(e,"-").concat(t),output:"slider-output-".concat(e)}}(null!==u&&void 0!==u?u:K),Z=(0,t.useCallback)((e=>{var t,i;if(!V.current)return;W.current.eventSource="pointer";const o=V.current.getBoundingClientRect(),{clientX:a,clientY:s}=null!==(t=null===(i=e.touches)||void 0===i?void 0:i[0])&&void 0!==t?t:e;let l=(H?o.bottom-s:a-o.left)/(H?o.height:o.width);return P&&(l=1-l),B2(l,n,r)}),[H,P,r,n]),J=(r-n)/10,X=g||(r-n)/100,$=(0,t.useMemo)((()=>({setValueAtIndex(e,t){if(!R)return;const n=W.current.valueBounds[e];t=W2(t=parseFloat(F2(t,n.min,X)),n.min,n.max);const r=[...W.current.value];r[e]=t,T(r)},setActiveIndex:D,stepUp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;const n=W.current.value[e],r=P?n-t:n+t;$.setValueAtIndex(e,r)},stepDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;const n=W.current.value[e],r=P?n+t:n-t;$.setValueAtIndex(e,r)},reset(){T(M.current)}})),[X,P,T,R]),Q=(0,t.useCallback)((e=>{const t={ArrowRight:()=>$.stepUp(L),ArrowUp:()=>$.stepUp(L),ArrowLeft:()=>$.stepDown(L),ArrowDown:()=>$.stepDown(L),PageUp:()=>$.stepUp(L,J),PageDown:()=>$.stepDown(L,J),Home:()=>{const{min:e}=F[L];$.setValueAtIndex(L,e)},End:()=>{const{max:e}=F[L];$.setValueAtIndex(L,e)}}[e.key];t&&(e.preventDefault(),e.stopPropagation(),t(e),W.current.eventSource="keyboard")}),[$,L,J,F]),{getThumbStyle:ee,rootStyle:te,trackStyle:ne,innerTrackStyle:re}=(0,t.useMemo)((()=>j3({isReversed:P,orientation:d,thumbPercents:q})),[P,d,q]),ie=(0,t.useCallback)((e=>{const t=null!==e&&void 0!==e?e:L;if(-1!==t&&w){var n;const e=Y.getThumb(t),r=null===(n=G.current)||void 0===n?void 0:n.ownerDocument.getElementById(e);r&&setTimeout((()=>r.focus()))}}),[w,L,Y]);pd((()=>{"keyboard"===W.current.eventSource&&(null===A||void 0===A||A(W.current.value))}),[B,A]);x3(G,{onPanSessionStart(e){R&&(E(!0),(e=>{const t=Z(e)||0,n=W.current.value.map((e=>Math.abs(e-t))),r=Math.min(...n);let i=n.indexOf(r);const o=n.filter((e=>e===r));o.length>1&&t>W.current.value[i]&&(i=i+o.length-1),D(i),$.setValueAtIndex(i,t),ie(i)})(e),null===_||void 0===_||_(W.current.value))},onPanSessionEnd(){R&&(E(!1),null===A||void 0===A||A(W.current.value))},onPan(e){R&&(e=>{if(-1==L)return;const t=Z(e)||0;D(L),$.setValueAtIndex(L,t),ie(L)})(e)}});const oe=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)((0,o.A)({},e),S),{},{id:Y.root,ref:Yb(t,G),tabIndex:-1,"aria-disabled":Xb(h),"data-focused":Jb(z),style:(0,o.A)((0,o.A)({},e.style),te)})}),[S,h,z,te,Y]),ae=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:Yb(t,V),id:Y.track,"data-disabled":Jb(h),style:(0,o.A)((0,o.A)({},e.style),ne)})}),[h,ne,Y]),se=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,id:Y.innerTrack,style:(0,o.A)((0,o.A)({},e.style),re)})}),[re,Y]),le=(0,t.useCallback)((function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{index:r}=e,i=Jo(e,W8),a=B[r];if(null==a)throw new TypeError("[range-slider > thumb] Cannot find value at index `".concat(r,"`. The `value` or `defaultValue` length is : ").concat(B.length));const s=F[r];return(0,o.A)((0,o.A)({},i),{},{ref:n,role:"slider",tabIndex:R?0:void 0,id:Y.getThumb(r),"data-active":Jb(N&&L===r),"aria-valuetext":null!==(t=null===C||void 0===C?void 0:C(a))&&void 0!==t?t:null===y||void 0===y?void 0:y[r],"aria-valuemin":s.min,"aria-valuemax":s.max,"aria-valuenow":a,"aria-orientation":d,"aria-disabled":Xb(h),"aria-readonly":Xb(p),"aria-label":null===x||void 0===x?void 0:x[r],"aria-labelledby":null!==x&&void 0!==x&&x[r]||null===b||void 0===b?void 0:b[r],style:(0,o.A)((0,o.A)({},e.style),ee(r)),onKeyDown:dj(e.onKeyDown,Q),onFocus:dj(e.onFocus,(()=>{O(!0),D(r)})),onBlur:dj(e.onBlur,(()=>{O(!1),D(-1)}))})}),[Y,B,F,R,N,L,C,y,d,h,p,x,b,ee,Q,O]),ce=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.A)((0,o.A)({},e),{},{ref:t,id:Y.output,htmlFor:B.map(((e,t)=>Y.getThumb(t))).join(" "),"aria-live":"off"})}),[Y,B]),de=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{value:i}=e,a=Jo(e,U8),s=!(i<n||i>r),l=i>=B[0]&&i<=B[B.length-1];let c=M2(i,n,r);c=P?100-c:c;const u=(0,o.A)({position:"absolute",pointerEvents:"none"},b3({orientation:d,vertical:{bottom:"".concat(c,"%")},horizontal:{left:"".concat(c,"%")}}));return(0,o.A)((0,o.A)({},a),{},{ref:t,id:Y.getMarker(e.value),role:"presentation","aria-hidden":!0,"data-disabled":Jb(h),"data-invalid":Jb(!s),"data-highlighted":Jb(l),style:(0,o.A)((0,o.A)({},e.style),u)})}),[h,P,r,n,d,B,Y]),ue=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{index:n}=e,r=Jo(e,q8);return(0,o.A)((0,o.A)({},r),{},{ref:t,id:Y.getInput(n),type:"hidden",value:B[n],name:Array.isArray(j)?j[n]:"".concat(j,"-").concat(n)})}),[j,B,Y]);return{state:{value:B,isFocused:z,isDragging:N,getThumbPercent:e=>q[e],getThumbMinValue:e=>F[e].min,getThumbMaxValue:e=>F[e].max},actions:$,getRootProps:oe,getTrackProps:ae,getInnerTrackProps:se,getThumbProps:le,getMarkerProps:de,getInputProps:ue,getOutputProps:ce}}const V8=["getRootProps"],[G8,K8]=Nc({name:"SliderContext",errorMessage:"useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"}),[Y8,Z8]=Nc({name:"RangeSliderStylesContext",errorMessage:"useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<RangeSlider />\" "}),J8=Dv((function(e,n){const r=(0,o.A)({orientation:"horizontal"},e),i=Gv("Slider",r),a=Ov(r),{direction:s}=Fv();a.direction=s;const l=H8(a),{getRootProps:c}=l,d=Jo(l,V8),u=(0,t.useMemo)((()=>(0,o.A)((0,o.A)({},d),{},{name:r.name})),[d,r.name]);return(0,Xo.jsx)(G8,{value:u,children:(0,Xo.jsx)(Y8,{value:i,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},c({},n)),{},{className:"chakra-slider",__css:i.container,children:r.children}))})})}));J8.displayName="RangeSlider";const X8=Dv((function(e,t){const{getThumbProps:n,getInputProps:r,name:i}=K8(),a=Z8(),s=n(e,t);return(0,Xo.jsxs)(Tv.div,(0,o.A)((0,o.A)({},s),{},{className:Lv("chakra-slider__thumb",e.className),__css:a.thumb,children:[s.children,i&&(0,Xo.jsx)("input",(0,o.A)({},r({index:e.index})))]}))}));X8.displayName="RangeSliderThumb";const $8=Dv((function(e,t){const{getTrackProps:n}=K8(),r=Z8(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:Lv("chakra-slider__track",e.className),__css:r.track,"data-testid":"chakra-range-slider-track"}))}));$8.displayName="RangeSliderTrack";const Q8=Dv((function(e,t){const{getInnerTrackProps:n}=K8(),r=Z8(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:"chakra-slider__filled-track",__css:r.filledTrack}))}));Q8.displayName="RangeSliderFilledTrack";const e7=Dv((function(e,t){const{getMarkerProps:n}=K8(),r=Z8(),i=n(e,t);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({},i),{},{className:Lv("chakra-slider__marker",e.className),__css:r.mark}))}));e7.displayName="RangeSliderMark";const t7="".concat(v8,"/v1/rooms"),n7=new Map,r7=3e5,i7=e=>"tenant_room_images_".concat(e),o7=e=>e&&Date.now()-e.timestamp<r7,a7={getRooms:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await I6.A.get(t7,{params:e})).data}catch(n){var t;throw console.error("Error fetching rooms:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch rooms"}}},getRoom:async e=>{try{if(!e||isNaN(e))throw new Error("Invalid room ID");return(await I6.A.get("".concat(t7,"/").concat(e))).data}catch(n){var t;throw console.error("Error fetching room ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch room details"}}},checkAvailability:async(e,t,n)=>{try{const r={startDate:t,endDate:n},i=await I6.A.get("".concat(t7,"/").concat(e,"/availability"),{params:r}),o=(i.data.availability||[]).filter((e=>!e.isAvailable));return{is_available:0===o.length,unavailable_dates:o}}catch(i){var r;throw console.error("Error checking availability for room ".concat(e,":"),i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to check room availability"}}},checkRoomCapacity:async(e,t,n)=>{try{if(!e||isNaN(e))throw new Error("Invalid room ID");if(!t||!n)throw new Error("Start date and end date are required");const r={startDate:t,endDate:n},i=await I6.A.get("".concat(t7,"/").concat(e,"/capacity"),{params:r});return{is_available:i.data.is_available||!1,available_slots:i.data.available_slots||0,room_capacity:i.data.room_capacity||0}}catch(o){var r,i;if(console.error("Error checking capacity for room ".concat(e,":"),o),404===(null===(r=o.response)||void 0===r?void 0:r.status)){console.warn("Room capacity endpoint not found. Using simulated response.");try{const t=await a7.getRoom(e);return{is_available:!0,available_slots:t.capacity?Math.max(1,t.capacity-1):1,room_capacity:t.capacity||4}}catch(a){return{is_available:!0,available_slots:1,room_capacity:4}}}throw(null===(i=o.response)||void 0===i?void 0:i.data)||{message:"Failed to check room capacity"}}},getRoomTypes:async()=>{try{const e=(await I6.A.get(t7)).data.rooms||[],t=[...new Set(e.map((e=>{var t;return(null===(t=e.classification)||void 0===t?void 0:t.name)||""})).filter(Boolean))];return{classifications:t,rental_types:[...new Set(e.map((e=>{var t;return(null===(t=e.rentalType)||void 0===t?void 0:t.name)||""})).filter(Boolean))]}}catch(t){var e;throw console.error("Error fetching room types:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch room types"}}},getRoomOccupancyStatus:async e=>{try{if(!e||isNaN(e))throw new Error("Invalid room ID");const t=(await I6.A.get("".concat(t7,"/").concat(e))).data.room;if(!t)throw new Error("Room not found");const n=t.capacity||4,r=(t.occupants||[]).filter((e=>"approved"===e.status||"checked_in"===e.status)),i=r.length,o=Math.max(0,n-i),a=n>0?i/n*100:0,s=i>=n;let l="available";return s?l="fully_booked":i>0&&(l="partially_occupied"),{capacity:n,occupied_slots:i,available_slots:o,occupancy_percentage:Math.round(a),is_fully_booked:s,status:l,active_occupants:r}}catch(t){throw console.error("Error fetching occupancy status for room ".concat(e,":"),t),t}},getRoomAvailability:async(e,t,n)=>{try{if(!e||isNaN(e))throw new Error("Invalid room ID");if(!t||!n)throw new Error("Start date and end date are required");const r={startDate:t,endDate:n},i=await I6.A.get("".concat(t7,"/").concat(e,"/availability"),{params:r});return{availability:i.data.availability||[],is_available:i.data.is_available||!1}}catch(o){var r,i;if(console.error("Error fetching availability for room ".concat(e,":"),o),404===(null===(r=o.response)||void 0===r?void 0:r.status))return console.warn("Room availability endpoint not found. Using fallback."),{availability:[],is_available:!0};throw(null===(i=o.response)||void 0===i?void 0:i.data)||{message:"Failed to fetch room availability"}}},getRentalTypes:async()=>{try{return(await I6.A.get("".concat(v8,"/v1/rental-types"))).data}catch(e){console.error("Error fetching rental types from API:",e);try{const e=(await I6.A.get(t7)).data.rooms||[],t=new Map;e.forEach((e=>{e.rentalType&&e.rentalType.rentalTypeId&&t.set(e.rentalType.rentalTypeId,{rentalTypeId:e.rentalType.rentalTypeId,name:e.rentalType.name})}));const n=Array.from(t.values());return 0===n.length?{rentalTypes:[{rentalTypeId:1,name:"harian"},{rentalTypeId:2,name:"bulanan"}]}:{rentalTypes:n}}catch(t){return console.error("Error in fallback rental types fetch:",t),{rentalTypes:[{rentalTypeId:1,name:"harian"},{rentalTypeId:2,name:"bulanan"}]}}}},calculatePricing:async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"daily";try{const i=await a7.getRoom(e),o=i.room||i,a=new Date(t),s=new Date(n),l=Math.abs(s-a);let c=0,d=0,u="";if("monthly"===r){const e=Math.ceil(l/2592e6);d=e,u="bulan",c=(o.rate||0)*e}else{const e=Math.ceil(l/864e5);d=e,u="hari",c=(o.rate||0)*e}return{baseRate:o.rate||0,duration:d,unit:u,totalAmount:c,rentalType:r}}catch(o){var i;throw console.error("Error calculating pricing for room ".concat(e,":"),o),(null===(i=o.response)||void 0===i?void 0:i.data)||{message:"Failed to calculate pricing"}}},getRoomImages:async e=>{try{if(!e||"undefined"===e||isNaN(e))throw console.warn("\u274c [Tenant] Invalid roomId provided: ".concat(e)),new Error("Invalid room ID provided");const t=(e=>{const t=i7(e),n=n7.get(t);return o7(n)?n.data:(n&&n7.delete(t),null)})(e);if(t)return t;const n=(await I6.A.get("".concat(t7,"/").concat(e,"/images"))).data;return n.images&&n.images.length>0&&(n.images=n.images.map((e=>{const t=e.imageData&&"string"===typeof e.imageData?"data:".concat(e.contentType||"image/png",";base64,").concat(e.imageData):null;return(0,o.A)((0,o.A)({},e),{},{imageUrl:t,originalImageData:e.imageData})}))),((e,t)=>{const n=i7(e);n7.set(n,{data:t,timestamp:Date.now()})})(e,n),n}catch(r){var t,n;throw console.error("\u274c [Tenant] Error in getRoomImages:",r.response||r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"Failed to fetch room images")}},getPrimaryRoomImage:async e=>{try{if(!e||"undefined"===e||isNaN(e))return null;const t=await a7.getRoomImages(e);if(t.images&&t.images.length>0){return t.images.find((e=>e.isPrimary))||t.images[0]}return null}catch(t){return null}},clearImageCache:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){const t=i7(e);n7.delete(t)}else n7.clear()},getCacheStats:()=>({totalCachedRooms:n7.size,cacheKeys:Array.from(n7.keys()),cacheExpiry:"".concat(5," minutes")})},s7=a7,l7=e=>{var t;if(!e)return"";return"ruang_rapat"===(null===(t=e.classification)||void 0===t?void 0:t.name)?"Kapasitas tidak dibatasi":"".concat(e.capacity||4," orang")},c7=e=>{switch(e){case"perempuan":return{label:"Kamar Mahasiswi",color:"pink"};case"laki_laki":return{label:"Kamar Mahasiswa",color:"blue"};case"ruang_rapat":return{label:"Ruang Rapat",color:"purple"};case"VIP":return{label:"Kamar Non-Mahasiswa",color:"green"};default:return{label:e,color:"gray"}}},d7=e=>{if(!e||!e.occupants)return{capacity:(null===e||void 0===e?void 0:e.capacity)||4,occupied_slots:0,available_slots:(null===e||void 0===e?void 0:e.capacity)||4,occupancy_percentage:0,is_fully_booked:!1,status:"available"};const t=e.capacity||4,n=new Date,r=e.occupants.filter((e=>{const t=new Date(e.checkIn),r=new Date(e.checkOut),i=t<=n&&n<=r,o="approved"===e.status||"checked_in"===e.status;return i&&o})),i=new Set(r.map((e=>e.tenantId))).size,o=t>0?i/t*100:0,a=i>=t;let s="available";return a?s="fully_booked":i>0&&(s="partially_occupied"),{capacity:t,occupied_slots:i,available_slots:Math.max(0,t-i),occupancy_percentage:Math.round(o),is_fully_booked:a,status:s,active_occupants:r}},u7=e=>{var t;const n=d7(e);return"ruang_rapat"===(null===(t=e.classification)||void 0===t?void 0:t.name)?null:n.is_fully_booked?{text:"Fully Booked",colorScheme:"red"}:n.occupied_slots>0?{text:"".concat(n.available_slots," slots available"),colorScheme:"orange"}:{text:"Available",colorScheme:"green"}},h7=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e||!t||!n)return!1;if(!r||0===r.length)return!0;const i=new Date(t),o=new Date(n);if(r[0]&&"date"in r[0]){const e=new Date(i);for(;e<=o;){const t=e.toISOString().split("T")[0],n=r.find((e=>e.date.split("T")[0]===t));if(n&&!n.isAvailable)return!1;e.setDate(e.getDate()+1)}}else for(const a of r){const e=new Date(a);if(e>=i&&e<=o)return!1}return!0},p7=n.p+"static/media/female-room.0d844d8a800feb964dd8.jpg",f7=n.p+"static/media/male-room.1f4a2a6988b4dc17a80f.jpg",m7=n.p+"static/media/Ruang_rapat.d4d21d1fe2333166a34a.jpg",g7={perempuan:p7,laki_laki:f7,VIP:f7,ruang_rapat:m7,default:f7},v7=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),y7=e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(t)},x7=e=>{let{room:n}=e;const{tenant:r}=D6(),i=zs("white","gray.700"),o=zs("gray.200","gray.600"),[a,s]=(zs("gray.600","gray.400"),(0,t.useState)("available")),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)({daily:0,monthly:0}),[g,v]=(0,t.useState)(!1),y=(null===n||void 0===n?void 0:n.room_id)||(null===n||void 0===n?void 0:n.roomId)||(null===n||void 0===n?void 0:n.id);(0,t.useEffect)((()=>{!(null!==n&&void 0!==n&&n.room_id||null!==n&&void 0!==n&&n.roomId)||"undefined"===n.room_id&&"undefined"===n.roomId||((async()=>{try{if(!y||"undefined"===y)return void console.warn("Missing or invalid room ID for occupancy check:",n);if(n.occupancy)s(n.occupancy);else if(n.occupants){const e=d7(n);s(e)}else{const e=await s7.getRoomOccupancyStatus(y);s(e)}}catch(e){console.error("Error fetching occupancy status:",e),s({capacity:(null===n||void 0===n?void 0:n.capacity)||4,occupied_slots:0,available_slots:(null===n||void 0===n?void 0:n.capacity)||4,occupancy_percentage:0,status:"available"})}finally{c(!1)}})(),(async()=>{try{if(p(!0),!y||"undefined"===y)return;const e=await s7.getPrimaryRoomImage(y);e&&u(e)}catch(e){}finally{p(!1)}})(),(async()=>{if(null!==r&&void 0!==r&&r.tenantId&&y)try{var e;v(!0);const t=await z8.getDynamicRate(r.tenantId,y,1);let i=0;if("ruang_rapat"!==(null===n||void 0===n||null===(e=n.classification)||void 0===e?void 0:e.name)){const e=await z8.getDynamicRate(r.tenantId,y,2);i=(null===e||void 0===e?void 0:e.rate)||0}m({daily:(null===t||void 0===t?void 0:t.rate)||0,monthly:i})}catch(Pee){console.error("Error loading dynamic rates for room:",y,Pee)}finally{v(!1)}})())}),[n,null===r||void 0===r?void 0:r.tenantId]);if(!n)return null;const{room_id:x,name:b,classification:j,rentalType:w,rate:k,capacity:S,description:_,amenities:A=[]}=n,C=(null===j||void 0===j||j.name,c7((null===j||void 0===j?void 0:j.name)||""),"ruang_rapat"===(null===j||void 0===j?void 0:j.name)),P=(A.some((e=>{var t;return"AC"===(null===(t=e.feature)||void 0===t?void 0:t.name)})),A.some((e=>{var t;return"private_bathroom"===(null===(t=e.feature)||void 0===t?void 0:t.name)})),(null===d||void 0===d?void 0:d.imageUrl)||n.imageUrl||(e=>{if(!e||!e.classification||!e.classification.name)return g7.default;const t=e.classification.name.toLowerCase();return g7[t]||g7.default})(n));return(0,Xo.jsxs)(Eb,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",bg:i,borderColor:o,boxShadow:"md",transition:"all 0.3s",_hover:{boxShadow:"lg",transform:"translateY(-5px)"},children:[(0,Xo.jsx)(h4,{ratio:16/9,position:"relative",children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Bb,{src:P,alt:b,objectFit:"cover",fallbackSrc:g7.default}),h&&(0,Xo.jsx)(Xj,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.300",align:"center",justify:"center",children:(0,Xo.jsx)(Qv,{size:"sm",color:"white"})}),d&&(0,Xo.jsx)(r_,{position:"absolute",top:2,left:2,colorScheme:"blue",variant:"solid",fontSize:"xs",children:"Photo"})]})}),(0,Xo.jsxs)(Eb,{p:5,display:"flex",flexDirection:"column",children:[(0,Xo.jsxs)(Xj,{align:"center",mb:2,children:[(0,Xo.jsx)(r_,{colorScheme:"perempuan"===(null===j||void 0===j?void 0:j.name)?"pink":"laki_laki"===(null===j||void 0===j?void 0:j.name)?"blue":"VIP"===(null===j||void 0===j?void 0:j.name)?"purple":"ruang_rapat"===(null===j||void 0===j?void 0:j.name)?"green":"gray",alignSelf:"flex-start",children:(I=null===j||void 0===j?void 0:j.name,{perempuan:"Female Room",laki_laki:"Male Room",VIP:"VIP Room",ruang_rapat:"Meeting Room"}[I]||I)}),(()=>{const e=u7(n);return e?(0,Xo.jsx)(r_,{colorScheme:e.colorScheme,ml:2,children:e.text}):null})()]}),(0,Xo.jsx)(Wb,{as:"h3",size:"md",mb:2,children:b}),(0,Xo.jsx)(Xj,{align:"center",mb:3,children:(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"sm",color:"green.600",children:(()=>{var e;if(g)return"Loading...";const t="ruang_rapat"===(null===n||void 0===n||null===(e=n.classification)||void 0===e?void 0:e.name),r=f.daily,i=f.monthly;if(t)return r?"".concat(v7(r),"/day"):"N/A";{const e=r?"".concat(v7(r),"/day"):"N/A",t=i?"".concat(v7(i),"/month"):"N/A";return"".concat(e," \u2022 ").concat(t)}})()})}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"sm",noOfLines:2,mb:4,flex:"1",children:_||"No description provided for this room."}),(0,Xo.jsxs)(Cb,{spacing:2,mt:"auto",children:[(0,Xo.jsxs)(dS,{children:[!C&&(0,Xo.jsxs)(Xj,{align:"center",children:[(0,Xo.jsx)(gA,{}),(0,Xo.jsx)(Tb,{ml:1,fontSize:"sm",children:l7(n)})]}),w&&(0,Xo.jsxs)(Xj,{align:"center",ml:3,children:[(0,Xo.jsx)(cA,{}),(0,Xo.jsx)(Tb,{ml:1,fontSize:"sm",children:"harian"===w.name?"Harian":"Bulanan"})]})]}),a&&"ruang_rapat"!==(null===j||void 0===j?void 0:j.name)&&(0,Xo.jsx)(y0,{label:"".concat(a.occupied_slots||0," out of ").concat(a.capacity||4," beds occupied"),hasArrow:!0,children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{align:"center",justify:"space-between",mt:1,children:[(0,Xo.jsxs)(Xj,{align:"center",children:[(0,Xo.jsx)(dA,{}),(0,Xo.jsx)(Tb,{ml:1,fontSize:"sm",children:"Occupancy:"})]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:[a.occupied_slots||0,"/",a.capacity||4]})]}),(0,Xo.jsx)(a0,{value:a.occupancy_percentage||0,size:"xs",colorScheme:(a.occupancy_percentage||0)>=100?"red":(a.occupancy_percentage||0)>50?"orange":"green",mt:1,borderRadius:"full"})]})}),(0,Xo.jsx)(dS,{children:A.map(((e,t)=>{let n;var r;"object"===typeof e?n=(null===(r=e.feature)||void 0===r?void 0:r.name)||e.name||e.customFeatureName||"Unknown Feature":n=String(e);return(0,Xo.jsx)(r_,{colorScheme:"blue",variant:"subtle",children:n},"".concat(y,"-amenity-").concat(t))}))}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms/".concat(y),colorScheme:"blue",variant:"solid",size:"sm",isDisabled:null===a||void 0===a?void 0:a.is_fully_booked,children:null!==a&&void 0!==a&&a.is_fully_booked?"Fully Booked":"View Details"})]})]})]});var I},b7=()=>{var e;const{tenant:n}=D6(),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)({classification:"",rentalType:"",minRate:0,maxRate:1e7,search:"",showAvailableOnly:!1}),{isOpen:f,onOpen:m,onClose:g}=GG(),v=(Cx(),zs("white","gray.800")),y=zs("gray.200","gray.600"),[x,b]=(0,t.useState)({min:0,max:1e7});(0,t.useEffect)((()=>{j()}),[]),(0,t.useEffect)((()=>{if(r.length>0){let e=r;n&&(e=e.filter((e=>{var t;const r=null===(t=e.classification)||void 0===t?void 0:t.name,i=n.gender;return"VIP"===r||"ruang_rapat"===r||("perempuan"===r&&"P"===i||"laki_laki"===r&&"L"===i)}))),h.classification&&(e=e.filter((e=>{var t;return(null===(t=e.classification)||void 0===t?void 0:t.name)===h.classification}))),h.search&&(e=e.filter((e=>{var t;return e.name.toLowerCase().includes(h.search.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(h.search.toLowerCase()))}))),h.showAvailableOnly&&(e=e.filter((e=>e.is_available))),s(e)}}),[r,h,n]);const j=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(!0),u(null);try{const t=await s7.getRooms(e);if(t&&t.rooms){const e=t.rooms.map((e=>(0,o.A)((0,o.A)({},e),{},{room_id:e.roomId,id:e.roomId,occupancy:d7(e)})));if(i(e),e.length>0){const t=e.map((e=>e.rate)),n=Math.min(...t),r=Math.max(...t);b({min:n,max:r}),p((e=>(0,o.A)((0,o.A)({},e),{},{minRate:n,maxRate:r})))}}else i([])}catch(Pee){console.error("Error fetching rooms:",Pee),u("Gagal memuat kamar. Silakan coba lagi nanti.")}finally{c(!1)}},w=(e,t)=>{p((0,o.A)((0,o.A)({},h),{},{[e]:t}))},k=()=>{const e={classification:h.classification,rental_type:h.rentalType,min_rate:h.minRate,max_rate:h.maxRate,search:h.search};Object.keys(e).forEach((t=>{e[t]||delete e[t]})),j(e),f&&g()},S=()=>{p({classification:"",rentalType:"",minRate:x.min,maxRate:x.max,search:""}),j()},_=()=>(0,Xo.jsx)(Eb,{p:4,bg:v,borderWidth:"1px",borderColor:y,borderRadius:"md",children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Filters"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Tipe Kamar"}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Tipe",value:h.classification,onChange:e=>w("classification",e.target.value),children:[(0,Xo.jsx)("option",{value:"perempuan",children:"Kamar Perempuan"}),(0,Xo.jsx)("option",{value:"laki_laki",children:"Kamar Laki-laki"}),(0,Xo.jsx)("option",{value:"VIP",children:"Kamar VIP"}),(0,Xo.jsx)("option",{value:"ruang_rapat",children:"Ruang Rapat"})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Tipe Sewa"}),(0,Xo.jsxs)(SQ,{placeholder:"Semua Tipe Sewa",value:h.rentalType,onChange:e=>w("rentalType",e.target.value),children:[(0,Xo.jsx)("option",{value:"harian",children:"Harian"}),(0,Xo.jsx)("option",{value:"bulanan",children:"Bulanan"})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Rentang Harga"}),(0,Xo.jsxs)(J8,{min:x.min,max:x.max,step:(x.max-x.min)/100,value:[h.minRate,h.maxRate],onChange:e=>{let[t,n]=e;w("minRate",t),w("maxRate",n)},children:[(0,Xo.jsx)($8,{children:(0,Xo.jsx)(Q8,{})}),(0,Xo.jsx)(X8,{index:0}),(0,Xo.jsx)(X8,{index:1})]}),(0,Xo.jsxs)(Xj,{justify:"space-between",mt:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Rp ",h.minRate.toLocaleString()]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Rp ",h.maxRate.toLocaleString()]})]})]}),(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:k,children:"Apply Filters"}),(0,Xo.jsx)(Bj,{variant:"outline",leftIcon:(0,Xo.jsx)(Uk,{}),onClick:S,children:"Reset Filters"})]})});return(0,Xo.jsxs)(m8,{children:[(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(Eb,{mb:8,children:[(0,Xo.jsx)(Wb,{children:"Available Rooms"}),(0,Xo.jsx)(Tb,{mt:2,color:"gray.600",children:"Browse our selection of comfortable and affordable rooms"})]}),(0,Xo.jsxs)(Xj,{direction:{base:"column",md:"row"},mb:6,gap:4,children:[(0,Xo.jsxs)(Sj,{size:"lg",maxW:{md:"400px"},children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(Ek,{color:"gray.300"})}),(0,Xo.jsx)(gj,{placeholder:"Cari kamar...",value:h.search,onChange:e=>w("search",e.target.value),onKeyPress:e=>"Enter"===e.key&&k()})]}),(0,Xo.jsxs)(Cb,{direction:"row",spacing:4,children:[(0,Xo.jsx)(Bj,{size:"lg",colorScheme:"brand",onClick:k,children:"Cari"}),(0,Xo.jsx)(Bj,{display:{base:"flex",md:"none"},size:"lg",leftIcon:(0,Xo.jsx)(ek,{}),onClick:m,children:"Filter"})]})]}),d&&(0,Xo.jsxs)(ay,{status:"error",mb:6,children:[(0,Xo.jsx)(sy,{}),d]}),n&&(0,Xo.jsxs)(ay,{status:"info",mb:6,children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Menampilkan kamar yang sesuai dengan profil Anda:"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(r_,{colorScheme:"blue",children:"mahasiswa"===(null===(e=n.tenantType)||void 0===e?void 0:e.name)?"Mahasiswa":"Non-Mahasiswa"}),(0,Xo.jsx)(r_,{colorScheme:"green",children:"L"===n.gender?"Laki-laki":"P"===n.gender?"Perempuan":"Lainnya"})]})]})]}),(0,Xo.jsxs)(Xj,{gap:6,children:[(0,Xo.jsx)(Eb,{display:{base:"none",md:"block"},w:"250px",flexShrink:0,children:(0,Xo.jsx)(_,{})}),(0,Xo.jsx)(Eb,{flex:"1",children:l?(0,Xo.jsx)(Xj,{justify:"center",py:10,children:(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"brand.500"})}):d?(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),d]}):0===a.length?(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"Tidak ada kamar yang sesuai dengan kriteria Anda. Coba sesuaikan filter."]}):(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:a.map((e=>{const t=e.room_id||e.roomId||e.id||"room-".concat(Math.random());return(0,Xo.jsx)(x7,{room:e},t)}))})})]})]}),(0,Xo.jsxs)(tJ,{isOpen:f,placement:"right",onClose:g,size:"sm",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(oQ,{children:[(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)(J0,{children:"Filter"}),(0,Xo.jsx)($0,{children:(0,Xo.jsx)(_,{})})]})]})]})},j7=()=>{const[e,n]=ob(),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)({classification:e.get("type")||"",rentalType:e.get("rental")||"",search:e.get("search")||""}),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[f,m]=(0,t.useState)(null),g=Cx(),v=zs("white","gray.700");(0,t.useEffect)((()=>{(async()=>{s(!0),m(null);try{const e={};l.classification&&(e.classification=l.classification),l.rentalType&&(e.rental_type=l.rentalType),l.search&&(e.search=l.search);const t=((await s7.getRooms(e)).rooms||[]).map((e=>(0,o.A)((0,o.A)({},e),{},{room_id:e.roomId,id:e.roomId,occupancy:d7(e)})));i(t),n((0,o.A)((0,o.A)((0,o.A)({},l.classification?{type:l.classification}:{}),l.rentalType?{rental:l.rentalType}:{}),l.search?{search:l.search}:{}))}catch(Pee){console.error("Error fetching rooms:",Pee),m(Pee.message||"Gagal memuat kamar. Silakan coba lagi nanti.")}finally{s(!1)}})()}),[l,n]),(0,t.useEffect)((()=>{if(r.length>0){const{classifications:e,rentalTypes:t}=(e=>{const t=new Set,n=new Set;return e.forEach((e=>{var r,i;null!==(r=e.classification)&&void 0!==r&&r.name&&t.add(e.classification.name),null!==(i=e.rentalType)&&void 0!==i&&i.name&&n.add(e.rentalType.name)})),{classifications:Array.from(t),rentalTypes:Array.from(n)}})(r);u(e),p(t)}}),[r]);const y=(e,t)=>{c((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})))},x=e=>{switch(e){case"perempuan":return"Female Dorm";case"laki_laki":return"Male Dorm";case"VIP":return"VIP Room";case"ruang_rapat":return"Meeting Room";default:return e}},b=e=>{switch(e){case"harian":return"Daily";case"bulanan":return"Monthly";default:return e}};return(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{as:"h1",size:"xl",children:"Kamar Tersedia"}),(0,Xo.jsx)(Tb,{mt:2,color:"gray.600",children:"Cari dan pesan akomodasi di Rusunawa PNJ"})]}),(0,Xo.jsx)(Eb,{bg:v,p:6,borderRadius:"lg",shadow:"md",children:(0,Xo.jsxs)(Cb,{direction:{base:"column",md:"row"},spacing:4,align:{base:"stretch",md:"flex-end"},children:[(0,Xo.jsxs)(Eb,{flex:1,children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Cari"}),(0,Xo.jsx)(gj,{placeholder:"Cari berdasarkan nama kamar",value:l.search,onChange:e=>{c((t=>(0,o.A)((0,o.A)({},t),{},{search:e.target.value})))},variant:"filled"})]}),(0,Xo.jsxs)(Eb,{flex:1,children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Tipe Kamar"}),(0,Xo.jsx)(SQ,{placeholder:"Semua Tipe",value:l.classification,onChange:e=>y("classification",e.target.value),variant:"filled",children:d.map((e=>(0,Xo.jsx)("option",{value:e,children:x(e)},e)))})]}),(0,Xo.jsxs)(Eb,{flex:1,children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Periode Sewa"}),(0,Xo.jsx)(SQ,{placeholder:"Semua Periode",value:l.rentalType,onChange:e=>y("rentalType",e.target.value),variant:"filled",children:h.map((e=>(0,Xo.jsx)("option",{value:e,children:b(e)},e)))})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(L4,{}),colorScheme:"blue",px:8,onClick:()=>c((0,o.A)({},l)),children:"Cari"}),(0,Xo.jsx)(Bj,{variant:"ghost",onClick:()=>{c({classification:"",rentalType:"",search:""})},children:"Bersihkan"})]})}),a&&(0,Xo.jsx)(Xj,{justify:"center",py:10,children:(0,Xo.jsx)(Qv,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}),f&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),f]}),!a&&!f&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Eb,{children:(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:[r.length," room",1!==r.length?"s":""," found"]})}),r.length>0?(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map((e=>(0,Xo.jsx)(x7,{room:e,onClick:()=>{return t=e.roomId,void g("/tenant/rooms/".concat(t));var t}},e.roomId)))}):(0,Xo.jsxs)(Eb,{textAlign:"center",py:10,children:[(0,Xo.jsx)(Wb,{as:"h4",size:"md",color:"gray.500",children:"No rooms found matching your criteria"}),(0,Xo.jsx)(Tb,{mt:2,children:"Try adjusting your filters"})]})]})]})})})},w7={getTenantDocuments:async()=>{try{const e=z6.getToken(),t=z6.getCurrentTenant();if(!e||null===t||void 0===t||!t.tenantId)throw new Error("No authenticated tenant found");const n={headers:{Authorization:"Bearer ".concat(e)}};return(await I6.A.get("".concat(v8,"/v1/tenants/").concat(t.tenantId,"/documents"),n)).data}catch(n){var e,t;if(console.error("Error fetching tenant documents:",n),404===(null===(e=n.response)||void 0===e?void 0:e.status))return{documents:[]};throw(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch documents"}}},uploadDocument:async e=>{try{const t=z6.getToken(),n=z6.getCurrentTenant();if(!t||null===n||void 0===n||!n.tenantId)throw new Error("No authenticated tenant found");const r={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};return(await I6.A.post("".concat(v8,"/v1/tenants/").concat(n.tenantId,"/documents"),e,r)).data}catch(n){var t;throw console.error("Error uploading document:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to upload document"}}},deleteDocument:async e=>{try{const t=z6.getToken(),n=z6.getCurrentTenant();if(!t)throw new Error("No authentication token found");if(null===n||void 0===n||!n.tenantId)throw new Error("No tenant information found");const r={headers:{Authorization:"Bearer ".concat(t)},params:{tenantId:n.tenantId}};console.log("Attempting to delete document ".concat(e," for tenant ").concat(n.tenantId)),console.log("Request URL:","".concat(v8,"/v1/documents/").concat(e,"?tenantId=").concat(n.tenantId));const i=await I6.A.delete("".concat(v8,"/v1/documents/").concat(e),r);return console.log("Delete response:",i.data),i.data}catch(i){var t,n,r;throw console.error("Error deleting document:",i),console.error("Error response:",null===(t=i.response)||void 0===t?void 0:t.data),console.error("Error status:",null===(n=i.response)||void 0===n?void 0:n.status),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to delete document"}}},downloadDocument:async e=>{try{const t=z6.getToken(),n=z6.getCurrentTenant();if(!t||null===n||void 0===n||!n.tenantId)throw new Error("No authenticated tenant found");const r={headers:{Authorization:"Bearer ".concat(t)},responseType:"blob"};return(await I6.A.get("".concat(v8,"/v1/tenants/").concat(n.tenantId,"/documents/").concat(e,"/download"),r)).data}catch(n){var t;throw console.error("Error downloading document:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to download document"}}},getDocumentImageUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=z6.getToken(),r=z6.getCurrentTenant();if(!n||null===r||void 0===r||!r.tenantId)return"";const i=new URLSearchParams;t.size&&i.append("size",t.size),t.quality&&i.append("quality",t.quality),t.format&&i.append("format",t.format);const o=i.toString();return"".concat(v8,"/v1/tenants/").concat(r.tenantId,"/documents/").concat(e,"/image").concat(o?"?".concat(o):"")},getDocumentThumbnailUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=z6.getToken(),r=z6.getCurrentTenant();if(!n||null===r||void 0===r||!r.tenantId)return"";const i=new URLSearchParams;t.size&&i.append("size",t.size),t.format&&i.append("format",t.format);const o=i.toString();return"".concat(v8,"/v1/tenants/").concat(r.tenantId,"/documents/").concat(e,"/thumbnail").concat(o?"?".concat(o):"")},getDocumentById:async e=>{try{const t=z6.getToken(),n=z6.getCurrentTenant();if(!t||null===n||void 0===n||!n.tenantId)throw new Error("No authenticated tenant found");const r={headers:{Authorization:"Bearer ".concat(t)}};return(await I6.A.get("".concat(v8,"/v1/tenants/").concat(n.tenantId,"/documents/").concat(e),r)).data}catch(n){var t;throw console.error("Error fetching document:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch document"}}},getDocumentViewUrl:e=>{const t=z6.getToken(),n=z6.getCurrentTenant();return t&&null!==n&&void 0!==n&&n.tenantId?"".concat(v8,"/v1/tenants/").concat(n.tenantId,"/documents/").concat(e,"/view"):""},createBlobUrl:(e,t)=>{try{const n=atob(e),r=new Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);const i=new Uint8Array(r),o=new Blob([i],{type:t});return URL.createObjectURL(o)}catch(n){return console.error("Error creating blob URL:",n),""}},checkBookingEligibility:async()=>{try{const e=z6.getToken(),t=z6.getCurrentTenant();if(!e||null===t||void 0===t||!t.tenantId)throw new Error("No authenticated tenant found");const n=(await w7.getTenantDocuments()).documents||[],r=n.filter((e=>"approved"===e.status)),i=n.filter((e=>"pending"===e.status)),o=n.filter((e=>"rejected"===e.status)),a=n.length>0&&r.length===n.length;return{canBook:a,hasDocuments:n.length>0,totalDocuments:n.length,approvedDocuments:r.length,pendingDocuments:i.length,rejectedDocuments:o.length,documents:n,message:a?"All documents verified. You can book rooms!":n.length?o.length>0?"Some documents are rejected. Please re-upload.":"Documents pending approval. Please wait.":"No documents uploaded. Please upload at least one document."}}catch(e){return console.error("Error checking booking eligibility:",e),{canBook:!1,hasDocuments:!1,totalDocuments:0,approvedDocuments:0,pendingDocuments:0,rejectedDocuments:0,documents:[],message:"Unable to verify document status",error:e.message}}}},k7=w7,S7=()=>{var e;const[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)({canBook:!1,hasDocuments:!1,allApproved:!1,hasPending:!1,hasRejected:!1,approvedCount:0,pendingCount:0,rejectedCount:0,totalCount:0,requiredCount:0,message:"",statusType:"loading",missingDocuments:[]}),p=async()=>{a(!0),l(null);try{const e=z6.getCurrentTenant();d(e);const t=(await k7.getTenantDocuments()).documents||[];r(t);const n=f(t,e);h(n)}catch(Pee){console.error("Error fetching documents for verification:",Pee),l(Pee.message||"Failed to verify documents"),h({canBook:!1,hasDocuments:!1,allApproved:!1,hasPending:!1,hasRejected:!1,approvedCount:0,pendingCount:0,rejectedCount:0,totalCount:0,requiredCount:0,message:"Unable to verify document status",statusType:"error",missingDocuments:[]})}finally{a(!1)}},f=(e,t)=>{var n;const r=e.filter((e=>"approved"===e.status)),i=e.filter((e=>"pending"===e.status)),a=e.filter((e=>"rejected"===e.status)),s=e.length,l=r.length,c=i.length,d=a.length;let u=[];u="mahasiswa"===(null===t||void 0===t||null===(n=t.tenantType)||void 0===n?void 0:n.name)?[{id:1,name:"KTP",label:"KTP (ID Card)"},{id:2,name:"Surat Perjanjian",label:"Surat Perjanjian (Agreement Letter)"},{id:3,name:"KK",label:"KK (Family Card)"}]:[{id:1,name:"KTP",label:"KTP (ID Card)"}];const h=u.length,p=[],f=[];u.forEach((t=>{const n=e.find((e=>e.docTypeId===t.id));n?"approved"!==n.status?p.push((0,o.A)((0,o.A)({},t),{},{status:n.status})):f.push(n):p.push((0,o.A)((0,o.A)({},t),{},{status:"missing"}))}));const m=f.length===h,g=s>0,v=g&&l===s,y=c>0,x=d>0;let b=!1,j="",w="error";if(p.length>0){const e=p.filter((e=>"missing"===e.status)).map((e=>e.label)),t=p.filter((e=>"rejected"===e.status)).map((e=>e.label)),n=p.filter((e=>"pending"===e.status)).map((e=>e.label));e.length>0?(j="Missing required documents: ".concat(e.join(", "),". Please upload them to continue."),w="warning"):t.length>0?(j="Required documents rejected: ".concat(t.join(", "),". Please re-upload them."),w="error"):n.length>0&&(j="Required documents pending approval: ".concat(n.join(", "),". Please wait for verification."),w="warning")}else m?(j="All required documents verified! You can now book rooms.",w="success",b=!0):(j="Document verification incomplete",w="error");return{canBook:b,hasDocuments:g,allApproved:v,hasPending:y,hasRejected:x,approvedCount:l,pendingCount:c,rejectedCount:d,totalCount:s,requiredCount:h,message:j,statusType:w,missingDocuments:p,hasAllRequiredApproved:m}};return(0,t.useEffect)((()=>{p()}),[]),{documents:n,verificationStatus:u,loading:i,error:s,refreshDocuments:()=>{p()},tenant:c,isStudent:"mahasiswa"===(null===c||void 0===c||null===(e=c.tenantType)||void 0===e?void 0:e.name)}},_7=["children","onClick","isLoading","isDisabled","variant","colorScheme","size","width","leftIcon","rightIcon","loadingText"],A7=e=>{let{children:t,onClick:n,isLoading:r,isDisabled:i,variant:a="solid",colorScheme:s="brand",size:l="md",width:c,leftIcon:d,rightIcon:u,loadingText:h}=e,p=Jo(e,_7);const f=Cx(),{verificationStatus:m,loading:g}=S7(),v=zs("gray.100","gray.700"),y=zs("gray.500","gray.400");if(g)return(0,Xo.jsx)(Bj,(0,o.A)((0,o.A)({isLoading:!0,loadingText:"Checking...",variant:a,colorScheme:"gray",size:l,width:c,isDisabled:!0},p),{},{children:t}));if(m.canBook)return(0,Xo.jsx)(Bj,(0,o.A)((0,o.A)({onClick:n,isLoading:r,loadingText:h,isDisabled:i,variant:a,colorScheme:s,size:l,width:c,leftIcon:d,rightIcon:u},p),{},{children:t}));const x=m.hasDocuments?m.hasRejected?{icon:(0,Xo.jsx)(Vw,{}),tooltip:"".concat(m.rejectedCount," document(s) rejected. Re-upload to continue"),color:"red",action:()=>f("/tenant/documents")}:m.hasPending?{icon:(0,Xo.jsx)(Nw,{}),tooltip:"".concat(m.pendingCount," document(s) pending approval. Wait for approval to book"),color:"yellow",action:()=>f("/tenant/documents")}:{icon:(0,Xo.jsx)(fk,{}),tooltip:"Document verification incomplete",color:"gray",action:()=>f("/tenant/documents")}:{icon:(0,Xo.jsx)(Vw,{}),tooltip:"Upload documents first to start booking",color:"orange",action:()=>f("/tenant/documents/upload")};return(0,Xo.jsx)(y0,{label:x.tooltip,placement:"top",hasArrow:!0,bg:"".concat(x.color,".500"),color:"white",children:(0,Xo.jsx)(Bj,(0,o.A)((0,o.A)({onClick:x.action,variant:"outline",colorScheme:x.color,size:l,width:c,leftIcon:x.icon,bg:v,color:y,_hover:{bg:"".concat(x.color,".50"),borderColor:"".concat(x.color,".300")}},p),{},{children:m.hasDocuments?m.hasRejected?"Fix Documents":m.hasPending?"Pending Approval":"Verify Documents":"Upload Documents"}))})},C7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id-ID",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"IDR";if(null===e||void 0===e)return"Rp 0";try{return new Intl.NumberFormat(t,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch(r){return console.error("Error formatting currency:",r),"Rp ".concat(e)}},P7=e=>{if(!e)return"gray";return{pending:"yellow",approved:"green",rejected:"red",cancelled:"gray",checked_in:"teal",checked_out:"blue",completed:"purple",paid:"green",failed:"red",refunded:"orange",waiting_approval:"orange"}[e.toLowerCase()]||"gray"},I7={pending:{text:"Pending",color:"yellow",icon:"FaClock"},approved:{text:"Approved",color:"green",icon:"FaCheckCircle"},rejected:{text:"Rejected",color:"red",icon:"FaTimesCircle"},cancelled:{text:"Cancelled",color:"gray",icon:"FaTimesCircle"},checked_in:{text:"Checked In",color:"teal",icon:"FaUserClock"},checked_out:{text:"Checked Out",color:"blue",icon:"FaSignOutAlt"},completed:{text:"Completed",color:"purple",icon:"FaCheck"},paid:{text:"Paid",color:"green",icon:"FaCheck"},failed:{text:"Failed",color:"red",icon:"FaTimes"},refunded:{text:"Refunded",color:"orange",icon:"FaUndo"},waiting_approval:{text:"Waiting Approval",color:"orange",icon:"FaClock"}},T7=e=>{if(!e)return f7;if(e.type){let t="";if("string"===typeof e.type?t=e.type.toLowerCase():e.type.name?t=e.type.name.toLowerCase():e.type.display_name&&(t=e.type.display_name.toLowerCase()),t){if(t.includes("female")||t.includes("perempuan")||t.includes("wanita"))return p7;if(t.includes("male")||t.includes("laki")||t.includes("pria"))return f7;if(t.includes("meeting")||t.includes("rapat")||t.includes("conference"))return m7}}if(e.classification){let t="";if("string"===typeof e.classification?t=e.classification.toLowerCase():e.classification.name?t=e.classification.name.toLowerCase():e.classification.display_name&&(t=e.classification.display_name.toLowerCase()),t){if(t.includes("female")||t.includes("perempuan")||t.includes("wanita"))return p7;if(t.includes("male")||t.includes("laki")||t.includes("pria"))return f7;if(t.includes("meeting")||t.includes("rapat")||t.includes("conference"))return m7}}if(e.gender){if("P"===e.gender||"F"===e.gender)return p7;if("L"===e.gender||"M"===e.gender)return f7}if(e.name||e.roomName){const t=e.name||e.roomName;if("string"===typeof t){const e=t.toLowerCase();if(e.includes("female")||e.includes("perempuan")||e.includes("wanita")||e.includes("putri"))return p7;if(e.includes("male")||e.includes("laki")||e.includes("pria")||e.includes("putra"))return f7;if(e.includes("meeting")||e.includes("rapat")||e.includes("conference")||e.includes("ruang rapat"))return m7}}return f7},N7=t.memo((e=>{let{roomId:n,maxImages:r=null,showTitle:i=!0}=e;const[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),{isOpen:u,onOpen:h,onClose:p}=GG(),f=(0,t.useCallback)((async()=>{try{var e;if(l(!0),console.log("\ud83d\udd0d [Tenant] Fetching images for room ID: ".concat(n)),!n||"undefined"===n)return console.warn("\u26a0\ufe0f [Tenant] Invalid roomId for image fetch:",n),void a([]);const t=await s7.getRoomImages(n);if(console.log("\ud83d\udcf7 [Tenant] Room images API response:",t),"success"===(null===(e=t.status)||void 0===e?void 0:e.status)&&t.images){let e=t.images;r&&r>0&&(e=t.images.slice(0,r)),console.log("\u2705 [Tenant] Successfully loaded ".concat(e.length," images")),a(e)}else console.warn("\u26a0\ufe0f [Tenant] No images found or invalid response structure:",t),a([])}catch(t){console.error("\u274c [Tenant] Error fetching room images:",t),a([])}finally{l(!1)}}),[n,r]);(0,t.useEffect)((()=>{console.log("\ud83d\udd0d [Tenant] TenantRoomImageGallery received roomId:",n),n&&"undefined"!==n?f():(console.warn("\u26a0\ufe0f [Tenant] No valid roomId provided to TenantRoomImageGallery:",n),l(!1),a([]))}),[n,f]);const m=e=>{d(e),h()};return s?(0,Xo.jsx)(bb,{py:8,children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(Qv,{size:"lg"}),(0,Xo.jsx)(Tb,{children:"Loading room images..."})]})}):0===o.length?(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),"No images available for this room"]}):(0,Xo.jsxs)(Eb,{children:[i&&(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"semibold",mb:4,children:["Room Images (",o.length,")"]}),(0,Xo.jsx)(t_,{templateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:4,children:o.map((e=>(0,Xo.jsx)(Vb,{overflow:"hidden",cursor:"pointer",children:(0,Xo.jsxs)(Kb,{p:0,children:[(0,Xo.jsxs)(Eb,{position:"relative",children:[e.imageUrl?(0,Xo.jsx)(Bb,{src:e.imageUrl,alt:e.imageName,objectFit:"cover",w:"100%",h:"150px",onClick:()=>m(e),_hover:{opacity:.8},transition:"opacity 0.2s",fallback:(0,Xo.jsx)(bb,{h:"150px",bg:"gray.100",children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(A_,{size:"40px",color:"gray.400"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Image Failed to Load"})]})})}):(0,Xo.jsx)(bb,{h:"150px",bg:"gray.100",children:(0,Xo.jsxs)(Pb,{children:[(0,Xo.jsx)(A_,{size:"40px",color:"gray.400"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"No Preview Available"})]})}),e.isPrimary&&(0,Xo.jsx)(r_,{position:"absolute",top:2,left:2,colorScheme:"yellow",variant:"solid",fontSize:"xs",children:"Primary"}),(0,Xo.jsx)(Xj,{position:"absolute",top:2,right:2,gap:1,children:(0,Xo.jsx)(y0,{label:"View Full Size",children:(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(sA,{}),size:"xs",colorScheme:"blue",variant:"solid",onClick:t=>{t.stopPropagation(),m(e)}})})})]}),(0,Xo.jsxs)(Pb,{align:"start",p:3,spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",noOfLines:1,children:e.imageName}),(0,Xo.jsxs)(dS,{fontSize:"xs",color:"gray.600",children:[(0,Xo.jsx)(w_,{}),(0,Xo.jsx)(Tb,{children:e.fileSizeFormatted||"".concat((e.fileSize/1024).toFixed(1)," KB")})]}),(0,Xo.jsxs)(dS,{fontSize:"xs",color:"gray.600",children:[(0,Xo.jsx)(l_,{}),(0,Xo.jsx)(Tb,{children:e.uploadedAt?new Date(e.uploadedAt).toLocaleDateString():"Unknown date"})]})]})]})},e.imageId)))}),(0,Xo.jsxs)(JZ,{isOpen:u,onClose:p,size:"4xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(j_,{}),(0,Xo.jsx)(Tb,{children:null===c||void 0===c?void 0:c.imageName}),(null===c||void 0===c?void 0:c.isPrimary)&&(0,Xo.jsx)(r_,{colorScheme:"yellow",ml:2,children:(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(q_,{size:"10px"}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:"Primary"})]})})]})}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsxs)($0,{children:[(null===c||void 0===c?void 0:c.imageUrl)&&(0,Xo.jsx)(Bb,{src:c.imageUrl,alt:c.imageName,maxH:"70vh",maxW:"100%",objectFit:"contain",mx:"auto",display:"block"}),(0,Xo.jsxs)(Pb,{align:"start",mt:4,spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"File Size:"}),(0,Xo.jsx)(Tb,{children:(null===c||void 0===c?void 0:c.fileSizeFormatted)||"".concat(((null===c||void 0===c?void 0:c.fileSize)/1024).toFixed(1)," KB")})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Content Type:"}),(0,Xo.jsx)(Tb,{children:null===c||void 0===c?void 0:c.contentType})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Uploaded:"}),(0,Xo.jsx)(Tb,{children:null!==c&&void 0!==c&&c.uploadedAt?new Date(c.uploadedAt).toLocaleDateString():"Unknown date"})]})]})]}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(y_,{}),onClick:()=>(e=>{if(e.imageUrl){const t=document.createElement("a");t.href=e.imageUrl,t.download=e.imageName||"room-image.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)}})(c),mr:3,children:"Download"}),(0,Xo.jsx)(Bj,{variant:"ghost",onClick:p,children:"Close"})]})]})]})]})}));N7.displayName="TenantRoomImageGallery";const E7=N7,z7=e=>{if(!e)return"Unknown";return{perempuan:"Kamar Mahasiswi",laki_laki:"Kamar Mahasiswa",ruang_rapat:"Ruang Rapat",VIP:"Kamar Non-Mahasiswa"}[e.name]||e.display_name||e.name||"Unknown"},O7=()=>{var e,n,r,i,o,a,s;const{roomId:l}=Px(),c=Cx(),{isAuthenticated:d,tenant:u}=(hb(),D6());console.log("RoomDetail - isAuthenticated:",d);const[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(null),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)({daily:0,monthly:0}),[A,C]=(0,t.useState)(!1),[P,I]=(0,t.useState)(null),[T,N]=(0,t.useState)(!0),[E,z]=(0,t.useState)(""),[O,L]=(0,t.useState)(""),[D,R]=(0,t.useState)(!0),[M,B]=(0,t.useState)(!1),F=zs("white","gray.800"),W=zs("white","gray.700"),U=zs("gray.600","gray.400"),q=zs("gray.800","white"),H=()=>{var e;return"ruang_rapat"===(null===h||void 0===h||null===(e=h.classification)||void 0===e?void 0:e.name)};(0,t.useEffect)((()=>{(async()=>{if(!l||"undefined"===l)return v("ID kamar tidak valid"),void m(!1);try{m(!0);const e=await s7.getRoom(l);if(e&&e.room){p(e.room),V();const t=e.room.room_id||e.room.roomId||l;t&&"undefined"!==t?(async e=>{try{if(N(!0),!e||"undefined"===e)return void console.warn("Missing or invalid room ID for image fetch:",e);const t=await s7.getPrimaryRoomImage(e);t?(console.log("\u2705 [RoomDetail] Got primary image for room ".concat(e,":"),t.imageName),I(t)):console.log("\u2139\ufe0f [RoomDetail] No primary image found for room ".concat(e))}catch(g){console.error("\u274c [RoomDetail] Error fetching primary image for room ".concat(e,":"),g)}finally{N(!1)}})(t):console.warn("No valid room ID available for image fetch:",e.room)}else v("Kamar tidak ditemukan")}catch(Pee){console.error("Error fetching room details:",Pee),v("Gagal memuat detail kamar. Silakan coba lagi.")}finally{m(!1)}})()}),[l]),(0,t.useEffect)((()=>{h&&null!==u&&void 0!==u&&u.tenantId&&(async()=>{if(null!==u&&void 0!==u&&u.tenantId&&l)try{var e;C(!0);const t=await z8.getDynamicRate(u.tenantId,l,1);let n=0;if("ruang_rapat"!==(null===h||void 0===h||null===(e=h.classification)||void 0===e?void 0:e.name)){const e=await z8.getDynamicRate(u.tenantId,l,2);n=(null===e||void 0===e?void 0:e.rate)||0}_({daily:(null===t||void 0===t?void 0:t.rate)||0,monthly:n})}catch(Pee){console.error("Error loading dynamic rates for room detail:",l,Pee)}finally{C(!1)}})()}),[h,null===u||void 0===u?void 0:u.tenantId]);(0,t.useEffect)((()=>{E&&O&&h&&(R(!0),x(!1))}),[E,O,h]);const V=async()=>{if(l&&h){k(!0);try{const e=d7(h);j(e)}catch(g){console.error("Error calculating occupancy info:",g),j({capacity:(null===h||void 0===h?void 0:h.capacity)||4,occupied_slots:0,available_slots:(null===h||void 0===h?void 0:h.capacity)||4,occupancy_percentage:0})}finally{k(!1)}}};if(f)return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,textAlign:"center",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(uA,{}),onClick:()=>c(-1),variant:"ghost",mb:4,alignSelf:"flex-start",children:"Back to Rooms"}),(0,Xo.jsx)(Qv,{size:"xl"}),(0,Xo.jsx)(Tb,{mt:4,children:"Loading room details..."})]})});if(g&&!h)return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Eb,{fontWeight:"bold",mr:2,children:"Room not found"})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(uA,{}),mt:4,onClick:()=>c("/tenant/rooms"),children:"Back to Rooms"})]})});const G=(null===P||void 0===P?void 0:P.imageUrl)||(null===h||void 0===h?void 0:h.imageUrl)||(e=>T7(e))(h);return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"2fr 1fr"},gap:8,children:[(0,Xo.jsxs)(z2,{children:["            ",(0,Xo.jsxs)(Eb,{bg:W,p:6,borderRadius:"lg",boxShadow:"lg",children:[(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(Bb,{src:G,alt:h.name,borderRadius:"md",mb:6,objectFit:"cover",w:"100%",h:{base:"250px",md:"400px"},fallbackSrc:g7.default}),T&&(0,Xo.jsx)(Xj,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.300",align:"center",justify:"center",borderRadius:"md",children:(0,Xo.jsx)(Qv,{size:"lg",color:"white"})}),P&&(0,Xo.jsx)(r_,{position:"absolute",top:4,left:4,colorScheme:"blue",variant:"solid",children:"Foto Kamar"})]}),(0,Xo.jsx)(Wb,{size:"lg",color:q,mb:2,children:h.name}),(0,Xo.jsxs)(Tb,{color:U,fontSize:"md",mb:4,children:["Klasifikasi: ",z7(h.classification)]}),(0,Xo.jsxs)(dS,{spacing:4,mb:2,children:[(0,Xo.jsx)(Zv,{as:gA,w:5,h:5,color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"ruang_rapat"===(null===h||void 0===h||null===(e=h.classification)||void 0===e?void 0:e.name)?"Kapasitas tidak dibatasi":"".concat(h.capacity||"N/A"," orang")})]}),(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:lA,w:5,h:5,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"brand.600",children:A?(0,Xo.jsx)(Qv,{size:"sm"}):(0,Xo.jsx)(Xo.Fragment,{children:"ruang_rapat"===(null===h||void 0===h||null===(n=h.classification)||void 0===n?void 0:n.name)?"".concat(C7(S.daily)||"Harga belum tersedia"," / hari"):"".concat(C7(S.monthly)||"Harga belum tersedia"," / bulan / orang")})})]}),(0,Xo.jsx)(ew,{my:4}),(0,Xo.jsxs)(Eb,{mb:6,children:[(0,Xo.jsx)(Wb,{as:"h3",size:"md",mb:3,children:"Deskripsi"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:h.description||"Tidak ada deskripsi untuk kamar ini."})]})]}),(0,Xo.jsxs)(YQ,{variant:"soft-rounded",colorScheme:"brand",mt:6,bg:F,children:["              ",(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Gambar"}),(0,Xo.jsx)(JQ,{children:"Fasilitas"}),(0,Xo.jsx)(JQ,{children:"Lokasi"}),(0,Xo.jsx)(JQ,{children:"Kebijakan"}),!H()&&(0,Xo.jsx)(JQ,{children:"Hunian"})]}),"              ",(0,Xo.jsxs)(XQ,{children:["                ",(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(E7,{roomId:(null===h||void 0===h?void 0:h.room_id)||(null===h||void 0===h?void 0:h.roomId)||l})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",children:"Fasilitas & Amenitas Kamar"}),h.amenities&&h.amenities.length>0?(0,Xo.jsx)(IQ,{columns:{base:1,md:2},spacing:4,children:h.amenities.map(((e,t)=>{const n=e.customFeatureName||e.custom_feature_name||e.name||"Unknown Feature",r=e.description||"",i=e.quantity>1?e.quantity:null,o=e.isCustom||e.is_custom||!1;return(0,Xo.jsxs)(Eb,{p:3,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:n}),(0,Xo.jsxs)(dS,{spacing:2,children:[i&&(0,Xo.jsxs)(r_,{colorScheme:"blue",fontSize:"xs",children:[i,"x"]}),o&&(0,Xo.jsx)(r_,{colorScheme:"purple",fontSize:"xs",children:"Custom"})]})]}),r&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:r})]},t)}))}):(0,Xo.jsx)(Tb,{color:"gray.500",children:"Tidak ada fasilitas khusus yang tercantum untuk kamar ini."})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",children:"Lokasi & Detail Kamar"}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Informasi Kamar"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Nama Kamar: "}),h.name||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Nomor Kamar: "}),h.roomNumber||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Kode Kamar Lengkap: "}),h.fullRoomCode||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Klasifikasi: "}),z7(h.classification)||"N/A"]}),"            ",(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Zv,{as:mA,color:"blue.500",mr:1}),(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Kapasitas: "}),h.capacity?"".concat(h.capacity," ").concat((h.capacity,"orang")):"N/A",h.capacity&&(null===h||void 0===h?void 0:h.occupants)&&(0,Xo.jsxs)(Tb,{as:"span",color:"gray.500",ml:2,children:["(",h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length," saat ini ditempati)"]})]})]})]}),(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Informasi Gedung & Lantai"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Nama Gedung: "}),h.buildingName||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Kode Gedung: "}),h.buildingCode||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Jenis Gedung: "}),h.buildingGender||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Nama Lantai: "}),h.floorName||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Nomor Lantai: "}),h.floorNumber||"N/A"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",mt:2,children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Deskripsi: "}),h.description||"Tidak ada deskripsi khusus"]})]})]})]})]})}),(0,Xo.jsx)($Q,{children:(()=>{var e;return(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",children:"Kebijakan & Aturan Kamar"}),(0,Xo.jsxs)(IQ,{columns:{base:1},spacing:4,children:[(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Status & Ketersediaan"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Status Kamar:"}),(0,Xo.jsx)(r_,{colorScheme:h.isAvailable?"green":"red",children:h.isAvailable?"Tersedia":"Tidak Tersedia"})]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["\u2022 Kapasitas maksimum: ",h.capacity||"Sesuai ketentuan"," orang"]}),h.capacity&&(null===h||void 0===h?void 0:h.occupants)&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length>=h.capacity?"red.500":"green.500",children:["\u2022 Ketersediaan saat ini: ",Math.max(0,h.capacity-h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length)," tempat tersisa"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Waktu check-in: Sesuai jadwal booking"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Waktu check-out: Sesuai jadwal booking"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Pembayaran harus diselesaikan sebelum check-in"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Verifikasi identitas diperlukan saat check-in"}),h.createdAt&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["\u2022 Kamar ditambahkan: ",new Date(h.createdAt).toLocaleDateString("id-ID")]}),h.updatedAt&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["\u2022 Terakhir diperbarui: ",new Date(h.updatedAt).toLocaleDateString("id-ID")]})]})]}),"ruang_rapat"===(null===(e=h.classification)||void 0===e?void 0:e.name)?(0,Xo.jsxs)(Eb,{p:4,bg:"blue.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Aturan Khusus Ruang Rapat"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Penggunaan untuk keperluan profesional saja"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Bersihkan area setelah penggunaan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Tidak diperbolehkan makan/minum tanpa izin"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Peralatan harus dikembalikan dalam kondisi semula"})]})]}):(0,Xo.jsxs)(Eb,{p:4,bg:"green.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Aturan Kamar Hunian"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Jam tenang: 22:00 - 06:00"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Dilarang merokok di dalam kamar"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Tamu harus didaftarkan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Jaga kebersihan area bersama"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Laporkan kerusakan segera"})]})]}),(0,Xo.jsxs)(Eb,{p:4,bg:"red.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Catatan Penting"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Kebijakan pembatalan bervariasi berdasarkan tipe sewa"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Deposit keamanan mungkin diperlukan"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Manajemen berhak melakukan inspeksi kamar"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Pelanggaran aturan dapat mengakibatkan pembatalan booking"})]})]})]})]})})()}),!H()&&(0,Xo.jsx)($Q,{children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:w?(0,Xo.jsx)(Xj,{justify:"center",py:8,children:(0,Xo.jsx)(Qv,{size:"lg"})}):b?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",mb:4,children:"Detail Hunian Kamar"}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"semibold",mb:2,children:"Status Saat Ini"}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Zv,{as:mA,w:5,h:5,color:"blue.500"}),(0,Xo.jsxs)(Tb,{children:[b.occupied_slots," dari ",b.capacity," tempat tidur ditempati"]})]}),(0,Xo.jsxs)(dS,{spacing:4,mt:2,children:[(0,Xo.jsx)(Zv,{as:pA,w:5,h:5,color:"green.500"}),(0,Xo.jsxs)(Tb,{children:[b.available_slots," tempat tidur tersedia"]})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"semibold",mb:2,children:"Ketersediaan"}),(0,Xo.jsx)(a0,{value:b.occupancy_percentage,colorScheme:b.occupancy_percentage>=100?"red":b.occupancy_percentage>=75?"orange":"green",size:"lg",borderRadius:"full"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:[Math.round(b.occupancy_percentage),"% ditempati"]})]})]}),0===b.available_slots&&(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"This room is currently at full capacity. No beds are available for booking."]}),b.available_slots>0&&(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),b.available_slots," bed",b.available_slots>1?"s":""," available for booking."]})]}):(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Room Capacity Information"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["This room can accommodate up to ",h.capacity||"N/A"," ",1===h.capacity?"person":"people",".","ruang_rapat"===(null===(r=h.classification)||void 0===r?void 0:r.name)?" Meeting room booking is subject to availability.":" Current occupancy details are not available at this time."]})]})]}),(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Room Details"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Maximum Capacity: "}),h.capacity||"Not specified"," ",1===h.capacity?"person":"people"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Room Type: "}),z7(h.classification)]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Rental Period: "}),(null===(i=h.rentalType)||void 0===i?void 0:i.name)||h.rental_type||"Not specified"]})]})]})]})})})]})]})]}),"          ",(0,Xo.jsxs)(z2,{children:[(()=>{var e;if(!b||"ruang_rapat"===(null===h||void 0===h||null===(e=h.classification)||void 0===e?void 0:e.name))return null;const{capacity:t,occupied_slots:n,available_slots:r,occupancy_percentage:i}=b;return(0,Xo.jsxs)(Eb,{bg:W,p:6,borderRadius:"lg",boxShadow:"sm",mb:6,children:[(0,Xo.jsxs)(Wb,{size:"md",mb:4,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:dA,mr:2,color:"brand.500"}),"Hunian Saat Ini"]}),(0,Xo.jsxs)(IQ,{columns:2,spacing:4,mb:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Kapasitas Total"}),(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",children:[t," tempat tidur"]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Saat Ini Ditempati"}),(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",color:"blue.500",children:[n," beds"]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Available Slots"}),(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",color:"green.500",children:[r," beds"]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Occupancy Rate"}),(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",children:[Math.round(i),"%"]})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Occupancy Progress"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:[n,"/",t]})]}),(0,Xo.jsx)(a0,{value:i,colorScheme:i>=100?"red":i>=75?"orange":i>=50?"yellow":"green",size:"lg",borderRadius:"full"}),(0,Xo.jsxs)(dS,{justify:"space-between",mt:2,children:[(0,Xo.jsx)(r_,{colorScheme:i>=100?"red":i>=75?"orange":i>=50?"yellow":"green",variant:"subtle",children:r>0?"".concat(r," slots available"):"Fully occupied"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Last updated: ",(new Date).toLocaleTimeString()]})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontSize:"md",fontWeight:"semibold",mb:3,color:"blue.600",children:[(0,Xo.jsx)(Zv,{as:mA,mr:2}),"Room Capacity Information"]}),(0,Xo.jsxs)(Eb,{p:4,bg:"blue.50",borderRadius:"md",mb:4,children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:3,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",color:"blue.800",children:[h.capacity||"N/A"," ",1===h.capacity?"Person":"People"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"blue.600",children:"Maximum Capacity"})]}),(0,Xo.jsxs)(Pb,{align:"end",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",color:"green.600",children:null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Current Occupancy"})]})]}),h.capacity&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Occupancy Rate"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:[null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0," / ",h.capacity]})]}),(0,Xo.jsx)(a0,{value:null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length/h.capacity*100:0,colorScheme:null!==h&&void 0!==h&&h.occupants&&h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length>=h.capacity?"red":"blue",size:"md",borderRadius:"md"})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,mb:4,children:[(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Detail Kamar"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:mA,color:"blue.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Kapasitas Maksimum: "}),h.capacity?"".concat(h.capacity," ").concat((h.capacity,"orang")):"N/A"]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:gA,color:"green.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Hunian Saat Ini: "}),null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0," ",(null!==h&&void 0!==h&&h.occupants&&h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length,"orang")]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:pA,color:"purple.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Tempat Tersedia: "}),h.capacity?Math.max(0,h.capacity-(null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0)):"N/A"," ",(h.capacity&&Math.max(0,h.capacity-(null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0)),"tempat")]})]})]})]}),(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:3,children:"Informasi Tipe Kamar"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:dA,color:"orange.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Klasifikasi: "}),z7(h.classification)||"N/A"]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:lA,color:"teal.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Status Ketersediaan: "}),(0,Xo.jsx)(r_,{ml:2,colorScheme:h.isAvailable?"green":"red",size:"sm",children:h.isAvailable?"Tersedia":"Tidak Tersedia"})]})]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Kode Kamar: "}),h.fullRoomCode||h.roomNumber||"N/A"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:2,children:h.capacity&&null!==h&&void 0!==h&&h.occupants&&0===h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length?"Kamar ini dapat menampung hingga ".concat(h.capacity," ").concat((h.capacity,"orang"),". Saat ini tersedia untuk dipesan."):h.capacity&&null!==h&&void 0!==h&&h.occupants&&h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length>=h.capacity?"Kamar ini saat ini penuh.":"Kamar ini memiliki ".concat(Math.max(0,h.capacity-(null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0))," ").concat((Math.max(0,h.capacity-(null!==h&&void 0!==h&&h.occupants?h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length:0)),"tempat")," yang tersisa.")})]})]})]})]}),null!==h&&void 0!==h&&h.occupants&&h.occupants.length>0?(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontSize:"md",fontWeight:"semibold",mb:3,color:"green.600",children:[(0,Xo.jsx)(Zv,{as:gA,mr:2}),"Penghuni Saat Ini (",h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length,")"]}),(0,Xo.jsx)(Pb,{spacing:2,align:"stretch",children:h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).map(((e,t)=>(0,Xo.jsxs)(dS,{justify:"space-between",p:3,bg:"green.50",borderRadius:"md",border:"1px solid",borderColor:"green.200",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:gA,color:"green.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:e.name}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[new Date(e.checkIn).toLocaleDateString()," - ",new Date(e.checkOut).toLocaleDateString()]})]})]}),(0,Xo.jsx)(r_,{colorScheme:"checked_in"===e.status?"green":"blue",variant:"solid",children:"checked_in"===e.status?"Checked In":"Approved"})]},t)))})]}):(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontSize:"md",fontWeight:"semibold",mb:3,color:"gray.600",children:[(0,Xo.jsx)(Zv,{as:gA,mr:2}),"Current Occupants (0)"]}),(0,Xo.jsxs)(Eb,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:pA,boxSize:8,color:"gray.400",mb:2}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:2,children:"No current occupants in this room"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.400",children:["This room is available for booking and can accommodate up to ",h.capacity||"specified"," ",1===h.capacity?"person":"people","."]})]})]})]})})(),(0,Xo.jsxs)(Eb,{bg:W,p:6,borderRadius:"lg",boxShadow:"lg",position:"sticky",top:"80px",children:[(0,Xo.jsx)(Wb,{size:"md",color:q,mb:4,children:"Book This Room"}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{p:4,bg:"blue.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:"blue.700",mb:2,children:"bulanan"===(null===(o=h.rentalType)||void 0===o?void 0:o.name)?"Monthly Rental":"Daily Rental"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"blue.600",children:"bulanan"===(null===(a=h.rentalType)||void 0===a?void 0:a.name)?"Full month booking with flexible start date":"Flexible daily booking available"})]}),(0,Xo.jsx)(Eb,{textAlign:"center",p:4,bg:"green.50",borderRadius:"md",children:A?(0,Xo.jsx)(Qv,{size:"sm",color:"green.500"}):(0,Xo.jsx)(Xo.Fragment,{children:"ruang_rapat"===(null===h||void 0===h||null===(s=h.classification)||void 0===s?void 0:s.name)?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"green.700",children:C7(S.daily)||"N/A"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",children:"per day"})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",color:"green.700",children:[C7(S.daily)||"N/A"," / day"]}),(0,Xo.jsxs)(Tb,{fontSize:"lg",fontWeight:"bold",color:"green.700",children:[C7(S.monthly)||"N/A"," / month"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"green.600",children:"per person"})]})})}),(0,Xo.jsxs)(Eb,{p:3,bg:"gray.50",borderRadius:"md",textAlign:"center",children:[(0,Xo.jsxs)(dS,{justify:"center",spacing:2,children:[(0,Xo.jsx)(Zv,{as:mA,color:"gray.600"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Kapasitas: ",h.capacity||"N/A"," ",(h.capacity,"orang")]})]}),h.capacity&&(null===h||void 0===h?void 0:h.occupants)&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:[Math.max(0,h.capacity-h.occupants.filter((e=>"approved"===e.status||"checked_in"===e.status)).length)," tempat tersedia"]})]}),g&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),g]}),d?(0,Xo.jsx)(A7,{colorScheme:"blue",size:"lg",width:"full",onClick:()=>{c(d?"/tenant/rooms/".concat(l,"/book"):"/tenant/login")},isLoading:y,leftIcon:(0,Xo.jsx)(Zv,{as:pA}),children:"Pesan Kamar Ini"}):(0,Xo.jsx)(Bj,{colorScheme:"blue",size:"lg",w:"full",onClick:()=>c("/tenant/login"),leftIcon:(0,Xo.jsx)(Zv,{as:pA}),children:"Masuk untuk Memesan"}),!d&&(0,Xo.jsxs)(Tb,{textAlign:"center",fontSize:"sm",color:"gray.500",children:[(0,Xo.jsx)(nb,{to:"/tenant/login",style:{color:"blue"},children:"Masuk"})," atau "," ",(0,Xo.jsx)(nb,{to:"/tenant/register",style:{color:"blue"},children:"Daftar"})," untuk memesan kamar ini"]}),(0,Xo.jsx)(Eb,{p:3,bg:"yellow.50",borderRadius:"md",children:(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"yellow.700",textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:lA,mr:1}),"Pemilihan tanggal dan pembayaran akan ditangani di langkah selanjutnya"]})})]})]})]})]}),"      "]})})},L7=e=>{var t,n,r,i,o;let{children:a,showFullStatus:s=!1}=e;const l=Cx(),{verificationStatus:c,loading:d,documents:u,refreshDocuments:h,isStudent:p,tenant:f}=S7(),m=zs("white","gray.700"),g=zs("gray.200","gray.600"),v=zs("gray.50","gray.800");if(d)return(0,Xo.jsx)(Eb,{p:6,children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(FS,{height:"60px",width:"100%"}),(0,Xo.jsx)(FS,{height:"40px",width:"80%"}),(0,Xo.jsx)(FS,{height:"20px",width:"60%"})]})});if(c.canBook)return a;return(0,Xo.jsx)(Eb,{p:6,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:c.statusType,borderRadius:"md",flexDirection:"column",alignItems:"center",textAlign:"center",py:8,children:[(0,Xo.jsx)(sy,{boxSize:"40px",mr:0}),(0,Xo.jsx)(ly,{mt:4,mb:1,fontSize:"lg",children:"Document Verification Required"}),(0,Xo.jsx)(cy,{maxWidth:"sm",children:c.message}),(0,Xo.jsx)(r_,{mt:3,colorScheme:p?"blue":"purple",px:3,py:1,children:p?"Student (Mahasiswa)":"Non-Student"})]}),(0,Xo.jsx)(Vb,{bg:m,borderColor:g,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",textAlign:"center",children:p?"Required Documents for Students":"Required Documents"}),c.missingDocuments&&c.missingDocuments.length>0&&(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Pb,{spacing:2,align:"start",children:c.missingDocuments.map((e=>(0,Xo.jsxs)(dS,{w:"full",justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:e.label}),(0,Xo.jsx)(r_,{size:"sm",colorScheme:"missing"===e.status?"red":"pending"===e.status?"yellow":"rejected"===e.status?"red":"gray",children:"missing"===e.status?"Not Uploaded":"pending"===e.status?"Pending Review":"rejected"===e.status?"Rejected":e.status})]},e.id)))})}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{justifyContent:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Required Documents Progress"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"bold",children:[(c.requiredCount||0)-((null===(t=c.missingDocuments)||void 0===t?void 0:t.length)||0),"/",c.requiredCount||(p?3:1)]})]}),(0,Xo.jsx)(a0,{value:((c.requiredCount||0)-((null===(n=c.missingDocuments)||void 0===n?void 0:n.length)||0))/(c.requiredCount||1)*100,colorScheme:c.hasRejected?"red":c.hasPending?"yellow":c.allApproved?"green":"gray",size:"lg",borderRadius:"md"})]}),c.hasDocuments&&(0,Xo.jsxs)(dS,{spacing:4,justify:"center",flexWrap:"wrap",children:[c.approvedCount>0&&(0,Xo.jsxs)(r_,{colorScheme:"green",variant:"subtle",children:[c.approvedCount," Approved"]}),c.pendingCount>0&&(0,Xo.jsxs)(r_,{colorScheme:"yellow",variant:"subtle",children:[c.pendingCount," Pending"]}),c.rejectedCount>0&&(0,Xo.jsxs)(r_,{colorScheme:"red",variant:"subtle",children:[c.rejectedCount," Rejected"]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{spacing:3,children:[null!==(r=c.missingDocuments)&&void 0!==r&&r.some((e=>"missing"===e.status))?(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"brand",size:"lg",onClick:()=>l("/tenant/documents/upload"),width:"100%",children:"Upload Missing Documents"}):null!==(i=c.missingDocuments)&&void 0!==i&&i.some((e=>"rejected"===e.status))?(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"red",size:"lg",onClick:()=>l("/tenant/documents/upload"),width:"100%",children:"Re-upload Rejected Documents"}):c.hasDocuments?(0,Xo.jsxs)(dS,{spacing:3,width:"100%",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"brand",variant:"outline",onClick:()=>l("/tenant/documents/upload"),flex:1,children:"Upload More Documents"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>l("/tenant/documents"),flex:1,children:"View All Documents"})]}):(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"brand",size:"lg",onClick:()=>l("/tenant/documents/upload"),width:"100%",children:"Upload Your First Document"}),p&&(null===(o=c.missingDocuments)||void 0===o?void 0:o.some((e=>2===e.id)))&&(0,Xo.jsxs)(ay,{status:"info",size:"sm",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Don't forget to download, fill, and upload the agreement form (Surat Perjanjian)!"})]}),(0,Xo.jsx)(Bj,{variant:"ghost",size:"sm",onClick:h,colorScheme:"gray",children:"Refresh Status"})]})]})})}),(0,Xo.jsx)(Eb,{p:4,bg:v,borderRadius:"md",children:(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"sm",children:"Why do I need document verification?"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Document verification ensures the security and compliance of our booking system. You need at least one approved document (like KTP/ID card) to book rooms."}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",mt:2,children:[(0,Xo.jsx)("strong",{children:"What happens next?"}),(0,Xo.jsx)("br",{}),"1. Upload your documents (KTP, Student ID, etc.)",(0,Xo.jsx)("br",{}),"2. Wait for admin approval (usually within 24 hours)",(0,Xo.jsx)("br",{}),"3. Start booking rooms once approved!"]})]})}),s&&(0,Xo.jsxs)(Eb,{fontSize:"sm",color:"gray.500",children:[(0,Xo.jsx)(Tb,{children:"Debug Info:"}),(0,Xo.jsxs)(Tb,{children:["Documents: ",c.totalCount]}),(0,Xo.jsxs)(Tb,{children:["Can Book: ",c.canBook?"Yes":"No"]}),(0,Xo.jsxs)(Tb,{children:["Status: ",c.statusType]})]})]})})},D7=[{title:"Room Details",description:"Check room information",icon:dk},{title:"Select Dates",description:"Choose your stay period",icon:ww},{title:"Review & Pay",description:"Confirm your booking",icon:Xw},{title:"Confirmation",description:"Booking complete",icon:Aw}],R7=()=>{var e,n,r,i,a,s;const{roomId:l}=Px(),c=Cx(),d=hb(),{tenant:u}=D6(),[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)([]),[b,j]=(0,t.useState)({startDate:"",endDate:""}),[w,k]=(0,t.useState)(1),[S,_]=(0,t.useState)(null),[A,C]=(0,t.useState)([]),[P,I]=(0,t.useState)(0),[T,N]=(0,t.useState)(!1),{activeStep:E,setActiveStep:z}=O5({index:0,count:D7.length}),[O,L]=(0,t.useState)([]),[D,R]=(0,t.useState)(!1),[M,B]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{m(!0),v(null);try{const n=await s7.getRoom(l);if(p(n.room),null!==u&&void 0!==u&&u.tenantId)try{const e=await z8.checkTenantActiveBooking(u.tenantId);if(e.hasActiveBooking){B(e);const t=new Date(e.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});v("You have an active booking in ".concat(e.roomName||"another room"," until ").concat(t,". Complete your current booking before making a new one."))}}catch(t){console.warn("Could not check for active bookings:",t)}try{const t=await s7.getRentalTypes();if(C(t.rentalTypes||[]),n.room&&t.rentalTypes){var e;const r=(null===(e=n.room.rentalType)||void 0===e?void 0:e.rentalTypeId)||n.room.rental_type_id,i=t.rentalTypes.find((e=>e.rentalTypeId===r));_(i||t.rentalTypes[0])}}catch(Pee){console.warn("Could not fetch rental types:",Pee);const t=[{rentalTypeId:1,name:"harian"},{rentalTypeId:2,name:"bulanan"}];C(t),_(t[0])}const r=new URLSearchParams(window.location.search),i=r.get("startDate"),o=r.get("endDate");if(i&&o){j({startDate:i,endDate:o}),n.room&&F(n.room,new Date(i),new Date(o));const e=await s7.getRoomAvailability(l,i,o);x(e.availability||[])}}catch(Pee){console.error("Error fetching room details:",Pee),v(Pee.message||"Failed to load room details"),d({title:"Error",description:Pee.message||"Failed to load room details",status:"error",duration:5e3,isClosable:!0})}finally{m(!1)}})()}),[l,d]),(0,t.useEffect)((()=>{h&&b.startDate&&b.endDate&&W()}),[h,b,S,w]);const F=(e,t,n)=>{var r;if(!e||!t||!n)return 0;const i=new Date(t),o=new Date(n),a=Math.ceil((o-i)/864e5),s="bulanan"===(null===(r=e.rental_type)||void 0===r?void 0:r.name)?Math.ceil(a/30):a;return e.rate*s},W=()=>{if(!h||!b.startDate||!b.endDate||!S)return;const e=new Date(b.startDate),t=new Date(b.endDate);let n=0,r=0;if(1===S.rentalTypeId||S.name.toLowerCase().includes("harian")||S.name.toLowerCase().includes("daily")){const i=Math.abs(t-e),o=Math.ceil(i/864e5);r=o,n=h.rate*o}else r=w,n=h.rate*w;console.log("Rental type: ".concat(S.name," (ID: ").concat(S.rentalTypeId,"), Duration: ").concat(r,", Amount: ").concat(n)),I(n)},U=(e,t)=>{j((n=>{const r=(0,o.A)((0,o.A)({},n),{},{[e]:t});if("startDate"===e&&S&&t){if(2===S.rentalTypeId||S.name.toLowerCase().includes("bulanan")||S.name.toLowerCase().includes("monthly")){const e=new Date(t),n=new Date(e);n.setMonth(n.getMonth()+w),r.endDate=n.toISOString().split("T")[0]}}return r}))},q=e=>{if(!y||0===y.length)return!0;const t=new Date(e),n=y.find((e=>new Date(e.date).toDateString()===t.toDateString()));return!n||n.isAvailable},H=()=>{if(!b.startDate||!b.endDate)return"Both start and end dates are required";const e=new Date(b.startDate),t=new Date(b.endDate);if(e>=t)return"End date must be after start date";if(S){if(2===S.rentalTypeId||S.name.toLowerCase().includes("bulanan")||S.name.toLowerCase().includes("monthly")){const n=Math.abs(t-e);if(Math.ceil(n/864e5)<30)return"Monthly rental requires minimum 30 days duration"}}const n=new Date(e);for(;n<=t;){if(!q(n))return"The date ".concat(n.toLocaleDateString()," is not available");n.setDate(n.getDate()+1)}return null};(0,t.useEffect)((()=>{(async()=>{if(null!==u&&void 0!==u&&u.tenantId&&b.startDate&&b.endDate)try{const e=(await z8.getTenantBookings(u.tenantId)).bookings||[],t=new Date(b.startDate),n=new Date(b.endDate),r=e.filter((e=>{if("cancelled"===e.status||"completed"===e.status)return!1;const r=new Date(e.checkInDate||e.check_in||e.start_date),i=new Date(e.checkOutDate||e.check_out||e.end_date);return t<i&&n>r}));L(r),R(r.length>0)}catch(g){console.warn("Could not check existing bookings:",g),R(!1)}else R(!1)})()}),[null===u||void 0===u?void 0:u.tenantId,b.startDate,b.endDate]);const V=()=>{if(1===E){const e=H();if(e)return void d({title:"Date Selection Error",description:e,status:"error",duration:3e3,isClosable:!0})}z((e=>Math.min(e+1,D7.length-1)))},G=()=>{z((e=>Math.max(e-1,0)))};return f?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsx)(Xj,{justify:"center",align:"center",height:"300px",children:(0,Xo.jsx)(Qv,{size:"xl"})})})}):g&&!h?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(ay,{status:"error",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:5,children:[(0,Xo.jsx)(sy,{boxSize:"40px",mr:0}),(0,Xo.jsx)(ly,{mt:4,mb:1,fontSize:"lg",children:"Room Not Found"}),(0,Xo.jsx)(cy,{maxWidth:"sm",children:g}),(0,Xo.jsx)(Bj,{mt:4,onClick:()=>c("/tenant/rooms"),colorScheme:"brand",children:"Browse Other Rooms"})]})})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(L7,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsx)(F5,{index:E,mb:8,children:D7.map(((e,t)=>(0,Xo.jsxs)(W5,{children:[(0,Xo.jsx)(U5,{children:(0,Xo.jsx)(q5,{complete:(0,Xo.jsx)(V5,{}),incomplete:(0,Xo.jsx)(K5,{}),active:(0,Xo.jsx)(K5,{})})}),(0,Xo.jsxs)(Eb,{flexShrink:"0",children:[(0,Xo.jsx)(Y5,{children:e.title}),(0,Xo.jsx)(Z5,{children:e.description})]})]},t)))}),"        ",0===E&&h&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(Wb,{as:"h2",size:"lg",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:ok,mr:3,color:"brand.500"}),h.name]}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"subtle",px:3,py:1,children:[(0,Xo.jsx)(Zv,{as:nS,mr:1}),(null===(e=h.classification)||void 0===e?void 0:e.name)||h.classification]}),(0,Xo.jsxs)(r_,{colorScheme:"green",variant:"subtle",px:3,py:1,children:[(0,Xo.jsx)(Zv,{as:Fk,mr:1}),(null===(n=h.rentalType)||void 0===n?void 0:n.name)||h.rentalType]})]})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"md",color:"gray.600",children:h.description}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Wb,{as:"h3",size:"md",mb:4,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:yk,mr:2,color:"green.500"}),"Price"]}),(0,Xo.jsx)(Vb,{variant:"outline",bg:"green.50",borderColor:"green.200",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"green.700",textAlign:"center",children:["Rp ",null===(r=h.rate)||void 0===r?void 0:r.toLocaleString(),(0,Xo.jsxs)(Tb,{as:"span",fontSize:"lg",fontWeight:"normal",color:"green.600",children:[" ","/ ","harian"===h.rentalType||"harian"===h.rental_type?"day":"month"]})]})})})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Wb,{as:"h3",size:"md",mb:4,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:Rw,mr:2,color:"blue.500"}),"Amenities"]}),h.amenities&&h.amenities.length>0?(0,Xo.jsx)(t_,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)"},gap:4,children:h.amenities.map(((e,t)=>{var n,r;const i=(e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return t.includes("bed")||t.includes("kasur")||t.includes("tempat tidur")?gw:t.includes("wifi")||t.includes("internet")?oS:t.includes("ac")||t.includes("air")||t.includes("conditioning")?Lk:t.includes("tv")||t.includes("television")?Zk:t.includes("bath")||t.includes("kamar mandi")||t.includes("shower")?mw:t.includes("coffee")||t.includes("kopi")||t.includes("kitchen")?zw:t.includes("parking")||t.includes("parkir")?jk:t.includes("gym")||t.includes("fitness")?Fw:t.includes("pool")||t.includes("kolam")?Mk:t.includes("dining")||t.includes("makan")||t.includes("restaurant")?rS:t.includes("laundry")||t.includes("cuci")?Yk:t.includes("living")||t.includes("ruang")||t.includes("room")?Rw:t.includes("lamp")||t.includes("light")||t.includes("lampu")?hk:ok})(null===(n=e.feature)||void 0===n?void 0:n.name);return(0,Xo.jsx)(Vb,{variant:"outline",size:"sm",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:i,color:"brand.500",boxSize:5}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:(null===(r=e.feature)||void 0===r?void 0:r.name)||"Amenity"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Quantity: ",e.quantity,"x"]})]})]})})},t)}))}):(0,Xo.jsx)(Vb,{variant:"outline",children:(0,Xo.jsxs)(Kb,{textAlign:"center",py:8,children:[(0,Xo.jsx)(Zv,{as:ok,boxSize:8,color:"gray.400",mb:2}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"No amenities information available"})]})})]})]})}),(0,Xo.jsx)(k8,{children:(0,Xo.jsxs)(Bj,{colorScheme:"brand",size:"lg",onClick:V,width:"full",children:[(0,Xo.jsx)(Zv,{as:ww,mr:2}),"Select Dates"]})})]}),1===E&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsxs)(QS,{children:[(0,Xo.jsx)(Wb,{as:"h2",size:"md",children:"Select Your Stay Period"}),"            "]}),(0,Xo.jsxs)(Kb,{children:["              ",(0,Xo.jsxs)(ij,{mb:6,children:[(0,Xo.jsx)(sj,{children:"Rental Type"}),A.length>1?(0,Xo.jsx)(F3,{value:null===S||void 0===S||null===(i=S.rentalTypeId)||void 0===i?void 0:i.toString(),onChange:e=>{const t=A.find((t=>t.rentalTypeId.toString()===e));_(t),j({startDate:"",endDate:""}),k(1),I(0)},children:(0,Xo.jsx)(Cb,{direction:"row",spacing:4,children:A.map((e=>(0,Xo.jsx)(H3,{value:e.rentalTypeId.toString(),children:"harian"===e.name?"Harian (Per Hari)":"bulanan"===e.name?"Bulanan (Per Bulan)":e.name},e.rentalTypeId)))})}):(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"harian"===(null===S||void 0===S?void 0:S.name)?"Harian (Per Hari)":"bulanan"===(null===S||void 0===S?void 0:S.name)?"Bulanan (Per Bulan)":(null===S||void 0===S?void 0:S.name)||"Loading..."}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:2,children:"harian"===(null===S||void 0===S?void 0:S.name)?"Cocok untuk tinggal sementara (beberapa hari)":"bulanan"===(null===S||void 0===S?void 0:S.name)?"Cocok untuk tinggal jangka panjang (minimal 1 bulan)":"Pilih jenis sewa yang sesuai dengan kebutuhan Anda"})]}),"              ","bulanan"===(null===S||void 0===S?void 0:S.name)?(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Start Date*"}),(0,Xo.jsx)(gj,{type:"date",name:"startDate",value:b.startDate,onChange:e=>U("startDate",e.target.value),min:(new Date).toISOString().split("T")[0]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:"Tanggal mulai sewa (tanggal masuk ke kamar)"})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Number of Months*"}),(0,Xo.jsx)(SQ,{value:w,onChange:e=>(e=>{if(k(e),b.startDate&&S&&(2===S.rentalTypeId||S.name.toLowerCase().includes("bulanan")||S.name.toLowerCase().includes("monthly"))){const t=new Date(b.startDate),n=new Date(t);n.setMonth(n.getMonth()+e),j((e=>(0,o.A)((0,o.A)({},e),{},{endDate:n.toISOString().split("T")[0]})))}})(parseInt(e.target.value)),placeholder:"Select duration",children:Array.from({length:12},((e,t)=>t+1)).map((e=>(0,Xo.jsxs)("option",{value:e,children:[e," ",1===e?"Month":"Months",(null===h||void 0===h?void 0:h.rate)&&" - ".concat(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(h.rate*e))]},e)))}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:"Berapa lama Anda ingin menyewa kamar ini?"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"End Date (Calculated)"}),(0,Xo.jsx)(gj,{type:"date",name:"endDate",value:b.endDate,readOnly:!0,bg:"gray.50",cursor:"not-allowed"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:["Tanggal berakhir sewa (otomatis dihitung: ",w," bulan dari tanggal mulai)"]})]}),b.startDate&&(0,Xo.jsx)(Eb,{p:4,bg:"blue.50",borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"blue.700",children:"Rental Summary"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Duration:"})," ",w," ",1===w?"Month":"Months"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"From:"})," ",new Date(b.startDate).toLocaleDateString("id-ID")]}),b.endDate&&(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Until:"})," ",new Date(b.endDate).toLocaleDateString("id-ID")]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"bold",color:"blue.700",children:["Total: ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(P)]})]})})]}):(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Check-in Date*"}),(0,Xo.jsx)(gj,{type:"date",name:"startDate",value:b.startDate,onChange:e=>U("startDate",e.target.value),min:(new Date).toISOString().split("T")[0]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:"Tanggal check-in ke kamar"})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Check-out Date*"}),(0,Xo.jsx)(gj,{type:"date",name:"endDate",value:b.endDate,onChange:e=>U("endDate",e.target.value),min:b.startDate||(new Date).toISOString().split("T")[0]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mt:1,children:"Tanggal check-out dari kamar"})]})]}),0===y.length&&(0,Xo.jsxs)(ay,{status:"warning",mt:4,children:[(0,Xo.jsx)(sy,{}),"Availability data couldn't be loaded. Some dates may not be available."]}),D&&O.length>0&&(0,Xo.jsxs)(ay,{status:"error",mt:4,children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,width:"100%",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"You have conflicting bookings for these dates:"}),O.map(((e,t)=>{var n;return(0,Xo.jsxs)(Eb,{fontSize:"sm",children:[(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Room:"})," ",(null===(n=e.room)||void 0===n?void 0:n.name)||"Room ".concat(e.roomId||e.room_id)]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Period:"})," ",new Date(e.checkInDate||e.check_in).toLocaleDateString()," - ",new Date(e.checkOutDate||e.check_out).toLocaleDateString()]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Status:"})," ",e.status]})]},t)})),(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>c("/tenant/bookings"),children:"View All My Bookings"})]})]}),P>0&&(0,Xo.jsxs)(Eb,{mt:6,p:4,borderWidth:1,borderRadius:"md",children:[(0,Xo.jsx)(Wb,{as:"h3",size:"md",mb:2,children:"Price Summary"}),(0,Xo.jsxs)(Pb,{align:"stretch",spacing:2,children:["                    ",(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{children:"Rental Type:"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"harian"===(null===S||void 0===S?void 0:S.name)?"Harian":"bulanan"===(null===S||void 0===S?void 0:S.name)?"Bulanan":null===S||void 0===S?void 0:S.name})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{children:"Rate:"}),(0,Xo.jsxs)(Tb,{children:["Rp ",null===(a=h.rate)||void 0===a?void 0:a.toLocaleString(),"/","harian"===(null===S||void 0===S?void 0:S.name)?"day":"month"]})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{children:"Duration:"}),(0,Xo.jsx)(Tb,{children:(()=>{if(!b.startDate||!b.endDate)return"-";const e=new Date(b.startDate),t=new Date(b.endDate),n=Math.abs(t-e),r=Math.ceil(n/864e5);if("harian"===(null===S||void 0===S?void 0:S.name))return"".concat(r," day").concat(r>1?"s":"");{const e=Math.max(1,Math.ceil(r/30));return"".concat(e," month").concat(e>1?"s":"")}})()})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:"Total:"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",fontSize:"lg",color:"brand.500",children:["Rp ",P.toLocaleString()]})]})]})]})]}),(0,Xo.jsx)(k8,{children:(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Bj,{onClick:G,children:"Back"}),"                ",(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:V,isDisabled:!b.startDate||!b.endDate||P<=0||D,children:D?"Resolve Conflicts First":"Continue"})]})})]}),"        ",2===E&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Wb,{as:"h2",size:"md",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:Xw,mr:3,color:"brand.500"}),"Review Booking"]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Vb,{variant:"outline",bg:"blue.50",borderColor:"blue.200",children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(Wb,{as:"h3",size:"sm",display:"flex",alignItems:"center",color:"blue.700",children:[(0,Xo.jsx)(Zv,{as:ok,mr:2}),"Room Details"]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:h.name}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"subtle",children:[(0,Xo.jsx)(Zv,{as:nS,mr:1}),(null===(s=h.classification)||void 0===s?void 0:s.name)||h.classification]}),(0,Xo.jsxs)(r_,{colorScheme:"green",variant:"subtle",children:[(0,Xo.jsx)(Zv,{as:Fk,mr:1}),"harian"===(null===S||void 0===S?void 0:S.name)?"Daily Rental":"bulanan"===(null===S||void 0===S?void 0:S.name)?"Monthly Rental":"".concat(null===S||void 0===S?void 0:S.name," Rental")]})]})]})})]}),(0,Xo.jsxs)(Vb,{variant:"outline",bg:"orange.50",borderColor:"orange.200",children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(Wb,{as:"h3",size:"sm",display:"flex",alignItems:"center",color:"orange.700",children:[(0,Xo.jsx)(Zv,{as:ww,mr:2}),"Stay Period"]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:mk,color:"green.500"}),(0,Xo.jsxs)(Tb,{fontWeight:"semibold",children:["harian"===(null===S||void 0===S?void 0:S.name)?"Check-in":"Start",":"]}),(0,Xo.jsx)(Tb,{children:new Date(b.startDate).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:mk,color:"red.500"}),(0,Xo.jsxs)(Tb,{fontWeight:"semibold",children:["harian"===(null===S||void 0===S?void 0:S.name)?"Check-out":"End",":"]}),(0,Xo.jsx)(Tb,{children:new Date(b.endDate).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nw,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Duration:"}),(0,Xo.jsx)(Tb,{children:(()=>{const e=new Date(b.startDate),t=new Date(b.endDate),n=Math.abs(t-e),r=Math.ceil(n/864e5);if("harian"===(null===S||void 0===S?void 0:S.name))return"".concat(r," day").concat(r>1?"s":"");{const e=Math.max(1,Math.ceil(r/30));return"".concat(e," month").concat(e>1?"s":"")}})()})]})]})})]}),(0,Xo.jsxs)(Vb,{variant:"outline",bg:"green.50",borderColor:"green.200",children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(Wb,{as:"h3",size:"sm",display:"flex",alignItems:"center",color:"green.700",children:[(0,Xo.jsx)(Zv,{as:yk,mr:2}),"Payment Details"]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(dS,{justify:"space-between",align:"center",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",children:"Total Amount:"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",fontSize:"2xl",color:"green.600",children:["Rp ",P.toLocaleString("id-ID")]})]})})]}),!u&&(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Authentication Required"}),(0,Xo.jsx)(Tb,{children:"You need to be logged in to complete your booking."})]})]})]})}),(0,Xo.jsx)(k8,{children:(0,Xo.jsxs)(dS,{spacing:4,width:"full",children:[(0,Xo.jsxs)(Bj,{onClick:G,variant:"outline",size:"lg",flex:1,children:[(0,Xo.jsx)(Zv,{as:ww,mr:2}),"Back"]}),(0,Xo.jsxs)(Bj,{colorScheme:"brand",onClick:async()=>{if(!u)return d({title:"Authentication Required",description:"Please login to book a room",status:"warning",duration:3e3,isClosable:!0}),void c("/tenant/login");N(!0);try{const e=H();if(e)return void d({title:"Validation Error",description:e,status:"error",duration:5e3,isClosable:!0});const t=await z8.checkTenantActiveBooking(u.tenantId);if(t.hasActiveBooking){const e=new Date(t.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),n="You have an active booking in ".concat(t.roomName||"another room"," that must be completed first. You can make a new booking after your current booking ends on ").concat(e,".");return void d({title:"Booking Not Allowed",description:n,status:"warning",duration:8e3,isClosable:!0,action:(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>c("/tenant/bookings"),colorScheme:"orange",variant:"outline",children:"View My Bookings"})})}const n=await(async()=>{try{if(null===u||void 0===u||!u.tenantId)return!1;const e=(await z8.getTenantBookings(u.tenantId)).bookings||[],t=new Date(b.startDate),n=new Date(b.endDate);return e.some((e=>{if("cancelled"===e.status||"completed"===e.status)return!1;const r=new Date(e.checkInDate||e.check_in||e.start_date),i=new Date(e.checkOutDate||e.check_out||e.end_date);return t<i&&n>r}))}catch(g){return console.warn("Could not check existing bookings:",g),!1}})();if(n)return void d({title:"Booking Conflict",description:"You already have an active booking that overlaps with these dates. Please check your existing bookings or choose different dates.",status:"warning",duration:8e3,isClosable:!0,action:(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>c("/tenant/bookings"),colorScheme:"orange",variant:"outline",children:"View My Bookings"})});if(!(()=>{if(!h||!b.startDate||!b.endDate)return!1;const e=h7(h,new Date(b.startDate),new Date(b.endDate),y);return e||v("The room is not available for the selected dates."),e})())return void d({title:"Room Unavailable",description:"This room is not available for the selected dates.",status:"error",duration:5e3,isClosable:!0});const r={tenantId:u.tenantId,roomId:parseInt(l),checkInDate:new Date(b.startDate).toISOString(),checkOutDate:new Date(b.endDate).toISOString(),rentalTypeId:S.rentalTypeId,totalAmount:P};console.log("Submitting booking with data:",r);const i=await z8.createBooking(r);console.log("Booking response received:",i),i&&(i.booking||i.bookingId||i.status)?(d({title:"Booking Created Successfully",description:"Your room booking has been submitted and will be processed shortly",status:"success",duration:3e3,isClosable:!0}),z(3)):(console.warn("Unexpected response format:",i),d({title:"Booking Submitted",description:"Your booking has been submitted. Please check your bookings page for status.",status:"info",duration:5e3,isClosable:!0}),z(3))}catch(Pee){var e,t;console.error("Error creating booking:",Pee);let r="Booking Failed",i="Could not complete your booking. Please try again later.",o="error";if(Pee.message){const e=Pee.message.toLowerCase();e.includes("already has a booking")||e.includes("tenant already has a booking")?(r="Booking Conflict",i="You already have an active booking for this period. Please check your existing bookings or choose different dates.",o="warning"):e.includes("room not available")||e.includes("not available")?(r="Room Unavailable",i="This room is not available for the selected dates. Please choose different dates.",o="warning"):e.includes("authentication")||e.includes("unauthorized")?(r="Authentication Required",i="Please login again to continue.",o="warning"):i=Pee.message}else null!==(e=Pee.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message&&(i=Pee.response.data.message);d({title:r,description:i,status:o,duration:8e3,isClosable:!0,action:"Booking Conflict"===r?(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>c("/tenant/bookings"),colorScheme:"orange",variant:"outline",children:"View My Bookings"}):void 0})}finally{N(!1)}},isLoading:T,loadingText:"Processing...",isDisabled:!u||D||M,size:"lg",flex:2,children:[(0,Xo.jsx)(Zv,{as:Aw,mr:2}),M?"Complete Current Booking First":D?"Resolve Conflicts First":"Complete Booking"]})]})})]}),3===E&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{as:"h2",size:"md",textAlign:"center",color:"green.500",children:"Booking Confirmed!"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(Eb,{textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:Aw,w:12,h:12,color:"green.500",mb:4}),(0,Xo.jsx)(Tb,{fontSize:"lg",children:"Your booking has been successfully submitted."}),(0,Xo.jsx)(Tb,{mt:2,children:"You will receive a confirmation email shortly with all the details."})]}),(0,Xo.jsxs)(Eb,{width:"100%",children:[(0,Xo.jsx)(ew,{my:4}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Room:"}),(0,Xo.jsx)(Tb,{children:h.name})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Stay Period:"}),(0,Xo.jsxs)(Tb,{children:[new Date(b.startDate).toLocaleDateString()," to ",new Date(b.endDate).toLocaleDateString()]})]})]}),(0,Xo.jsx)(ew,{my:4}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Total Amount:"}),(0,Xo.jsxs)(Tb,{fontSize:"lg",children:["Rp ",P.toLocaleString()]})]})]})]})}),(0,Xo.jsx)(k8,{children:(0,Xo.jsxs)(dS,{spacing:4,width:"100%",justify:"center",children:[(0,Xo.jsx)(Bj,{onClick:()=>c("/tenant/bookings"),children:"View My Bookings"}),(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:()=>c("/tenant/rooms"),children:"Browse More Rooms"})]})})]})]})})})},M7=()=>{var e,n,r,i,o,a,s,l,c,d;const{roomId:u}=Px(),h=Cx(),{tenant:p}=D6(),f=hb(),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)({daily:0,monthly:0}),[x,b]=(0,t.useState)(2),[j,w]=(0,t.useState)(1),[k,S]=(0,t.useState)(""),[_,A]=(0,t.useState)(""),[C,P]=(0,t.useState)(null),[I,T]=(0,t.useState)(!0),[N,E]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!1),[L,D]=(0,t.useState)(""),[R,M]=(0,t.useState)(null),[B,F]=(0,t.useState)(!1),[W,U]=(0,t.useState)(null);(0,t.useEffect)((()=>{q()}),[u,null===p||void 0===p?void 0:p.tenantId]),(0,t.useEffect)((()=>{k&&_&&x&&null!==p&&void 0!==p&&p.tenantId&&V()}),[k,_,x,null===p||void 0===p?void 0:p.tenantId]),(0,t.useEffect)((()=>{if(k&&x){const e=new Date(k);if(2===x)e.setMonth(e.getMonth()+j),A(e.toISOString().split("T")[0]);else if(1===x){const t=new Date(_);Math.ceil((t-e)/864e5)>30&&(e.setDate(e.getDate()+7),A(e.toISOString().split("T")[0]))}}}),[x,j,k]);const q=async()=>{try{var e;T(!0),D("");const r=await s7.getRoom(u);if(g(r.room),"ruang_rapat"===(null===(e=r.room.classification)||void 0===e?void 0:e.name)&&b(1),p&&r.room){var t;const e=null===(t=r.room.classification)||void 0===t?void 0:t.name,n=p.gender;"perempuan"===e&&"P"!==n?(F(!0),D("This room is for female tenants only")):"laki_laki"===e&&"L"!==n&&(F(!0),D("This room is for male tenants only"))}if(null!==p&&void 0!==p&&p.tenantId&&!B){await H(r.room);try{const e=await z8.checkTenantActiveBooking(p.tenantId);if(e.hasActiveBooking){U(e);const t=new Date(e.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});D("You have an active booking in ".concat(e.roomName||"another room"," until ").concat(t,". Complete your current booking before making a new one."))}}catch(n){console.warn("Could not check for active bookings:",n)}}const i=new Date,o=new Date(i);o.setMonth(o.getMonth()+1),S(i.toISOString().split("T")[0]),A(o.toISOString().split("T")[0])}catch(Pee){D("Failed to load room information"),console.error("Error loading initial data:",Pee)}finally{T(!1)}},H=async e=>{try{var t;console.log("Loading dynamic rates for tenant:",p.tenantId,"room:",u);const n=await z8.getDynamicRate(p.tenantId,u,1);console.log("Daily rate response:",n);let r=0;if("ruang_rapat"!==(null===e||void 0===e||null===(t=e.classification)||void 0===t?void 0:t.name)){const e=await z8.getDynamicRate(p.tenantId,u,2);console.log("Monthly rate response:",e),r=(null===e||void 0===e?void 0:e.rate)||0}y({daily:(null===n||void 0===n?void 0:n.rate)||0,monthly:r})}catch(Pee){console.error("Error loading dynamic rates:",Pee),D("Failed to load pricing information")}},V=async()=>{if(null!==p&&void 0!==p&&p.tenantId&&u&&x)try{E(!0),D(""),console.log("Calculating cost with params:",{tenantId:p.tenantId,roomId:u,rentalTypeId:x,checkInDate:k,checkOutDate:_});const e=await z8.checkTenantActiveBooking(p.tenantId);if(e.hasActiveBooking){const t=new Date(e.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return D("You have an active booking in ".concat(e.roomName||"another room"," that must be completed first. You can make a new booking after your current booking ends on ").concat(t,".")),M({available:!1,reason:"Active booking exists"}),void P(null)}const t=await z8.checkRoomAvailability(u,k,_);M(t);const n=await z8.calculateBookingCost(p.tenantId,u,x,k,_);console.log("Cost calculation response:",n);const r=n.breakdown||n;P(r)}catch(Pee){D(Pee.message||"Failed to calculate booking cost"),console.error("Error calculating cost:",Pee)}finally{E(!1)}},G=()=>(new Date).toISOString().split("T")[0],K=e=>({perempuan:"Female Room",laki_laki:"Male Room",VIP:"VIP Room",ruang_rapat:"Meeting Room"}[e]||e);return I?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"4xl",py:8,children:(0,Xo.jsx)(bb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Loading room details..."})]})})})}):m?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(L7,{children:(0,Xo.jsx)(Ob,{maxW:"6xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(p5,{}),variant:"ghost",colorScheme:"blue",onClick:()=>h(-1),mb:4,children:"Back to Room Details"}),(0,Xo.jsx)(Wb,{size:"xl",color:"gray.900",mb:2,children:"Book Room"}),(0,Xo.jsxs)(Tb,{color:"gray.600",children:["Complete your booking for ",m.name]})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",lg:"1fr 1fr"},gap:8,children:[(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Room Information"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{size:"sm",mb:1,children:m.name}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"sm",children:m.description})]}),(0,Xo.jsxs)(IQ,{columns:2,spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",children:"Classification:"}),(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"sm",textTransform:"capitalize",children:K(null===(e=m.classification)||void 0===e?void 0:e.name)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"sm",children:"Capacity:"}),(0,Xo.jsxs)(Tb,{color:"gray.600",fontSize:"sm",children:[m.capacity," people"]})]})]}),(0,Xo.jsxs)(Eb,{mt:6,children:[(0,Xo.jsx)(Wb,{size:"sm",mb:3,children:"Your Pricing:"}),!1,B?(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"This room is not available for your gender classification."})]}):(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(Eb,{p:4,borderRadius:"md",border:"2px",borderColor:1===x?"blue.500":"gray.200",bg:1===x?"blue.50":"white",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Daily Rate"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",color:"green.600",children:v.daily?v7(v.daily):"Loading..."})]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["mahasiswa"===(null===p||void 0===p||null===(n=p.tenantType)||void 0===n?void 0:n.name)?"Student":"Non-Student"," - ",K(null===(r=m.classification)||void 0===r?void 0:r.name),"ruang_rapat"===(null===(i=m.classification)||void 0===i?void 0:i.name)?"":" (per person)"]})]}),"ruang_rapat"!==(null===(o=m.classification)||void 0===o?void 0:o.name)&&(0,Xo.jsxs)(Eb,{p:4,borderRadius:"md",border:"2px",borderColor:2===x?"blue.500":"gray.200",bg:2===x?"blue.50":"white",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:"Monthly Rate"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",color:"green.600",children:v.monthly?v7(v.monthly):"Loading..."})]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["mahasiswa"===(null===p||void 0===p||null===(a=p.tenantType)||void 0===a?void 0:a.name)?"Student":"Non-Student"," - ",K(null===(s=m.classification)||void 0===s?void 0:s.name)," (per person)"]})]}),"ruang_rapat"===(null===(l=m.classification)||void 0===l?void 0:l.name)&&(0,Xo.jsxs)(ay,{status:"warning",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Meeting rooms are only available for daily rental."})]})]})]})]})})]}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Booking Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",fontWeight:"semibold",children:"Rental Period"}),(0,Xo.jsxs)(IQ,{columns:2,spacing:2,children:[(0,Xo.jsx)(Bj,{onClick:()=>b(1),isDisabled:B,variant:1===x?"solid":"outline",colorScheme:1===x?"blue":"gray",size:"md",children:"Daily"}),(0,Xo.jsx)(Bj,{onClick:()=>b(2),isDisabled:B||"ruang_rapat"===(null===(c=m.classification)||void 0===c?void 0:c.name),variant:2===x?"solid":"outline",colorScheme:2===x?"blue":"gray",size:"md",children:(0,Xo.jsxs)(Pb,{spacing:0,children:[(0,Xo.jsx)(Tb,{children:"Monthly"}),"ruang_rapat"===(null===(d=m.classification)||void 0===d?void 0:d.name)&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:"Not available"})]})})]})]}),2===x&&(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",fontWeight:"semibold",children:"Number of Months"}),(0,Xo.jsx)(IQ,{columns:6,spacing:2,children:[1,2,3,4,5,6].map((e=>(0,Xo.jsx)(Bj,{onClick:()=>w(e),variant:j===e?"solid":"outline",colorScheme:j===e?"blue":"gray",size:"sm",children:e},e)))}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"Check-out date will be automatically calculated"})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",fontWeight:"semibold",children:"Check-in Date"}),(0,Xo.jsx)(gj,{type:"date",value:k,onChange:e=>S(e.target.value),min:G()})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",fontWeight:"semibold",children:"Check-out Date"}),(0,Xo.jsx)(gj,{type:"date",value:_,onChange:e=>A(e.target.value),min:(()=>{if(!k)return G();const e=new Date(k);return 2===x?e.setMonth(e.getMonth()+1):e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})()})]})]}),R&&(0,Xo.jsxs)(ay,{status:R.available?"success":"error",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:R.available?"Available (".concat(R.available_capacity,"/").concat(m.capacity," slots)"):"Not Available"})]}),N&&(0,Xo.jsx)(bb,{py:4,children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Qv,{color:"blue.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Calculating cost..."})]})}),C&&!N&&(0,Xo.jsxs)(Eb,{bg:"gray.50",p:4,borderRadius:"md",children:[(0,Xo.jsx)(Wb,{size:"sm",color:"gray.900",mb:3,children:"Booking Summary"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Period:"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[y7(k)," - ",y7(_)]})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Duration:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:C.total_days?"".concat(C.total_days," day").concat(C.total_days>1?"s":""):C.total_months?"".concat(C.total_months," month").concat(C.total_months>1?"s":""):(()=>{if(!k||!_)return"";const e=new Date(k),t=new Date(_);if(2===x){const n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth());return"".concat(n," month").concat(n>1?"s":"")}{const n=Math.abs(t-e),r=Math.ceil(n/864e5);return"".concat(r," day").concat(r>1?"s":"")}})()})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Rate per ",1===x?"day":"month",":"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:v7(1===x?C.daily_rate||v.daily:C.monthly_rate||v.monthly)})]}),C.subtotal&&C.subtotal!==C.total_amount&&(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Subtotal:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:v7(C.subtotal)})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:"Total Amount:"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",color:"green.600",children:v7(C.total_amount||C.subtotal)})]}),C.calculation_method&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["Calculated using ",C.calculation_method," rate"]})]})]}),W&&(0,Xo.jsxs)(ay,{status:"warning",variant:"left-accent",bg:"orange.50",borderColor:"orange.200",children:[(0,Xo.jsx)(sy,{color:"orange.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,flex:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",color:"orange.800",children:"You have an active booking that must be completed first"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"orange.700",children:["Room: ",W.roomName||"Unknown Room"," | Check-out: ",new Date(W.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"orange",variant:"outline",onClick:()=>h("/tenant/bookings"),mt:2,children:"View My Bookings"})]})]}),L&&!W&&(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),L]}),(0,Xo.jsx)(Bj,{onClick:async()=>{if(C&&null!==R&&void 0!==R&&R.available)try{O(!0),D("");const e=await z8.checkTenantActiveBooking(p.tenantId);if(e.hasActiveBooking){const t=new Date(e.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),n="You have an active booking in ".concat(e.roomName||"another room"," that must be completed first. You can make a new booking after your current booking ends on ").concat(t,".");return D(n),void f({title:"Booking Not Allowed",description:n,status:"warning",duration:8e3,isClosable:!0})}const t={tenantId:p.tenantId,roomId:parseInt(u),rentalTypeId:x,checkInDate:k,checkOutDate:_,totalAmount:C.total_amount||C.subtotal},n=await z8.createBooking(t);n.booking&&h("/tenant/bookings/".concat(n.booking.bookingId),{state:{newBooking:!0,costCalculation:C}})}catch(Pee){D(Pee.message||"Failed to create booking"),console.error("Error creating booking:",Pee),f({title:"Booking Failed",description:Pee.message||"Failed to create booking",status:"error",duration:5e3,isClosable:!0})}finally{O(!1)}},isLoading:z,loadingText:"Creating Booking...",isDisabled:z||N||B||W||!C||!(null!==R&&void 0!==R&&R.available)||!k||!_,colorScheme:"blue",size:"lg",w:"full",children:W?"Complete Current Booking First":B?"Room Not Available for Your Gender":"Book Now"})]})})]})]})]})})})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"4xl",py:8,children:(0,Xo.jsxs)(ay,{status:"error",children:[(0,Xo.jsx)(sy,{}),"Room not found"]})})})},B7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id-ID";if(!e)return"N/A";try{const n=new Date(e);return isNaN(n.getTime())?"Invalid date":n.toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})}catch(n){return console.error("Error formatting date:",n),"Error"}},F7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id-ID";if(!e)return"N/A";try{const n=new Date(e);return isNaN(n.getTime())?"Invalid date":n.toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(n){return console.error("Error formatting date and time:",n),"Error"}},W7=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id-ID";if(!e||!t)return"Date range not available";try{const r=new Date(e),i=new Date(t);return isNaN(r.getTime())||isNaN(i.getTime())?"Invalid date range":r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()?"".concat(r.getDate()," - ").concat(i.getDate()," ").concat(r.toLocaleDateString(n,{month:"long",year:"numeric"})):r.getFullYear()===i.getFullYear()?"".concat(r.getDate()," ").concat(r.toLocaleDateString(n,{month:"long"})," - ").concat(i.getDate()," ").concat(i.toLocaleDateString(n,{month:"long",year:"numeric"})):"".concat(B7(e,n)," - ").concat(B7(t,n))}catch(r){return console.error("Error formatting date range:",r),"Error"}},U7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,o.A)((0,o.A)({},{withSymbol:!0,withSpacing:!0,decimalPlaces:0}),t);if(null===e||void 0===e||isNaN(Number(e)))return n.withSymbol?"Rp ".concat(n.withSpacing?" ":"","0"):"0";const r=new Intl.NumberFormat("id-ID",{minimumFractionDigits:n.decimalPlaces,maximumFractionDigits:n.decimalPlaces}).format(e);return n.withSymbol?"Rp".concat(n.withSpacing?" ":"").concat(r):r},q7=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})},H7=()=>{var e,n,r,i,a,s,l,c,d;const{bookingId:u}=Px(),h=Cx(),p=hb(),{tenant:f}=D6(),m=GG(),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(null),[b,j]=(0,t.useState)(!0),[w,k]=(0,t.useState)(null),[S,_]=(0,t.useState)(!1),[A,C]=(0,t.useState)(null),[P,I]=(0,t.useState)(!1),T=zs("white","gray.700"),N=zs("gray.200","gray.600"),E=(zs("white","gray.700"),async e=>{try{if(!e)return;const t=JSON.parse(localStorage.getItem("tenant")||"{}"),n=t.tenantId||t.tenant_id||t.id;if(!n)return void console.warn("No tenant ID available for payment check");const r=await D8.checkPendingManualPayments(e,n);if(r.hasPendingPayments&&r.pendingPayments.length>0){const e=r.pendingPayments[0];C(e),I(!0),console.log("Found pending manual payment for booking:",e)}else C(null),I(!1)}catch(w){console.error("Error checking pending payments:",w),C(null),I(!1)}});(0,t.useEffect)((()=>{(async()=>{if(u){j(!0),k(null);try{var e;const r=await z8.getBooking(u);if(console.log("Booking response:",r),console.log("Booking approvals:",null===r||void 0===r||null===(e=r.booking)||void 0===e?void 0:e.approvals),null!==r&&void 0!==r&&r.booking){const e=r.booking;if(v(e),e.invoice_id)try{const t=await B8.getInvoice(e.invoice_id);if(console.log("Invoice response for booking:",t),null!==t&&void 0!==t&&t.invoice){x(t.invoice);const n=(0,o.A)((0,o.A)({},e),{},{payment_status:"paid"===t.invoice.status?"paid":e.payment_status});v(n)}}catch(t){console.warn("Could not fetch invoice for booking:",t)}if(!e.invoice_id&&null!==f&&void 0!==f&&f.tenantId)try{const t=await D8.getTenantInvoices(f.tenantId);if(null!==t&&void 0!==t&&t.invoices){const n=t.invoices.find((t=>t.bookingId===e.bookingId||t.booking_id===e.booking_id));if(n){console.log("Found related invoice:",n),x(n);const t=(0,o.A)((0,o.A)({},e),{},{payment_status:"paid"===n.status?"paid":e.payment_status,invoice_id:n.invoiceId||n.invoice_id});v(t),await E(n.invoiceId||n.invoice_id)}}}catch(n){console.warn("Could not fetch invoices:",n)}e.invoice_id&&await E(e.invoice_id)}}catch(w){console.error("Error fetching booking details:",w),k(w.message||"Failed to load booking details")}finally{j(!1)}}})()}),[u,null===f||void 0===f?void 0:f.tenantId]);const z=()=>"cancelled"===(null===g||void 0===g?void 0:g.status)||"canceled"===(null===g||void 0===g?void 0:g.status)?"cancelled":"rejected"===(null===g||void 0===g?void 0:g.status)?"refund_required":"approved"===(null===g||void 0===g?void 0:g.status)||"confirmed"===(null===g||void 0===g?void 0:g.status)?y?"paid"===y.status?"paid":"pending":(null===g||void 0===g?void 0:g.payment_status)||(null===g||void 0===g?void 0:g.paymentStatus)||"pending":"pending";return b?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsx)(Xj,{justify:"center",align:"center",minH:"400px",children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"}),(0,Xo.jsx)(Tb,{children:"Loading booking details..."})]})})})}):w||!g?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),w||"Booking not found"]}),(0,Xo.jsx)(Bj,{mt:4,leftIcon:(0,Xo.jsx)(pw,{}),onClick:()=>h("/tenant/bookings"),children:"Back to Bookings"})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Zv,{as:pw}),mb:6,onClick:()=>h("/tenant/bookings"),variant:"outline",children:"Back to Bookings"}),(0,Xo.jsxs)(Eb,{mb:6,children:[(0,Xo.jsxs)(Wb,{size:"lg",mb:2,children:["Booking #",g.bookingId||g.booking_id]}),(0,Xo.jsx)(dS,{spacing:4,mb:4,children:(0,Xo.jsx)(r_,{colorScheme:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":return"green";case"pending":return"yellow";case"rejected":case"cancelled":return"red";case"completed":case"checked_in":return"blue";default:return"gray"}})(g.status),fontSize:"md",px:2,py:1,borderRadius:"md",children:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":return"Approved";case"pending":return"Pending";case"rejected":return"Rejected";case"cancelled":return"Cancelled";case"completed":return"Completed";case"checked_in":return"Checked In";default:return e||"Unknown"}})(g.status)})}),("cancelled"===g.status||"canceled"===g.status||"rejected"===g.status)&&y&&"paid"===y.status&&(0,Xo.jsxs)(ay,{status:"error",mb:4,borderRadius:"md",border:"2px solid",borderColor:"red.500",children:[(0,Xo.jsx)(sy,{as:Vw}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{color:"red.600",children:"\u26a0\ufe0f Data Inconsistency Detected"}),(0,Xo.jsxs)(cy,{children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",color:"red.700",children:["Critical Issue: This booking is ",g.status," but payment shows as completed."]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",mt:1,children:["This indicates a system error. Please contact administration immediately for refund processing.",(0,Xo.jsx)("br",{}),(0,Xo.jsxs)(Tb,{as:"span",fontWeight:"bold",children:["Invoice: #",y.invoiceNo||y.invoice_no]})," |",(0,Xo.jsxs)(Tb,{as:"span",fontWeight:"bold",children:[" Amount: ",U7(y.amount||y.total_amount)]})]})]})]})]}),"pending"===g.status&&(0,Xo.jsxs)(ay,{status:"warning",mb:4,borderRadius:"md",children:[(0,Xo.jsx)(sy,{as:Vw}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Pending Approval"}),(0,Xo.jsx)(cy,{children:"Your booking is pending approval from the administrator."})]})]}),"approved"===g.status&&(0,Xo.jsxs)(ay,{status:"success",mb:4,borderRadius:"md",children:[(0,Xo.jsx)(sy,{as:_w}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Booking Approved"}),(0,Xo.jsx)(cy,{children:"Your booking has been approved. Please proceed with payment."})]})]}),"rejected"===g.status&&(0,Xo.jsxs)(ay,{status:"error",mb:4,borderRadius:"md",children:[(0,Xo.jsx)(sy,{as:Uk}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Booking Rejected"}),(0,Xo.jsx)(cy,{children:"Unfortunately, your booking has been rejected by the administrator."})]})]}),("approved"===g.status||"rejected"===g.status)&&(0,Xo.jsxs)(Vb,{bg:"approved"===g.status?"green.50":"red.50",borderWidth:"2px",borderColor:"approved"===g.status?"green.200":"red.200",mb:6,_dark:{bg:"approved"===g.status?"green.900":"red.900",borderColor:"approved"===g.status?"green.600":"red.600"},children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:3,children:["approved"===g.status?(0,Xo.jsx)(_w,{color:"green",size:20}):(0,Xo.jsx)(Uk,{color:"red",size:20}),(0,Xo.jsx)(Wb,{size:"md",color:"approved"===g.status?"green.600":"red.600",_dark:{color:"approved"===g.status?"green.300":"red.300"},children:"approved"===g.status?"Approval Details":"Rejection Details"})]})}),(0,Xo.jsx)(Kb,{children:g.approvals&&g.approvals.length>0?(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:g.approvals.map(((e,t)=>{var n,r,i,o,a,s,l,c;return(0,Xo.jsxs)(Eb,{p:4,bg:"white",borderRadius:"md",shadow:"sm",_dark:{bg:"gray.700"},children:[(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},children:e.approved?"APPROVED BY":"REJECTED BY"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"bold",children:(null===(n=e.approver)||void 0===n?void 0:n.fullName)||(null===(r=e.approver)||void 0===r?void 0:r.full_name)||"Admin"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",_dark:{color:"gray.400"},children:"wakil_direktorat"===(null===(i=e.approver)||void 0===i||null===(o=i.role)||void 0===o?void 0:o.name)?"Deputy Director":"super_admin"===(null===(a=e.approver)||void 0===a||null===(s=a.role)||void 0===s?void 0:s.name)?"Super Admin":(null===(l=e.approver)||void 0===l||null===(c=l.role)||void 0===c?void 0:c.name)||"Administrator"})]})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},children:"DATE & TIME"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"md",fontWeight:"bold",children:new Date(e.actedAt||e.acted_at).toLocaleDateString("en-US",{day:"2-digit",month:"long",year:"numeric"})}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",_dark:{color:"gray.400"},children:new Date(e.actedAt||e.acted_at).toLocaleTimeString("en-US")})]})]})]}),e.comments&&(0,Xo.jsxs)(Eb,{mt:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",_dark:{color:"gray.300"},mb:2,children:e.approved?"APPROVAL NOTE":"REJECTION REASON"}),(0,Xo.jsx)(Eb,{p:3,bg:"approved"===g.status?"green.100":"red.100",borderRadius:"md",borderLeft:"4px solid",borderLeftColor:"approved"===g.status?"green.400":"red.400",_dark:{bg:"approved"===g.status?"green.800":"red.800",borderLeftColor:"approved"===g.status?"green.300":"red.300"},children:(0,Xo.jsxs)(Tb,{fontSize:"md",fontStyle:"italic",children:['"',e.comments,'"']})})]})]},t)}))}):(0,Xo.jsxs)(Pb,{spacing:3,align:"start",children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"100%",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:"Status:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",children:"approved"===g.status?"Approved":"Rejected"})]}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"100%",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"semibold",children:"Last Updated:"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"bold",children:[new Date(g.updatedAt||g.updated_at).toLocaleDateString("en-US",{day:"2-digit",month:"long",year:"numeric"})," - ",new Date(g.updatedAt||g.updated_at).toLocaleTimeString("en-US")]})]}),(0,Xo.jsxs)(Eb,{p:2,bg:"gray.100",borderRadius:"md",fontSize:"xs",color:"gray.600",w:"100%",_dark:{bg:"gray.600",color:"gray.300"},children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Debug Info:"}),(0,Xo.jsxs)(Tb,{children:["Booking ID: ",g.bookingId||g.booking_id]}),(0,Xo.jsxs)(Tb,{children:["Status: ",g.status]}),(0,Xo.jsxs)(Tb,{children:["Has approvals: ",g.approvals?"Yes":"No"]}),(0,Xo.jsxs)(Tb,{children:["Approvals count: ",g.approvals?g.approvals.length:"N/A"]}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:"If you don't see detailed approval information, please contact support."})]})]})})]})]}),(0,Xo.jsxs)(Vb,{bg:T,borderWidth:"1px",borderColor:N,mb:6,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Room Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{size:"sm",mb:2,children:(null===(e=g.room)||void 0===e?void 0:e.name)||"Room #".concat(g.roomId||g.room_id)}),(0,Xo.jsx)(Tb,{mb:3,children:(null===(n=g.room)||void 0===n?void 0:n.description)||"No description provided."})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"blue.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Stay Period"}),(0,Xo.jsx)(Tb,{children:(O=g.checkInDate||g.check_in||g.start_date,L=g.checkOutDate||g.check_out||g.end_date,O&&L?"".concat(q7(O)," - ").concat(q7(L)):"N/A")})]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:gw,color:"blue.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Capacity"}),(0,Xo.jsxs)(Tb,{children:[(null===(r=g.room)||void 0===r?void 0:r.capacity)||1," ",1!==(null===(i=g.room)||void 0===i?void 0:i.capacity)?"persons":"person"]})]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:$k,color:"blue.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Classification"}),(0,Xo.jsx)(Tb,{children:(null===(a=g.room)||void 0===a||null===(s=a.classification)||void 0===s?void 0:s.name)||"Standard Room"})]})]})]}),(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Bb,{src:(null===(l=g.room)||void 0===l?void 0:l.imageUrl)||T7(g.room),alt:(null===(c=g.room)||void 0===c?void 0:c.name)||"Room image",borderRadius:"md",objectFit:"cover",width:"100%",height:"200px"})})]})})]}),(0,Xo.jsxs)(Vb,{bg:T,borderWidth:"1px",borderColor:N,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment Details"})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Booking Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"xl",color:"brand.500",children:U7((null===g||void 0===g?void 0:g.total_amount)||(null===g||void 0===g?void 0:g.totalAmount)||(null===g||void 0===g?void 0:g.amount)||0)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Payment Status"}),(()=>{const e=z();return"cancelled"===e?(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Booking Cancelled"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["This booking has been cancelled. If you made a payment, please contact administration for refund processing.","paid"===(null===y||void 0===y?void 0:y.status)&&(0,Xo.jsx)(Tb,{color:"red.600",fontWeight:"bold",mt:1,children:"\u26a0\ufe0f Payment detected for cancelled booking - Refund required"})]})]})]}):"refund_required"===e?(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Booking Rejected"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"This booking has been rejected. If you made a payment, it will be refunded."})]})]}):"paid"===e?(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Payment Completed"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Your payment has been processed successfully.",(null===y||void 0===y?void 0:y.paidAt)&&" Paid on ".concat(q7(y.paidAt))]})]})]}):(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Pending Payment"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["Please complete your payment to confirm this booking.",y&&(0,Xo.jsxs)(Xo.Fragment,{children:[" ",(0,Xo.jsx)(Tb,{as:nb,to:"/tenant/invoices/".concat(y.invoiceId||y.invoice_id),color:"blue.500",textDecoration:"underline",cursor:"pointer",children:"View Invoice"})]})]})]})]})})()]}),y&&(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Invoice Number"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:["#",y.invoiceNo||y.invoice_no]})]}),"paid"===y.status&&y.paidAt&&(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Payment Date"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:q7(y.paidAt)})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices/".concat(y.invoiceId||y.invoice_id),colorScheme:"blue",variant:"outline",size:"sm",leftIcon:(0,Xo.jsx)(Xw,{}),children:"View Invoice Details"})]})]}),"          "]})]}),("approved"===g.status||"pending"===g.status)&&"paid"!==z()&&(0,Xo.jsxs)(Vb,{bg:T,borderWidth:"1px",borderColor:N,mt:6,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Actions"})}),"            ",(0,Xo.jsxs)(Kb,{children:["              ",(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[P&&A?(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Payment Already Submitted!"}),(0,Xo.jsxs)(cy,{children:["You have already submitted a manual payment (#",A.paymentId||A.id,") for this booking that is currently pending verification. Please wait for the payment to be processed before submitting another payment."]}),(0,Xo.jsxs)(dS,{mt:3,spacing:3,children:[(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>h("/tenant/payments/history"),colorScheme:"orange",variant:"outline",children:"View Payment History"}),(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>h("/tenant/contact"),variant:"outline",children:"Contact Support"}),y&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices/".concat(y.invoiceId||y.invoice_id),variant:"outline",size:"sm",leftIcon:(0,Xo.jsx)(Xw,{}),children:"View Invoice"})]})]})]}):"approved"===g.status&&"paid"!==z()?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"green.600",mb:2,children:"Your booking has been approved! Choose a payment method to proceed:"}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsx)(Bj,{as:nb,to:y?"/tenant/invoices/".concat(y.invoiceId||y.invoice_id,"/payment-method"):"/tenant/bookings/".concat(u,"/payment-method"),colorScheme:"blue",size:"lg",leftIcon:(0,Xo.jsx)(Mw,{}),width:"100%",children:"Choose Payment Method"}),y&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices/".concat(y.invoiceId||y.invoice_id),variant:"outline",colorScheme:"blue",size:"lg",leftIcon:(0,Xo.jsx)(Xw,{}),width:"100%",children:"View Full Invoice"})]})]}):null,(e=>{var t;return e&&["pending","approved"].includes(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())})(g)&&(0,Xo.jsx)(Eb,{pt:4,borderTopWidth:"1px",borderTopColor:N,children:(0,Xo.jsx)(Bj,{onClick:m.onOpen,colorScheme:"red",variant:"outline",size:"sm",leftIcon:(0,Xo.jsx)(qk,{}),children:"Cancel Booking"})})]})]})]}),(0,Xo.jsxs)(JZ,{isOpen:m.isOpen,onClose:m.onClose,children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Cancel Booking"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{pb:6,children:(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Are you sure?"}),(0,Xo.jsxs)(cy,{children:["This action cannot be undone. Your booking for ",(null===(d=g.room)||void 0===d?void 0:d.name)||"Room #".concat(g.roomId||g.room_id)," will be cancelled."]})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{onClick:m.onClose,mr:3,isDisabled:S,children:"No, Keep My Booking"}),(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:async()=>{_(!0);try{await z8.cancelBooking(u),p({title:"Booking Cancelled",description:"Your booking has been cancelled successfully.",status:"success",duration:5e3,isClosable:!0}),m.onClose(),h("/tenant/bookings")}catch(w){p({title:"Error",description:"Failed to cancel booking. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{_(!1)}},isLoading:S,loadingText:"Cancelling...",children:"Yes, Cancel Booking"})]})]})]})]})});var O,L},V7=()=>{const e=Cx(),n=hb(),{user:r,tenant:i}=D6(),[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)("all"),[d,u]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)({status:"",startDate:"",endDate:"",searchQuery:"",paymentStatus:""}),[g,v]=(0,t.useState)([]),y=(h5({base:!0,md:!1}),zs("white","gray.700")),x=zs("gray.200","gray.600"),b=(zs("gray.50","gray.600"),async()=>{if(null===i||void 0===i||!i.tenantId)return console.log("No tenant ID available"),void u(!1);u(!0),p(null);try{console.log("Fetching bookings for tenant:",i.tenantId);const e=await z8.getTenantBookings(i.tenantId);if(console.log("Bookings response:",e),null!==e&&void 0!==e&&e.bookings){const t=e.bookings.map((e=>(0,o.A)((0,o.A)({},e),{},{booking_id:e.bookingId||e.booking_id,bookingId:e.bookingId||e.booking_id,tenant_id:e.tenantId||e.tenant_id,room_id:e.roomId||e.room_id,check_in:e.checkInDate||e.check_in,check_out:e.checkOutDate||e.check_out,start_date:e.checkInDate||e.start_date,end_date:e.checkOutDate||e.end_date,checkInDate:e.checkInDate||e.check_in,checkOutDate:e.checkOutDate||e.check_out,created_at:e.createdAt||e.created_at,updated_at:e.updatedAt||e.updated_at,total_amount:e.totalAmount||e.total_amount,totalAmount:e.totalAmount||e.total_amount,amount:e.totalAmount||e.amount,payment_status:e.paymentStatus||e.payment_status||"pending",paymentStatus:e.paymentStatus||e.payment_status||"pending"})));s(t)}else console.warn("No bookings data in response"),s([])}catch(h){console.error("Error fetching bookings:",h),p((null===h||void 0===h?void 0:h.message)||"Gagal memuat booking. Silakan coba lagi nanti."),s([])}finally{u(!1)}});(0,t.useEffect)((()=>{b()}),[null===i||void 0===i?void 0:i.tenantId]);const j=async(t,r)=>{try{switch(r){case"pay":e("/tenant/bookings/".concat(t,"/payment"));break;case"cancel":window.confirm("Apakah Anda yakin ingin membatalkan booking ini?")&&(await z8.cancelBooking(t),n({title:"Booking Cancelled",description:"Your booking has been cancelled successfully.",status:"success",duration:3e3,isClosable:!0}),b());break;case"checkin":e("/tenant/bookings/".concat(t,"/check-in"));break;case"checkout":e("/tenant/bookings/".concat(t,"/check-out"));break;case"view":e("/tenant/bookings/".concat(t));break;case"download_receipt":n({title:"Receipt Downloaded",description:"Payment receipt has been downloaded.",status:"success",duration:2e3,isClosable:!0});break;default:console.warn("Unknown action: ".concat(r))}}catch(h){console.error("Error handling booking action ".concat(r,":"),h),n({title:"Action Failed",description:h.message||"Failed to perform action.",status:"error",duration:3e3,isClosable:!0})}},w=(e,t,n)=>{m((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))),v(t?r=>[...r.filter((t=>t.key!==e)),{key:e,value:t,label:n}]:t=>t.filter((t=>t.key!==e)))},k=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"pending":return"yellow";case"approved":return"green";case"rejected":case"cancelled":return"red";case"checked_in":return"blue";case"completed":return"purple";default:return"gray"}},S=e=>{if(e.invoice&&"paid"===e.invoice.status)return 100;if(e.payments&&e.payments.length>0){const t=e.payments.filter((e=>"verified"===e.status||"success"===e.status||"settlement"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0),n=e.total_amount||e.totalAmount||e.amount||0;if((isNaN(n)||isNaN(t))&&console.warn("Payment progress calculation error:",{bookingId:e.id,totalAmount:n,totalPaid:t,booking:e}),n>0&&!isNaN(n)&&!isNaN(t)){const e=Math.min(t/n*100,100);return isNaN(e)?0:e}}const t=e.payment_status||e.paymentStatus;return"paid"===t||"completed"===t?100:0},_=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t>=100||"paid"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null))return{text:"Lunas",color:"green",icon:_w};switch(null===e||void 0===e?void 0:e.toLowerCase()){case"pending":return{text:"Pending Payment",color:"yellow",icon:Nw};case"approved":return{text:t>0?"Payment Processing":"Approved",color:t>0?"blue":"green",icon:t>0?Nw:Aw};case"checked_in":return{text:"Checked In",color:"blue",icon:uk};case"completed":return{text:"Completed",color:"green",icon:_w};case"cancelled":return{text:"Cancelled",color:"red",icon:qk};case"rejected":return{text:"Rejected",color:"red",icon:qk};default:return{text:e||"Unknown",color:"gray",icon:Nw}}},A=e=>{var t;const n=S(e),r=e.payment_status||e.paymentStatus;_(e.status,r,n),"pending"===e.status&&(new Date(e.check_in||e.start_date),new Date);return(0,Xo.jsxs)(P0,{_hover:{bg:"gray.100",transition:"background-color 0.2s"},cursor:"pointer",onClick:()=>j(e.bookingId,"view"),children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(r_,{colorScheme:k(e.status),borderRadius:"full",children:(i=e.status,i?i.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "):"Unknown")}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["#",e.bookingId]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===(t=e.room)||void 0===t?void 0:t.name)||"Room #".concat(e.roomId)})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:ww,color:"brand.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[q7(e.checkInDate)," - ",q7(e.checkOutDate)]})]})}),(0,Xo.jsx)(z0,{isNumeric:!0,children:(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"brand.500",children:U7(e.totalAmount||0)})}),(0,Xo.jsx)(z0,{isNumeric:!0,children:(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"green.600",children:U7(e.paymentAmount)})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",mb:1,children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:"Payment Progress"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[(()=>{const t=S(e);return isNaN(t)?"0":Math.round(t)})(),"%"]})]}),(0,Xo.jsx)(a0,{value:(()=>{const t=S(e);return isNaN(t)?0:t})(),colorScheme:"green",size:"sm",borderRadius:"full"})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Uj,{"aria-label":"View Booking",icon:(0,Xo.jsx)(Yw,{}),size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>j(e.bookingId,"view")}),(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Uj,"aria-label":"More Actions",icon:(0,Xo.jsx)(Uw,{}),size:"sm",variant:"outline",colorScheme:"gray"}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{onClick:()=>j(e.bookingId,"pay"),children:"Pay Now"}),(0,Xo.jsx)(TZ,{onClick:()=>j(e.bookingId,"checkin"),isDisabled:"approved"!==e.status,children:"Room Access"}),(0,Xo.jsx)(TZ,{onClick:()=>j(e.bookingId,"checkout"),isDisabled:"checked_in"!==e.status,children:"Check Out"}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{onClick:()=>j(e.bookingId,"cancel"),color:"red.500",children:"Cancel Booking"})]})]})]})})]},e.bookingId);var i},C=e=>e&&0!==e.length?(0,Xo.jsx)(z4,{borderRadius:"md",overflow:"hidden",children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Room"}),(0,Xo.jsx)(T0,{children:"Dates"}),(0,Xo.jsx)(T0,{isNumeric:!0,children:"Total Amount"}),(0,Xo.jsx)(T0,{isNumeric:!0,children:"Paid Amount"}),(0,Xo.jsx)(T0,{children:"Payment Progress"}),(0,Xo.jsx)(T0,{children:"Actions"})]})}),(0,Xo.jsx)(N0,{children:e.map(A)})]})}):(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"No bookings found matching your criteria."]}),P=e=>"all"===e?a:a.filter((t=>t.status===e));return(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"flex-start",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Wb,{as:"h1",size:"xl",mb:2,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:ak,mr:3,color:"brand.500"}),"My Bookings"]}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Manage your bookings with integrated payment tracking"})]}),(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Sw,{}),variant:"solid",colorScheme:"brand",size:"sm",onClick:()=>e("/tenant/analytics"),children:"View Analytics"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Ak,{}),variant:"outline",size:"sm",onClick:()=>e("/tenant/notifications"),children:"Notifications"})]})]}),(0,Xo.jsx)(Vb,{bg:y,borderWidth:"1px",borderColor:x,borderRadius:"md",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{spacing:4,wrap:"wrap",children:[(0,Xo.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=e.target.elements.search.value;m((e=>(0,o.A)((0,o.A)({},e),{},{searchQuery:t}))),v(t?e=>[...e.filter((e=>"search"!==e.key)),{key:"search",value:t,label:"Search: ".concat(t)}]:e=>e.filter((e=>"search"!==e.key)))},style:{flex:1,minWidth:"200px"},children:(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(Ek,{color:"gray.300"})}),(0,Xo.jsx)(gj,{name:"search",placeholder:"Search bookings...",defaultValue:f.searchQuery})]})}),(0,Xo.jsxs)(aZ,{children:[(0,Xo.jsx)(cZ,{as:Bj,rightIcon:(0,Xo.jsx)(Cw,{}),variant:"outline",children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(ek,{}),(0,Xo.jsx)(Tb,{children:"Filters"})]})}),(0,Xo.jsxs)(kZ,{children:[(0,Xo.jsx)(TZ,{onClick:()=>w("paymentStatus","payment_required","Payment Required"),children:"Payment Required"}),(0,Xo.jsx)(TZ,{onClick:()=>w("paymentStatus","paid","Paid"),children:"Fully Paid"}),(0,Xo.jsx)(TZ,{onClick:()=>w("paymentStatus","payment_pending","Payment Pending"),children:"Payment Pending"}),(0,Xo.jsx)(EZ,{}),(0,Xo.jsx)(TZ,{onClick:()=>{m({status:"",startDate:"",endDate:"",searchQuery:"",paymentStatus:""}),v([])},children:"Clear All Filters"})]})]})]}),g.length>0&&(0,Xo.jsx)(Xj,{wrap:"wrap",gap:2,children:g.map((e=>(0,Xo.jsxs)(b5,{size:"md",borderRadius:"full",variant:"subtle",colorScheme:"blue",children:[(0,Xo.jsx)(j5,{children:e.label}),(0,Xo.jsx)(k5,{onClick:()=>{return t=e.key,m((e=>(0,o.A)((0,o.A)({},e),{},{[t]:""}))),void v((e=>e.filter((e=>e.key!==t))));var t}})]},e.key)))})]})})}),h&&(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),h]}),(0,Xo.jsxs)(YQ,{variant:"soft-rounded",colorScheme:"brand",onChange:e=>{c(["all","pending","approved","checked_in","completed","cancelled"][e])},children:[(0,Xo.jsxs)(ZQ,{overflowX:"auto",py:2,children:[(0,Xo.jsx)(JQ,{children:"All"}),(0,Xo.jsx)(JQ,{children:"Pending"}),(0,Xo.jsx)(JQ,{children:"Approved"}),(0,Xo.jsx)(JQ,{children:"Checked In"}),(0,Xo.jsx)(JQ,{children:"Completed"}),(0,Xo.jsx)(JQ,{children:"Cancelled"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{px:0,children:d?(0,Xo.jsx)(Xj,{justify:"center",py:10,children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"})}):C(P("all"))}),["pending","approved","checked_in","completed","cancelled"].map((e=>(0,Xo.jsx)($Q,{px:0,children:d?(0,Xo.jsx)(Xj,{justify:"center",py:10,children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"})}):C(P(e))},e)))]})]})]})})})},G7=e=>{var n,r,i;let{document:o,onDelete:a,onReplace:s}=e;const[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(o),[f,m]=(0,t.useState)(null),{isOpen:g,onOpen:v,onClose:y}=GG(),{isOpen:x,onOpen:b,onClose:j}=GG(),w=t.useRef(),k=hb(),S=zs("white","gray.700"),_=zs("gray.200","gray.600"),A=zs("white","gray.800"),C=zs("red.100","red.700"),P=zs("gray.100","gray.700"),I=zs("red.50","red.900"),T=zs("red.800","red.100"),N=zs("gray.700","gray.300"),E=zs("gray.900","white"),z=zs("orange.50","orange.900"),O=zs("orange.200","orange.700"),L=zs("orange.800","orange.200"),D=zs("orange.700","orange.300"),R=zs("gray.50","gray.700"),M=zs("gray.200","gray.600"),B=zs("gray.600","gray.400"),F=zs("gray.900","white"),W=zs("gray.100","gray.700"),U=zs("gray.100","gray.700");(0,t.useEffect)((()=>{p(o)}),[o]),(0,t.useEffect)((()=>{if(!h)return;let e=null;return h.content&&h.isImage?e=k7.createBlobUrl(h.content,h.fileType):h.fileUrl?e=h.fileUrl:h.isImage&&(e=k7.getDocumentViewUrl(h.docId)),m(e),()=>{e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}}),[h]);const q=(()=>{switch(null===h||void 0===h?void 0:h.status){case"approved":return{color:"green",text:"Approved"};case"rejected":return{color:"red",text:"Rejected"};case"pending":return{color:"yellow",text:"Pending Review"};default:return{color:"gray",text:"Unknown"}}})(),H=async()=>{try{if(null!==h&&void 0!==h&&h.content){const e=k7.createBlobUrl(h.content,h.fileType),t=window.document.createElement("a");t.href=e,t.download=h.fileName||"document",window.document.body.appendChild(t),t.click(),window.document.body.removeChild(t),URL.revokeObjectURL(e)}else{const e=await k7.downloadDocument(h.docId),t=URL.createObjectURL(e),n=window.document.createElement("a");n.href=t,n.download=h.fileName||"document",window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n),URL.revokeObjectURL(t)}k({title:"\ud83d\udce5 Download Started",description:"Your document download has started.",status:"success",duration:3e3,isClosable:!0,position:"top-right",variant:"subtle"})}catch(d){console.error("Download failed:",d),k({title:"\ud83d\udce5 Download Failed",description:"Failed to download document. Please try again.",status:"error",duration:5e3,isClosable:!0,position:"top-right",variant:"subtle"})}},V=(null===h||void 0===h?void 0:h.isImage)||(null===h||void 0===h||null===(n=h.fileType)||void 0===n?void 0:n.includes("image"))||!1;return h?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Eb,{bg:S,p:6,borderRadius:"lg",boxShadow:"sm",width:"100%",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Xj,{justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,children:[(0,Xo.jsx)(Wb,{size:"md",children:(null===(r=h.documentType)||void 0===r?void 0:r.name)||"Document"}),(0,Xo.jsx)(r_,{colorScheme:q.color,px:2,py:1,borderRadius:"full",children:q.text})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"File Name"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:h.fileName||"No file name"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Uploaded"}),(0,Xo.jsx)(Tb,{children:q7(h.uploadedAt||h.createdAt)})]}),"approved"===h.status&&h.approvedAt&&(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Approved"}),(0,Xo.jsx)(Tb,{children:q7(h.approvedAt)})]})]}),"rejected"===h.status&&h.notes&&(0,Xo.jsxs)(ay,{status:"error",variant:"left-accent",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Rejection Reason:"}),(0,Xo.jsx)(Tb,{children:h.notes})]})]}),(()=>{var e;return l?(0,Xo.jsx)(Xj,{justify:"center",align:"center",height:"300px",children:(0,Xo.jsx)(Qv,{size:"xl"})}):d?(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",boxShadow:"lg",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Unable to Load Document"}),(0,Xo.jsx)(Tb,{children:d})]})]}):V&&f?(0,Xo.jsxs)(Eb,{position:"relative",width:"100%",height:{base:"250px",md:"350px"},borderRadius:"md",overflow:"hidden",borderWidth:1,borderColor:_,bg:"gray.50",children:[(0,Xo.jsx)(Bb,{src:f,alt:(null===h||void 0===h?void 0:h.fileName)||"Document preview",objectFit:"contain",width:"100%",height:"100%",fallback:(0,Xo.jsx)(Xj,{justify:"center",align:"center",height:"100%",children:(0,Xo.jsx)(Qv,{})}),onError:()=>{u("Failed to load image preview")}}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(hA,{}),position:"absolute",top:2,right:2,colorScheme:"brand",onClick:v,"aria-label":"View fullscreen",size:"sm"})]}):(0,Xo.jsxs)(Xj,{width:"100%",height:{base:"200px",md:"300px"},borderRadius:"md",borderWidth:1,borderColor:_,bg:"gray.50",justifyContent:"center",alignItems:"center",direction:"column",children:[(0,Xo.jsx)(Eb,{fontSize:"5xl",mb:4,children:null!==h&&void 0!==h&&null!==(e=h.fileType)&&void 0!==e&&e.includes("pdf")?(0,Xo.jsx)($w,{color:"#D14836"}):(0,Xo.jsx)(Zw,{color:"#2B6CB0"})}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===h||void 0===h?void 0:h.fileName)||"Document"}),(0,Xo.jsx)(Bj,{mt:4,leftIcon:(0,Xo.jsx)(Yw,{}),onClick:H,size:"sm",colorScheme:"blue",children:"Download to View"})]})})(),(0,Xo.jsxs)(dS,{spacing:4,justify:"space-between",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Bw,{}),variant:"outline",size:"sm",onClick:H,children:"Download"}),(0,Xo.jsxs)(dS,{children:["rejected"===h.status&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"brand",size:"sm",onClick:()=>{s&&s(null===h||void 0===h?void 0:h.docId)},children:"Replace"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Kk,{}),colorScheme:"red",variant:"ghost",size:"sm",onClick:()=>{b()},isLoading:l,_hover:{bg:"red.50",color:"red.600",borderColor:"red.200"},children:"Delete"})]})]})]})}),(0,Xo.jsxs)(JZ,{isOpen:g,onClose:y,size:"xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:(null===(i=h.documentType)||void 0===i?void 0:i.name)||"Document"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:V&&f?(0,Xo.jsx)(Bb,{src:f,alt:h.fileName||"Document preview",objectFit:"contain",width:"100%",maxHeight:"70vh"}):(0,Xo.jsxs)(Eb,{textAlign:"center",p:6,children:[(0,Xo.jsx)(Tb,{children:"Preview not available for this document type."}),(0,Xo.jsx)(Bj,{mt:4,onClick:H,colorScheme:"brand",children:"Download to View"})]})})]})]}),(0,Xo.jsx)(c5,{isOpen:x,leastDestructiveRef:w,onClose:j,size:"md",children:(0,Xo.jsx)(vJ,{bg:"blackAlpha.300",backdropFilter:"blur(10px)",children:(0,Xo.jsxs)(d5,{mx:4,borderRadius:"xl",boxShadow:"2xl",bg:A,border:"1px",borderColor:C,children:[(0,Xo.jsx)(J0,{fontSize:"lg",fontWeight:"bold",borderBottomWidth:"1px",borderBottomColor:P,borderTopRadius:"xl",bg:I,color:T,children:"Delete Document"}),(0,Xo.jsx)($0,{py:6,children:(0,Xo.jsxs)(Pb,{spacing:4,align:"start",children:[(0,Xo.jsxs)(Tb,{fontSize:"md",color:N,children:["Are you sure you want to delete this"," ",(0,Xo.jsx)(Tb,{as:"span",fontWeight:"semibold",color:E,children:(null===h||void 0===h?void 0:h.docType)||"document"}),"?"]}),(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"lg",bg:z,borderWidth:"1px",borderColor:O,boxShadow:"sm",children:[(0,Xo.jsx)(sy,{as:Vw,color:"orange.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",color:L,children:"Permanent Action"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:D,mt:1,children:"This action cannot be undone. The document will be permanently removed from your account."})]})]}),(null===h||void 0===h?void 0:h.fileName)&&(0,Xo.jsxs)(Eb,{p:3,borderRadius:"md",bg:R,borderWidth:"1px",borderColor:M,w:"full",children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:B,mb:1,children:"File Name"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",color:F,children:h.fileName})]})]})}),(0,Xo.jsx)(M1,{borderTopWidth:"1px",borderTopColor:W,children:(0,Xo.jsxs)(p8,{spacing:3,children:[(0,Xo.jsx)(Bj,{ref:w,onClick:j,variant:"ghost",size:"md",_hover:{bg:U},children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:async()=>{c(!0),u(null);try{a&&(await a(null===h||void 0===h?void 0:h.docId),k({title:"\ud83d\uddd1\ufe0f Document Deleted Successfully",description:"The document has been permanently removed from your account.",status:"success",duration:4e3,isClosable:!0,position:"top-right",variant:"subtle"}),j())}catch(Pee){console.error("Error deleting document:",Pee),u("Failed to delete document. Please try again."),k({title:"\u274c Delete Failed",description:Pee.message||"Unable to delete the document. Please check your connection and try again.",status:"error",duration:6e3,isClosable:!0,position:"top-right",variant:"subtle"})}finally{c(!1)}},isLoading:l,loadingText:"Deleting...",size:"md",_hover:{bg:"red.600",transform:"translateY(-1px)",boxShadow:"lg"},transition:"all 0.2s",children:"Delete Document"})]})})]})})})]}):(0,Xo.jsx)(Eb,{p:6,textAlign:"center",children:(0,Xo.jsx)(Tb,{children:"No document selected."})})},K7=e=>{var t,n;let{document:r,onDelete:i,showStatus:o=!0,isSelected:a=!1,onView:s}=e;const{isOpen:l,onOpen:c,onClose:d}=GG(),u=zs("white","gray.700"),h=zs("gray.200","gray.600"),p=zs("brand.50","brand.900"),f=(()=>{switch(r.status){case"approved":return{colorScheme:"green",icon:_w,text:"Approved",borderColor:"green.500"};case"rejected":return{colorScheme:"red",icon:Uk,text:"Rejected",borderColor:"red.500"};default:return{colorScheme:"yellow",icon:Nw,text:"Pending Review",borderColor:"yellow.500"}}})(),m=(()=>{var e;const t=(null===(e=r.fileType)||void 0===e?void 0:e.toLowerCase())||"";return t.includes("pdf")?$w:t.includes("image")||r.isImage?Jw:Zw})(),g=r.content&&r.isImage?k7.createBlobUrl(r.content,r.fileType):r.fileUrl?r.fileUrl:r.thumbnailUrl?r.thumbnailUrl:r.isImage?k7.getDocumentImageUrl(r.docId):null;return(0,Xo.jsxs)(Eb,{p:4,bg:a?p:u,borderWidth:"2px",borderRadius:"md",borderColor:a?"brand.500":r.status&&o?f.borderColor:h,shadow:"sm",position:"relative",cursor:s?"pointer":"default",onClick:()=>{s&&s(r)},_hover:s?{shadow:"md",transform:"translateY(-1px)"}:{},transition:"all 0.2s",children:[(0,Xo.jsxs)(Xj,{direction:{base:"column",sm:"row"},align:"center",children:[r.isImage&&g?(0,Xo.jsx)(Bb,{src:g,alt:r.fileName||"Document thumbnail",boxSize:"80px",objectFit:"cover",borderRadius:"md",mr:{base:0,sm:4},mb:{base:3,sm:0},fallback:(0,Xo.jsx)(Zv,{as:m,boxSize:"60px",color:"brand.500"}),onError:e=>{e.target.style.display="none"}}):(0,Xo.jsx)(Zv,{as:m,boxSize:"60px",mr:{base:0,sm:4},mb:{base:3,sm:0},color:"brand.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,flex:"1",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"md",noOfLines:1,children:r.fileName||(null===(t=r.documentType)||void 0===t?void 0:t.name)||"Document"}),o&&(0,Xo.jsx)(r_,{colorScheme:f.colorScheme,children:(0,Xo.jsxs)(Xj,{align:"center",children:[(0,Xo.jsx)(Zv,{as:f.icon,mr:1,fontSize:"xs"}),f.text]})}),r.notes&&(0,Xo.jsx)(y0,{label:r.notes,children:(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",noOfLines:1,mt:1,children:["Note: ",r.notes]})}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.400",children:(null===(n=r.documentType)||void 0===n?void 0:n.name)||"Unknown Type"})]})]}),(0,Xo.jsxs)(dS,{mt:4,spacing:3,justify:"flex-end",children:[i&&(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(Kk,{}),variant:"ghost",colorScheme:"red",onClick:e=>{e.stopPropagation(),i(r.docId)},children:"Delete"}),(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(Yw,{}),variant:"outline",onClick:e=>{e.stopPropagation(),c()},children:"View"}),(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(Bw,{}),variant:"solid",colorScheme:"brand",onClick:e=>{if(e.stopPropagation(),r.content){const e=k7.createBlobUrl(r.content,r.fileType),t=window.document.createElement("a");t.href=e,t.download=r.fileName||"document",window.document.body.appendChild(t),t.click(),window.document.body.removeChild(t),URL.revokeObjectURL(e)}else r.fileUrl?window.open(r.fileUrl,"_blank"):k7.downloadDocument(r.docId).then((e=>{const t=URL.createObjectURL(e),n=window.document.createElement("a");n.href=t,n.download=r.fileName||"document",window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n),URL.revokeObjectURL(t)})).catch((e=>{console.error("Download failed:",e)}))},children:"          Download"})]}),(0,Xo.jsxs)(JZ,{isOpen:l,onClose:d,size:"6xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsxs)(J0,{children:["Document Details - ",r.docType||"Document"]}),(0,Xo.jsx)(sQ,{}),"          ",(0,Xo.jsx)($0,{pb:6,children:(0,Xo.jsx)(G7,{document:r,onDelete:async e=>{try{i&&(await i(e),d())}catch(t){throw t}},onReplace:null})})]})]})]})},Y7=()=>{var e,n,r,i,o,a,s,l,c,d,u,h;const{tenant:p}=D6(),[f,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(!0),[y,x]=(0,t.useState)(null),b=hb(),{isOpen:j,onOpen:w,onClose:k}=GG(),[S,_]=(0,t.useState)(null),[A,C]=(0,t.useState)(""),[P,I]=(0,t.useState)(""),[T,N]=(0,t.useState)(!1),E=zs("white","gray.700"),z=zs("gray.200","gray.600"),O=zs("gray.600","gray.400"),L=(zs("gray.800","white"),zs("brand.50","brand.900")),D=zs("gray.50","gray.700"),R=async()=>{v(!0);try{const e=await k7.getTenantDocuments();m(e.documents||[])}catch(e){console.error("Error fetching documents:",e),x("Failed to load documents")}finally{v(!1)}};(0,t.useEffect)((()=>{R()}),[]);const M=(()=>{if(!f||0===f.length)return{status:"missing",text:"Missing Documents",color:"red"};const e=f.every((e=>"approved"===e.status)),t=f.some((e=>"rejected"===e.status));return e?{status:"verified",text:"Verified",color:"green"}:t?{status:"rejected",text:"Documents Rejected",color:"red"}:{status:"pending",text:"Pending Verification",color:"yellow"}})(),B=f.map((e=>{var t;return null===(t=e.documentType)||void 0===t?void 0:t.name})),F=["ktp","surat_perjanjian"].filter((e=>!B.includes(e)));return p?(0,Xo.jsxs)(m8,{children:[(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(Vb,{bg:E,boxShadow:"md",overflow:"hidden",children:[(0,Xo.jsx)(Eb,{bg:"brand.500",h:"80px",position:"relative"}),(0,Xo.jsxs)(Kb,{position:"relative",pt:"60px",children:[(0,Xo.jsx)(xZ,{size:"xl",name:(null===(e=p.user)||void 0===e?void 0:e.fullName)||p.name,src:p.photoUrl,position:"absolute",top:"-30px",left:{base:"50%",md:"24px"},transform:{base:"translateX(-50%)",md:"none"},bg:"brand.500",color:"white",border:"4px solid white"}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",md:"1fr auto"},gap:6,pt:{base:6,md:0},children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{align:{base:"center",md:"flex-start"},spacing:2,children:[(0,Xo.jsx)(Wb,{size:"lg",children:(null===(n=p.user)||void 0===n?void 0:n.fullName)||p.name}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(r_,{colorScheme:"mahasiswa"===(null===(r=p.tenantType)||void 0===r?void 0:r.name)?"blue":"purple",children:"mahasiswa"===(null===(i=p.tenantType)||void 0===i?void 0:i.name)?"Student":"Non-Student"}),(0,Xo.jsx)(r_,{colorScheme:M.color,children:M.text})]}),(0,Xo.jsxs)(Tb,{color:O,children:["Member since ",new Date(p.createdAt).toLocaleDateString()]})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsx)(Pb,{spacing:4,align:{base:"center",md:"flex-end"},children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/profile/edit",leftIcon:(0,Xo.jsx)(Ww,{}),colorScheme:"brand",children:"Edit Profile"})})})]})]})]}),(0,Xo.jsxs)(YQ,{colorScheme:"brand",variant:"enclosed",isLazy:!0,children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{fontWeight:"semibold",children:"Personal Info"}),(0,Xo.jsx)(JQ,{fontWeight:"semibold",children:"Documents"}),(0,Xo.jsx)(JQ,{fontWeight:"semibold",children:"Settings"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{p:0,pt:6,children:(0,Xo.jsxs)(Vb,{bg:E,boxShadow:"md",children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Personal Information"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:tS,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Full Name"})]}),(0,Xo.jsx)(Tb,{children:(null===(o=p.user)||void 0===o?void 0:o.fullName)||p.name})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:qw,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Email Address"})]}),(0,Xo.jsx)(Tb,{children:(null===(a=p.user)||void 0===a?void 0:a.email)||p.email})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:wk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Phone Number"})]}),(0,Xo.jsx)(Tb,{children:p.phone||"Not provided"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:Vk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Gender"})]}),(0,Xo.jsx)(Tb,{children:"L"===p.gender?"Male":"P"===p.gender?"Female":"Not provided"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:sk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Tenant Type"})]}),(0,Xo.jsx)(r_,{colorScheme:"mahasiswa"===(null===(s=p.tenantType)||void 0===s?void 0:s.name)?"blue":"purple",variant:"solid",children:"mahasiswa"===(null===(l=p.tenantType)||void 0===l?void 0:l.name)?"Student (Mahasiswa)":"Non-Student (Non-Mahasiswa)"})]}),"mahasiswa"===(null===(c=p.tenantType)||void 0===c?void 0:c.name)&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:sk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Student ID (NIM)"})]}),(0,Xo.jsx)(Tb,{children:p.nim||"Not provided"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:yw,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Department (Jurusan)"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{children:p.jurusan||"Not provided"}),"mahasiswa"!==(null===(d=p.tenantType)||void 0===d?void 0:d.name)&&p.jurusan&&(0,Xo.jsx)(r_,{size:"sm",colorScheme:"blue",variant:"outline",children:"Former/Alumni"})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:tS,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Affirmative Action Status"})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(r_,{colorScheme:p.isAfirmasi?"green":"gray",variant:p.isAfirmasi?"solid":"outline",children:p.isAfirmasi?"Afirmasi Program":"Regular Program"}),"mahasiswa"!==(null===(u=p.tenantType)||void 0===u?void 0:u.name)&&p.isAfirmasi&&(0,Xo.jsx)(r_,{size:"sm",colorScheme:"orange",variant:"outline",children:"Historical"})]}),p.isAfirmasi&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"green.600",children:["\u2713 ","mahasiswa"===(null===(h=p.tenantType)||void 0===h?void 0:h.name)?"Eligible for":"Previously eligible for"," affirmative action benefits"]})]})]}),p.homeLatitude&&p.homeLongitude&&p.distanceToCampus&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:mk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Distance to Campus"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"solid",children:[p.distanceToCampus.toFixed(2)," km"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"from your home location"})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,mb:4,children:[(0,Xo.jsx)(Zv,{as:mk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Home Address"})]}),(0,Xo.jsx)(Tb,{children:p.address||"Not provided"}),p.homeLatitude&&p.homeLongitude&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:["Coordinates: ",p.homeLatitude.toFixed(6),", ",p.homeLongitude.toFixed(6)]})]})]})})]})}),(0,Xo.jsx)($Q,{p:0,pt:6,children:(0,Xo.jsxs)(Vb,{bg:E,boxShadow:"md",children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Verification Documents"}),(0,Xo.jsx)(Tb,{color:O,children:"Upload your identity verification documents"})]}),"                      ",(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"brand",size:{base:"sm",md:"md"},onClick:w,children:"Upload Document"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Eb,{bg:L,p:4,borderRadius:"md",children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Verification Status"}),(0,Xo.jsx)(r_,{colorScheme:M.color,fontSize:"sm",children:M.text})]}),(0,Xo.jsx)(a0,{value:(()=>{if(!f||0===f.length)return 0;return f.filter((e=>"approved"===e.status)).length/f.length*100})(),colorScheme:M.color,size:"sm",borderRadius:"full"}),F.length>0&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:O,mt:2,children:["Missing documents: ",F.join(", ")]})]}),g?(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsx)(FS,{height:"100px"}),(0,Xo.jsx)(FS,{height:"100px"})]}):y?(0,Xo.jsx)(Tb,{color:"red.500",children:y}):0===f.length?(0,Xo.jsxs)(Eb,{textAlign:"center",py:8,children:[(0,Xo.jsx)(Zv,{as:Zw,boxSize:10,color:"gray.400"}),(0,Xo.jsx)(Tb,{mt:2,fontSize:"lg",children:"No documents uploaded yet"}),(0,Xo.jsx)(Tb,{color:O,children:"Please upload your verification documents to complete your profile"}),"                          ",(0,Xo.jsx)(Bj,{mt:4,colorScheme:"brand",leftIcon:(0,Xo.jsx)(Xk,{}),onClick:w,children:"Upload Documents"})]}):(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:f.map((e=>(0,Xo.jsx)(K7,{document:e,showStatus:!0},e.docId)))})]})}),(0,Xo.jsx)(k8,{bg:D,borderTop:"1px",borderColor:z,children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/documents",leftIcon:(0,Xo.jsx)(yw,{}),width:"100%",variant:"ghost",colorScheme:"brand",children:"View All Documents"})})]})}),(0,Xo.jsx)($Q,{p:0,pt:6,children:(0,Xo.jsxs)(Vb,{bg:E,boxShadow:"md",children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Account Settings"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:6,align:"stretch",children:(0,Xo.jsx)(Tb,{children:"Account settings will be available soon."})})})]})})]})]})]})}),(0,Xo.jsxs)(JZ,{isOpen:j,onClose:k,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Upload Document"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:["              ",(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Document Type"}),(0,Xo.jsxs)(SQ,{placeholder:"Select document type",value:A,onChange:e=>C(e.target.value),children:[(0,Xo.jsx)("option",{value:"ktp",children:"KTP (ID Card)"}),(0,Xo.jsx)("option",{value:"surat_perjanjian",children:"Surat Perjanjian (Agreement Letter)"})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"File"}),(0,Xo.jsx)(gj,{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>{const t=e.target.files[0];if(t){const e=5242880;if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(t.type))return void b({title:"Invalid File Type",description:"Please upload only JPEG, PNG, or PDF files",status:"error",duration:3e3,isClosable:!0});if(t.size>e)return void b({title:"File Too Large",description:"File size must be less than 5MB",status:"error",duration:3e3,isClosable:!0});_(t)}},padding:1}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Supported formats: JPG, PNG, PDF (max 5MB)"})]}),S&&(0,Xo.jsxs)(ay,{status:"success",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"File selected:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:S.name})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Description (Optional)"}),(0,Xo.jsx)(D1,{placeholder:"Add any additional notes about this document",value:P,onChange:e=>I(e.target.value),resize:"vertical"})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:k,children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:async()=>{if(S&&A){N(!0);try{const e=await new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>{const t=n.result.split(",")[1];e(t)},n.onerror=t,n.readAsDataURL(S)})),t={docTypeId:{ktp:1,surat_perjanjian:2,kk:3,student_id:4,passport:5,other:6}[A]||1,fileName:S.name,fileType:S.type,content:e,description:P||"",isImage:S.type.startsWith("image/")};await k7.uploadDocument(t),b({title:"Document Uploaded",description:"Your document has been uploaded successfully",status:"success",duration:3e3,isClosable:!0}),_(null),C(""),I(""),k(),await R()}catch(e){console.error("Error uploading document:",e),b({title:"Upload Failed",description:e.message||"Failed to upload document",status:"error",duration:5e3,isClosable:!0})}finally{N(!1)}}else b({title:"Missing Information",description:"Please select a file and document type",status:"warning",duration:3e3,isClosable:!0})},isLoading:T,loadingText:"Uploading...",isDisabled:!S||!A,children:"Upload Document"})]})]})]})]}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsx)(FS,{height:"200px",borderRadius:"lg"}),(0,Xo.jsx)(FS,{height:"400px",borderRadius:"lg"})]})})})},Z7="".concat(T6,"/v1/tenants"),J7={getProfile:async()=>{try{const e=z6.getCurrentTenant();if(!e)throw new Error("No authenticated tenant found");const t=z6.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}};return(await I6.A.get("".concat(Z7,"/").concat(e.tenantId),n)).data}catch(t){var e;throw console.error("Error fetching tenant profile:",t),(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to fetch profile information"}}},updateProfile:async e=>{try{const t=z6.getCurrentTenant();if(!t)throw new Error("No authenticated tenant found");const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}};return(await I6.A.put("".concat(Z7,"/").concat(t.tenantId),e,r)).data}catch(n){var t;throw console.error("Error updating tenant profile:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to update profile information"}}},uploadProfilePicture:async e=>{try{const t=z6.getCurrentTenant();if(!t)throw new Error("No authenticated tenant found");const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}};return(await I6.A.post("".concat(Z7,"/").concat(t.tenantId,"/picture"),e,r)).data}catch(n){var t;throw console.error("Error uploading profile picture:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to upload profile picture"}}},changePassword:async e=>{try{const t=z6.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}};return(await I6.A.post("".concat(Z7,"/change-password"),e,n)).data}catch(n){var t;throw console.error("Error changing password:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to change password"}}},getTenantById:async e=>{try{const t=z6.getToken(),n={headers:{Authorization:"Bearer ".concat(t)}};console.log("Fetching tenant details for ID: ".concat(e));const r=await I6.A.get("".concat(Z7,"/").concat(e),n);return console.log("Tenant details response:",r.data),r.data}catch(n){var t;throw console.error("Error fetching tenant details for ID ".concat(e,":"),n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch tenant details"}}},updateLocation:async e=>{try{const t=z6.getCurrentTenant();if(!t)throw new Error("No authenticated tenant found");const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}},i=(0,o.A)((0,o.A)({},e),{},{tenant_id:t.tenantId});return(await I6.A.put("".concat(Z7,"/").concat(t.tenantId,"/location"),i,r)).data}catch(n){var t;throw console.error("Error updating tenant location:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to update location information"}}},updateNIM:async e=>{try{const t=z6.getCurrentTenant();if(!t)throw new Error("No authenticated tenant found");const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}},i=(0,o.A)((0,o.A)({},e),{},{tenant_id:t.tenantId});return(await I6.A.put("".concat(Z7,"/").concat(t.tenantId,"/nim"),i,r)).data}catch(n){var t;throw console.error("Error updating tenant NIM:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to update NIM information"}}},updateCompleteProfile:async e=>{try{const t=z6.getCurrentTenant();if(!t)throw new Error("No authenticated tenant found");const n=z6.getToken(),r={headers:{Authorization:"Bearer ".concat(n)}},i=(0,o.A)((0,o.A)({},e),{},{tenant_id:t.tenantId});return(await I6.A.put("".concat(Z7,"/").concat(t.tenantId),i,r)).data}catch(n){var t;throw console.error("Error updating complete profile:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to update profile information"}}},getTenantTypes:async()=>{try{return{tenantTypes:[{typeId:1,name:"mahasiswa"},{typeId:2,name:"non_mahasiswa"}]}}catch(e){throw console.error("Error getting tenant types:",e),{message:"Failed to get tenant types"}}}},X7=J7,$7=()=>{var e;const n=Cx(),r=hb(),{tenant:i,refreshTenant:a}=D6(),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)({full_name:"",email:"",phone:"",address:"",gender:"",nim:"",jurusan:"",is_afirmasi:!1,home_latitude:"",home_longitude:"",password:""}),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(""),[j,w]=(0,t.useState)(0),[k,S]=(0,t.useState)(!1),[_,A]=(0,t.useState)({}),[C,P]=(0,t.useState)(0),I=zs("white","gray.700"),T=zs("gray.200","gray.600");(0,t.useEffect)((()=>{(async()=>{try{l(!0);const n=await X7.getTenantTypes();if(h(n.tenantTypes||[]),i){var e,t;const n={full_name:(null===(e=i.user)||void 0===e?void 0:e.fullName)||"",email:(null===(t=i.user)||void 0===t?void 0:t.email)||"",phone:i.phone||"",address:i.address||"",gender:i.gender||"",nim:i.nim||"",jurusan:i.jurusan||"",is_afirmasi:i.isAfirmasi||!1,home_latitude:i.homeLatitude?i.homeLatitude.toString():"",home_longitude:i.homeLongitude?i.homeLongitude.toString():"",password:""};g(n),i.homeLatitude&&i.homeLongitude&&y({lat:i.homeLatitude,lng:i.homeLongitude}),i.address&&b(i.address)}}catch(o){if(console.error("Error loading profile data:",o),h([{typeId:1,name:"mahasiswa"},{typeId:2,name:"non_mahasiswa"}]),i){var n,r;const e={full_name:(null===(n=i.user)||void 0===n?void 0:n.fullName)||"",email:(null===(r=i.user)||void 0===r?void 0:r.email)||"",phone:i.phone||"",address:i.address||"",gender:i.gender||"",nim:i.nim||"",jurusan:i.jurusan||"",is_afirmasi:i.isAfirmasi||!1,home_latitude:i.homeLatitude?i.homeLatitude.toString():"",home_longitude:i.homeLongitude?i.homeLongitude.toString():"",password:""};g(e),i.homeLatitude&&i.homeLongitude&&y({lat:i.homeLatitude,lng:i.homeLongitude}),i.address&&b(i.address)}}finally{l(!1)}})()}),[i,r]);const N=e=>{const{name:t,value:n,type:r,checked:i}=e.target,a="checkbox"===r?i:n;if(g((e=>(0,o.A)((0,o.A)({},e),{},{[t]:a}))),_[t]&&A((e=>(0,o.A)((0,o.A)({},e),{},{[t]:void 0}))),"home_latitude"===t||"home_longitude"===t){const e="home_latitude"===t?n:m.home_latitude,r="home_longitude"===t?n:m.home_longitude;e&&r&&!isNaN(parseFloat(e))&&!isNaN(parseFloat(r))&&y({lat:parseFloat(e),lng:parseFloat(r)})}};return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),mb:6,onClick:()=>n("/tenant/profile"),variant:"ghost",children:"Back to Profile"}),(0,Xo.jsxs)(Wb,{size:"xl",mb:6,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:tS,mr:3,color:"brand.500"}),"Edit Profile"]}),s?(0,Xo.jsx)(Xj,{justify:"center",my:10,children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500"})}):(0,Xo.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(m.full_name.trim()?m.full_name.length<2&&(e.full_name="Full name must be at least 2 characters"):e.full_name="Full name is required",m.email.trim()){const t=U6(m.email);t&&(e.email=t)}else e.email="Email is required";if(m.phone.trim()){const t=G6(m.phone);t&&(e.phone=t)}else e.phone="Phone number is required";if(m.address.trim()){const t=Y6(m.address);t&&(e.address=t)}else e.address="Address is required";if(m.gender||(e.gender="Gender is required"),1===(null===i||void 0===i?void 0:i.typeId)&&(m.nim.trim()||(e.nim="NIM is required for students"),m.jurusan.trim()||(e.jurusan="Department (Jurusan) is required for students")),m.home_latitude){const t=parseFloat(m.home_latitude);(isNaN(t)||t<-90||t>90)&&(e.home_latitude="Latitude must be a valid number between -90 and 90")}if(m.home_longitude){const t=parseFloat(m.home_longitude);(isNaN(t)||t<-180||t>180)&&(e.home_longitude="Longitude must be a valid number between -180 and 180")}return m.password&&m.password.length<6&&(e.password="Password must be at least 6 characters"),A(e),0===Object.keys(e).length})())try{d(!0),P(0);const e={full_name:m.full_name,email:m.email,phone:m.phone,address:m.address,gender:m.gender,type_id:null===i||void 0===i?void 0:i.typeId,is_afirmasi:m.is_afirmasi,jurusan:m.jurusan};m.password&&(e.password=m.password),await X7.updateCompleteProfile(e),P(33);1===(null===i||void 0===i?void 0:i.typeId)&&m.nim&&await X7.updateNIM({nim:m.nim}),P(66),m.home_latitude&&m.home_longitude&&await X7.updateLocation({home_latitude:parseFloat(m.home_latitude),home_longitude:parseFloat(m.home_longitude)}),P(100),r({title:"Profile Updated Successfully! \ud83c\udf89",description:"All your profile information has been updated.",status:"success",duration:5e3,isClosable:!0}),await a(),setTimeout((()=>n("/tenant/profile")),1e3)}catch(t){console.error("Error updating profile:",t),r({title:"Update Failed",description:t.message||"Failed to update profile information.",status:"error",duration:5e3,isClosable:!0})}finally{d(!1),P(0)}},children:(0,Xo.jsxs)(Vb,{bg:I,borderColor:T,children:[(0,Xo.jsxs)(QS,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:"Update Your Profile Information"}),(null===i||void 0===i?void 0:i.isVerified)&&(0,Xo.jsx)(r_,{colorScheme:"green",variant:"solid",children:"Verified Account"})]}),c&&(0,Xo.jsx)(a0,{value:C,size:"sm",colorScheme:"brand",mt:4,borderRadius:"md"})]}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(YQ,{index:p,onChange:f,variant:"enclosed",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsxs)(JQ,{children:[(0,Xo.jsx)(Zv,{as:tS,mr:2}),"Basic Info"]}),1===(null===i||void 0===i?void 0:i.typeId)&&(0,Xo.jsxs)(JQ,{children:[(0,Xo.jsx)(Zv,{as:nk,mr:2}),"Academic"]}),(0,Xo.jsxs)(JQ,{children:[(0,Xo.jsx)(Zv,{as:mk,mr:2}),"Location"]})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Eb,{textAlign:"center",children:[(0,Xo.jsx)(xZ,{size:"2xl",name:m.full_name||(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.fullName),src:null===i||void 0===i?void 0:i.avatar,mb:4}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Tenant ID: ",null===i||void 0===i?void 0:i.tenantId]})]}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ij,{isInvalid:_.full_name,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Full Name"}),(0,Xo.jsx)(gj,{name:"full_name",value:m.full_name,onChange:N,placeholder:"Enter your full name"}),(0,Xo.jsx)(xj,{children:_.full_name})]}),(0,Xo.jsxs)(ij,{isInvalid:_.email,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Email Address"}),(0,Xo.jsx)(gj,{name:"email",type:"email",value:m.email,onChange:N,placeholder:"Enter your email"}),(0,Xo.jsx)(xj,{children:_.email})]})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(ij,{isInvalid:_.phone,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Phone Number"}),(0,Xo.jsx)(gj,{name:"phone",value:m.phone,onChange:N,placeholder:"e.g., 081234567890"}),(0,Xo.jsx)(xj,{children:_.phone})]}),(0,Xo.jsxs)(ij,{isInvalid:_.gender,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Gender"}),(0,Xo.jsxs)(SQ,{name:"gender",value:m.gender,onChange:N,placeholder:"Select gender",children:[(0,Xo.jsx)("option",{value:"L",children:"Male (Laki-laki)"}),(0,Xo.jsx)("option",{value:"P",children:"Female (Perempuan)"})]}),(0,Xo.jsx)(xj,{children:_.gender})]})]}),(0,Xo.jsxs)(ij,{isInvalid:_.address,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Address"}),(0,Xo.jsx)(D1,{name:"address",value:m.address,onChange:e=>{N(e),b(e.target.value)},placeholder:"Enter your complete address",rows:3}),(0,Xo.jsx)(xj,{children:_.address}),(0,Xo.jsx)(oj,{children:"This address will be used for location searches and can be auto-filled from map selection"})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Tenant Type"}),(0,Xo.jsxs)(Eb,{p:3,bg:"gray.50",borderRadius:"md",border:"1px",borderColor:"gray.200",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:1===(null===i||void 0===i?void 0:i.typeId)?"Student (Mahasiswa)":"Non-Student (Non-Mahasiswa)"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:"Tenant type cannot be changed after registration"})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Password (Optional)"}),(0,Xo.jsx)(gj,{name:"password",type:"password",value:m.password,onChange:N,placeholder:"Enter new password (leave blank to keep current)"}),(0,Xo.jsx)(oj,{children:"Leave blank to keep your current password"}),(0,Xo.jsx)(xj,{children:_.password})]})]})]})}),1===(null===i||void 0===i?void 0:i.typeId)&&(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Academic information is required for students (mahasiswa)"]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(ij,{isInvalid:_.nim,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"NIM (Student ID)"}),(0,Xo.jsx)(gj,{name:"nim",value:m.nim,onChange:N,placeholder:"e.g., 2301421047"}),(0,Xo.jsx)(xj,{children:_.nim}),(0,Xo.jsx)(oj,{children:"Required for students"})]}),(0,Xo.jsxs)(ij,{isInvalid:_.jurusan,isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Department (Jurusan)"}),(0,Xo.jsx)(gj,{name:"jurusan",value:m.jurusan,onChange:N,placeholder:"e.g., Teknik Sipil"}),(0,Xo.jsx)(xj,{children:_.jurusan}),(0,Xo.jsx)(oj,{children:"Your department/major"})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(z1,{name:"is_afirmasi",isChecked:m.is_afirmasi,onChange:N}),(0,Xo.jsx)(sj,{mb:0,children:"Afirmasi Program"})]}),(0,Xo.jsx)(oj,{children:"Check if you are part of the affirmative action program"})]})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Location information helps calculate distance to campus"]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Search Address"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(gj,{value:x,onChange:e=>b(e.target.value),placeholder:"Enter your address to search (e.g., Tambun Selatan, Bekasi, West Java)"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(mk,{}),onClick:()=>{x&&x.trim().length>10?w(Date.now()):r({title:"Address Too Short",description:"Please enter a more detailed address for better location accuracy",status:"warning",duration:3e3,isClosable:!0})},colorScheme:"blue",variant:"outline",isDisabled:!x||x.trim().length<10,children:"Search"})]}),(0,Xo.jsx)(oj,{children:"Type an address and click Search, or click directly on the map below"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Bj,{leftIcon:k?(0,Xo.jsx)(Iw,{}):(0,Xo.jsx)(Cw,{}),onClick:()=>S(!k),variant:"ghost",size:"sm",colorScheme:"gray",children:[k?"Hide":"Show"," Quick Location Options"]}),(0,Xo.jsx)(I5,{in:k,animateOpacity:!0,children:(0,Xo.jsx)(Eb,{mt:4,children:(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(mk,{}),onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude};y(t),g((t=>(0,o.A)((0,o.A)({},t),{},{home_latitude:e.coords.latitude.toString(),home_longitude:e.coords.longitude.toString()}))),r({title:"Location Updated",description:"Your current location has been detected and updated on the map",status:"success",duration:3e3,isClosable:!0})}),(e=>{r({title:"Location Error",description:"Unable to get your current location",status:"error",duration:3e3,isClosable:!0})})):r({title:"Not Supported",description:"Geolocation is not supported by this browser",status:"error",duration:3e3,isClosable:!0})},colorScheme:"blue",variant:"outline",size:"sm",width:"fit-content",children:"Use Current Location"})})})]}),m.home_latitude&&m.home_longitude&&(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{children:["Location: ",parseFloat(m.home_latitude).toFixed(6),", ",parseFloat(m.home_longitude).toFixed(6)]}),x&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Address: ",x]})]})]}),(null===i||void 0===i?void 0:i.distanceToCampus)&&(0,Xo.jsx)(Eb,{p:4,bg:"gray.50",borderRadius:"md",children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:jw,color:"gray.600"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Current Distance to Campus:"}),(0,Xo.jsxs)(r_,{colorScheme:"blue",children:[i.distanceToCampus.toFixed(2)," km"]})]})}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:2,children:"Interactive Map"}),(0,Xo.jsx)(Eb,{border:"1px solid",borderColor:T,borderRadius:"md",overflow:"hidden",bg:"white",minH:"400px",children:(0,Xo.jsx)(j2,{value:v,onChange:(e,t)=>{console.log("Location changed:",e,"Address:",t),y(e),e&&g((n=>(0,o.A)((0,o.A)({},n),{},{home_latitude:e.lat.toString(),home_longitude:e.lng.toString()},t&&!n.address?{address:t}:{})))},addressValue:x,onAddressChange:e=>{console.log("Address changed:",e),b(e),!e||m.address&&""!==m.address.trim()||g((t=>(0,o.A)((0,o.A)({},t),{},{address:e})))},triggerGeocode:j})})]})]})})]})]}),(0,Xo.jsx)(ew,{my:6}),(0,Xo.jsxs)(dS,{spacing:4,justify:"flex-end",children:[(0,Xo.jsx)(Bj,{onClick:()=>n("/tenant/profile"),variant:"outline",isDisabled:c,children:"Cancel"}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",leftIcon:(0,Xo.jsx)(Tk,{}),isLoading:c,loadingText:"Saving... ".concat(C,"%"),children:"Save All Changes"})]})]})]})})]})})},Q7=()=>{const e=Cx(),{tenant:t}=D6(),n=zs("white","gray.700"),r=zs("gray.200","gray.600"),i=(()=>{var e,n,r;if(!t)return{percentage:0,missingFields:[],completedFields:0,totalFields:0};const i=[{key:"user.fullName",label:"Full Name",value:null===(e=t.user)||void 0===e?void 0:e.fullName},{key:"user.email",label:"Email",value:null===(n=t.user)||void 0===n?void 0:n.email},{key:"phone",label:"Phone",value:t.phone},{key:"address",label:"Address",value:t.address},{key:"gender",label:"Gender",value:t.gender},{key:"typeId",label:"Tenant Type",value:t.typeId}];1!==t.typeId&&"mahasiswa"!==(null===(r=t.tenantType)||void 0===r?void 0:r.name)||i.push({key:"nim",label:"NIM",value:t.nim},{key:"jurusan",label:"Department",value:t.jurusan});const o=[{key:"homeLatitude",label:"Home Location",value:t.homeLatitude&&t.homeLongitude}],a=[...i,...o],s=a.filter((e=>e.value)).length,l=a.filter((e=>!e.value));return{percentage:Math.round(s/a.length*100),missingFields:l,completedFields:s,totalFields:a.length,isComplete:0===l.length}})(),o=100===i.percentage?"success":i.percentage>=70?"warning":"error";return(0,Xo.jsx)(Vb,{bg:n,borderColor:r,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:tS,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Profile Completion"})]}),(0,Xo.jsxs)(r_,{colorScheme:"success"===o?"green":"warning"===o?"yellow":"red",variant:"solid",children:[i.percentage,"%"]})]}),(0,Xo.jsx)(a0,{value:i.percentage,colorScheme:"success"===o?"green":"warning"===o?"yellow":"red",size:"lg",borderRadius:"md"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:[i.completedFields," of ",i.totalFields," fields completed"]}),i.isComplete?(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Profile Complete! \ud83c\udf89"}),(0,Xo.jsx)(cy,{children:"Your profile information is complete and up to date."})]})]}):(0,Xo.jsxs)(ay,{status:o,borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Profile Incomplete"}),(0,Xo.jsxs)(cy,{children:["Complete your profile to improve your booking experience.",i.missingFields.length>0&&(0,Xo.jsxs)(Eb,{mt:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",children:"Missing information:"}),(0,Xo.jsx)(IQ,{columns:2,spacing:1,mt:1,children:i.missingFields.slice(0,4).map(((e,t)=>(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["\u2022 ",e.label]},t)))}),i.missingFields.length>4&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",mt:1,children:["...and ",i.missingFields.length-4," more"]})]})]})]})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Ww,{}),colorScheme:"brand",variant:"outline",size:"sm",onClick:()=>e("/tenant/profile/edit"),children:i.isComplete?"Edit Profile":"Complete Profile"})]})})})},e9=e=>{let{isStudent:t=!0,size:n="sm"}=e;const r=hb();return t?(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Agreement Letter Download"}),(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Download the agreement form, fill it out completely, and upload the filled PDF."})})]}),(0,Xo.jsxs)(Bj,{leftIcon:(0,Xo.jsx)(Bw,{}),colorScheme:"green",onClick:()=>{try{const e=document.createElement("a");e.href="/assets/documents/FORMULIR_IZIN_TINGGAL_DI_RUSUNAWA.pdf",e.download="FORMULIR_IZIN_TINGGAL_DI_RUSUNAWA.pdf",e.click(),r({title:"Download Started",description:"Agreement form download has started. Please fill it out and upload the completed form.",status:"info",duration:5e3,isClosable:!0})}catch(e){r({title:"Download Error",description:"Failed to download the agreement form. Please contact support.",status:"error",duration:5e3,isClosable:!0})}},size:n,children:[(0,Xo.jsx)(Zv,{as:$w,mr:2}),"Download Agreement Form"]})]}):null},t9=e=>{var t;let{tenant:n,showDownload:r=!1}=e;const i=zs("white","gray.700"),o="mahasiswa"===(null===n||void 0===n||null===(t=n.tenantType)||void 0===t?void 0:t.name);return(0,Xo.jsx)(Vb,{bg:i,borderRadius:"lg",boxShadow:"md",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justifyContent:"space-between",align:"center",children:[(0,Xo.jsx)(Wb,{size:"md",children:"Document Requirements"}),(0,Xo.jsx)(r_,{colorScheme:o?"blue":"purple",px:3,py:1,children:o?"Student (Mahasiswa)":"Non-Student"})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{mb:3,fontWeight:"medium",children:o?"As a student, you need to upload:":"As a non-student, you need to upload:"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,pl:4,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"KTP (ID Card) - Required"})]}),o&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"KK (Family Card) - Required"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Surat Perjanjian (Agreement Letter) - Required"})]})]})]})]}),o&&r&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(ew,{}),(0,Xo.jsx)(e9,{isStudent:o})]})]})})})},n9=()=>{var e,n,r;const{tenant:i}=D6(),[o,a]=(hb(),(0,t.useState)([])),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),{verificationStatus:p}=S7(),f="mahasiswa"===(null===i||void 0===i||null===(e=i.tenantType)||void 0===e?void 0:e.name),m=()=>{var e;if(p.canBook)return(0,Xo.jsxs)(ay,{status:"success",variant:"subtle",borderRadius:"lg",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Ready to Book! \ud83c\udf89"}),(0,Xo.jsxs)(cy,{children:["All required documents are verified. You can now book rooms.",(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",ml:2,size:"sm",colorScheme:"green",variant:"outline",children:"Browse Rooms"})]})]})]});const t="warning"===p.statusType?"warning":"error";return(0,Xo.jsxs)(ay,{status:t,variant:"subtle",borderRadius:"lg",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{w:"full",children:[(0,Xo.jsx)(ly,{children:"Document Verification Required"}),(0,Xo.jsxs)(cy,{children:[(0,Xo.jsx)(Tb,{mb:2,children:p.message}),p.missingDocuments&&p.missingDocuments.length>0&&(0,Xo.jsxs)(Eb,{mt:3,p:3,bg:"rgba(0,0,0,0.05)",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",mb:2,children:f?"Required Documents for Students:":"Required Documents:"}),(0,Xo.jsx)(Pb,{spacing:1,align:"start",children:p.missingDocuments.map((e=>(0,Xo.jsxs)(dS,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{children:"\u2022"}),(0,Xo.jsx)(Tb,{children:e.label}),(0,Xo.jsx)(r_,{size:"sm",colorScheme:"missing"===e.status?"red":"pending"===e.status?"yellow":"rejected"===e.status?"red":"gray",children:"missing"===e.status?"Not Uploaded":"pending"===e.status?"Pending Review":"rejected"===e.status?"Rejected":e.status})]},e.id)))})]}),(0,Xo.jsxs)(dS,{mt:3,spacing:2,children:[!p.hasDocuments&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/documents/upload",size:"sm",colorScheme:"orange",variant:"outline",children:"Upload Documents"}),(null===(e=p.missingDocuments)||void 0===e?void 0:e.some((e=>"missing"===e.status)))&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/documents/upload",size:"sm",colorScheme:"blue",variant:"outline",children:"Upload Missing Documents"})]})]})]})]})},g=zs("white","gray.700"),v=(zs("gray.200","gray.600"),zs("brand.50","brand.900"));(0,t.useEffect)((()=>{(async()=>{d(!0);try{const e=await k7.getTenantDocuments();a(e.documents||[]),e.documents&&e.documents.length>0&&l(e.documents[0])}catch(Pee){console.error("Error fetching documents:",Pee),h(Pee.message||"Failed to load documents.")}finally{d(!1)}})()}),[]);const y=e=>{l(e)},x=async e=>{try{console.log("Documents page: Attempting to delete document",e),console.log("Current tenant:",z6.getCurrentTenant()),await k7.deleteDocument(e),a((t=>t.filter((t=>t.docId!==e)))),s&&s.docId===e&&l(null),console.log("Document deleted successfully from frontend state")}catch(Pee){throw console.error("Documents page: Error deleting document:",Pee),Pee}},b=o.filter((e=>"approved"===e.status)),j=o.filter((e=>"pending"===e.status)),w=o.filter((e=>"rejected"===e.status)),k=(()=>{const e=p;return e?e.canBook?{text:"All Requirements Met",color:"green"}:"error"===e.statusType?{text:"Action Required",color:"red"}:"warning"===e.statusType?{text:"Pending Verification",color:"yellow"}:{text:"Incomplete",color:"gray"}:{text:"Loading...",color:"gray"}})(),S=(()=>{var e;const t=p;if(!t||!t.requiredCount)return 0;return(t.requiredCount-((null===(e=t.missingDocuments)||void 0===e?void 0:e.length)||0))/t.requiredCount*100})();return(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(dS,{justifyContent:"space-between",flexWrap:"wrap",children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"lg",children:"My Documents"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Upload and manage your identification documents"})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/documents/upload",leftIcon:(0,Xo.jsx)(Xk,{}),colorScheme:"brand",children:"Upload New Document"})]}),(0,Xo.jsx)(m,{}),(0,Xo.jsx)(t9,{tenant:i,showDownload:!0}),(0,Xo.jsx)(Q7,{}),(0,Xo.jsx)(Eb,{bg:g,p:6,borderRadius:"lg",boxShadow:"md",children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justifyContent:"space-between",children:[(0,Xo.jsx)(Wb,{size:"md",children:"Verification Status"}),(0,Xo.jsx)(r_,{colorScheme:k.color,px:2,py:1,children:k.text})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{children:"Document Verification Progress"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:f?"Required: 3 documents":"Required: 1 document"})]}),(0,Xo.jsx)(a0,{value:S,colorScheme:k.color,size:"md",borderRadius:"md"}),(0,Xo.jsxs)(dS,{justify:"space-between",mt:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[Math.round(S),"%"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[p.requiredCount-((null===(n=p.missingDocuments)||void 0===n?void 0:n.length)||0),"/",p.requiredCount," Required"]})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:2,md:4},spacing:4,children:[(0,Xo.jsxs)(dS,{p:3,bg:v,borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:$w,boxSize:6,color:"brand.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:o.length}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Total Documents"})]})]}),(0,Xo.jsxs)(dS,{p:3,bg:"blue.50",borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:Jw,boxSize:6,color:"blue.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:p.requiredCount||(f?3:1)}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Required"})]})]}),(0,Xo.jsxs)(dS,{p:3,bg:"green.50",borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:Jw,boxSize:6,color:"green.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:b.length}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Approved"})]})]}),(0,Xo.jsxs)(dS,{p:3,bg:"red.50",borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:Jw,boxSize:6,color:"red.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:(null===(r=p.missingDocuments)||void 0===r?void 0:r.length)||0}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Missing/Issues"})]})]})]}),w.length>0&&(0,Xo.jsxs)(Tb,{color:"red.500",fontSize:"sm",children:["You have ",w.length," document(s) that need your attention. Please replace them with valid documents."]})]})}),c?(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:8,children:[(0,Xo.jsx)(FS,{height:"200px"}),(0,Xo.jsx)(FS,{height:"200px"}),(0,Xo.jsx)(FS,{height:"200px"})]}):u?(0,Xo.jsxs)(Eb,{p:6,textAlign:"center",bg:g,borderRadius:"lg",children:[(0,Xo.jsx)(Tb,{color:"red.500",children:u}),(0,Xo.jsx)(Bj,{mt:4,onClick:()=>window.location.reload(),children:"Retry"})]}):0===o.length?(0,Xo.jsxs)(Eb,{p:8,textAlign:"center",bg:g,borderRadius:"lg",boxShadow:"md",children:[(0,Xo.jsx)(Zv,{as:$w,boxSize:12,color:"gray.400",mb:4}),(0,Xo.jsx)(Wb,{size:"md",mb:2,children:"No Documents Uploaded"}),(0,Xo.jsx)(Tb,{color:"gray.500",mb:6,children:"You need to upload your identification documents for verification"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/documents/upload",colorScheme:"brand",leftIcon:(0,Xo.jsx)(Xk,{}),children:"Upload Documents"})]}):(0,Xo.jsxs)(IQ,{columns:{base:1,lg:2},spacing:8,children:[(0,Xo.jsx)(Eb,{bg:g,p:4,borderRadius:"lg",boxShadow:"md",height:"fit-content",children:(0,Xo.jsxs)(YQ,{colorScheme:"brand",isFitted:!0,variant:"enclosed",children:[(0,Xo.jsxs)(ZQ,{mb:4,children:[(0,Xo.jsxs)(JQ,{fontWeight:"medium",children:["All (",o.length,")"]}),(0,Xo.jsxs)(JQ,{fontWeight:"medium",children:["Approved (",b.length,")"]}),(0,Xo.jsxs)(JQ,{fontWeight:"medium",children:["Pending (",j.length,")"]}),(0,Xo.jsxs)(JQ,{fontWeight:"medium",children:["Rejected (",w.length,")"]})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsxs)($Q,{p:0,children:["                      ",(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:o.map((e=>(0,Xo.jsx)(K7,{document:e,showStatus:!0,isSelected:(null===s||void 0===s?void 0:s.docId)===e.docId,onView:()=>y(e),onDelete:x},e.docId)))})]}),(0,Xo.jsx)($Q,{p:0,children:b.length?(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:b.map((e=>(0,Xo.jsx)(K7,{document:e,showStatus:!0,isSelected:(null===s||void 0===s?void 0:s.docId)===e.docId,onView:()=>y(e),onDelete:x},e.docId)))}):(0,Xo.jsx)(Tb,{textAlign:"center",py:8,color:"gray.500",children:"No approved documents yet"})}),(0,Xo.jsx)($Q,{p:0,children:j.length?(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:j.map((e=>(0,Xo.jsx)(K7,{document:e,showStatus:!0,isSelected:(null===s||void 0===s?void 0:s.docId)===e.docId,onView:()=>y(e),onDelete:x},e.docId)))}):(0,Xo.jsx)(Tb,{textAlign:"center",py:8,color:"gray.500",children:"No pending documents"})}),(0,Xo.jsx)($Q,{p:0,children:w.length?(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:w.map((e=>(0,Xo.jsx)(K7,{document:e,showStatus:!0,isSelected:(null===s||void 0===s?void 0:s.docId)===e.docId,onView:()=>y(e),onDelete:x},e.docId)))}):(0,Xo.jsx)(Tb,{textAlign:"center",py:8,color:"gray.500",children:"No rejected documents"})})]})]})}),(0,Xo.jsx)(Eb,{children:s?(0,Xo.jsx)(G7,{document:s,onDelete:x,onReplace:e=>{const t=o.find((t=>t.docId===e));t&&(window.location.href="/tenant/documents/upload?docType=".concat(t.docTypeId))}}):(0,Xo.jsx)(Eb,{bg:g,p:6,borderRadius:"lg",boxShadow:"md",textAlign:"center",children:(0,Xo.jsx)(Tb,{children:"Please select a document to view details"})})})]})]})})})},r9=()=>{var e;const n=Cx(),r=hb(),{tenant:i}=((0,t.useRef)(),D6()),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(""),[f,m]=(0,t.useState)({}),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(""),b=zs("white","gray.700"),j=zs("gray.200","gray.600"),w=(zs("gray.50","gray.700"),"mahasiswa"===(null===i||void 0===i||null===(e=i.tenantType)||void 0===e?void 0:e.name)),k=w?[{value:"1 - KTP",label:"KTP (ID Card)"},{value:"3 - KK",label:"KK (Family Card)"},{value:"2 - Surat Perjanjian",label:"Surat Perjanjian (Agreement Letter)"}]:[{value:"1 - KTP",label:"KTP (ID Card)"}];return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),mb:6,onClick:()=>n("/tenant/documents"),children:"Back to Documents"}),(0,Xo.jsx)(t9,{tenant:i,showDownload:!0}),(0,Xo.jsxs)(Wb,{size:"xl",mb:6,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:Zw,mr:3,color:"brand.500"}),"Upload Document"]}),(0,Xo.jsxs)(Vb,{bg:b,borderColor:j,borderWidth:"1px",children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsx)(Tb,{children:"Upload your documents for verification and compliance with housing requirements."})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return a||(e.docType="Please select a document type"),l||(e.file="Please select a file to upload"),m(e),0===Object.keys(e).length})()){if(!g){v(!0),x("");try{if(!l)return x("Please select a file to upload"),void v(!1);if(console.log('Raw docType state before parsing: "'.concat(a,'"')),!a)return x("Please select a document type"),void v(!1);let e=1;if(a){const t=a.match(/^(\d+)/);t&&t[1]?e=parseInt(t[1],10):console.warn('Could not parse numeric ID from docType: "'.concat(a,'". Defaulting to ID 1.'))}e=Math.abs(e),console.log("Using document type ID: ".concat(e," from selected type: ").concat(a));const t=await new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>{const t=n.result.split(",")[1];e(t)},n.onerror=t,n.readAsDataURL(l)})),i={docTypeId:e,fileName:l.name,fileType:l.type,content:t,description:h||"",isImage:l.type.startsWith("image/")};console.log("Submitting document data to service:",{docTypeId:i.docTypeId,fileName:i.fileName,fileType:i.fileType,description:i.description,isImage:i.isImage}),console.log("Calling documentService.uploadDocument...");const o=await k7.uploadDocument(i);console.log("documentService.uploadDocument responded:",o),r({title:"Document uploaded successfully",description:(null===o||void 0===o?void 0:o.message)||"Your document is being processed.",status:"success",duration:5e3,isClosable:!0}),n("/tenant/documents")}catch(Pee){console.error("Error uploading document in component:",Pee),x(Pee.message||"Failed to upload document. Please try again."),r({title:"Upload Failed",description:Pee.message||"Could not upload the document.",status:"error",duration:5e3,isClosable:!0})}finally{v(!1)}}}else r({title:"Validation Error",description:"Please correct the errors in the form.",status:"error",duration:3e3,isClosable:!0})},children:[(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isInvalid:!!f.docType,isRequired:!0,id:"documentTypeControl",children:[" ",(0,Xo.jsx)(sj,{htmlFor:"documentTypeSelect",children:"Document Type"}),(0,Xo.jsx)(SQ,{id:"documentTypeSelect",placeholder:"Select document type",value:a,onChange:e=>{s(e.target.value),f.docType&&m((0,o.A)((0,o.A)({},f),{},{docType:void 0}))},children:k.map((e=>(0,Xo.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Xo.jsx)(xj,{children:f.docType})]}),(0,Xo.jsxs)(ij,{isInvalid:!!f.file,isRequired:!0,id:"documentFileControl",children:[(0,Xo.jsx)(sj,{htmlFor:"documentFileInput",children:"Document File"}),(0,Xo.jsx)(gj,{id:"documentFileInput",type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:e=>{const t=e.target.files[0];if(!t)return c(null),void u(null);if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(t.type))return void m({file:"Please upload a JPEG, PNG, or PDF file"});if(t.size>5242880)m({file:"File size should not exceed 5MB"});else if(m({}),c(t),x(""),t.type.startsWith("image/")){const e=new FileReader;e.onloadend=()=>{u(e.result)},e.readAsDataURL(t)}else u(null)},display:"none"}),(0,Xo.jsx)(Bj,{as:"label",htmlFor:"documentFileInput",leftIcon:(0,Xo.jsx)(Zv,{as:Q_}),colorScheme:"blue",variant:"outline",cursor:"pointer",width:"full",py:2,textAlign:"center",children:l?l.name:"Choose File (JPG, PNG, PDF)"}),(0,Xo.jsx)(Tb,{mt:1,fontSize:"xs",color:"gray.500",children:"Max file size: 5MB."})]}),d&&(null===l||void 0===l?void 0:l.type.startsWith("image/"))&&(0,Xo.jsxs)(Eb,{mb:4,borderWidth:1,p:2,borderRadius:"md",textAlign:"center",children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",mb:2,children:"Image Preview:"}),(0,Xo.jsx)(Bb,{src:d,alt:"Document preview",maxH:"200px",mx:"auto",borderRadius:"md"})]}),l&&!l.type.startsWith("image/")&&(0,Xo.jsxs)(dS,{mb:4,p:3,borderWidth:1,borderRadius:"md",spacing:3,align:"center",children:[(0,Xo.jsx)(Zv,{as:k_,boxSize:6,color:"gray.500"}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:[l.name," (",(l.size/1024).toFixed(2)," KB)"]})]}),(0,Xo.jsxs)(ij,{id:"descriptionControl",children:[(0,Xo.jsx)(sj,{htmlFor:"descriptionTextarea",children:"Description (Optional)"}),(0,Xo.jsx)(D1,{id:"descriptionTextarea",placeholder:"Enter a brief description for the document",value:h,onChange:e=>p(e.target.value),rows:3})]}),(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Uploaded documents will be reviewed by our staff for verification."]})]}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",leftIcon:(0,Xo.jsx)(Xk,{}),mt:6,isLoading:g,loadingText:"Uploading...",w:"full",children:"Upload Document"})]})})]})]})})},i9=()=>{const[e,n]=(0,t.useState)({payments:[],invoices:[],stats:{totalPaid:0,pendingAmount:0,totalTransactions:0,averageAmount:0}}),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)("all"),[f,m]=(0,t.useState)("all"),[g,v]=(0,t.useState)(null),{isOpen:y,onOpen:x,onClose:b}=GG(),{tenant:j}=D6(),w=Cx(),k=hb(),S=(zs("white","gray.800"),zs("white","gray.700")),_=zs("gray.200","gray.600"),A=zs("gray.50","gray.600"),C=zs("gray.50","gray.600");(0,t.useEffect)((()=>{(async()=>{if(null!==j&&void 0!==j&&j.tenantId){s(!0),c(null);try{console.log("Fetching payment history for tenant:",j.tenantId);const e=await D8.getTenantPayments(j.tenantId);console.log("Payments response:",e);const t=await D8.getTenantInvoices(j.tenantId);console.log("Invoices response:",t);const r=e.payments||[],i=t.invoices||[],a=r.map((e=>(0,o.A)((0,o.A)({},e),{},{payment_id:e.paymentId||e.payment_id,invoice_id:e.invoiceId||e.invoice_id,booking_id:e.bookingId||e.booking_id,tenant_id:e.tenantId||e.tenant_id,transaction_id:e.transactionId||e.transaction_id,payment_method:e.paymentMethod||e.payment_method||"Bank Transfer",payment_channel:e.paymentChannel||e.payment_channel||"unknown",created_at:e.createdAt||e.created_at,updated_at:e.updatedAt||e.updated_at,paid_at:e.paidAt||e.paid_at,amount:e.amount||0}))),s=i.map((e=>(0,o.A)((0,o.A)({},e),{},{amount:e.amount||e.totalAmount||0,issued_at:e.createdAt||e.issued_at,due_date:e.dueDate||e.due_date,paid_at:e.paidAt||e.paid_at,invoice_id:e.invoiceId||e.invoice_id,invoice_no:e.invoiceNo||e.invoice_no,booking_id:e.bookingId||e.booking_id,tenant_id:e.tenantId||e.tenant_id}))),l={totalPaid:a.filter((e=>"verified"===e.status||"success"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0),pendingAmount:a.filter((e=>"pending"===e.status||"waiting_approval"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0),totalTransactions:a.length,averageAmount:a.length>0?a.reduce(((e,t)=>e+(t.amount||0)),0)/a.length:0};n({payments:a,invoices:s,stats:l})}catch(l){console.error("Error fetching payment history:",l),c(l.message||"Failed to load payment history"),n({payments:[],invoices:[],stats:{totalPaid:0,pendingAmount:0,totalTransactions:0,averageAmount:0}})}finally{s(!1)}}else console.log("No tenant ID available")})()}),[null===j||void 0===j?void 0:j.tenantId]),(0,t.useEffect)((()=>{T()}),[e.payments,d,h,f]);const P=async()=>{if(null!==j&&void 0!==j&&j.tenantId){s(!0);try{const e=await D8.getTenantPayments(j.tenantId),t=await D8.getTenantInvoices(j.tenantId),r=e.payments||[],i=t.invoices||[],o=I(r,i);n({payments:r,invoices:i,stats:o})}catch(Pee){console.error("Failed to fetch payment history:",Pee),c("Failed to load payment history. Please try again later."),k({title:"Error",description:"Failed to load payment history",status:"error",duration:5e3,isClosable:!0})}finally{s(!1)}}},I=(e,t)=>{const n=e.filter((e=>"success"===e.status||"verified"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0),r=e.filter((e=>"pending"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0),i=e.length;return{totalPaid:n,pendingAmount:r,totalTransactions:i,averageAmount:i>0?n/i:0}},T=()=>{let t=[...e.payments];if(d&&(t=t.filter((e=>{var t,n,r,i;return(null===(t=e.payment_id||e.paymentId)||void 0===t?void 0:t.toString().toLowerCase().includes(d.toLowerCase()))||(null===(n=e.invoice_id||e.invoiceId)||void 0===n?void 0:n.toString().toLowerCase().includes(d.toLowerCase()))||(null===(r=e.transaction_id||e.transactionId)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))||(null===(i=e.notes)||void 0===i?void 0:i.toLowerCase().includes(d.toLowerCase()))}))),"all"!==h&&(t=t.filter((e=>e.status===h))),"all"!==f){const e=new Date,n={"7d":7,"30d":30,"90d":90,"1y":365}[f];if(n){const r=new Date(e.getTime()-24*n*60*60*1e3);t=t.filter((e=>new Date(e.created_at||e.createdAt)>=r))}}t.sort(((e,t)=>new Date(t.created_at||t.createdAt)-new Date(e.created_at||e.createdAt))),i(t)},N=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"verified":case"success":case"paid":return"green";case"pending":case"waiting_approval":return"yellow";case"failed":case"rejected":return"red";case"expired":case"cancelled":return"gray";default:return"blue"}},E=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"verified":case"success":case"paid":return _w;case"pending":case"waiting_approval":default:return Nw;case"failed":case"rejected":return Uk;case"expired":case"cancelled":return Vw}},z=async e=>{try{k({title:"Downloading receipt...",status:"info",duration:2e3,isClosable:!0}),console.log("Downloading receipt for payment:",e)}catch(l){k({title:"Download Failed",description:"Could not download receipt",status:"error",duration:3e3,isClosable:!0})}};return a?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsx)(Xj,{justify:"center",align:"center",minH:"400px",children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Loading payment history..."})]})})})}):l?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Error Loading Payment History"}),(0,Xo.jsx)(Tb,{children:l})]})]}),(0,Xo.jsx)(Bj,{mt:4,onClick:P,leftIcon:(0,Xo.jsx)(Bk,{}),children:"Retry"})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",wrap:"wrap",gap:4,children:[(0,Xo.jsx)(Wb,{size:"lg",children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ik}),(0,Xo.jsx)(Tb,{children:"Payment History"})]})}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Bk,{}),variant:"outline",onClick:P,isLoading:a,children:"Refresh"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/bookings",leftIcon:(0,Xo.jsx)(kk,{}),colorScheme:"brand",children:"New Booking"})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2,lg:4},spacing:6,children:[(0,Xo.jsxs)(HS,{bg:S,p:4,borderRadius:"lg",borderWidth:"1px",borderColor:_,boxShadow:"sm",children:[(0,Xo.jsx)(VS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:yk,color:"green.500"}),(0,Xo.jsx)(Tb,{children:"Total Paid"})]})}),(0,Xo.jsx)(GS,{color:"green.500",children:C7(e.stats.totalPaid)}),(0,Xo.jsx)(KS,{children:"Successfully completed"})]}),(0,Xo.jsxs)(HS,{bg:S,p:4,borderRadius:"lg",borderWidth:"1px",borderColor:_,boxShadow:"sm",children:[(0,Xo.jsx)(VS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nw,color:"yellow.500"}),(0,Xo.jsx)(Tb,{children:"Pending Amount"})]})}),(0,Xo.jsx)(GS,{color:"yellow.500",children:C7(e.stats.pendingAmount)}),(0,Xo.jsx)(KS,{children:"Awaiting confirmation"})]}),(0,Xo.jsxs)(HS,{bg:S,p:4,borderRadius:"lg",borderWidth:"1px",borderColor:_,boxShadow:"sm",children:[(0,Xo.jsx)(VS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Xw,color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Total Transactions"})]})}),(0,Xo.jsx)(GS,{color:"blue.500",children:e.stats.totalTransactions}),(0,Xo.jsx)(KS,{children:"All time"})]}),(0,Xo.jsxs)(HS,{bg:S,p:4,borderRadius:"lg",borderWidth:"1px",borderColor:_,boxShadow:"sm",children:[(0,Xo.jsx)(VS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"purple.500"}),(0,Xo.jsx)(Tb,{children:"Average Amount"})]})}),(0,Xo.jsx)(GS,{color:"purple.500",children:C7(e.stats.averageAmount)}),(0,Xo.jsx)(KS,{children:"Per transaction"})]})]}),(0,Xo.jsx)(Vb,{bg:S,borderWidth:"1px",borderColor:_,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(Xj,{direction:{base:"column",md:"row"},gap:4,width:"100%",align:{base:"stretch",md:"center"},children:[(0,Xo.jsxs)(Sj,{maxW:{md:"300px"},children:[(0,Xo.jsx)(Tj,{children:(0,Xo.jsx)(Zv,{as:Ek,color:"gray.400"})}),(0,Xo.jsx)(gj,{placeholder:"Search payments...",value:d,onChange:e=>u(e.target.value)})]}),(0,Xo.jsxs)(SQ,{value:h,onChange:e=>p(e.target.value),maxW:{md:"200px"},children:[(0,Xo.jsx)("option",{value:"all",children:"All Status"}),(0,Xo.jsx)("option",{value:"success",children:"Success"}),(0,Xo.jsx)("option",{value:"pending",children:"Pending"}),(0,Xo.jsx)("option",{value:"failed",children:"Failed"}),(0,Xo.jsx)("option",{value:"expired",children:"Expired"})]}),(0,Xo.jsx)(SQ,{value:f,onChange:e=>m(e.target.value),maxW:{md:"200px"},children:[{value:"all",label:"All Time"},{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 3 Months"},{value:"1y",label:"Last Year"}].map((e=>(0,Xo.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Showing ",r.length," of ",e.payments.length," payments"]})]})})}),(0,Xo.jsx)(Vb,{bg:S,borderWidth:"1px",borderColor:_,children:(0,Xo.jsx)(Kb,{p:0,children:0===r.length?(0,Xo.jsxs)(Pb,{py:12,spacing:4,children:[(0,Xo.jsx)(Zv,{as:Xw,boxSize:"48px",color:"gray.400"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"medium",color:"gray.500",children:"No payments found"}),(0,Xo.jsx)(Tb,{color:"gray.400",textAlign:"center",children:d||"all"!==h||"all"!==f?"Try adjusting your filters":"No payment history available yet"})]}):(0,Xo.jsx)(z4,{children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{bg:A,children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Payment ID"}),(0,Xo.jsx)(T0,{children:"Amount"}),(0,Xo.jsx)(T0,{children:"Method"}),(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Date"}),(0,Xo.jsx)(T0,{children:"Actions"})]})}),(0,Xo.jsx)(N0,{children:r.map((e=>(0,Xo.jsxs)(P0,{_hover:{bg:C},children:[(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontFamily:"mono",fontSize:"sm",fontWeight:"medium",children:e.payment_id||e.paymentId}),(e.invoice_id||e.invoiceId)&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Invoice: ",e.invoice_id||e.invoiceId]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(Tb,{fontWeight:"semibold",children:C7(e.amount)})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsx)(r_,{variant:"subtle",colorScheme:"blue",children:e.payment_method||e.paymentMethod||"Bank Transfer"})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(r_,{colorScheme:N(e.status),variant:"subtle",display:"flex",alignItems:"center",gap:1,width:"fit-content",children:[(0,Xo.jsx)(Zv,{as:E(e.status),boxSize:"3"}),e.status]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:B7(e.created_at||e.createdAt)}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:F7(e.created_at||e.createdAt).split(" ")[1]})]})}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(y0,{label:"View Details",children:(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Yw,{}),size:"sm",variant:"ghost",onClick:()=>(e=>{v(e),x()})(e)})}),("verified"===e.status||"success"===e.status)&&(0,Xo.jsx)(y0,{label:"Download Receipt",children:(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Bw,{}),size:"sm",variant:"ghost",colorScheme:"green",onClick:()=>z(e.payment_id||e.paymentId)})}),(e.invoice_id||e.invoiceId)&&(0,Xo.jsx)(y0,{label:"View Invoice",children:(0,Xo.jsx)(Uj,{as:nb,to:"/tenant/invoices/".concat(e.invoice_id||e.invoiceId),icon:(0,Xo.jsx)(Ak,{}),size:"sm",variant:"ghost",colorScheme:"blue"})})]})})]},e.payment_id||e.paymentId)))})]})})})}),e.invoices.length>0&&(0,Xo.jsx)(Vb,{bg:S,borderWidth:"1px",borderColor:_,children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsx)(Wb,{size:"md",mb:4,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Xw}),(0,Xo.jsx)(Tb,{children:"Pending Invoices"})]})}),(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:4,children:e.invoices.filter((e=>"paid"!==e.status)).slice(0,6).map((e=>(0,Xo.jsx)(Vb,{size:"sm",variant:"outline",cursor:"pointer",_hover:{borderColor:"brand.500",shadow:"md"},onClick:()=>w("/tenant/invoices/".concat(e.invoice_id||e.invoiceId)),children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{justify:"space-between",width:"100%",children:[(0,Xo.jsxs)(Tb,{fontWeight:"semibold",fontSize:"sm",children:["#",e.invoice_no||e.invoiceNo]}),(0,Xo.jsx)(r_,{colorScheme:"paid"===e.status?"green":"yellow",size:"sm",children:e.status})]}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"brand.500",children:C7(e.amount)}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Due: ",B7(e.due_date)]})]})})},e.invoice_id||e.invoiceId)))}),e.invoices.filter((e=>"paid"!==e.status)).length>6&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices",variant:"link",size:"sm",mt:4,rightIcon:(0,Xo.jsx)(Yw,{}),children:"View All Invoices"})]})})]}),(0,Xo.jsxs)(JZ,{isOpen:y,onClose:b,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Payment Details"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{pb:6,children:g&&(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(IQ,{columns:2,spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Payment ID"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",fontFamily:"mono",children:g.payment_id||g.paymentId})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Status"}),(0,Xo.jsxs)(r_,{colorScheme:N(g.status),display:"flex",alignItems:"center",gap:1,width:"fit-content",children:[(0,Xo.jsx)(Zv,{as:E(g.status),boxSize:"3"}),g.status]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:C7(g.amount)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Method"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:g.payment_method||g.paymentMethod||"Bank Transfer"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Transaction ID"}),(0,Xo.jsx)(Tb,{fontFamily:"mono",fontSize:"sm",children:g.transaction_id||g.transactionId||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Channel"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:g.payment_channel||g.paymentChannel||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Created"}),(0,Xo.jsx)(Tb,{children:F7(g.created_at||g.createdAt)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Updated"}),(0,Xo.jsx)(Tb,{children:F7(g.updated_at||g.updatedAt)})]})]}),g.notes&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:2,children:"Notes"}),(0,Xo.jsx)(Tb,{children:g.notes})]})]}),"                  ",g.paymentProof&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:2,children:"Payment Proof"}),g.paymentProof.imageContent?(0,Xo.jsx)(Bb,{src:"data:".concat(g.paymentProof.fileType||"image/png",";base64,").concat(g.paymentProof.imageContent),alt:"Payment proof",maxH:"300px",objectFit:"contain",borderRadius:"md",border:"1px solid",borderColor:_}):g.paymentProof.fileUrl?(0,Xo.jsx)(Bb,{src:g.paymentProof.fileUrl,alt:"Payment proof",maxH:"300px",objectFit:"contain",borderRadius:"md",border:"1px solid",borderColor:_}):(0,Xo.jsxs)(Tb,{color:"gray.500",fontStyle:"italic",children:["Payment proof file: ",g.paymentProof.fileName||"Unknown file"]})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{justify:"flex-end",spacing:3,children:[("verified"===g.status||"success"===g.status)&&(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Bw,{}),colorScheme:"green",variant:"outline",onClick:()=>z(g.payment_id||g.paymentId),children:"Download Receipt"}),(g.invoice_id||g.invoiceId)&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices/".concat(g.invoice_id||g.invoiceId),leftIcon:(0,Xo.jsx)(Ak,{}),colorScheme:"blue",variant:"outline",onClick:b,children:"View Invoice"})]})]})})]})]})]})})},o9={manual_upload:"Manual Bank Transfer",midtrans_bca:"BCA Virtual Account",midtrans_bni:"BNI Virtual Account",midtrans_mandiri:"Mandiri Virtual Account",midtrans_gopay:"GoPay",midtrans_qris:"QRIS",credit_card:"Credit Card",bank_transfer:"Bank Transfer",cash:"Cash"},a9=()=>{var e,n,r,i,o,a;const{paymentId:s}=Px(),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)(null),g=zs("white","gray.700"),v=zs("gray.200","gray.600");(0,t.useEffect)((()=>{(async()=>{try{p(!0),console.log("Fetching payment details for payment ID:",s);const n=await D8.getPayment(s,{includeImageContent:!0});if(console.log("Payment response received:",n),n.payment){var e,t;if(console.log("=== PAYMENT DETAILS DEBUG ==="),console.log("Payment object:",n.payment),console.log("Payment proof exists:",!!n.payment.paymentProof),n.payment.paymentProof)console.log("Payment proof structure:",{hasImageContent:!!n.payment.paymentProof.imageContent,hasBase64Content:!!n.payment.paymentProof.base64Content,fileName:n.payment.paymentProof.fileName,fileType:n.payment.paymentProof.fileType,imageContentLength:null===(e=n.payment.paymentProof.imageContent)||void 0===e?void 0:e.length,base64ContentLength:null===(t=n.payment.paymentProof.base64Content)||void 0===t?void 0:t.length});if(c(n.payment),n.payment.paymentProof?console.log("Payment proof data available:",{hasImageContent:!!n.payment.paymentProof.imageContent,fileName:n.payment.paymentProof.fileName,fileType:n.payment.paymentProof.fileType,base64Content:!!n.payment.paymentProof.base64Content}):console.log("No payment proof object found in response"),n.payment.invoiceId){const e=await B8.getInvoice(n.payment.invoiceId);e.invoice&&u(e.invoice)}}else m("Payment details not found")}catch(Pee){console.error("Error fetching payment details:",Pee),m(Pee.message||"Failed to load payment details")}finally{p(!1)}})()}),[s]);return h?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.md",py:8,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(FS,{height:"40px",width:"200px"}),(0,Xo.jsx)(FS,{height:"200px",borderRadius:"lg"}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(FS,{height:"30px"}),(0,Xo.jsx)(FS,{height:"30px"}),(0,Xo.jsx)(FS,{height:"30px"}),(0,Xo.jsx)(FS,{height:"30px"})]})]})})}):f?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),f]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/payments",leftIcon:(0,Xo.jsx)(pw,{}),mt:4,colorScheme:"brand",variant:"outline",children:"Kembali ke Daftar Pembayaran"})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:[(0,Xo.jsxs)(Eb,{mb:6,children:[(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/payments",leftIcon:(0,Xo.jsx)(pw,{}),variant:"outline",mb:4,children:"Kembali"}),(0,Xo.jsx)(Wb,{as:"h1",size:"xl",children:"Detail Pembayaran"})]}),(0,Xo.jsxs)(Eb,{bg:g,p:6,borderRadius:"lg",borderWidth:"1px",borderColor:v,boxShadow:"md",mb:6,children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:{base:"flex-start",md:"center"},direction:{base:"column",md:"row"},mb:4,children:[(0,Xo.jsxs)(Pb,{align:"flex-start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"ID Pembayaran"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:null===l||void 0===l?void 0:l.paymentId})]}),l&&(e=>{let t,n;switch(e){case"success":t="green",n=(0,Xo.jsx)(Aw,{});break;case"pending":t="yellow",n=(0,Xo.jsx)(Nw,{});break;case"failed":t="red",n=(0,Xo.jsx)(Uk,{});break;case"waiting_approval":t="blue",n=(0,Xo.jsx)(Nw,{});break;default:t="gray",n=null}return(0,Xo.jsxs)(r_,{colorScheme:t,display:"flex",alignItems:"center",p:2,borderRadius:"md",fontSize:"md",children:[n&&(0,Xo.jsx)(Eb,{mr:2,children:n}),I7[e]||e]})})(l.status)]}),(0,Xo.jsx)(ew,{my:4}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(yk,{}),(0,Xo.jsx)(Tb,{children:"Jumlah"})]}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:C7(null===l||void 0===l?void 0:l.amount)})]}),(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Mw,{}),(0,Xo.jsx)(Tb,{children:"Metode Pembayaran"})]}),(0,Xo.jsx)(Tb,{children:o9[null===l||void 0===l?void 0:l.payment_method_type]||(null===l||void 0===l?void 0:l.payment_method_type)})]}),(null===l||void 0===l?void 0:l.payment_channel)&&(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Mw,{}),(0,Xo.jsx)(Tb,{children:"Channel Pembayaran"})]}),(0,Xo.jsx)(Tb,{children:l.payment_channel})]}),(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Xw,{}),(0,Xo.jsx)(Tb,{children:"ID Invoice"})]}),(0,Xo.jsx)(Hj,{as:nb,to:"/tenant/invoices/".concat(null===l||void 0===l?void 0:l.invoice_id),color:"brand.500",fontWeight:"medium",children:null===l||void 0===l?void 0:l.invoice_id})]}),(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(ww,{}),(0,Xo.jsx)(Tb,{children:"Tanggal Dibuat"})]}),(0,Xo.jsx)(Tb,{children:F7(null===l||void 0===l?void 0:l.created_at)})]}),(null===l||void 0===l?void 0:l.paid_at)&&(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(ww,{}),(0,Xo.jsx)(Tb,{children:"Tanggal Dibayar"})]}),(0,Xo.jsx)(Tb,{children:F7(null===l||void 0===l?void 0:l.paid_at)})]}),(null===l||void 0===l?void 0:l.transaction_id)&&(0,Xo.jsxs)(Xj,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Xw,{}),(0,Xo.jsx)(Tb,{children:"ID Transaksi"})]}),(0,Xo.jsx)(Tb,{fontFamily:"mono",children:l.transaction_id})]}),(null===l||void 0===l?void 0:l.notes)&&(0,Xo.jsxs)(Eb,{mt:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:1,children:"Catatan:"}),(0,Xo.jsx)(Tb,{children:l.notes})]})]})]}),((null===l||void 0===l?void 0:l.receipt_image)||(null===l||void 0===l||null===(e=l.paymentProof)||void 0===e?void 0:e.imageContent)||(null===l||void 0===l||null===(n=l.paymentProof)||void 0===n?void 0:n.base64Content))&&(0,Xo.jsxs)(Eb,{bg:g,p:6,borderRadius:"lg",borderWidth:"1px",borderColor:v,boxShadow:"md",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"center",mb:4,children:[(0,Xo.jsx)(Wb,{as:"h3",size:"md",children:"Payment Proof"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Bw,{}),size:"sm",variant:"outline",onClick:()=>{try{var e,t,n;let r,i,o;if(null!==l&&void 0!==l&&null!==(e=l.paymentProof)&&void 0!==e&&e.imageContent)r=l.paymentProof.imageContent,i=l.paymentProof.fileType||"image/png",o=l.paymentProof.fileName||"payment-proof-".concat(s);else if(null!==l&&void 0!==l&&null!==(t=l.paymentProof)&&void 0!==t&&t.base64Content)r=l.paymentProof.base64Content,i=l.paymentProof.fileType||"image/png",o=l.paymentProof.fileName||"payment-proof-".concat(s);else{if(null===l||void 0===l||!l.receipt_image)return void console.log("No payment proof image found in payment object:",{hasPaymentProof:!(null===l||void 0===l||!l.paymentProof),paymentProofKeys:null!==l&&void 0!==l&&l.paymentProof?Object.keys(l.paymentProof):[],hasReceiptImage:!(null===l||void 0===l||!l.receipt_image)});r=l.receipt_image,i=l.receipt_file_type||"image/png",o="payment-proof-".concat(s)}console.log("Downloading payment proof:",{fileName:o,mimeType:i,dataLength:null===(n=r)||void 0===n?void 0:n.length});const a=atob(r),c=new Array(a.length);for(let e=0;e<a.length;e++)c[e]=a.charCodeAt(e);const d=new Uint8Array(c),u=new Blob([d],{type:i}),h=window.URL.createObjectURL(u),p=window.document.createElement("a");p.href=h;const f=i.split("/")[1]||"png";p.download="".concat(o,".").concat(f),window.document.body.appendChild(p),p.click(),window.document.body.removeChild(p),window.URL.revokeObjectURL(h),console.log("Payment proof download completed")}catch(f){console.error("Error downloading payment proof:",f)}},children:"Download"})]}),!1,(0,Xo.jsxs)(Eb,{borderWidth:"1px",borderColor:v,borderRadius:"md",overflow:"hidden",children:[(console.log("=== RENDER DEBUG ==="),console.log("payment object in render:",l),console.log("payment?.paymentProof:",null===l||void 0===l?void 0:l.paymentProof),console.log("payment?.paymentProof?.imageContent exists:",!(null===l||void 0===l||null===(y=l.paymentProof)||void 0===y||!y.imageContent)),console.log("payment?.paymentProof?.base64Content exists:",!(null===l||void 0===l||null===(x=l.paymentProof)||void 0===x||!x.base64Content)),console.log("payment?.receipt_image exists:",!(null===l||void 0===l||!l.receipt_image)),null),null!==l&&void 0!==l&&null!==(r=l.paymentProof)&&void 0!==r&&r.imageContent?(0,Xo.jsx)(Bb,{src:"data:".concat(l.paymentProof.fileType||"image/jpeg",";base64,").concat(l.paymentProof.imageContent),alt:"Payment Proof",maxH:"500px",mx:"auto",objectFit:"contain",onError:e=>{var t;console.error("Error loading payment proof image:",e),console.log("Image data preview:",(null===(t=l.paymentProof.imageContent)||void 0===t?void 0:t.substring(0,100))+"...")},onLoad:()=>{console.log("Payment proof image loaded successfully")}}):null!==l&&void 0!==l&&null!==(i=l.paymentProof)&&void 0!==i&&i.base64Content?(0,Xo.jsx)(Bb,{src:"data:".concat(l.paymentProof.fileType||"image/jpeg",";base64,").concat(l.paymentProof.base64Content),alt:"Payment Proof",maxH:"500px",mx:"auto",objectFit:"contain",onError:e=>{console.error("Error loading payment proof image (base64Content):",e)}}):null!==l&&void 0!==l&&l.receipt_image?(0,Xo.jsx)(Bb,{src:"data:".concat(l.receipt_file_type||"image/jpeg",";base64,").concat(l.receipt_image),alt:"Payment Proof",maxH:"500px",mx:"auto",objectFit:"contain",onError:e=>{console.error("Error loading receipt image:",e)}}):(0,Xo.jsxs)(Eb,{p:8,textAlign:"center",color:"gray.500",children:[(0,Xo.jsx)(Tb,{children:"Payment proof not available"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"No payment proof image is attached to this payment."})]})]}),((null===l||void 0===l||null===(o=l.paymentProof)||void 0===o?void 0:o.fileName)||(null===l||void 0===l?void 0:l.receipt_image))&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",mt:2,children:["File: ",(null===l||void 0===l||null===(a=l.paymentProof)||void 0===a?void 0:a.fileName)||"receipt_image"]})]}),(null===l||void 0===l?void 0:l.payment_url)&&!["success","failed"].includes(l.status)&&(0,Xo.jsxs)(Eb,{mt:6,textAlign:"center",children:[(0,Xo.jsx)(Bj,{as:"a",href:l.payment_url,target:"_blank",rel:"noopener noreferrer",colorScheme:"brand",size:"lg",leftIcon:(0,Xo.jsx)(Mw,{}),children:"Lanjutkan Pembayaran"}),(0,Xo.jsxs)(Tb,{mt:2,fontSize:"sm",color:"gray.500",children:["Link pembayaran akan kedaluwarsa pada: ",F7(l.expiry_time)]})]})]})});var y,x},s9=()=>{const{paymentId:e,invoiceId:n,bookingId:r}=Px(),[i,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)("midtrans"),[j,w]=(0,t.useState)(3600),[k,S]=(0,t.useState)(null),[_,A]=(0,t.useState)(null),{isOpen:C,onOpen:P,onClose:I}=GG(),[T,N]=(0,t.useState)({payment_channel:"bank_transfer",notes:"",bank_name:"",account_number:"",account_holder_name:"",transfer_date:(new Date).toISOString().split("T")[0]}),[E,z]=(0,t.useState)(null),O=Cx(),L=hb(),D=zs("white","gray.700"),R=zs("gray.50","gray.600"),[M]=(0,t.useState)({virtualAccount:"1010087612345678",qrCode:"https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg",expiryTime:new Date(Date.now()+36e5).toISOString()});(0,t.useEffect)((()=>{e?B():n?F():r&&W()}),[e,n,r]),(0,t.useEffect)((()=>{if(!u&&!e&&!n&&r)return console.log("No payment method selected, redirecting to payment method selection"),void O("/tenant/bookings/".concat(r,"/payment-method"));!u&&s&&!i&&s.invoice_id&&(console.log("Navigating to invoice details:",s.invoice_id),O("/tenant/invoices/".concat(s.invoice_id,"/payment-method")))}),[s,i,u,O,e,n,r]);const B=async()=>{try{var t;if(h(!0),console.log("Fetching payment data for ID:",e),!e||"undefined"===e)throw new Error("Invalid payment ID");const n=await D8.getPayment(e);console.log("Payment response:",n);let r=null;if(r=n.payment?n.payment:n.data&&n.data.payment?n.data.payment:"success"===n.status&&n.data?n.data:n,r){const e={payment_id:r.paymentId||r.payment_id||r.id,invoice_id:r.invoiceId||r.invoice_id,booking_id:r.bookingId||r.booking_id,tenant_id:r.tenantId||r.tenant_id,amount:r.amount,status:r.status,payment_method:r.paymentMethod||r.payment_method,payment_channel:r.paymentChannel||r.payment_channel,transaction_id:r.transactionId||r.transaction_id,created_at:r.createdAt||r.created_at,updated_at:r.updatedAt||r.updated_at,notes:r.notes,midtrans_token:r.midtrans_token,midtrans_redirect_url:r.midtrans_redirect_url};a(e),console.log("Mapped payment data:",e)}if(null!==(t=r)&&void 0!==t&&t.invoice_id){const e=await B8.getInvoice(r.invoice_id);(e.invoice||e.data)&&l(e.invoice||e.data)}}catch(v){console.error("Error fetching payment:",v),y(v.message||"Failed to load payment data")}finally{h(!1)}},F=async()=>{try{if(h(!0),console.log("Fetching invoice data for ID:",n),!n||"undefined"===n)throw new Error("Invalid invoice ID");const t=await B8.getInvoice(n);console.log("Invoice response:",t);let r=null;if(r=t.invoice?t.invoice:t.data&&t.data.invoice?t.data.invoice:"success"===t.status&&t.data?t.data:t,r){const t={invoice_id:r.invoiceId||r.invoice_id||r.id,booking_id:r.bookingId||r.booking_id,tenant_id:r.tenantId||r.tenant_id,invoice_no:r.invoiceNo||r.invoice_no,amount:r.amount||r.totalAmount||r.total_amount,totalAmount:r.amount||r.totalAmount||r.total_amount,due_date:r.dueDate||r.due_date,status:r.status,payment_status:r.paymentStatus||r.payment_status,payment_id:r.payment_id,notes:r.notes,items:r.items,created_at:r.createdAt||r.created_at,updated_at:r.updatedAt||r.updated_at,booking:r.booking,tenant:r.tenant,payments:r.payments};if(l(t),console.log("Mapped invoice data:",t),t.payment_id)try{const e=await D8.getPayment(t.payment_id);a(e.payment||e.data)}catch(e){console.warn("Payment not found for invoice:",e)}}}catch(v){console.error("Error fetching invoice:",v),y(v.message||"Failed to load invoice data")}finally{h(!1)}},W=async()=>{try{var e,t;h(!0);const c=await z8.getBooking(r);console.log("Booking response:",c);let u=null;if(u=c.booking?c.booking:c.data&&c.data.booking?c.data.booking:"success"===c.status&&c.data?c.data:c,u){const e={booking_id:u.bookingId||u.booking_id||u.id,tenant_id:u.tenantId||u.tenant_id,room_id:u.roomId||u.room_id,start_date:u.checkInDate||u.check_in||u.start_date,end_date:u.checkOutDate||u.check_out||u.end_date,total_amount:u.totalAmount||u.total_amount,amount:u.totalAmount||u.total_amount,status:u.status,payment_status:u.paymentStatus||u.payment_status,payment_id:u.payment_id,invoice_id:u.invoice_id,invoice:u.invoice,room:u.room,tenant:u.tenant,payments:u.payments,approvals:u.approvals,created_at:u.createdAt||u.created_at,updated_at:u.updatedAt||u.updated_at};if(d(e),console.log("Mapped booking data:",e),!e.room&&e.room_id)try{const t=await U(e.room_id);t&&(e.room=t,d((0,o.A)({},e)))}catch(n){console.warn("Failed to fetch room details:",n)}}if(null!==(e=u)&&void 0!==e&&e.payment_id)try{const e=await D8.getPayment(u.payment_id);a(e.payment)}catch(i){console.warn("Payment not found for booking, will create new one:",i)}if(null!==(t=u)&&void 0!==t&&t.invoice_id)try{const e=await B8.getInvoice(u.invoice_id);l(e.invoice)}catch(s){console.warn("Invoice not found for booking:",s)}}catch(v){console.error("Error fetching booking:",v),y(v.message||"Failed to load booking data")}finally{h(!1)}},U=async e=>{try{const t=await fetch("".concat(T6,"/v1/rooms/").concat(e));if(t.ok){const e=await t.json();return e.room||e.data||e}}catch(v){console.warn("Failed to fetch room details:",v)}return null},q=async()=>{if(c)try{f(!0);const e={booking_id:c.booking_id,tenant_id:c.tenant_id,room_id:c.room_id,amount:c.total_amount||c.amount,due_date:new Date(Date.now()+864e5).toISOString(),description:"Payment for room booking ".concat(c.booking_id)},t=await D8.generateInvoiceWithMidtrans(e);t.invoice&&(l(t.invoice),t.payment&&a(t.payment),L({title:"Invoice Created",description:"Payment invoice has been created successfully.",status:"success",duration:5e3,isClosable:!0}))}catch(v){console.error("Error creating payment:",v),y(v.message||"Failed to create payment"),L({title:"Error",description:"Failed to create payment invoice.",status:"error",duration:5e3,isClosable:!0})}finally{f(!1)}};(0,t.useEffect)((()=>{if(!i)return;const e=new Date(M.expiryTime),t=setInterval((()=>{const n=Math.floor((e-new Date)/1e3);w(n>0?n:0),n<=0&&(V(),clearInterval(t))}),1e3);return()=>clearInterval(t)}),[i,M.expiryTime]);const H=e=>{navigator.clipboard.writeText(e).then((()=>{L({title:"Copied to clipboard",status:"success",duration:2e3,isClosable:!0})})).catch((e=>{console.error("Failed to copy: ",e)}))},V=async()=>{g(!0);try{const t=await D8.checkMidtransPaymentStatus(e);a(t.payment),"completed"===t.payment.status&&L({title:"Payment completed!",description:"Your payment has been received and confirmed.",status:"success",duration:5e3,isClosable:!0})}catch(v){console.error("Error checking payment status:",v),L({title:"Failed to check payment status",status:"error",duration:3e3,isClosable:!0})}finally{g(!1)}},G=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e);return u?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsx)(Xj,{justify:"center",align:"center",minH:"400px",children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500"})})})}):c||u?i&&"completed"===i.status?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(Xj,{direction:"column",align:"center",justify:"center",minH:"400px",children:[(0,Xo.jsx)(Zv,{as:_w,boxSize:"80px",color:"green.500",mb:6}),(0,Xo.jsx)(Wb,{as:"h1",size:"xl",mb:2,textAlign:"center",children:"Payment Successful!"}),(0,Xo.jsx)(Tb,{mb:6,textAlign:"center",children:"Your payment has been received and confirmed."}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",maxW:"400px",width:"100%",children:[(0,Xo.jsx)(Eb,{p:4,borderWidth:"1px",borderRadius:"md",children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Invoice Number"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:["#",null===s||void 0===s?void 0:s.invoice_no]})]})}),(0,Xo.jsx)(Eb,{p:4,borderWidth:"1px",borderRadius:"md",children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Amount Paid"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"xl",color:"green.500",children:G((null===s||void 0===s?void 0:s.amount)||0)})]})}),(0,Xo.jsx)(Eb,{p:4,borderWidth:"1px",borderRadius:"md",children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Payment Date"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:new Date(i.updated_at).toLocaleString()})]})}),(0,Xo.jsx)(Bj,{colorScheme:"brand",mt:4,onClick:()=>O("/tenant/bookings/".concat(null===s||void 0===s?void 0:s.booking_id)),children:"View Booking Details"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>O("/tenant/invoices"),children:"Back to Invoices"})]})]})})}):i&&"failed"===i.status?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(Xj,{direction:"column",align:"center",justify:"center",minH:"400px",children:[(0,Xo.jsx)(Zv,{as:Hw,boxSize:"80px",color:"red.500",mb:6}),(0,Xo.jsx)(Wb,{as:"h1",size:"xl",mb:2,textAlign:"center",children:"Payment Failed"}),(0,Xo.jsx)(Tb,{mb:6,textAlign:"center",children:"We couldn't process your payment. Please try again or choose another payment method."}),(0,Xo.jsxs)(Pb,{spacing:4,maxW:"400px",width:"100%",children:[(0,Xo.jsx)(Bj,{colorScheme:"brand",width:"full",onClick:()=>O("/tenant/payments/method/".concat(null===s||void 0===s?void 0:s.invoice_id)),children:"Try Again"}),(0,Xo.jsx)(Bj,{variant:"outline",width:"full",onClick:()=>O("/tenant/invoices/".concat(null===s||void 0===s?void 0:s.invoice_id)),children:"Back to Invoice"})]})]})})}):!c||i||s?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",leftIcon:(0,Xo.jsx)(pw,{}),onClick:()=>O("/tenant/invoices/".concat(i.invoice_id)),mb:6,children:"Back to Invoice"}),(0,Xo.jsx)(Wb,{as:"h1",size:"xl",mb:2,children:"Complete Your Payment"}),(0,Xo.jsx)(Tb,{mb:6,color:"gray.500",children:"Follow the instructions below to complete your payment"}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:5},spacing:6,children:[(0,Xo.jsx)(Eb,{gridColumn:{md:"span 3"},children:(0,Xo.jsxs)(Vb,{bg:D,mb:6,children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment Instructions"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(YQ,{variant:"enclosed",colorScheme:"brand",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Bank Transfer"}),(0,Xo.jsx)(JQ,{children:"Mobile Banking"}),(0,Xo.jsx)(JQ,{children:"Internet Banking"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Transfer the exact amount to the virtual account number before the time expires."]}),(0,Xo.jsxs)(Eb,{p:4,borderWidth:"1px",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"BCA Virtual Account"}),(0,Xo.jsxs)(Xj,{bg:R,p:3,borderRadius:"md",justify:"space-between",align:"center",children:[(0,Xo.jsx)(A6,{fontSize:"lg",fontWeight:"bold",children:M.virtualAccount}),(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(Dw,{}),onClick:()=>H(M.virtualAccount),children:"Copy"})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"sm",children:"Steps:"}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"1"}),(0,Xo.jsx)(Tb,{children:"Go to an ATM or open your mobile banking app."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"2"}),(0,Xo.jsx)(Tb,{children:'Choose "Transfer" and select "To BCA Virtual Account".'})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"3"}),(0,Xo.jsx)(Tb,{children:"Enter the Virtual Account Number shown above."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"4"}),(0,Xo.jsx)(Tb,{children:"Confirm the payment details and complete the transaction."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"5"}),(0,Xo.jsx)(Tb,{children:"Your payment will be processed automatically."})]})]})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Open your mobile banking app and follow these instructions."]}),(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(Eb,{width:"full",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"QR Code Payment"}),(0,Xo.jsx)(Xj,{justifyContent:"center",children:(0,Xo.jsx)(Bb,{src:M.qrCode,alt:"Payment QR Code",maxW:"200px",border:"1px solid",borderColor:"gray.200",borderRadius:"md"})})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Scan this QR code with your mobile banking app or e-wallet"})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"sm",children:"Steps:"}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"1"}),(0,Xo.jsx)(Tb,{children:"Open your mobile banking or e-wallet app."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"2"}),(0,Xo.jsx)(Tb,{children:"Choose the QR code or QRIS scanning option."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"3"}),(0,Xo.jsx)(Tb,{children:"Scan the QR code displayed above."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"4"}),(0,Xo.jsx)(Tb,{children:"Confirm the payment amount and complete the transaction."})]})]})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Log into your internet banking portal and follow these steps."]}),(0,Xo.jsxs)(Eb,{p:4,borderWidth:"1px",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"BCA Virtual Account"}),(0,Xo.jsxs)(Xj,{bg:R,p:3,borderRadius:"md",justify:"space-between",align:"center",children:[(0,Xo.jsx)(A6,{fontSize:"lg",fontWeight:"bold",children:M.virtualAccount}),(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(Dw,{}),onClick:()=>H(M.virtualAccount),children:"Copy"})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"sm",children:"Steps:"}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"1"}),(0,Xo.jsx)(Tb,{children:"Log in to your internet banking account."})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"2"}),(0,Xo.jsx)(Tb,{children:'Go to "Transfer" or "Payments" section.'})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"3"}),(0,Xo.jsx)(Tb,{children:'Choose "Virtual Account" payment option.'})]}),(0,Xo.jsxs)(dS,{align:"flex-start",children:[(0,Xo.jsx)(Xj,{minW:"2rem",h:"2rem",borderRadius:"full",bg:"brand.500",color:"white",justify:"center",align:"center",children:"4"}),(0,Xo.jsx)(Tb,{children:"Enter the virtual account number and follow the instructions."})]})]})]})})]})]})}),(0,Xo.jsxs)(k8,{children:["                ",(0,Xo.jsxs)(Pb,{spacing:3,width:"full",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Bk,{}),colorScheme:"brand",onClick:V,isLoading:m,loadingText:"Checking...",width:"full",children:"Check Payment Status"}),(0,Xo.jsx)(Tb,{fontSize:"sm",textAlign:"center",color:"gray.500",children:"or"}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Qw,{}),variant:"outline",colorScheme:"brand",onClick:P,width:"full",children:"Upload Manual Payment"})]})]})]})}),(0,Xo.jsxs)(Eb,{gridColumn:{md:"span 2"},children:[(0,Xo.jsxs)(Vb,{bg:D,position:{base:"static",md:"sticky"},top:"100px",children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment Summary"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Time remaining:"}),(0,Xo.jsx)(Tb,{children:(()=>{if(j<=0)return"00:00:00";const e=Math.floor(j/3600),t=Math.floor(j%3600/60),n=j%60;return"".concat(e.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})()})]})]}),(null===i||void 0===i?void 0:i.payment_method)&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Payment Method"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:i.payment_method.includes("bank")?yk:i.payment_method.includes("qr")?Sk:i.payment_method.includes("gopay")?gk:Mw}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:i.payment_method.replace("midtrans_","").replace("_"," ").toUpperCase()})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Invoice Number"}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["#",null===s||void 0===s?void 0:s.invoice_no]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Payment Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"xl",color:"green.500",children:G((null===s||void 0===s?void 0:s.amount)||0)})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:'After making the payment, it might take a few minutes for our system to receive the confirmation. Click "Check Payment Status" if you have completed the payment.'})]})})]}),"          "]})]}),(0,Xo.jsxs)(JZ,{isOpen:C,onClose:I,size:"xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Upload Manual Payment"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{pb:6,children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Manual Payment Instructions:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"If you've already made the payment through bank transfer or other means, upload your payment proof here for verification."})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Payment Channel"}),(0,Xo.jsxs)(SQ,{value:T.payment_channel,onChange:e=>N((t=>(0,o.A)((0,o.A)({},t),{},{payment_channel:e.target.value}))),children:[(0,Xo.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Xo.jsx)("option",{value:"cash",children:"Cash Payment"}),(0,Xo.jsx)("option",{value:"check",children:"Check"}),(0,Xo.jsx)("option",{value:"money_order",children:"Money Order"})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Bank Name"}),(0,Xo.jsx)(gj,{placeholder:"e.g., BCA, BRI, Mandiri",value:T.bank_name,onChange:e=>N((t=>(0,o.A)((0,o.A)({},t),{},{bank_name:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Account Number"}),(0,Xo.jsx)(gj,{placeholder:"Account number used for transfer",value:T.account_number,onChange:e=>N((t=>(0,o.A)((0,o.A)({},t),{},{account_number:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Account Holder Name"}),(0,Xo.jsx)(gj,{placeholder:"Name on the account",value:T.account_holder_name,onChange:e=>N((t=>(0,o.A)((0,o.A)({},t),{},{account_holder_name:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Transfer Date"}),(0,Xo.jsx)(gj,{type:"date",value:T.transfer_date,onChange:e=>N((t=>(0,o.A)((0,o.A)({},t),{},{transfer_date:e.target.value})))})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Notes (Optional)"}),(0,Xo.jsx)(D1,{placeholder:"Additional notes about the payment",value:T.notes,onChange:e=>N((t=>(0,o.A)((0,o.A)({},t),{},{notes:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Payment Proof"}),(0,Xo.jsx)(gj,{type:"file",accept:"image/*,.pdf",onChange:e=>z(e.target.files[0]),p:1}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:"Upload bank transfer receipt, payment confirmation, or other payment proof (Image or PDF)"}),E&&(0,Xo.jsxs)(Eb,{mt:2,p:2,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:["Selected file: ",E.name]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Size: ",(E.size/1024/1024).toFixed(2)," MB"]})]})]})]})}),(0,Xo.jsxs)(M1,{children:[(0,Xo.jsx)(Bj,{variant:"ghost",mr:3,onClick:I,children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:async()=>{try{if(f(!0),!E)throw new Error("Please upload payment proof");const e=(null===s||void 0===s?void 0:s.totalAmount)||(null===c||void 0===c?void 0:c.totalAmount)||(null===c||void 0===c?void 0:c.total_amount)||(null===c||void 0===c?void 0:c.amount);if(!e||e<=0)throw new Error("Invalid payment amount. Cannot process payment without a valid amount.");const t={bookingId:(null===s||void 0===s?void 0:s.bookingId)||(null===c||void 0===c?void 0:c.bookingId),tenantId:(null===s||void 0===s?void 0:s.tenantId)||(null===c||void 0===c?void 0:c.tenantId),invoiceId:null===s||void 0===s?void 0:s.invoiceId,amount:e,paymentChannel:T.payment_channel,notes:T.notes,bankName:T.bank_name,accountNumber:T.account_number,accountHolderName:T.account_holder_name,transferDate:T.transfer_date+"T00:00:00Z",fileName:E.name,fileType:E.type,contentEncoding:"base64"},n=new FileReader;n.onload=async()=>{try{const e=n.result.split(",")[1];t.imageContent=e;await D8.createManualPayment(t);L({title:"Payment Submitted",description:"Your payment proof has been submitted for verification.",status:"success",duration:5e3,isClosable:!0}),I(),O("/tenant/payments/history")}catch(v){console.error("Error creating manual payment:",v),L({title:"Payment Error",description:v.message||"Failed to submit payment",status:"error",duration:5e3,isClosable:!0})}finally{f(!1)}},n.readAsDataURL(E)}catch(v){console.error("Error processing manual payment:",v),L({title:"Payment Error",description:v.message||"Failed to process manual payment",status:"error",duration:5e3,isClosable:!0}),f(!1)}},isLoading:p,loadingText:"Submitting...",isDisabled:!E||!T.bank_name||!T.account_number,children:"Submit Payment"})]})]})]})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),onClick:()=>O("/tenant/bookings"),variant:"ghost",mb:4,children:"Back to Bookings"}),(0,Xo.jsx)(Wb,{as:"h1",size:"xl",mb:2,children:"Create Payment"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Create a payment invoice for your booking"})]}),(0,Xo.jsxs)(Vb,{bg:D,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{as:"h3",size:"lg",children:"Booking Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"gray.500",children:"Booking ID"}),(0,Xo.jsx)(Tb,{children:c.booking_id})]}),"                  ",(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"gray.500",children:"Room"}),(0,Xo.jsx)(Tb,{children:(null===(K=c.room)||void 0===K?void 0:K.name)||(null===(Y=c.room)||void 0===Y?void 0:Y.room_name)||"Room ".concat(c.room_id)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"gray.500",children:"Check-in Date"}),(0,Xo.jsx)(Tb,{children:new Date(c.start_date).toLocaleDateString()})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"gray.500",children:"Check-out Date"}),(0,Xo.jsx)(Tb,{children:new Date(c.end_date).toLocaleDateString()})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"gray.500",children:"Total Amount"}),(0,Xo.jsx)(Tb,{fontSize:"xl",fontWeight:"bold",color:"brand.500",children:G(c.total_amount||c.amount||0)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"gray.500",children:"Status"}),(0,Xo.jsx)(r_,{colorScheme:"confirmed"===c.status?"green":"yellow",children:c.status})]})]})}),(0,Xo.jsx)(k8,{children:(0,Xo.jsx)(Bj,{colorScheme:"brand",size:"lg",isLoading:p,loadingText:"Creating Invoice...",onClick:q,width:"100%",children:"Create Payment Invoice"})})]})]})})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),v||"Payment information not found"]}),(0,Xo.jsx)(Bj,{mt:4,colorScheme:"brand",leftIcon:(0,Xo.jsx)(pw,{}),onClick:()=>O("/tenant/bookings"),children:"Back to Bookings"})]})});var K,Y},l9=e=>{let{booking:t,invoice:n,showProgress:r=!1,showBookingDetails:i=!0,isLoading:o=!1,size:a="md"}=e;const s=zs("white","gray.800"),l=zs("gray.200","gray.700"),c=zs("brand.50","brand.900"),d=zs("gray.700","gray.200"),u=n||t;if(o)return(0,Xo.jsx)(Eb,{p:m(a),borderWidth:"1px",borderRadius:"lg",bg:s,borderColor:l,boxShadow:"md",children:(0,Xo.jsxs)(Pb,{spacing:4,align:"center",children:[(0,Xo.jsx)(Qv,{size:"lg",color:"brand.500"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Loading payment information..."})]})});if(!u)return(0,Xo.jsx)(Eb,{p:m(a),borderWidth:"1px",borderRadius:"lg",bg:s,borderColor:l,boxShadow:"md",children:(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"No payment information available"]})});const h=e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"Rp 0",p=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"N/A",f=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"paid":case"success":case"completed":case"verified":return"green";case"partially_paid":case"pending":case"waiting_approval":return"yellow";case"overdue":case"unpaid":case"failed":case"rejected":return"red";case"processing":case"in_progress":return"blue";default:return"gray"}};function m(e){switch(e){case"sm":return 4;case"lg":return 8;default:return 6}}const g=!!n,v=g?"Invoice Summary":"Booking Summary",y=g?"#".concat(u.invoice_no||u.invoiceNumber||u.id):"Booking #".concat(u.booking_id||u.bookingId||u.id),x=u.total_amount||u.totalAmount||u.amount||0,b=u.status,j=g?u.due_date||u.dueDate:u.check_out||u.checkOutDate,w=g?u.created_at||u.issueDate:u.created_at||u.createdAt,k=((e,t)=>{if(!t)return null;const n=new Date,r=new Date(t),i=Math.ceil((r-n)/864e5);return"paid"===(null===e||void 0===e?void 0:e.toLowerCase())||"completed"===(null===e||void 0===e?void 0:e.toLowerCase())?null:i<0?{color:"red",text:"Overdue by ".concat(Math.abs(i)," days"),icon:Vw}:i<=3?{color:"orange",text:"Due in ".concat(i," days"),icon:Nw}:i<=7?{color:"yellow",text:"Due in ".concat(i," days"),icon:Nw}:null})(b,j),S=u.room||(null===t||void 0===t?void 0:t.room),_=u.tenant||(null===t||void 0===t?void 0:t.tenant);return(0,Xo.jsxs)(Eb,{p:m(a),borderWidth:"1px",borderRadius:"lg",bg:s,borderColor:l,boxShadow:"md",position:"relative",overflow:"hidden",children:[k&&(0,Xo.jsx)(Eb,{position:"absolute",top:"0",left:"0",right:"0",height:"4px",bg:"".concat(k.color,".500")}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"flex-start",wrap:"wrap",gap:2,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,flex:"1",children:[(0,Xo.jsx)(Wb,{size:function(e){switch(e){case"sm":return"sm";case"lg":return"lg";default:return"md"}}(a),color:d,children:v}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:y}),w&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.400",children:["Created: ",p(w)]})]}),(0,Xo.jsxs)(Pb,{align:"end",spacing:2,children:[(0,Xo.jsx)(r_,{colorScheme:f(b),fontSize:"sm",px:3,py:1,borderRadius:"full",children:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"paid":return"Paid";case"success":return"Success";case"completed":return"Completed";case"verified":return"Verified";case"partially_paid":return"Partially Paid";case"pending":return"Pending";case"waiting_approval":return"Waiting Approval";case"overdue":return"Overdue";case"unpaid":return"Unpaid";case"failed":return"Failed";case"rejected":return"Rejected";case"processing":return"Processing";case"in_progress":return"In Progress";case"cancelled":return"Cancelled";default:return e||"Unknown"}})(b)}),k&&(0,Xo.jsx)(y0,{label:k.text,hasArrow:!0,children:(0,Xo.jsxs)(r_,{colorScheme:k.color,fontSize:"xs",px:2,py:1,borderRadius:"full",display:"flex",alignItems:"center",gap:1,children:[(0,Xo.jsx)(Zv,{as:k.icon,boxSize:3}),k.text]})})]})]}),r&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{justify:"space-between",mb:2,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Payment Progress"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"paid"===b||"completed"===b?"100%":"partially_paid"===b?"50%":"0%"})]}),(0,Xo.jsx)(a0,{value:"paid"===b||"completed"===b?100:"partially_paid"===b?50:"pending"===b||"processing"===b?25:0,size:"sm",colorScheme:f(b),borderRadius:"full"})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Eb,{bg:c,p:4,borderRadius:"md",textAlign:"center",children:[(0,Xo.jsxs)(dS,{justify:"center",mb:2,children:[(0,Xo.jsx)(Zv,{as:yk,color:"brand.500",boxSize:5}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"brand.600",children:g?"Invoice Amount":"Booking Total"})]}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"2xl",color:"brand.600",children:h(x)})]}),(0,Xo.jsxs)(IQ,{columns:2,spacing:4,children:[w&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{mb:1,children:[(0,Xo.jsx)(Zv,{as:ww,color:"blue.500",boxSize:4}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:g?"Issue Date":"Created"})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:p(w)})]}),j&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{mb:1,children:[(0,Xo.jsx)(Zv,{as:Nw,color:"orange.500",boxSize:4}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:g?"Due Date":"Check Out"})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:p(j)})]})]}),i&&(S||_||t&&(t.check_in||t.startDate))&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"gray.600",mb:3,children:g?"Related Booking":"Booking Details"}),(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[S&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ok,color:"purple.500",boxSize:4}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,flex:"1",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:S.name||S.room_name||"Room"}),S.room_type&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:S.room_type})]})]}),t&&(t.check_in||t.startDate)&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"green.500",boxSize:4}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:((e,t)=>{if(!e||!t)return"N/A";const n=new Date(e).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),r=new Date(t).toLocaleDateString("id-ID",{month:"short",day:"numeric",year:"numeric"});return"".concat(n," - ").concat(r)})(t.check_in||t.startDate,t.check_out||t.endDate)})]}),_&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:tS,color:"teal.500",boxSize:4}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,flex:"1",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:_.name||_.full_name||"Tenant"}),_.email&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:_.email})]})]})]})]})]}),g&&(0,Xo.jsxs)(Xo.Fragment,{children:[u.description&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",mb:1,children:"Description:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",bg:"gray.50",p:2,borderRadius:"md",children:u.description})]}),u.items&&u.items.length>0&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Invoice Items:"}),(0,Xo.jsx)(Pb,{spacing:2,align:"stretch",children:u.items.map(((e,t)=>(0,Xo.jsxs)(dS,{justify:"space-between",fontSize:"sm",p:2,bg:"gray.50",borderRadius:"md",children:[(0,Xo.jsx)(Tb,{children:e.description||e.name}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:h(e.amount||e.total)})]},t)))})]})]})]})]})]})},c9=Vj({displayName:"RepeatIcon",path:(0,Xo.jsxs)("g",{fill:"currentColor",children:[(0,Xo.jsx)("path",{d:"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z"}),(0,Xo.jsx)("path",{d:"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z"})]})}),d9=e=>{let{paymentUrl:n,orderId:r,invoiceId:i,paymentMethod:o,amount:a,onCancel:s,onComplete:l,autoOpen:c=!0}=e;const[d,u]=(0,t.useState)(c),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(300),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(0),[w,k]=(0,t.useState)(!1),S=hb(),_=Cx(),A=zs("white","gray.800"),C=zs("gray.200","gray.600"),P=zs("blue.50","blue.900"),I=(e=>{if(!e)return{icon:Mw,name:"Online Payment",color:"blue"};const t=e.toLowerCase();return t.includes("qr")||t.includes("qris")?{icon:Sk,name:"QRIS",color:"purple"}:t.includes("gopay")||t.includes("ovo")||t.includes("dana")?{icon:gk,name:"E-Wallet",color:"green"}:t.includes("bank")||t.includes("bca")||t.includes("mandiri")?{icon:Mw,name:"Bank Transfer",color:"blue"}:{icon:Mw,name:"Credit Card",color:"orange"}})(o),T=(0,t.useCallback)((async()=>{if(r&&!h&&!y){x(!0);try{const t=await D8.checkMidtransPaymentStatus(r);if(t&&t.payment){var e;const n=null===(e=t.payment.status)||void 0===e?void 0:e.toLowerCase();if("success"===n||"settlement"===n||"capture"===n||"verified"===n){f&&f.close();const e="verified"===n;return S({title:e?"Payment Verified!":"Payment Successful!",description:e?"Your payment has been verified and approved.":"Your payment has been processed successfully.",status:"success",duration:5e3,isClosable:!0}),l?l({status:"success",payment:t.payment,isVerified:e}):_("/tenant/payments/status/".concat(i,"?transaction_id=").concat(r,"&verified=").concat(e)),!0}if("failure"===n||"cancel"===n||"expire"===n||"denied"===n){f&&f.close();return S({title:"Payment Failed",description:{failure:"Your payment could not be processed.",cancel:"Payment was cancelled.",expire:"Payment session has expired.",denied:"Payment was denied."}[n]||"Your payment could not be processed. Please try again.",status:"error",duration:5e3,isClosable:!0}),l&&l({status:"failed",payment:t.payment}),!0}}}catch(t){console.error("Error checking payment status:",t),S({title:"Connection Error",description:"Unable to check payment status. Will retry automatically.",status:"warning",duration:3e3,isClosable:!0})}finally{x(!1)}return!1}}),[r,h,y,f,S,l,_,i]),N=(0,t.useCallback)((()=>{if(n)try{const e=window.open(n,"midtrans_payment","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,status=no");if(!e||e.closed||"undefined"===typeof e.closed)return k(!0),S({title:"Pop-up Blocked",description:"Please enable pop-ups for this website and try again.",status:"warning",duration:5e3,isClosable:!0}),void u(!1);m(e),k(!1),u(!1);const t=setInterval((()=>{e.closed&&(clearInterval(t),m(null),setTimeout((()=>{S({title:"Payment Window Closed",description:'If you completed the payment, click "Check Status" to verify.',status:"info",duration:8e3,isClosable:!0})}),1e3))}),1e3)}catch(e){console.error("Error opening payment window:",e),u(!1),S({title:"Error",description:"Failed to open payment window. Please try the manual link.",status:"error",duration:5e3,isClosable:!0})}}),[n,S]);(0,t.useEffect)((()=>{if(g>0){const e=setTimeout((()=>v(g-1)),1e3);return()=>clearTimeout(e)}}),[g]),(0,t.useEffect)((()=>{if(c&&n&&d){const e=setTimeout(N,1e3);return()=>clearTimeout(e)}}),[c,n,d,N]),(0,t.useEffect)((()=>{if(f&&!y){const e=setInterval((async()=>{await T()&&clearInterval(e)}),5e3);return()=>clearInterval(e)}}),[f,y,T]);const E=()=>{f&&f.close(),s&&s()};return(0,Xo.jsx)(Eb,{p:6,borderWidth:"1px",borderRadius:"lg",bg:A,borderColor:C,boxShadow:"lg",maxW:"600px",mx:"auto",children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Pb,{spacing:3,align:"center",children:[(0,Xo.jsx)(Zv,{as:I.icon,boxSize:12,color:"".concat(I.color,".500")}),(0,Xo.jsx)(Wb,{size:"lg",textAlign:"center",color:"brand.600",children:"Complete Your Payment"}),(0,Xo.jsx)(Tb,{color:"gray.600",textAlign:"center",children:"Pay securely through Midtrans payment gateway"})]}),a&&(0,Xo.jsxs)(Eb,{bg:P,p:4,borderRadius:"md",textAlign:"center",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Amount to Pay"}),(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"brand.600",children:(e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e):"Rp 0")(a)}),o&&(0,Xo.jsx)(r_,{colorScheme:I.color,mt:2,children:I.name})]}),g>0&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",mb:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nw,color:"orange.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Session Expires In"})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"bold",color:"orange.500",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(g)})]}),(0,Xo.jsx)(a0,{value:(300-g)/300*100,size:"sm",colorScheme:"orange",borderRadius:"full"})]}),d?(0,Xo.jsxs)(Pb,{spacing:4,py:6,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Opening Midtrans payment window..."}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"A new window will open for secure payment processing"})]}):w?(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Pop-up blocked!"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Please enable pop-ups for this website and try again, or use the manual link below."})]})]}):(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Payment window opened"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Complete your payment in the new window. If no window appeared, use the manual link below."})]})]}),(0,Xo.jsxs)(Eb,{textAlign:"center",p:4,borderWidth:"1px",borderRadius:"md",borderColor:C,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Didn't see the payment window?"}),(0,Xo.jsxs)(Hj,{href:n,isExternal:!0,color:"brand.500",fontWeight:"bold",fontSize:"lg",display:"inline-flex",alignItems:"center",gap:2,children:["Open Payment Page Manually",(0,Xo.jsx)(Zv,{as:Gw})]})]}),(0,Xo.jsxs)(dS,{justify:"center",p:3,bg:"green.50",borderRadius:"md",spacing:2,children:[(0,Xo.jsx)(Zv,{as:zk,color:"green.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.700",children:"Your payment is secured by Midtrans SSL encryption"})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsx)(Pb,{spacing:3,children:!d&&(0,Xo.jsxs)(Xo.Fragment,{children:[w&&(0,Xo.jsx)(Bj,{onClick:()=>{u(!0),k(!1),N()},colorScheme:"brand",size:"lg",width:"full",leftIcon:(0,Xo.jsx)(c9,{}),children:"Retry Opening Payment Window"}),(0,Xo.jsxs)(IQ,{columns:f?1:2,spacing:3,width:"full",children:[(0,Xo.jsx)(Bj,{onClick:async()=>{p(!0),j((e=>e+1));try{let t=r;if(!t&&n){const e=n.match(/\/([^/]+)$/);t=e?e[1]:null}if(!t)return void S({title:"Error",description:"Could not determine payment details for status check.",status:"error",duration:5e3,isClosable:!0});const o=await D8.checkMidtransPaymentStatus(t);if(o&&o.payment){var e;const n=null===(e=o.payment.status)||void 0===e?void 0:e.toLowerCase();if("success"===n||"settlement"===n||"capture"===n||"verified"===n)S({title:"verified"===n?"Payment Verified!":"Payment Confirmed!",description:"verified"===n?"Your payment has been successfully verified and approved.":"Your payment has been successfully verified.",status:"success",duration:5e3,isClosable:!0}),l?l({status:"success",payment:o.payment,isVerified:"verified"===n}):_("/tenant/payments/status/".concat(i,"?transaction_id=").concat(t,"&verified=").concat("verified"===n));else if("pending"===n)S({title:"Payment Still Pending",description:"Your payment is still being processed. Please wait a moment and try again.",status:"info",duration:5e3,isClosable:!0});else if("failure"===n||"cancel"===n||"expire"===n||"denied"===n){S({title:"Payment Failed",description:{failure:"Your payment was not successful.",cancel:"Payment was cancelled.",expire:"Payment session has expired.",denied:"Payment was denied."}[n]||"Your payment was not successful. Please try again with a different payment method.",status:"error",duration:5e3,isClosable:!0}),l&&l({status:"failed",payment:o.payment})}else S({title:"Status Unknown",description:"Payment status: ".concat(n,". Please contact support if this persists."),status:"warning",duration:5e3,isClosable:!0})}else S({title:"Unable to Check Status",description:"Could not verify payment status. Please try again in a moment.",status:"warning",duration:5e3,isClosable:!0})}catch(t){console.error("Error checking payment status:",t),S({title:"Error",description:"Failed to check payment status. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{p(!1)}},colorScheme:"brand",size:"lg",isLoading:h,loadingText:"Checking...",leftIcon:(0,Xo.jsx)(Zv,{as:Bk}),variant:f?"solid":"outline",children:b>0?"Check Status (".concat(b,")"):"Check Payment Status"}),!f&&(0,Xo.jsx)(Bj,{onClick:E,variant:"outline",colorScheme:"gray",size:"lg",children:"Cancel Payment"})]}),f&&(0,Xo.jsx)(Bj,{onClick:E,variant:"ghost",colorScheme:"gray",size:"sm",children:"Cancel Payment"})]})}),!d&&(0,Xo.jsxs)(Eb,{fontSize:"sm",color:"gray.600",textAlign:"center",children:[(0,Xo.jsx)(Tb,{mb:2,fontWeight:"medium",children:"Next Steps:"}),(0,Xo.jsxs)(Pb,{spacing:1,align:"start",children:[(0,Xo.jsx)(Tb,{children:"1. Complete your payment in the payment window"}),(0,Xo.jsx)(Tb,{children:"2. Return to this page after payment"}),(0,Xo.jsx)(Tb,{children:'3. Click "Check Payment Status" to verify'})]})]})]})})},u9=()=>{const{bookingId:e,invoiceId:n}=Px(),r=Cx(),i=hb(),{isOpen:a,onOpen:s,onClose:l}=GG(),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)([]),[j,w]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[_,A]=(0,t.useState)(null),[C,P]=(0,t.useState)(!1),[I,T]=(0,t.useState)({paymentChannel:"",notes:"",bankName:"",accountNumber:"",accountHolderName:"",transferDate:(new Date).toISOString().split("T")[0],fileName:"",fileType:"",content:""}),[N,E]=(0,t.useState)(null),[z,O]=(0,t.useState)(!1);(0,t.useEffect)((()=>{L()}),[e,n]),(0,t.useEffect)((()=>{console.log("=== useEffect: showManualForm changed ===",C)}),[C]);const L=async()=>{try{if(h(!0),w(null),n){const e=_8(n);if(!e)throw new Error("Invalid invoice ID: ".concat(n));const r=await B8.getInvoice(e);if(!r||!r.invoice)throw new Error("Invoice not found");if(y(r.invoice),r.invoice.bookingId||r.invoice.booking_id){const e=r.invoice.bookingId||r.invoice.booking_id;try{const t=await z8.getBooking(e);t&&t.booking&&g(t.booking)}catch(t){console.warn("Could not fetch booking for invoice:",t)}}}else{if(!e)throw new Error("Either booking ID or invoice ID must be provided");{const t=_8(e);if(!t)throw new Error("Invalid booking ID: ".concat(e));const n=await z8.getBooking(t);if(!n||!n.booking)throw new Error("Booking not found");g(n.booking)}}const r=await D8.getPaymentMethods();if(r.methods&&Array.isArray(r.methods)){const e=r.methods.map((e=>{var t,n,r;return{methodId:(null===(t=e.methodId)||void 0===t?void 0:t.toString())||(null===(n=e.id)||void 0===n?void 0:n.toString()),name:e.name,description:e.description,icon:D(e.name),enabled:null===(r=e.enabled)||void 0===r||r}}));if(b(e),e.length>0){const t=e.find((e=>e.enabled));t&&d(t.methodId)}}else console.warn("Payment methods response format unexpected:",r),b([])}catch(Pee){console.error("Error fetching data:",Pee),w(Pee.message||"Failed to load payment information")}finally{h(!1)}},D=e=>{const t=null===e||void 0===e?void 0:e.toLowerCase();return null!==t&&void 0!==t&&t.includes("manual")||null!==t&&void 0!==t&&t.includes("transfer")?yk:null!==t&&void 0!==t&&t.includes("credit")||null!==t&&void 0!==t&&t.includes("card")?Mw:null!==t&&void 0!==t&&t.includes("midtrans")?tk:yk};return u?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.md",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"center",children:[(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Loading payment options..."})]})})}):j?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:["          ",(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),variant:"outline",onClick:()=>{r(n?"/tenant/invoices/".concat(n):e?"/tenant/bookings/".concat(e):"/tenant/bookings")},children:"Back"}),(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),j]}),(0,Xo.jsx)(Bj,{onClick:L,colorScheme:"blue",children:"Retry"})]})]})}):(console.log("RENDER - showManualForm:",C),console.log("RENDER - selectedMethod:",c),(0,Xo.jsxs)(m8,{children:["      ",(0,Xo.jsx)(Ob,{maxW:"container.md",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),variant:"outline",onClick:()=>{if(n)r("/tenant/invoices/".concat(n));else if(e||null!==m&&void 0!==m&&m.bookingId||null!==m&&void 0!==m&&m.booking_id){const t=e||(null===m||void 0===m?void 0:m.bookingId)||(null===m||void 0===m?void 0:m.booking_id);r("/tenant/bookings/".concat(t))}else r("/tenant/bookings")},alignSelf:"flex-start",children:"Back"}),(0,Xo.jsx)(Wb,{size:"lg",children:"Choose Payment Method"}),(0,Xo.jsx)(l9,{booking:m}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",mb:4,children:"Select your preferred payment method:"}),(0,Xo.jsx)(F3,{onChange:e=>{var t,n,r,i,o,a;console.log("=== handleMethodChange called ==="),console.log("methodId:",e),d(e);const s=x.find((t=>t.methodId.toString()===e.toString()));console.log("Method selected:",e),console.log("Method details:",s),console.log("All payment methods:",x);const l=(null===s||void 0===s||null===(t=s.name)||void 0===t?void 0:t.toLowerCase().includes("manual"))||(null===s||void 0===s||null===(n=s.name)||void 0===n?void 0:n.toLowerCase().includes("transfer"))||"manual"===(null===s||void 0===s||null===(r=s.category)||void 0===r?void 0:r.toLowerCase())||(null===s||void 0===s||null===(i=s.type)||void 0===i?void 0:i.toLowerCase().includes("manual"))||"manual_transfer"===(null===s||void 0===s||null===(o=s.name)||void 0===o?void 0:o.toLowerCase());console.log("Is manual payment:",l),console.log("Method name check:",null===s||void 0===s||null===(a=s.name)||void 0===a?void 0:a.toLowerCase()),l?(console.log("Setting showManualForm to TRUE"),P((e=>(console.log("Previous showManualForm state:",e),console.log("Setting showManualForm to: true"),!0))),setTimeout((()=>{console.log("=== Timeout check: showManualForm should be true now ===")}),100)):(console.log("Setting showManualForm to FALSE"),P((e=>(console.log("Previous showManualForm state:",e),console.log("Setting showManualForm to: false"),!1))),E(null),T({paymentChannel:"",notes:"",bankName:"",accountNumber:"",accountHolderName:"",transferDate:(new Date).toISOString().split("T")[0],fileName:"",fileType:"",content:""})),console.log("showManualForm state after change should be:",l)},value:c,children:(0,Xo.jsx)(Cb,{direction:"column",spacing:4,children:x.map((e=>(0,Xo.jsx)(Vb,{variant:c===e.methodId.toString()?"filled":"outline",borderWidth:c===e.methodId.toString()?2:1,borderColor:c===e.methodId.toString()?"brand.500":"gray.200",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(H3,{value:e.methodId.toString(),isChecked:c===e.methodId.toString(),size:"lg",colorScheme:"brand",children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:"midtrans"===e.name?Mw:gk,boxSize:6,color:"brand.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"midtrans"===e.name?"Online Payment":"Manual Transfer"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"midtrans"===e.name?"Credit Card, Bank Transfer, E-Wallet, QRIS":"Transfer to our bank account and upload receipt"})]})]})})})},e.methodId)))})}),"          "]}),console.log("=== RENDER: showManualForm state ===",C),C&&(0,Xo.jsx)(Vb,{border:"2px solid",borderColor:"brand.500",bg:"brand.50",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:3,mb:4,children:[(0,Xo.jsx)(Zv,{as:Jk,color:"brand.500",boxSize:6}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:"Manual Payment"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Pay using your preferred method and upload payment proof"})]})]}),(0,Xo.jsxs)(Eb,{bg:"white",p:4,borderRadius:"md",border:"1px solid",borderColor:"gray.200",mb:6,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:3,children:"Transfer to:"}),(0,Xo.jsxs)(Pb,{align:"stretch",spacing:2,children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Bank:"}),(0,Xo.jsx)(Tb,{children:"Bank Central Asia (BCA)"})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Account Number:"}),(0,Xo.jsx)(Tb,{fontFamily:"mono",children:"1234567890"})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Account Name:"}),(0,Xo.jsx)(Tb,{children:"PT Rusunawa Management"})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Amount:"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",color:"brand.500",children:["Rp ",((null===m||void 0===m?void 0:m.totalAmount)||(null===m||void 0===m?void 0:m.total_amount)||(null===m||void 0===m?void 0:m.amount)||0).toLocaleString("id-ID")]})]})]})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"bank_transfer"!==I.paymentChannel&&I.paymentChannel?"digital_wallet"===I.paymentChannel?"Transfer From (Wallet/App)":"cash"===I.paymentChannel?"Payment Location":"Transfer From":"Transfer From (Bank Name)"}),(0,Xo.jsx)(gj,{placeholder:"bank_transfer"!==I.paymentChannel&&I.paymentChannel?"digital_wallet"===I.paymentChannel?"e.g., DANA, OVO, GoPay, ShopeePay":"flip"===I.paymentChannel?"Flip":"cash"===I.paymentChannel?"e.g., Office, Bank Counter":"Payment source/method":"e.g., BCA, Mandiri, BNI, BRI",value:I.bankName,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{bankName:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"bank_transfer"!==I.paymentChannel&&I.paymentChannel?"digital_wallet"===I.paymentChannel?"Your Phone/Account Number":"cash"===I.paymentChannel?"Reference Number":"Account/Reference Number":"Your Account Number"}),(0,Xo.jsx)(gj,{placeholder:"bank_transfer"!==I.paymentChannel&&I.paymentChannel?"digital_wallet"===I.paymentChannel?"Phone number or account ID":"cash"===I.paymentChannel?"Receipt or reference number":"Account number or reference":"Bank account number used for transfer",value:I.accountNumber,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{accountNumber:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"cash"===I.paymentChannel?"Payer Name":"Account Holder Name"}),(0,Xo.jsx)(gj,{placeholder:"cash"===I.paymentChannel?"Name of person making payment":"Name on the account/wallet",value:I.accountHolderName,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{accountHolderName:e.target.value})))})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"cash"===I.paymentChannel?"Payment Date":"Transfer Date"}),(0,Xo.jsx)(gj,{type:"date",value:I.transferDate,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{transferDate:e.target.value}))),max:(new Date).toISOString().split("T")[0]})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Payment Channel"}),(0,Xo.jsxs)(SQ,{value:I.paymentChannel,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{paymentChannel:e.target.value}))),placeholder:"Select transfer method",children:[(0,Xo.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Xo.jsx)("option",{value:"digital_wallet",children:"Digital Wallet (DANA, OVO, GoPay, etc.)"}),(0,Xo.jsx)("option",{value:"flip",children:"Flip"}),(0,Xo.jsx)("option",{value:"bibit",children:"Bibit"}),(0,Xo.jsx)("option",{value:"jenius",children:"Jenius"}),(0,Xo.jsx)("option",{value:"livin",children:"Livin by Mandiri"}),(0,Xo.jsx)("option",{value:"blu",children:"blu by BCA Digital"}),(0,Xo.jsx)("option",{value:"seabank",children:"SeaBank"}),(0,Xo.jsx)("option",{value:"jago",children:"Bank Jago"}),(0,Xo.jsx)("option",{value:"neobank",children:"Neo Bank"}),(0,Xo.jsx)("option",{value:"atm",children:"ATM Transfer"}),(0,Xo.jsx)("option",{value:"internet_banking",children:"Internet Banking"}),(0,Xo.jsx)("option",{value:"mobile_banking",children:"Mobile Banking"}),(0,Xo.jsx)("option",{value:"cash",children:"Cash Payment"}),(0,Xo.jsx)("option",{value:"other",children:"Other"})]})]}),I.paymentChannel&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["bank_transfer"===I.paymentChannel&&"Bank Transfer Instructions","digital_wallet"===I.paymentChannel&&"Digital Wallet Payment","flip"===I.paymentChannel&&"Flip Transfer","cash"===I.paymentChannel&&"Cash Payment",["bibit","jenius","livin","blu","seabank","jago","neobank"].includes(I.paymentChannel)&&"Digital Banking Transfer",["atm","internet_banking","mobile_banking"].includes(I.paymentChannel)&&"Traditional Banking Transfer","other"===I.paymentChannel&&"Other Payment Method"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["bank_transfer"===I.paymentChannel&&"Transfer to our bank account using any banking method. Upload your transfer receipt as proof.","digital_wallet"===I.paymentChannel&&"Pay using your digital wallet (DANA, OVO, GoPay, ShopeePay, etc.). Screenshot the transaction success page as proof.","flip"===I.paymentChannel&&"Transfer using Flip to our bank account. Upload the Flip transaction receipt as proof.","cash"===I.paymentChannel&&"Make cash payment at our office or authorized location. Keep the payment receipt as proof.",["bibit","jenius","livin","blu","seabank","jago","neobank"].includes(I.paymentChannel)&&"Transfer using your digital banking app. Upload the transaction receipt as proof.",["atm","internet_banking","mobile_banking"].includes(I.paymentChannel)&&"Use your preferred banking method to transfer. Upload the receipt as proof.","other"===I.paymentChannel&&"Use your preferred payment method and provide transaction details. Upload payment proof."]})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Notes (Optional)"}),(0,Xo.jsx)(D1,{placeholder:"bank_transfer"===I.paymentChannel?"e.g., Transfer via internet banking, ATM reference number, etc.":"digital_wallet"===I.paymentChannel?"e.g., Transaction ID, reference number, wallet app used, etc.":"flip"===I.paymentChannel?"e.g., Flip transaction ID, recipient name, etc.":"Additional notes about your payment...",value:I.notes,onChange:e=>T((t=>(0,o.A)((0,o.A)({},t),{},{notes:e.target.value}))),rows:3})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"bank_transfer"!==I.paymentChannel&&I.paymentChannel?"digital_wallet"===I.paymentChannel?"Upload Transaction Screenshot":"cash"===I.paymentChannel?"Upload Payment Receipt":"Upload Payment Proof":"Upload Transfer Receipt"}),(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsx)(gj,{type:"file",accept:"image/*,.pdf",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(t.type))return void i({title:"Invalid File Type",description:"Please upload JPG, PNG, or PDF files only",status:"error",duration:3e3,isClosable:!0});if(t.size>5242880)return void i({title:"File Too Large",description:"Please upload files smaller than 5MB",status:"error",duration:3e3,isClosable:!0});E(t);const e=new FileReader;e.onload=()=>{const n=e.result.split(",")[1];T((e=>(0,o.A)((0,o.A)({},e),{},{fileName:t.name,fileType:t.type,content:n})))},e.readAsDataURL(t)}},p:1}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Upload your payment proof: ","bank_transfer"!==I.paymentChannel&&I.paymentChannel?"digital_wallet"===I.paymentChannel?"wallet transaction screenshot or receipt":"flip"===I.paymentChannel?"Flip transaction receipt":"cash"===I.paymentChannel?"cash payment receipt":"payment confirmation or receipt":"bank transfer receipt or confirmation"," (JPG, PNG, or PDF, max 5MB)"]}),N&&(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(Aw,{}),(0,Xo.jsxs)(Eb,{ml:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"File selected:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:N.name})]})]})]})]}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>{P(!1),d(null),E(null),T({paymentChannel:"",notes:"",bankName:"",accountNumber:"",accountHolderName:"",transferDate:(new Date).toISOString().split("T")[0],fileName:"",fileType:"",content:""})},children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"brand",leftIcon:(0,Xo.jsx)(Xk,{}),onClick:async()=>{if(console.log("=== Starting manual payment submission ==="),N)if(I.bankName&&I.accountNumber&&I.accountHolderName)try{O(!0),console.log("Upload state set to true");const t=n||(null===v||void 0===v?void 0:v.invoiceId)||(null===v||void 0===v?void 0:v.invoice_id),o=e||(null===m||void 0===m?void 0:m.bookingId)||(null===m||void 0===m?void 0:m.booking_id),a=(null===m||void 0===m?void 0:m.tenantId)||(null===m||void 0===m?void 0:m.tenant_id)||(null===v||void 0===v?void 0:v.tenantId)||(null===v||void 0===v?void 0:v.tenant_id),s=(null===m||void 0===m?void 0:m.totalAmount)||(null===m||void 0===m?void 0:m.total_amount)||(null===v||void 0===v?void 0:v.amount)||(null===v||void 0===v?void 0:v.total_amount)||0;console.log("Current IDs:",{currentInvoiceId:t,currentBookingId:o,currentTenantId:a,currentAmount:s});const l={bookingId:o?parseInt(o):0,tenantId:a?parseInt(a):0,invoiceId:t?parseInt(t):0,amount:s,paymentChannel:I.paymentChannel||"bank_transfer",notes:I.notes||"Manual bank transfer payment",bankName:I.bankName,accountNumber:I.accountNumber,accountHolderName:I.accountHolderName,transferDate:new Date(I.transferDate).toISOString(),fileName:I.fileName,fileType:I.fileType,imageContent:I.content,contentEncoding:"base64"};console.log("=== Payment data prepared ==="),console.log("PaymentData:",JSON.stringify(l,null,2)),console.log("Calling paymentService.createManualPayment...");const c=await D8.createManualPayment(l);console.log("=== Payment service response ==="),console.log("Response:",c),i({title:"Payment Proof Uploaded",description:"Your payment proof has been submitted successfully. It will be verified by our admin team.",status:"success",duration:5e3,isClosable:!0}),console.log("Navigating after successful submission..."),r(t?"/tenant/invoices/".concat(t):o?"/tenant/bookings/".concat(o):"/tenant/bookings")}catch(j){console.error("=== Manual payment submission error ==="),console.error("Error details:",j),console.error("Error message:",j.message),console.error("Error response:",j.response),i({title:"Upload Failed",description:j.message||"Failed to upload payment proof. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{console.log("Setting upload state to false"),O(!1)}else i({title:"Missing Information",description:"Please fill in all required bank transfer details",status:"error",duration:3e3,isClosable:!0});else i({title:"Missing File",description:"Please upload your payment proof",status:"error",duration:3e3,isClosable:!0})},isLoading:z,loadingText:"Uploading...",flex:1,children:"Submit Payment Proof"})]})]})})}),(0,Xo.jsx)(ew,{}),!C&&(0,Xo.jsx)(Bj,{size:"lg",colorScheme:"brand",onClick:async()=>{if(!c)return void i({title:"Error",description:"Please select a payment method",status:"error",duration:3e3,isClosable:!0});const t=n||(null===v||void 0===v?void 0:v.invoiceId)||(null===v||void 0===v?void 0:v.invoice_id),r=e||(null===m||void 0===m?void 0:m.bookingId)||(null===m||void 0===m?void 0:m.booking_id),o=(null===m||void 0===m?void 0:m.tenantId)||(null===m||void 0===m?void 0:m.tenant_id)||(null===v||void 0===v?void 0:v.tenantId)||(null===v||void 0===v?void 0:v.tenant_id);if(r||t)try{var a,s,l,d,u;f(!0);const e=x.find((e=>e.methodId.toString()===c.toString()));console.log("Processing payment for method:",e);const t=(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes("manual"))||(null===e||void 0===e||null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes("transfer"))||"manual"===(null===e||void 0===e||null===(l=e.category)||void 0===l?void 0:l.toLowerCase())||(null===e||void 0===e||null===(d=e.type)||void 0===d?void 0:d.toLowerCase().includes("manual"))||"manual_transfer"===(null===e||void 0===e||null===(u=e.name)||void 0===u?void 0:u.toLowerCase());if(console.log("Is manual payment in handleProceed:",t),t)return console.log("Setting showManualForm to TRUE in handleProceed"),P(!0),void i({title:"Manual Payment Selected",description:"Please fill out the form below to upload your payment proof.",status:"info",duration:3e3,isClosable:!0});const n={enable_midtrans:!0,notes:"Payment via Midtrans"};r&&(n.booking_id=r,n.tenant_id=o,n.due_date=new Date(Date.now()+6048e5).toISOString(),m&&(n.items=[{description:"Room rental payment",quantity:1,unit_price:(null===m||void 0===m?void 0:m.totalAmount)||(null===m||void 0===m?void 0:m.total_amount)||(null===m||void 0===m?void 0:m.amount)||0,total:(null===m||void 0===m?void 0:m.totalAmount)||(null===m||void 0===m?void 0:m.total_amount)||(null===m||void 0===m?void 0:m.amount)||0}])),console.log("Generating invoice with Midtrans using POST /v1/invoices/generate:",n);const h=await D8.generateInvoiceWithMidtrans(n);if(console.log("Invoice generation response:",h),!h.midtransRedirectUrl&&!h.midtrans_redirect_url)throw new Error("Failed to generate Midtrans payment link. Response: "+JSON.stringify(h));{const e=h.midtransRedirectUrl||h.midtrans_redirect_url;i({title:"Payment Link Created",description:"Redirecting to Midtrans payment page...",status:"success",duration:3e3,isClosable:!0}),console.log("Redirecting to Midtrans payment URL:",e),window.location.href=e}}catch(Pee){console.error("Error processing payment:",Pee),i({title:"Payment Error",description:Pee.message||"Failed to process payment",status:"error",duration:5e3,isClosable:!0})}finally{f(!1)}else i({title:"Error",description:"Payment information is missing",status:"error",duration:3e3,isClosable:!0})},isLoading:p,loadingText:"Processing",isDisabled:!c||!m,children:"Proceed to Payment"})]})}),"      ",(0,Xo.jsxs)(JZ,{isOpen:a,onClose:l,closeOnOverlayClick:!1,size:"lg",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Complete Your Payment"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{pb:6,children:k&&_?(0,Xo.jsx)(d9,{paymentUrl:k,orderId:"ORDER-".concat(_),invoiceId:_,paymentMethod:"midtrans",amount:(null===m||void 0===m?void 0:m.totalAmount)||(null===m||void 0===m?void 0:m.amount)||0,onComplete:e=>{l(),"success"===e.status?(i({title:"Payment Successful",description:"Your payment has been processed successfully and will be verified shortly.",status:"success",duration:5e3,isClosable:!0}),r(_?"/tenant/invoices/".concat(_):"/tenant/bookings/".concat(m.bookingId))):"failed"===e.status&&i({title:"Payment Failed",description:"Your payment could not be processed. Please try again with a different payment method.",status:"error",duration:5e3,isClosable:!0})},onCancel:()=>{l(),i({title:"Payment Cancelled",description:"Payment process was cancelled. You can try again anytime.",status:"info",duration:3e3,isClosable:!0})},autoOpen:!0}):(0,Xo.jsxs)(Pb,{spacing:4,py:6,children:[(0,Xo.jsx)(Qv,{size:"lg",color:"brand.500"}),(0,Xo.jsx)(Tb,{children:"Preparing payment..."})]})})]})]})]}))},h9=["children","styleType","stylePosition","spacing"],p9=["as"],f9=["as"],[m9,g9]=Nc({name:"ListStylesContext",errorMessage:"useListStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<List />\" "}),v9=Dv((function(e,t){const n=Gv("List",e),r=Ov(e),{children:i,styleType:a="none",stylePosition:s,spacing:l}=r,c=Jo(r,h9),d=wb(i),u="& > *:not(style) ~ *:not(style)",h=l?{[u]:{mt:l}}:{};return(0,Xo.jsx)(m9,{value:n,children:(0,Xo.jsx)(Tv.ul,(0,o.A)((0,o.A)({ref:t,listStyleType:a,listStylePosition:s,role:"list",__css:(0,o.A)((0,o.A)({},n.container),h)},c),{},{children:d}))})}));v9.displayName="List";Dv(((e,t)=>{const{as:n}=e,r=Jo(e,p9);return(0,Xo.jsx)(v9,(0,o.A)({ref:t,as:"ol",styleType:"decimal",marginStart:"1em"},r))})).displayName="OrderedList";Dv((function(e,t){const{as:n}=e,r=Jo(e,f9);return(0,Xo.jsx)(v9,(0,o.A)({ref:t,as:"ul",styleType:"initial",marginStart:"1em"},r))})).displayName="UnorderedList";const y9=Dv((function(e,t){const n=g9();return(0,Xo.jsx)(Tv.li,(0,o.A)((0,o.A)({ref:t},e),{},{__css:n.item}))}));y9.displayName="ListItem";const x9=Dv((function(e,t){const n=g9();return(0,Xo.jsx)(Zv,(0,o.A)((0,o.A)({ref:t,role:"presentation"},e),{},{__css:n.icon}))}));x9.displayName="ListIcon";const b9=()=>{const{invoiceId:e}=Px(),n=_x(),r=Cx(),i=hb(),{tenant:a}=D6(),{isOpen:s,onOpen:l,onClose:c}=GG(),d=new URLSearchParams(n.search).get("bookingId"),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)({payment_channel:"bank_transfer",bank_name:"",account_number:"",account_holder_name:"",transfer_date:(new Date).toISOString().split("T")[0],notes:""}),[x,b]=(0,t.useState)(null),[j,w]=(0,t.useState)(null),[k,S]=(0,t.useState)(1),[_,A]=(0,t.useState)(!1),[C,P]=(0,t.useState)(null),[I,T]=(0,t.useState)(null),[N,E]=(0,t.useState)(!1),z=(zs("white","gray.800"),zs("white","gray.700")),O=zs("gray.200","gray.600"),L=zs("gray.50","gray.700"),D=[{title:"Bank Transfer",description:"Transfer to our bank account"},{title:"Upload Receipt",description:"Upload payment proof"},{title:"Verification",description:"Wait for admin verification"}],{activeStep:R}=O5({index:k,count:D.length}),M=[{name:"Bank BNI",accountNumber:"0123456789",accountHolder:"Yayasan Rusunawa PNJ",code:"BNI"},{name:"Bank Mandiri",accountNumber:"9876543210",accountHolder:"Yayasan Rusunawa PNJ",code:"MANDIRI"},{name:"Bank BCA",accountNumber:"5555666677",accountHolder:"Yayasan Rusunawa PNJ",code:"BCA"}];zs("white","gray.700");(0,t.useEffect)((()=>{(async()=>{g(!0),P(null);try{var t,n;let r=null,i=null;if(e&&"undefined"!==e)try{const t=await B8.getInvoice(e);r=t.invoice||t.data}catch(Pee){console.error("Error fetching invoice:",Pee)}const o=(null===(t=r)||void 0===t?void 0:t.booking_id)||d;if(o)try{const e=await z8.getBooking(o);i=e.booking||e.data}catch(Pee){console.error("Error fetching booking:",Pee)}if(h(r),f(i),null!==(n=r)&&void 0!==n&&n.invoice_id&&await B(r.invoice_id),!r&&!i)throw new Error("Could not retrieve payment information")}catch(Pee){console.error("Error fetching payment data:",Pee),P(Pee.message||"Failed to load payment information"),i({title:"Error",description:Pee.message||"Failed to load payment information",status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}})()}),[e,d,i]);const B=async e=>{try{var t;const n=JSON.parse(localStorage.getItem("tenant")||"{}"),r=n.tenantId||n.tenant_id||n.id,o=await D8.checkPendingManualPayments(e,r);if(o.hasPendingPayments&&(null===(t=o.pendingPayments)||void 0===t?void 0:t.length)>0){const e=o.pendingPayments[0];T(e),E(!0),i({title:"Pending Payment Found",description:"There is already a manual payment pending verification for this invoice.",status:"warning",duration:6e3,isClosable:!0})}}catch(C){console.error("Error checking pending payments:",C)}},F=(e,t)=>{y((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})))},W=e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void i({title:"File too large",description:"Maximum file size is 5MB",status:"error",duration:5e3,isClosable:!0});if(!["image/jpeg","image/png","image/gif","application/pdf"].includes(t.type))return void i({title:"Invalid file type",description:"Please upload JPEG, PNG, GIF, or PDF files only",status:"error",duration:5e3,isClosable:!0});if(b(t),t.type.startsWith("image/")){const e=URL.createObjectURL(t);w(e)}else w(null)}},U=async t=>{if(t.preventDefault(),!x)return void i({title:"Missing File",description:"Please upload a payment receipt first.",status:"warning",duration:3e3,isClosable:!0});if(N)return void i({title:"Payment Already Pending",description:"You cannot submit a new payment while another is pending verification.",status:"warning",duration:5e3,isClosable:!0});const n=(()=>{const e=[];if(!v.bank_name.trim()){const t="bank_transfer"===v.payment_channel?"Bank name":"digital_wallet"===v.payment_channel?"Wallet/App name":"cash"===v.payment_channel?"Payment location":"Payment source";e.push("".concat(t," is required"))}if(!v.account_number.trim()){const t="bank_transfer"===v.payment_channel?"Account number":"digital_wallet"===v.payment_channel?"Phone/Account number":"cash"===v.payment_channel?"Reference number":"Account/Reference number";e.push("".concat(t," is required"))}if(!v.account_holder_name.trim()){const t="cash"===v.payment_channel?"Payer name":"Account holder name";e.push("".concat(t," is required"))}if(!v.transfer_date){const t="cash"===v.payment_channel?"Payment date":"Transfer date";e.push("".concat(t," is required"))}if(!x){const t=(v.payment_channel,"Payment receipt");e.push("".concat(t," is required"))}return e})();if(n.length>0)i({title:"Validation Error",description:n.join(", "),status:"error",duration:5e3,isClosable:!0});else{A(!0),P(null);try{const t=await q(x),n=atob(t.split(",")[1]),o=new Uint8Array(n.length);for(let e=0;e<n.length;e++)o[e]=n.charCodeAt(e);let s=x.type;137===o[0]&&80===o[1]&&78===o[2]&&71===o[3]?s="image/png":255===o[0]&&216===o[1]&&255===o[2]?s="image/jpeg":71===o[0]&&73===o[1]&&70===o[2]&&(s="image/gif"),s!==x.type&&i({title:"File type mismatch",description:"The uploaded file extension/type does not match its content. Detected as ".concat(s,"."),status:"warning",duration:7e3,isClosable:!0});const l={bookingId:(null===u||void 0===u?void 0:u.booking_id)||(null===p||void 0===p?void 0:p.booking_id),tenantId:null===a||void 0===a?void 0:a.id,invoiceId:parseInt(e),amount:(null===u||void 0===u?void 0:u.amount)||(null===p||void 0===p?void 0:p.total_amount)||0,paymentChannel:v.payment_channel,notes:v.notes,bankName:v.bank_name,accountNumber:v.account_number,accountHolderName:v.account_holder_name,transferDate:v.transfer_date+"T00:00:00Z",fileName:x.name,fileType:s,imageContent:t.split(",")[1],contentEncoding:"base64"};console.log("Submitting manual payment:",l);await D8.createManualPayment(l);i({title:"Payment Submitted Successfully",description:"Your payment proof has been uploaded and is awaiting verification.",status:"success",duration:5e3,isClosable:!0}),S(2),setTimeout((()=>{r("/tenant/payments/history")}),3e3)}catch(Pee){console.error("Error submitting manual payment:",Pee),P(Pee.message||"Failed to submit payment"),i({title:"Payment Submission Failed",description:Pee.message||"Failed to submit payment. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{A(!1)}}},q=e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)}));if(m)return(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsx)(Xj,{justify:"center",align:"center",minH:"400px",children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"}),(0,Xo.jsx)(Tb,{children:"Loading payment information..."})]})})})});const H=()=>(null===u||void 0===u?void 0:u.amount)||(null===p||void 0===p?void 0:p.total_amount)||0;return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsxs)(Xj,{direction:{base:"column",md:"row"},justify:"space-between",align:{base:"flex-start",md:"center"},mb:8,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Wb,{as:"h1",size:"xl",mb:2,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:yk,mr:3,color:"brand.500"}),"Manual Payment"]}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"Complete your payment by bank transfer"})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),variant:"outline",onClick:()=>r(-1),mt:{base:4,md:0},children:"Back"})]}),N&&I&&(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",mb:6,children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Payment Already Pending Verification"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",mt:1,children:["You have already submitted a manual payment (#",I.id,") for this invoice that is currently pending verification. You cannot submit another payment until the current one is processed."]}),(0,Xo.jsxs)(dS,{mt:3,spacing:3,children:[(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>r("/tenant/payments/history"),colorScheme:"orange",variant:"outline",children:"View Payment History"}),(0,Xo.jsx)(Bj,{size:"sm",onClick:()=>r("/tenant/contact"),variant:"outline",children:"Contact Support"})]})]})]}),(0,Xo.jsx)(Vb,{bg:L,borderWidth:"1px",borderColor:O,mb:8,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(F5,{index:k,orientation:"horizontal",gap:"0",children:D.map(((e,t)=>(0,Xo.jsxs)(W5,{children:[(0,Xo.jsx)(U5,{children:(0,Xo.jsx)(q5,{complete:(0,Xo.jsx)(V5,{}),incomplete:(0,Xo.jsx)(K5,{}),active:(0,Xo.jsx)(K5,{})})}),(0,Xo.jsxs)(Eb,{flexShrink:"0",children:[(0,Xo.jsx)(Y5,{children:e.title}),(0,Xo.jsx)(Z5,{children:e.description})]}),(0,Xo.jsx)(J5,{})]},t)))})})}),C&&(0,Xo.jsxs)(ay,{status:"error",mb:6,borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Error"}),(0,Xo.jsx)(Tb,{children:C})]})]}),(()=>{var e,t;return(0,Xo.jsxs)(Vb,{bg:z,borderWidth:"1px",borderColor:O,mb:6,children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Ak,color:"brand.500"}),(0,Xo.jsx)(Wb,{size:"md",children:u?"Invoice Details":"Booking Details"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[u?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Invoice Number"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:["#",u.invoice_no]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Issue Date"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:q7(u.issued_at)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Due Date"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:new Date(u.due_date)<new Date?"red.500":"inherit",children:q7(u.due_date)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Status"}),(0,Xo.jsx)(r_,{colorScheme:"paid"===u.status?"green":"yellow",children:null===(e=u.status)||void 0===e?void 0:e.toUpperCase()})]})]}):(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Booking ID"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:["#",null===p||void 0===p?void 0:p.booking_id]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Room"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===p||void 0===p||null===(t=p.room)||void 0===t?void 0:t.name)||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Check-in"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:q7(null===p||void 0===p?void 0:p.check_in)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",mb:1,children:"Check-out"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:q7(null===p||void 0===p?void 0:p.check_out)})]})]}),(0,Xo.jsxs)(Eb,{gridColumn:{base:1,md:"span 2"},children:[(0,Xo.jsx)(ew,{my:4}),(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:"Total Amount"}),(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"brand.500",children:U7(H())})]})]})]})})]})})(),0===k&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Vb,{bg:z,borderWidth:"1px",borderColor:O,mb:6,children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Jk,color:"brand.500"}),(0,Xo.jsx)(Wb,{size:"md",children:"Bank Transfer Instructions"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Payment Instructions:"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Please transfer the exact amount to one of the following bank accounts. After completing the transfer, upload your payment receipt below."})]})]}),(0,Xo.jsx)(IQ,{columns:{base:1,md:3},spacing:4,children:M.map(((e,t)=>(0,Xo.jsx)(Vb,{variant:"outline",borderColor:O,children:(0,Xo.jsx)(Kb,{p:4,children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Jk,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"blue.500",children:e.name})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Account Number"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:e.accountNumber}),(0,Xo.jsx)(Bj,{size:"xs",variant:"ghost",onClick:()=>{return t=e.accountNumber,void navigator.clipboard.writeText(t).then((()=>{i({title:"Copied to clipboard",description:"".concat(t," has been copied"),status:"success",duration:2e3})}));var t},children:"Copy"})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Account Holder"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:e.accountHolder})]})]})})},t)))}),(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Important Notes:"}),(0,Xo.jsxs)(v9,{spacing:1,fontSize:"sm",children:[(0,Xo.jsxs)(y9,{children:[(0,Xo.jsx)(x9,{as:ck}),"Transfer the exact amount: ",U7(H())]}),(0,Xo.jsxs)(y9,{children:[(0,Xo.jsx)(x9,{as:ck}),"Include your invoice/booking number in the transfer description"]}),(0,Xo.jsxs)(y9,{children:[(0,Xo.jsx)(x9,{as:ck}),"Keep your transfer receipt for upload"]}),(0,Xo.jsxs)(y9,{children:[(0,Xo.jsx)(x9,{as:ck}),"Payment verification may take 1-2 business days"]})]})]})]})]})})]}),(0,Xo.jsx)(Xj,{justify:"flex-end",mt:6,children:(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:()=>{k<D.length-1&&S(k+1)},rightIcon:(0,Xo.jsx)(pw,{style:{transform:"rotate(180deg)"}}),children:"Continue to Upload Receipt"})})]}),1===k&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Vb,{bg:z,borderWidth:"1px",borderColor:O,children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Xk,color:"brand.500"}),(0,Xo.jsx)(Wb,{size:"md",children:"Upload Payment Proof"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Eb,{as:"form",onSubmit:U,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"Payment Channel"}),(0,Xo.jsxs)(SQ,{value:v.payment_channel,onChange:e=>F("payment_channel",e.target.value),children:[(0,Xo.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Xo.jsx)("option",{value:"digital_wallet",children:"Digital Wallet (DANA, OVO, GoPay, etc.)"}),(0,Xo.jsx)("option",{value:"flip",children:"Flip"}),(0,Xo.jsx)("option",{value:"bibit",children:"Bibit"}),(0,Xo.jsx)("option",{value:"jenius",children:"Jenius"}),(0,Xo.jsx)("option",{value:"livin",children:"Livin by Mandiri"}),(0,Xo.jsx)("option",{value:"blu",children:"blu by BCA Digital"}),(0,Xo.jsx)("option",{value:"seabank",children:"SeaBank"}),(0,Xo.jsx)("option",{value:"jago",children:"Bank Jago"}),(0,Xo.jsx)("option",{value:"neobank",children:"Neo Bank"}),(0,Xo.jsx)("option",{value:"cash",children:"Cash Payment"}),(0,Xo.jsx)("option",{value:"other",children:"Other"})]})]}),v.payment_channel&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["bank_transfer"===v.payment_channel&&"Bank Transfer Instructions","digital_wallet"===v.payment_channel&&"Digital Wallet Payment","flip"===v.payment_channel&&"Flip Transfer","cash"===v.payment_channel&&"Cash Payment",["bibit","jenius","livin","blu","seabank","jago","neobank"].includes(v.payment_channel)&&"Digital Banking Transfer","other"===v.payment_channel&&"Other Payment Method"]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["bank_transfer"===v.payment_channel&&"Transfer to our bank account using ATM, internet banking, or mobile banking. Upload your transfer receipt as proof.","digital_wallet"===v.payment_channel&&"Pay using your digital wallet (DANA, OVO, GoPay, ShopeePay, etc.). Screenshot the transaction success page as proof.","flip"===v.payment_channel&&"Transfer using Flip to our bank account. Upload the Flip transaction receipt as proof.","cash"===v.payment_channel&&"Make cash payment at our office or authorized location. Keep the payment receipt as proof.",["bibit","jenius","livin","blu","seabank","jago","neobank"].includes(v.payment_channel)&&"Transfer using your digital banking app. Upload the transaction receipt as proof.","other"===v.payment_channel&&"Use your preferred payment method and provide transaction details. Upload payment proof."]})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"bank_transfer"===v.payment_channel?"Transfer From (Bank Name)":"digital_wallet"===v.payment_channel?"Transfer From (Wallet/App)":"cash"===v.payment_channel?"Payment Location":"Transfer From"}),(0,Xo.jsx)(gj,{placeholder:"bank_transfer"===v.payment_channel?"e.g., BCA, BRI, Mandiri, BNI":"digital_wallet"===v.payment_channel?"e.g., DANA, OVO, GoPay, ShopeePay":"flip"===v.payment_channel?"Flip":"cash"===v.payment_channel?"e.g., Office, Bank Counter":"Payment source/method",value:v.bank_name,onChange:e=>F("bank_name",e.target.value)})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"bank_transfer"===v.payment_channel?"Your Account Number":"digital_wallet"===v.payment_channel?"Your Phone/Account Number":"cash"===v.payment_channel?"Reference Number":"Account/Reference Number"}),(0,Xo.jsx)(gj,{placeholder:"bank_transfer"===v.payment_channel?"Bank account number used for transfer":"digital_wallet"===v.payment_channel?"Phone number or account ID":"cash"===v.payment_channel?"Receipt or reference number":"Account number or reference",value:v.account_number,onChange:e=>F("account_number",e.target.value)})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"cash"===v.payment_channel?"Payer Name":"Account Holder Name"}),(0,Xo.jsx)(gj,{placeholder:"cash"===v.payment_channel?"Name of person making payment":"Name on the account/wallet",value:v.account_holder_name,onChange:e=>F("account_holder_name",e.target.value)})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"cash"===v.payment_channel?"Payment Date":"Transfer Date"}),(0,Xo.jsx)(gj,{type:"date",value:v.transfer_date,onChange:e=>F("transfer_date",e.target.value),max:(new Date).toISOString().split("T")[0]})]})]}),(0,Xo.jsxs)(ij,{isRequired:!0,children:[(0,Xo.jsx)(sj,{children:"bank_transfer"===v.payment_channel?"Transfer Receipt":"digital_wallet"===v.payment_channel?"Transaction Screenshot":"cash"===v.payment_channel?"Payment Receipt":"Payment Proof"}),(0,Xo.jsx)(gj,{type:"file",accept:"image/*,.pdf",onChange:W,p:1}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",mt:1,children:["Upload your payment proof: ","bank_transfer"===v.payment_channel?"bank transfer receipt or confirmation":"digital_wallet"===v.payment_channel?"wallet transaction screenshot or receipt":"flip"===v.payment_channel?"Flip transaction receipt":"cash"===v.payment_channel?"cash payment receipt":"payment confirmation or receipt"," (JPG, PNG, or PDF, Max: 5MB)"]}),x&&(0,Xo.jsx)(Eb,{mt:3,p:3,bg:L,borderRadius:"md",children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:Qw,color:"green.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,flex:"1",children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:x.name}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Size: ",(x.size/1024/1024).toFixed(2)," MB"]})]}),(0,Xo.jsx)(Bj,{size:"sm",variant:"ghost",onClick:()=>l(),children:"Preview"})]})})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Additional Notes (Optional)"}),(0,Xo.jsx)(D1,{placeholder:"bank_transfer"===v.payment_channel?"e.g., Transfer via internet banking, ATM reference number, etc.":"digital_wallet"===v.payment_channel?"e.g., Transaction ID, reference number, wallet app used, etc.":"flip"===v.payment_channel?"e.g., Flip transaction ID, recipient name, etc.":"Add any additional information about your payment...",value:v.notes,onChange:e=>F("notes",e.target.value),rows:3})]}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"brand",size:"lg",isLoading:_,loadingText:"Submitting Payment...",leftIcon:(0,Xo.jsx)(_w,{}),isDisabled:!x||N,title:N?"Cannot submit new payment while another is pending":"",children:N?"Payment Pending Verification":"Submit Payment Receipt"})]})})})]}),(0,Xo.jsx)(Xj,{justify:"space-between",mt:6,children:(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>{k>0&&S(k-1)},children:"Back to Instructions"})})]}),2===k&&(0,Xo.jsx)(Vb,{bg:z,borderWidth:"1px",borderColor:O,children:(0,Xo.jsx)(Kb,{textAlign:"center",py:12,children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsx)(Zv,{as:_w,boxSize:"64px",color:"green.500"}),(0,Xo.jsx)(Wb,{size:"lg",color:"green.500",children:"Payment Submitted Successfully!"}),(0,Xo.jsx)(Tb,{color:"gray.500",maxW:"md",children:"Your payment receipt has been uploaded and is awaiting verification. You will be notified once the payment is confirmed."}),(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:()=>r("/tenant/payments/history"),leftIcon:(0,Xo.jsx)(Yw,{}),children:"View Payment History"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:()=>r("/tenant/dashboard"),children:"Back to Dashboard"})]})]})})}),(0,Xo.jsxs)(JZ,{isOpen:s,onClose:c,size:"xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Receipt Preview"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:j?(0,Xo.jsx)(Bb,{src:j,alt:"Receipt Preview",maxH:"500px",mx:"auto",borderRadius:"md"}):(0,Xo.jsx)(Xj,{justify:"center",align:"center",h:"200px",children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:Qw,boxSize:"48px",color:"gray.400"}),(0,Xo.jsx)(Tb,{children:"No preview available for this file type"})]})})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{onClick:c,children:"Close"})})]})]})]})})},j9=()=>{var e,n,r;const{bookingId:i,invoiceId:o}=Px(),a=Cx(),s=_x(),l=hb(),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),j=null===(e=s.state)||void 0===e?void 0:e.paymentUrl;(0,t.useEffect)((()=>{w()}),[i,o]);const w=async()=>{try{if(d(!0),b(null),i){const e=_8(i);if(!e)throw new Error("Invalid booking ID: ".concat(i));const t=await z8.getBooking(e);if(!t||!t.booking)throw new Error("Booking not found");f(t.booking)}if(o){const n=_8(o);if(!n)throw new Error("Invalid invoice ID: ".concat(o));try{const t=await B8.getInvoice(n);if(t&&t.invoice){g(t.invoice);const n=t.invoice.bookingId||t.invoice.booking_id;if(n&&!p)try{const e=await z8.getBooking(n);e&&e.booking&&f(e.booking)}catch(e){console.warn("Could not fetch booking for invoice:",e)}}}catch(t){console.warn("Could not fetch invoice details:",t)}}j&&y(j)}catch(Pee){console.error("Error fetching data:",Pee),b(Pee.message||"Failed to load payment information")}finally{d(!1)}},k=()=>{a(i?"/tenant/bookings/".concat(i):"/tenant/bookings")};return c?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.md",py:8,children:(0,Xo.jsxs)(Xj,{direction:"column",align:"center",justify:"center",minH:"50vh",children:[(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"brand.500",mb:4}),(0,Xo.jsx)(Tb,{children:"Loading payment information..."})]})})}):x?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),onClick:k,mb:6,children:"Back to Booking"}),(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),x]})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),onClick:k,mb:6,children:"Back to Booking"}),(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"lg",children:"Midtrans Payment"}),p&&(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment Summary"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Booking ID:"}),(0,Xo.jsxs)(Tb,{children:["#",p.bookingId]})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Room:"}),(0,Xo.jsx)(Tb,{children:(null===(n=p.room)||void 0===n?void 0:n.name)||"N/A"})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Check-in:"}),(0,Xo.jsx)(Tb,{children:new Date(p.checkInDate).toLocaleDateString()})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Check-out:"}),(0,Xo.jsx)(Tb,{children:new Date(p.checkOutDate).toLocaleDateString()})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:"Total Amount:"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",fontSize:"lg",color:"brand.500",children:["Rp ",(null===(r=p.totalAmount)||void 0===r?void 0:r.toLocaleString())||"0"]})]})]})})]}),(0,Xo.jsxs)(Vb,{children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Mw,color:"brand.500"}),(0,Xo.jsx)(Wb,{size:"md",children:"Midtrans Online Payment"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{children:"Complete your payment securely through Midtrans. You can use:"}),(0,Xo.jsxs)(Pb,{spacing:2,align:"start",pl:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Credit/Debit Cards (Visa, MasterCard, JCB)"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Bank Transfer (Virtual Account)"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 E-Wallets (GoPay, OVO, DANA, LinkAja)"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 QRIS"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"\u2022 Convenience Store Payment"})]}),v?(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Payment Link Ready"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Click the button below to open Midtrans payment page."})]})]}),(0,Xo.jsx)(Bj,{colorScheme:"brand",size:"lg",onClick:()=>{v&&(window.open(v,"_blank"),l({title:"Payment Window Opened",description:"Complete your payment in the new window. This page will update automatically.",status:"info",duration:5e3,isClosable:!0}))},leftIcon:(0,Xo.jsx)(Gw,{}),children:"Open Payment Page"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",textAlign:"center",color:"gray.600",children:["Payment URL: ",(0,Xo.jsxs)(Hj,{href:v,isExternal:!0,color:"brand.500",children:[v.substring(0,50),"..."]})]})]}):(0,Xo.jsx)(Bj,{colorScheme:"brand",size:"lg",onClick:async()=>{try{if(h(!0),o){const e=await D8.generateSnapToken(null,o);if(!e.redirectUrl&&!e.redirect_url)throw new Error("Failed to generate Midtrans payment link from invoice");{const t=e.redirectUrl||e.redirect_url;y(t),l({title:"Payment Link Generated",description:"Your Midtrans payment link has been created successfully.",status:"success",duration:5e3,isClosable:!0})}}else{if(!i||!p)throw new Error("Either booking or invoice information is required");{const e=await D8.generateInvoiceWithMidtrans({booking_id:p.bookingId||p.booking_id,tenant_id:p.tenantId||p.tenant_id,due_date:new Date(Date.now()+6048e5).toISOString(),notes:"Payment via Midtrans",items:[{description:"Room rental payment",quantity:1,unit_price:p.totalAmount||p.total_amount||p.amount||0,total:p.totalAmount||p.total_amount||p.amount||0}],enable_midtrans:!0});if(!e.midtransRedirectUrl)throw new Error("Failed to generate Midtrans payment link from booking");y(e.midtransRedirectUrl),l({title:"Payment Link Generated",description:"Your Midtrans payment link has been created successfully.",status:"success",duration:5e3,isClosable:!0})}}}catch(Pee){console.error("Error creating Midtrans payment:",Pee),l({title:"Payment Error",description:Pee.message||"Failed to create payment link",status:"error",duration:5e3,isClosable:!0})}finally{h(!1)}},isLoading:u,loadingText:"Creating Payment Link...",leftIcon:(0,Xo.jsx)(Mw,{}),children:"Create Payment Link"})]})})]}),v&&(0,Xo.jsx)(Vb,{children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Already completed payment?"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:async()=>{try{h(!0),l({title:"Checking Payment Status",description:"Please wait while we verify your payment status...",status:"info",duration:3e3,isClosable:!0}),setTimeout((()=>{l({title:"Payment Status Updated",description:"Your payment status has been refreshed.",status:"success",duration:3e3,isClosable:!0})}),2e3)}catch(Pee){console.error("Error checking payment status:",Pee),l({title:"Status Check Failed",description:"Failed to check payment status. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{h(!1)}},isLoading:u,loadingText:"Checking...",leftIcon:(0,Xo.jsx)(_w,{}),children:"Check Payment Status"})]})})}),(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Need Help?"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"If you encounter any issues with the payment process, please contact our support team. Payment processing is handled securely by Midtrans."})]})]})]})]})})},w9=()=>{const[e]=ob(),n=Cx(),r=hb(),[i,a]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)("checking"),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(0),m=e.get("invoice_id"),g=e.get("booking_id"),v=e.get("transaction_status"),y=e.get("order_id"),x=e.get("status_code"),b=zs("white","gray.800");(0,t.useEffect)((()=>{m||y?j():(l("Missing payment information in URL"),a(!1))}),[m,y]),(0,t.useEffect)((()=>{if("checking"===c){const e=setInterval((()=>{f((t=>t>=90?(clearInterval(e),90):t+10))}),300);return()=>clearInterval(e)}f(100)}),[c]);const j=async()=>{try{let s;if(a(!0),d("checking"),console.log("Checking payment status for:",{invoiceId:m,orderId:y,transactionStatus:v,statusCode:x}),y?s=await D8.checkMidtransPaymentStatus(y):m&&(s=await D8.getInvoice(m)),!s)throw new Error("No payment information received");{var e,t,n,i;console.log("Payment status response:",s);const a=s.payment||(null===(e=s.data)||void 0===e?void 0:e.payment)||s,l=s.invoice||(null===(t=s.data)||void 0===t?void 0:t.invoice);h((0,o.A)((0,o.A)({},a),{},{invoice:l,order_id:a.transaction_id||a.order_id||y,transaction_status:a.status||a.transaction_status||v,payment_type:a.payment_channel||a.payment_type,gross_amount:a.amount||a.gross_amount}));const c=(null===(n=a.status)||void 0===n?void 0:n.toLowerCase())||(null===(i=a.transaction_status)||void 0===i?void 0:i.toLowerCase());"verified"===c||"success"===c||"settlement"===c||"capture"===c?(d("success"),r({title:"Payment Successful!",description:"Your payment has been verified and processed successfully.",status:"success",duration:5e3,isClosable:!0})):"pending"===c?(d("pending"),r({title:"Payment Pending",description:"Your payment is being processed. Please wait for verification.",status:"info",duration:5e3,isClosable:!0})):"failed"===c||"deny"===c||"cancel"===c||"expire"===c?(d("failed"),r({title:"Payment Failed",description:"Your payment could not be processed. Please try again.",status:"error",duration:5e3,isClosable:!0})):(d("unknown"),console.warn("Unknown payment status:",c))}}catch(s){console.error("Error checking payment status:",s),l(s.message||"Failed to check payment status"),d("error"),r({title:"Error",description:"Failed to verify payment status. Please contact support.",status:"error",duration:5e3,isClosable:!0})}finally{a(!1)}},w=()=>{l(null),j()},k=()=>{n(m?"/tenant/invoices/".concat(m):"/tenant/invoices")},S=()=>{n(g?"/tenant/bookings/".concat(g):"/tenant/bookings")},_=()=>{n(g?"/tenant/bookings/".concat(g,"/payment-method"):"/tenant/bookings")};return s?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.md",py:8,children:(0,Xo.jsxs)(Pb,{spacing:6,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Error Checking Payment Status"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:s})]})]}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:w,children:"Retry"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:S,children:"View Booking"})]})]})})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.md",py:8,children:(0,Xo.jsx)(Vb,{bg:b,shadow:"lg",children:(0,Xo.jsx)(Kb,{children:(()=>{switch(c){case"success":return(0,Xo.jsxs)(Pb,{spacing:6,align:"center",py:8,children:[(0,Xo.jsx)(Zv,{as:d_,w:20,h:20,color:"green.500"}),(0,Xo.jsxs)(Pb,{spacing:2,textAlign:"center",children:[(0,Xo.jsx)(Wb,{size:"lg",color:"green.600",children:"Payment Successful!"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Your payment has been verified and processed successfully. Your booking is now confirmed."})]}),u&&(0,Xo.jsx)(Vb,{w:"full",bg:b,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsx)(Wb,{size:"sm",color:"green.600",children:"Payment Details"}),(0,Xo.jsx)(ew,{}),u.order_id&&(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Order ID:"}),(0,Xo.jsx)(Tb,{fontFamily:"mono",fontSize:"sm",children:u.order_id})]}),u.payment_type&&(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Payment Method:"}),(0,Xo.jsx)(r_,{colorScheme:"blue",textTransform:"capitalize",children:u.payment_type.replace("_"," ")})]}),u.gross_amount&&(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Amount:"}),(0,Xo.jsxs)(Tb,{fontWeight:"bold",color:"green.600",children:["Rp ",parseFloat(u.gross_amount).toLocaleString("id-ID")]})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Status:"}),(0,Xo.jsx)(r_,{colorScheme:"green",children:"VERIFIED"})]})]})})}),(0,Xo.jsxs)(dS,{spacing:3,pt:4,children:[(0,Xo.jsx)(Bj,{colorScheme:"green",onClick:k,children:"View Invoice"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:S,children:"View Booking"})]})]});case"pending":return(0,Xo.jsxs)(Pb,{spacing:6,align:"center",py:8,children:[(0,Xo.jsx)(Zv,{as:m_,w:16,h:16,color:"orange.500"}),(0,Xo.jsxs)(Pb,{spacing:2,textAlign:"center",children:[(0,Xo.jsx)(Wb,{size:"lg",color:"orange.600",children:"Payment Pending"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Your payment is being processed. This may take a few minutes."})]}),(0,Xo.jsxs)(dS,{spacing:3,pt:4,children:[(0,Xo.jsx)(Bj,{colorScheme:"orange",leftIcon:(0,Xo.jsx)(B_,{}),onClick:w,children:"Check Status Again"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:S,children:"View Booking"})]})]});case"failed":return(0,Xo.jsxs)(Pb,{spacing:6,align:"center",py:8,children:[(0,Xo.jsx)(Zv,{as:rA,w:16,h:16,color:"red.500"}),(0,Xo.jsxs)(Pb,{spacing:2,textAlign:"center",children:[(0,Xo.jsx)(Wb,{size:"lg",color:"red.600",children:"Payment Failed"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"We couldn't process your payment. Please try again with a different payment method."})]}),(0,Xo.jsxs)(dS,{spacing:3,pt:4,children:[(0,Xo.jsx)(Bj,{colorScheme:"red",onClick:_,children:"Try Again"}),(0,Xo.jsx)(Bj,{variant:"outline",onClick:S,children:"View Booking"})]})]});default:return(0,Xo.jsxs)(Pb,{spacing:6,align:"center",py:10,children:[(0,Xo.jsx)(Qv,{size:"xl",thickness:"4px",color:"blue.500"}),(0,Xo.jsxs)(Pb,{spacing:2,textAlign:"center",children:[(0,Xo.jsx)(Wb,{size:"md",children:"Verifying Payment"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Please wait while we verify your payment status..."})]}),(0,Xo.jsx)(Eb,{w:"full",maxW:"md",children:(0,Xo.jsx)(a0,{value:p,colorScheme:"blue",borderRadius:"full"})})]})}})()})})})})},k9=()=>{var e,n,r,i,a;const{bookingId:s,invoiceId:l}=Px(),c=Cx(),{tenant:d,token:u}=(_x(),D6()),[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)({}),[w,k]=(0,t.useState)(null),[S,_]=(0,t.useState)(!1),[A,C]=(0,t.useState)(null),[P,I]=(0,t.useState)({bookingId:parseInt(s)||0,tenantId:(null===d||void 0===d?void 0:d.tenantId)||0,invoiceId:parseInt(l)||0,amount:0,paymentChannel:"bank_transfer",notes:"",bankName:"",accountNumber:"",accountHolderName:"",transferDate:(new Date).toISOString().slice(0,19)+"Z",fileName:"",fileType:"",imageContent:"",contentEncoding:"base64"}),T={headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json"}};(0,t.useEffect)((()=>{null!==d&&void 0!==d&&d.tenantId&&I((e=>(0,o.A)((0,o.A)({},e),{},{tenantId:d.tenantId})))}),[d]),(0,t.useEffect)((()=>{(s||l)&&N()}),[s,l]);const N=async()=>{v(!0);try{if(s){var e;const t=await I6.A.get("".concat(g8,"/bookings/").concat(s),T);p(t.data.booking),null!==(e=t.data.booking)&&void 0!==e&&e.invoice&&(m(t.data.booking.invoice),I((e=>(0,o.A)((0,o.A)({},e),{},{invoiceId:t.data.booking.invoice.invoiceId,amount:t.data.booking.invoice.totalAmount}))))}if(l&&!s){var t;const e=await I6.A.get("".concat(g8,"/invoices/").concat(l),T);m(e.data.invoice),null!==(t=e.data.invoice)&&void 0!==t&&t.booking&&(p(e.data.invoice.booking),I((t=>(0,o.A)((0,o.A)({},t),{},{bookingId:e.data.invoice.booking.bookingId,amount:e.data.invoice.totalAmount}))))}await E()}catch(n){console.error("Error fetching data:",n)}finally{v(!1)}},E=async()=>{try{var e;const t=l||(null===f||void 0===f?void 0:f.invoiceId);if(!t)return;const n=JSON.parse(localStorage.getItem("tenant")||"{}"),r=n.tenantId||n.tenant_id||n.id,i=await D8.checkPendingManualPayments(t,r);if(i.hasPendingPayments&&(null===(e=i.pendingPayments)||void 0===e?void 0:e.length)>0){const e=i.pendingPayments[0];k(e),_(!0),console.warn("Pending payment found - preventing new submission")}}catch(t){console.error("Error checking pending payments:",t)}},z=(e,t)=>{I((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))),b[e]&&j((t=>(0,o.A)((0,o.A)({},t),{},{[e]:""})))},O=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),L=e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(t)};return(0,t.useEffect)((()=>{(async()=>{if(null!==d&&void 0!==d&&d.tenantId)try{const e=await D8.getPendingPayments(d.tenantId,u);e.data&&e.data.length>0&&(k(e.data[0]),_(!0))}catch(e){console.error("Error fetching pending payments:",e)}})()}),[d,u]),g?(0,Xo.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Xo.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Xo.jsx)("div",{className:"min-h-screen bg-gray-50 py-6",children:(0,Xo.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xo.jsx)("div",{className:"mb-8",children:(0,Xo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Manual Payment"}),(0,Xo.jsx)("p",{className:"text-gray-600 mt-2",children:"Submit your payment proof for verification"})]}),(0,Xo.jsx)("button",{onClick:()=>c(-1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"})]})}),(0,Xo.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[w&&(0,Xo.jsx)("div",{className:"lg:col-span-3 mb-6",children:(0,Xo.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:(0,Xo.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Xo.jsx)("div",{className:"flex-shrink-0",children:(0,Xo.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,Xo.jsx)("span",{className:"text-yellow-600",children:"\u26a0\ufe0f"})})}),(0,Xo.jsxs)("div",{className:"flex-1",children:[(0,Xo.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Payment Already Pending Verification"}),(0,Xo.jsx)("p",{className:"text-yellow-800 mb-4",children:"You have already submitted a manual payment for this invoice that is currently pending verification. You cannot submit another payment until the current one is processed."}),(0,Xo.jsx)("div",{className:"bg-white rounded border p-4 text-sm",children:(0,Xo.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{className:"text-gray-900",children:"Payment ID:"}),(0,Xo.jsxs)("span",{className:"text-gray-700 ml-2",children:["#",w.id]})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{className:"text-gray-900",children:"Amount:"}),(0,Xo.jsx)("span",{className:"text-gray-700 ml-2",children:O(w.amount)})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{className:"text-gray-900",children:"Submitted:"}),(0,Xo.jsx)("span",{className:"text-gray-700 ml-2",children:L(w.createdAt)})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("strong",{className:"text-gray-900",children:"Status:"}),(0,Xo.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs ml-2",children:"PENDING VERIFICATION"})]})]})}),(0,Xo.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,Xo.jsx)("button",{onClick:()=>c("/tenant/payments/history"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:"View Payment History"}),(0,Xo.jsx)("button",{onClick:()=>c("/tenant/contact"),className:"px-4 py-2 border border-yellow-600 text-yellow-600 rounded-lg hover:bg-yellow-50 transition-colors text-sm",children:"Contact Support"})]})]})]})})}),(0,Xo.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[h&&(0,Xo.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xo.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Xo.jsx)("div",{className:"w-5 h-5 bg-blue-100 rounded flex items-center justify-center",children:(0,Xo.jsx)("span",{className:"text-blue-600 text-xs",children:"\ud83c\udfe2"})}),(0,Xo.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Booking Details"})]}),(0,Xo.jsxs)("div",{className:"space-y-4",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Room"}),(0,Xo.jsx)("p",{className:"font-medium text-gray-900",children:null===(e=h.room)||void 0===e?void 0:e.name}),(0,Xo.jsxs)("p",{className:"text-sm text-gray-500",children:[null===(n=h.room)||void 0===n||null===(r=n.classification)||void 0===r?void 0:r.name," \u2022 ",null===(i=h.room)||void 0===i||null===(a=i.rentalType)||void 0===a?void 0:a.name]})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Period"}),(0,Xo.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,Xo.jsx)("span",{children:"\ud83d\udcc5"}),(0,Xo.jsxs)("span",{children:[L(h.checkInDate)," - ",L(h.checkOutDate)]})]})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,Xo.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,Xo.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("approved"===h.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:h.status}),(0,Xo.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("paid"===h.paymentStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:h.paymentStatus})]})]})]})]}),f&&(0,Xo.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xo.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Xo.jsx)("div",{className:"w-5 h-5 bg-green-100 rounded flex items-center justify-center",children:(0,Xo.jsx)("span",{className:"text-green-600 text-xs",children:"\ud83d\udcb3"})}),(0,Xo.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Invoice Details"})]}),(0,Xo.jsxs)("div",{className:"space-y-4",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Invoice Number"}),(0,Xo.jsx)("p",{className:"font-medium text-gray-900",children:f.invoiceNo})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),(0,Xo.jsx)("p",{className:"text-xl font-bold text-green-600",children:O(f.totalAmount)})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Due Date"}),(0,Xo.jsx)("p",{className:"text-sm text-gray-700",children:L(f.dueDate)})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,Xo.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full mt-1 ".concat("paid"===f.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:f.status})]}),"                "]})]}),(0,Xo.jsxs)("div",{className:"bg-blue-50 rounded-lg shadow-sm border border-blue-200 p-6",children:[(0,Xo.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Xo.jsx)("div",{className:"w-5 h-5 bg-blue-100 rounded flex items-center justify-center",children:(0,Xo.jsx)("span",{className:"text-blue-600 text-xs",children:"\ud83c\udfe6"})}),(0,Xo.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:"Bank Transfer Instructions"})]}),(0,Xo.jsxs)("div",{className:"space-y-3 text-sm text-blue-800",children:[(0,Xo.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xo.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,Xo.jsx)("div",{className:"font-medium",children:"Bank BNI"}),(0,Xo.jsxs)("div",{children:["Account: ",(0,Xo.jsx)("strong",{children:"0123456789"})]}),(0,Xo.jsxs)("div",{children:["Name: ",(0,Xo.jsx)("strong",{children:"Rusunawa PNJ"})]})]}),(0,Xo.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,Xo.jsx)("div",{className:"font-medium",children:"Bank Mandiri"}),(0,Xo.jsxs)("div",{children:["Account: ",(0,Xo.jsx)("strong",{children:"9876543210"})]}),(0,Xo.jsxs)("div",{children:["Name: ",(0,Xo.jsx)("strong",{children:"Rusunawa PNJ"})]})]})]}),(0,Xo.jsxs)("div",{className:"text-xs text-blue-600 space-y-1",children:[(0,Xo.jsx)("div",{children:"\u2022 Transfer the exact amount as shown in your invoice"}),(0,Xo.jsx)("div",{children:"\u2022 Include your invoice/booking number in the transfer description"}),(0,Xo.jsx)("div",{children:"\u2022 Keep your transfer receipt for upload"}),(0,Xo.jsx)("div",{children:"\u2022 Payment verification may take 1-2 business days"})]})]})]})]}),(0,Xo.jsx)("div",{className:"lg:col-span-2",children:(0,Xo.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Xo.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Xo.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Information"})}),(0,Xo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};(!P.tenantId||P.tenantId<=0)&&(e.tenantId="Tenant ID is required"),(!P.amount||P.amount<=0)&&(e.amount="Amount is required and must be greater than 0"),P.amount>1e9&&(e.amount="Amount cannot exceed 1 billion IDR"),P.paymentChannel||(e.paymentChannel="Payment channel is required"),P.bankName.trim()||(e.bankName="Bank name is required"),P.accountNumber.trim()||(e.accountNumber="Account number is required"),P.accountHolderName.trim()||(e.accountHolderName="Account holder name is required"),P.transferDate?new Date(P.transferDate)>new Date&&(e.transferDate="Transfer date cannot be in the future"):e.transferDate="Transfer date is required";return P.imageContent||(e.image="Payment proof image is required"),P.bookingId||P.invoiceId||(e.reference="Either booking ID or invoice ID is required"),j(e),0===Object.keys(e).length})()){if(S)return j((e=>(0,o.A)((0,o.A)({},e),{},{submit:"You have a pending payment that needs to be resolved before submitting a new one"}))),void setTimeout((()=>{const e=document.querySelector('[data-error="submit"]');e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100);x(!0);try{var t;console.log("Submitting manual payment with data:",P);const e=await I6.A.post("".concat(g8,"/payments/manual"),P,T);var n;if(console.log("Manual payment response:",e.data),"success"!==(null===(t=e.data.status)||void 0===t?void 0:t.status))throw new Error((null===(n=e.data.status)||void 0===n?void 0:n.message)||"Failed to create payment");c("/tenant/payments/".concat(e.data.payment.paymentId),{state:{message:e.data.status.message||"Manual payment submitted successfully and is pending verification",type:"success",paymentData:e.data.payment}})}catch(l){var r,i,a,s;console.error("Error creating manual payment:",l);let e="Failed to create payment";null!==(r=l.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.message?e=l.response.data.message:null!==(a=l.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.error?e=l.response.data.error:l.message&&(e=l.message),j({submit:e}),setTimeout((()=>{const e=document.querySelector('[data-error="submit"]');e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)}finally{x(!1)}}else{const e=Object.keys(b)[0],t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},className:"p-6 space-y-6",children:["                ",(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount (IDR) *"}),(0,Xo.jsxs)("div",{className:"relative",children:[(0,Xo.jsx)("span",{className:"absolute left-3 top-2 text-gray-500",children:"Rp"}),(0,Xo.jsx)("input",{id:"amount",type:"number",min:"1000",max:"1000000000",step:"1000",value:P.amount,onChange:e=>z("amount",parseFloat(e.target.value)||0),placeholder:"Enter payment amount",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(b.amount?"border-red-500":"border-gray-300")})]}),P.amount>0&&(0,Xo.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["Amount: ",O(P.amount)]}),b.amount&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.amount})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"paymentChannel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Channel *"}),"                  ",(0,Xo.jsxs)("select",{id:"paymentChannel",value:P.paymentChannel,onChange:e=>z("paymentChannel",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(b.paymentChannel?"border-red-500":"border-gray-300"),children:[(0,Xo.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Xo.jsx)("option",{value:"atm_transfer",children:"ATM Transfer"}),(0,Xo.jsx)("option",{value:"internet_banking",children:"Internet Banking"}),(0,Xo.jsx)("option",{value:"mobile_banking",children:"Mobile Banking"}),(0,Xo.jsx)("option",{value:"cash",children:"Cash"}),(0,Xo.jsx)("option",{value:"other",children:"Other"})]}),b.paymentChannel&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.paymentChannel})]}),(0,Xo.jsx)("hr",{className:"border-gray-200"}),"                ",(0,Xo.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"bankName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Bank Name *"}),(0,Xo.jsxs)("select",{id:"bankName",value:P.bankName,onChange:e=>z("bankName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(b.bankName?"border-red-500":"border-gray-300"),children:[(0,Xo.jsx)("option",{value:"",children:"Select your bank"}),(0,Xo.jsx)("option",{value:"BCA",children:"Bank BCA"}),(0,Xo.jsx)("option",{value:"BNI",children:"Bank BNI"}),(0,Xo.jsx)("option",{value:"BRI",children:"Bank BRI"}),(0,Xo.jsx)("option",{value:"Mandiri",children:"Bank Mandiri"}),(0,Xo.jsx)("option",{value:"CIMB Niaga",children:"CIMB Niaga"}),(0,Xo.jsx)("option",{value:"Danamon",children:"Bank Danamon"}),(0,Xo.jsx)("option",{value:"BTN",children:"Bank BTN"}),(0,Xo.jsx)("option",{value:"Permata",children:"Bank Permata"}),(0,Xo.jsx)("option",{value:"BNI Syariah",children:"BNI Syariah"}),(0,Xo.jsx)("option",{value:"BSI",children:"Bank Syariah Indonesia"}),(0,Xo.jsx)("option",{value:"Other",children:"Other Bank"})]}),"Other"===P.bankName&&(0,Xo.jsx)("input",{type:"text",placeholder:"Enter bank name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg mt-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:e=>z("bankName",e.target.value)}),b.bankName&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.bankName})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"accountNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number *"}),(0,Xo.jsx)("input",{id:"accountNumber",value:P.accountNumber,onChange:e=>z("accountNumber",e.target.value),placeholder:"Enter account number",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(b.accountNumber?"border-red-500":"border-gray-300")}),b.accountNumber&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.accountNumber})]})]}),(0,Xo.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"accountHolderName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Holder Name *"}),(0,Xo.jsx)("input",{id:"accountHolderName",value:P.accountHolderName,onChange:e=>z("accountHolderName",e.target.value),placeholder:"Enter account holder name",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(b.accountHolderName?"border-red-500":"border-gray-300")}),b.accountHolderName&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.accountHolderName})]}),"                  ",(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"transferDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),(0,Xo.jsx)("input",{id:"transferDate",type:"datetime-local",value:P.transferDate.slice(0,16),onChange:e=>z("transferDate",e.target.value+":00Z"),max:(new Date).toISOString().slice(0,16),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(b.transferDate?"border-red-500":"border-gray-300")}),b.transferDate&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.transferDate})]})]}),(0,Xo.jsx)("hr",{className:"border-gray-200"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Proof *"}),(0,Xo.jsxs)("div",{className:"mt-2",children:[(0,Xo.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[(0,Xo.jsx)("input",{type:"file",id:"paymentProof",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(t.type))return void j((e=>(0,o.A)((0,o.A)({},e),{},{image:"Please select a valid image file (JPEG, PNG, WebP, or GIF)"})));if(t.size>5242880)return void j((e=>(0,o.A)((0,o.A)({},e),{},{image:"Image size must be less than 5MB"})));const e=new FileReader;e.onload=e=>{try{const n=e.target.result;if(!n||!n.includes(","))throw new Error("Failed to process image");{const e=n.split(",")[1];I((n=>(0,o.A)((0,o.A)({},n),{},{fileName:t.name,fileType:t.type,imageContent:e,contentEncoding:"base64"}))),C(n),b.image&&j((e=>(0,o.A)((0,o.A)({},e),{},{image:""})))}}catch(n){console.error("Error processing image:",n),j((e=>(0,o.A)((0,o.A)({},e),{},{image:"Failed to process the selected image"})))}},e.onerror=()=>{j((e=>(0,o.A)((0,o.A)({},e),{},{image:"Failed to read the selected file"})))},e.readAsDataURL(t)}},className:"hidden"}),A?(0,Xo.jsxs)("div",{className:"space-y-4",children:[(0,Xo.jsx)("img",{src:A,alt:"Payment proof preview",className:"mx-auto max-w-full h-48 object-cover rounded-lg border"}),(0,Xo.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Xo.jsx)("span",{className:"text-green-600 text-sm",children:"\ud83d\uddbc\ufe0f"}),(0,Xo.jsx)("span",{className:"text-sm text-green-600 font-medium",children:P.fileName})]}),(0,Xo.jsx)("button",{type:"button",onClick:()=>document.getElementById("paymentProof").click(),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Change Image"})]}):(0,Xo.jsxs)("div",{className:"space-y-2",children:[(0,Xo.jsx)("div",{className:"text-4xl text-gray-400",children:"\ud83d\udcc1"}),(0,Xo.jsx)("div",{children:(0,Xo.jsx)("button",{type:"button",onClick:()=>document.getElementById("paymentProof").click(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Payment Proof"})}),"                          ",(0,Xo.jsx)("p",{className:"text-sm text-gray-500",children:"PNG, JPG, JPEG, WebP or GIF up to 5MB"})]})]}),b.image&&(0,Xo.jsx)("p",{className:"text-sm text-red-500 mt-1",children:b.image})]})]}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Xo.jsx)("textarea",{id:"notes",value:P.notes,onChange:e=>z("notes",e.target.value),placeholder:"Add any additional notes about this payment",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),"                ",b.submit&&(0,Xo.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4","data-error":"submit",children:(0,Xo.jsxs)("div",{className:"flex items-start",children:[(0,Xo.jsx)("div",{className:"text-red-400 mr-3 mt-0.5",children:"\u26a0\ufe0f"}),(0,Xo.jsxs)("div",{children:[(0,Xo.jsx)("h4",{className:"text-red-800 font-medium mb-1",children:"Submission Error"}),(0,Xo.jsx)("p",{className:"text-red-700 text-sm",children:b.submit})]})]})}),b.reference&&(0,Xo.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xo.jsx)("p",{className:"text-red-700 text-sm",children:b.reference})}),(0,Xo.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,Xo.jsx)("button",{type:"button",onClick:()=>c(-1),className:"px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),"                  ",(0,Xo.jsx)("button",{type:"submit",disabled:y||S||!P.imageContent||Object.keys(b).length>0,className:"px-6 py-2 rounded-lg transition-colors min-w-32 flex items-center justify-center ".concat(S?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"),title:S?"Cannot submit new payment while another is pending":"",children:y?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Xo.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xo.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):S?"Payment Pending Verification":"Submit Payment"})]})]})]})})]})]})})},S9={reportIssue:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n={tenantId:e.tenantId,reportedByUserId:e.reportedByUserId,description:e.description,priority:e.priority||"medium",category:e.category||"",estimatedResolutionHours:e.estimatedResolutionHours||0};if(console.log("\ud83d\udd0d Booking ID check:",{"issueData.bookingId":e.bookingId,typeof:typeof e.bookingId,truthy:!!e.bookingId,"condition result":!!e.bookingId}),e.bookingId?(console.log("\u2705 Adding booking ID to request:",e.bookingId),n.bookingId=e.bookingId):console.log("\u274c Booking ID not added - value was:",e.bookingId),e.initialAttachments&&e.initialAttachments.length>0)n.initialAttachments=e.initialAttachments;else if(t){const e=await new Promise(((e,n)=>{const r=new FileReader;r.onload=()=>{const t=r.result.split(",")[1];e(t)},r.onerror=n,r.readAsDataURL(t)}));n.initialAttachments=[{fileName:t.name,fileType:t.type,content:e,attachmentType:"evidence",contextDescription:"Initial report evidence",isPrimary:!0}]}console.log("Sending issue report request:",n);return(await I6.A.post("".concat(g8,"/issues"),n,{headers:(0,o.A)((0,o.A)({},y8()),{},{"Content-Type":"application/json"})})).data}catch(r){var n;throw console.error("Error reporting issue:",r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to report issue"}}},getIssue:async e=>{try{const t=await I6.A.get("".concat(g8,"/issues/").concat(e,"?includeAttachments=true&includeHistory=true&includeComments=true"),{headers:y8()}),n=t.data.issue||t.data;return t.data.attachments&&(n.attachments=t.data.attachments),t.data.history&&(n.statusHistory=t.data.history),t.data.comments&&(n.comments=t.data.comments),n}catch(n){var t;throw console.error("Error fetching issue:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch issue"}}},getTenantIssues:async e=>{try{return(await I6.A.get("".concat(g8,"/tenants/").concat(e,"/issues"),{headers:y8()})).data}catch(n){var t;throw console.error("Error fetching tenant issues:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch tenant issues"}}},getIssues:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await I6.A.get("".concat(g8,"/issues"),{headers:y8(),params:e})).data}catch(n){var t;throw console.error("Error fetching issues:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch issues"}}},updateIssueStatus:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r={issueId:parseInt(e),status:t,notes:n.notes||"",updatedBy:n.updatedBy||1,progressPercentage:n.progressPercentage||0};n.images&&n.images.length>0&&(r.progressAttachments=n.images.map(((e,n)=>({fileName:e.fileName,fileType:e.fileType,content:e.base64,contextDescription:"".concat(t," image ").concat(n+1,": ").concat(e.contextDescription||"Progress update"),attachmentType:"in_progress"===t?"progress":"resolved"===t?"completion":"feedback"}))));return(await I6.A.put("".concat(g8,"/issues/").concat(e,"/status"),r,{headers:y8()})).data}catch(i){var r;throw console.error("Error updating issue status:",i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to update issue status"}}},submitVerificationFeedback:async(e,t)=>{try{const n={feedbackText:t.feedbackText,rating:t.rating||5,verificationImages:t.verificationImages||[]};return(await I6.A.post("".concat(g8,"/issues/").concat(e,"/verify"),n,{headers:y8()})).data}catch(r){var n;throw console.error("Error submitting verification feedback:",r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to submit verification feedback"}}},getIssueAttachments:async e=>{try{return(await I6.A.get("".concat(g8,"/issues/").concat(e,"/attachments"),{headers:y8()})).data}catch(n){var t;throw console.error("Error fetching issue attachments:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch issue attachments"}}},getAttachmentContent:async e=>{try{return(await I6.A.get("".concat(g8,"/issue-attachments/").concat(e),{headers:y8()})).data}catch(n){var t;throw console.error("Error fetching attachment content:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch attachment content"}}},getAttachmentsByStatus:async e=>{try{const t=(await I6.A.get("".concat(g8,"/issues/").concat(e,"/attachments"),{headers:y8()})).data.attachments||[],n={report:t.filter((e=>"report"===e.attachmentType)),progress:t.filter((e=>"progress"===e.attachmentType)),completion:t.filter((e=>"completion"===e.attachmentType)),feedback:t.filter((e=>"feedback"===e.attachmentType))};return n}catch(t){throw console.error("Error organizing attachments by status:",t),t}},getIssueImageUrl:e=>"".concat(g8,"/issues/").concat(e,"/image"),getIssueImage:async e=>{try{return(await I6.A.get("".concat(g8,"/issues/").concat(e,"/image"),{headers:y8()})).data}catch(n){var t;throw console.error("Error fetching issue image:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch issue image"}}},uploadAttachments:async(e,t,n)=>{try{const r=t.map((t=>I6.A.post("".concat(g8,"/issues/").concat(e,"/attachments"),{fileName:t.fileName,fileType:t.fileType,content:t.content,attachmentType:t.attachmentType||"evidence",contextDescription:t.contextDescription||"",uploadedBy:n,isPrimary:t.isPrimary||!1},{headers:y8()})));return{success:!0,attachments:(await Promise.all(r)).map((e=>e.data.attachment))}}catch(i){var r;throw console.error("Error uploading attachments:",i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to upload attachments"}}},getAttachment:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"original",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"binary";try{const r="binary"!==n?"".concat(g8,"/issue-attachments/").concat(e,"/").concat(t,"/").concat(n):"".concat(g8,"/issue-attachments/").concat(e);return(await I6.A.get(r,{headers:y8()})).data}catch(i){var r;throw console.error("Error fetching attachment:",i),(null===(r=i.response)||void 0===r?void 0:r.data)||{message:"Failed to fetch attachment"}}},getIssueStatusHistory:async e=>{try{return(await I6.A.get("".concat(g8,"/issues/").concat(e,"/status-history"),{headers:y8()})).data}catch(n){var t;throw console.error("Error fetching issue status history:",n),(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to fetch issue status history"}}},getIssueComments:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n={};void 0!==t.includePrivate&&(n.includePrivate=t.includePrivate);let r="".concat(g8,"/issues/").concat(e,"/comments");t.commentType&&(r="".concat(g8,"/issues/").concat(e,"/comments/").concat(t.commentType));return(await I6.A.get(r,{headers:y8(),params:n})).data}catch(r){var n;throw console.error("Error fetching issue comments:",r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to fetch issue comments"}}},addIssueComment:async(e,t)=>{try{const n={content:t.comment||t.content,comment_type:t.commentType||t.comment_type||"general",is_public:void 0===t.isPublic||t.isPublic,author_id:t.authorId||t.author_id,issue_id:parseInt(e)};console.log("Adding comment with payload:",n);return(await I6.A.post("".concat(g8,"/issues/").concat(e,"/comments"),n,{headers:y8()})).data}catch(r){var n;throw console.error("Error adding issue comment:",r),(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to add issue comment"}}}},_9=S9,A9=()=>{const{tenant:e}=D6(),n=Cx(),r=hb(),[i,o]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)(!0),f=zs("white","gray.700"),m=zs("gray.200","gray.600");(0,t.useEffect)((()=>{(async()=>{if(null===e||void 0===e||!e.tenantId)return s(!1),void p(!1);try{s(!0),c(null);const[t,n]=await Promise.all([_9.getTenantIssues(e.tenantId),z8.getTenantBookings(e.tenantId)]);const r=(t.issues||t||[]).filter(((e,t,n)=>n.findIndex((t=>t.issueId===e.issueId))===t));if(o(r),null!==n&&void 0!==n&&n.bookings){const e=new Date,t=n.bookings.filter((t=>{const n=new Date(t.checkInDate||t.check_in),r=new Date(t.checkOutDate||t.check_out);return"checked_in"===t.status||"confirmed"===t.status&&e>=n&&e<=r||"approved"===t.status&&n<=new Date(e.getTime()+6048e5)}));u(t)}}catch(Pee){c(Pee.message||"Failed to load your issues"),console.error("Error fetching data:",Pee),r({title:"Error Loading Data",description:Pee.message||"Failed to load your issues",status:"error",duration:5e3,isClosable:!0})}finally{s(!1),p(!1)}})()}),[null===e||void 0===e?void 0:e.tenantId,r]);const g=e=>{switch(e){case"open":return"red";case"in_progress":return"yellow";case"resolved":return"green";default:return"gray"}},v=e=>{switch(e){case"high":return"red";case"medium":return"orange";case"low":return"green";default:return"gray"}},y=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"high":return"Mendesak";case"medium":return"Segera";case"low":return"Biasa";default:return"Tidak Diketahui"}},x=e=>"all"===e?i:i.filter((t=>t.status===e)),b=e=>{let{issue:t}=e;return(0,Xo.jsxs)(Vb,{bg:f,borderWidth:"1px",borderColor:m,_hover:{shadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",cursor:"pointer",onClick:()=>n("/tenant/issues/".concat(t.issueId)),children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(dS,{justify:"space-between",align:"start",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,flex:"1",children:[(0,Xo.jsx)(Wb,{size:"sm",noOfLines:1,children:t.title||"Issue #".concat(t.issueId)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",noOfLines:2,children:t.description||"No description provided"})]}),(0,Xo.jsx)(r_,{colorScheme:g(t.status),variant:"solid",children:(t.status||"pending").replace("_"," ").toUpperCase()})]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:3,children:[t.category&&(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Hk,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:t.category})]}),t.priority?(0,Xo.jsx)(r_,{colorScheme:v(t.priority),variant:"outline",children:y(t.priority).toUpperCase()}):(0,Xo.jsx)(r_,{colorScheme:"gray",variant:"outline",children:"PRIORITY PENDING"})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:ww,color:"gray.500"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:q7(t.reportedAt)})]}),(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"blue",variant:"outline",onClick:e=>{e.stopPropagation(),n("/tenant/issues/".concat(t.issueId))},children:"View Details"})]})})]})};return a?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"center",children:[(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Loading your issues..."})]})})}):l?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),l]})})}):null!==e&&void 0!==e&&e.tenantId?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"center",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Wb,{size:"xl",mb:2,children:"Maintenance Issues"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Report and track maintenance issues in your room"})]}),h?(0,Xo.jsx)(Qv,{}):d.length>0?(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/issues/report",leftIcon:(0,Xo.jsx)(kk,{}),colorScheme:"blue",size:"lg",children:"Report New Issue"}):(0,Xo.jsxs)(Pb,{spacing:2,align:"end",children:[(0,Xo.jsx)(y0,{label:"You need an active booking to report maintenance issues",hasArrow:!0,children:(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(kk,{}),colorScheme:"gray",size:"lg",isDisabled:!0,cursor:"not-allowed",children:"Report New Issue"})}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"red.500",textAlign:"center",children:"Requires active booking"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",leftIcon:(0,Xo.jsx)(gw,{}),colorScheme:"blue",variant:"outline",size:"sm",children:"Browse Rooms"})]})]}),!h&&0===d.length&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"No Active Booking Found"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"You need to have an active room booking to report maintenance issues. Make a booking first to access issue reporting."})]})]}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:4},spacing:4,children:[(0,Xo.jsx)(Vb,{bg:f,textAlign:"center",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Vw,boxSize:8,color:"red.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:x("open").length}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Open Issues"})]})})}),(0,Xo.jsx)(Vb,{bg:f,textAlign:"center",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Nw,boxSize:8,color:"yellow.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:x("in_progress").length}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"In Progress"})]})})}),(0,Xo.jsx)(Vb,{bg:f,textAlign:"center",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Aw,boxSize:8,color:"green.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:x("resolved").length}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Resolved"})]})})}),(0,Xo.jsx)(Vb,{bg:f,textAlign:"center",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Hk,boxSize:8,color:"blue.500"}),(0,Xo.jsx)(Wb,{size:"lg",children:i.length}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Total Issues"})]})})})]}),(0,Xo.jsxs)(YQ,{variant:"enclosed",colorScheme:"blue",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"All Issues"}),(0,Xo.jsx)(JQ,{children:"Open"}),(0,Xo.jsx)(JQ,{children:"In Progress"}),(0,Xo.jsx)(JQ,{children:"Resolved"})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{px:0,children:0===i.length?(0,Xo.jsx)(Vb,{bg:f,textAlign:"center",py:10,children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Zv,{as:Hk,boxSize:12,color:"gray.400"}),(0,Xo.jsx)(Wb,{size:"md",color:"gray.500",children:"No Issues Found"}),(0,Xo.jsx)(Tb,{color:"gray.500",children:"You haven't reported any maintenance issues yet."}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/issues/report",leftIcon:(0,Xo.jsx)(kk,{}),colorScheme:"blue",children:"Report Your First Issue"})]}),"                    "]})}):(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:i.map((e=>(0,Xo.jsx)(b,{issue:e},e.issueId)))})}),(0,Xo.jsxs)($Q,{px:0,children:[(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:x("open").map((e=>(0,Xo.jsx)(b,{issue:e},e.issueId)))}),0===x("open").length&&(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.500",py:8,children:"No open issues found."})]}),(0,Xo.jsxs)($Q,{px:0,children:[(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:x("in_progress").map((e=>(0,Xo.jsx)(b,{issue:e},e.issueId)))}),0===x("in_progress").length&&(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.500",py:8,children:"No issues currently in progress."})]}),(0,Xo.jsxs)($Q,{px:0,children:[(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:x("resolved").map((e=>(0,Xo.jsx)(b,{issue:e},e.issueId)))}),0===x("resolved").length&&(0,Xo.jsx)(Tb,{textAlign:"center",color:"gray.500",py:8,children:"No resolved issues found."})]})]})]})]})})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Please log in to view your issues."]})})})},C9=e=>{let{images:n=[],onImagesChange:r,maxImages:i=5,maxSizePerFile:a=10485760,acceptedTypes:s=["image/jpeg","image/png","image/jpg","image/webp"],title:l="Upload Images",description:c="Drag and drop images here, or click to select files",contextDescription:d="Evidence photos",disabled:u=!1,required:h=!1,showPreview:p=!0,allowReorder:f=!0}=e;const m=hb(),g=(0,t.useRef)(null),[v,y]=(0,t.useState)(!1),x=zs("white","gray.700"),b=zs("gray.200","gray.600"),j=zs("blue.300","blue.500"),w=zs("blue.500","blue.300"),k=zs("gray.600","gray.300"),S=zs("gray.50","gray.600"),_=(0,t.useCallback)((e=>e.size>a?(m({title:"File too large",description:"Maximum file size is ".concat(Math.round(a/1048576),"MB"),status:"error",duration:3e3,isClosable:!0}),!1):!!s.includes(e.type)||(m({title:"Invalid file type",description:"Only ".concat(s.map((e=>e.split("/")[1].toUpperCase())).join(", ")," formats are supported"),status:"error",duration:3e3,isClosable:!0}),!1)),[a,s,m]),A=(0,t.useCallback)((async e=>{const t=Array.from(e);if(n.length+t.length>i)return void m({title:"Too many files",description:"Maximum ".concat(i," images allowed"),status:"error",duration:3e3,isClosable:!0});const o=[];for(let r=0;r<t.length;r++){const e=t[r];if(_(e))try{const t=URL.createObjectURL(e),i=await C(e),a={id:Date.now()+r,file:e,preview:t,fileName:e.name,fileType:e.type,size:e.size,base64:i,contextDescription:d,isPrimary:0===n.length&&0===r,uploaded:!1};o.push(a)}catch(a){console.error("Error processing file:",e.name,a),m({title:"Error processing file",description:"Failed to process ".concat(e.name),status:"error",duration:3e3,isClosable:!0})}}o.length>0&&r([...n,...o])}),[n,i,s,a,d,r,m]),C=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result.split(",")[1];t(e)},r.onerror=n,r.readAsDataURL(e)})),P=(0,t.useCallback)((e=>{if(e.preventDefault(),y(!1),u)return;const t=e.dataTransfer.files;t&&t.length>0&&A(t)}),[u,A,_]),I=(0,t.useCallback)((e=>{e.preventDefault(),u||y(!0)}),[u]),T=(0,t.useCallback)((e=>{e.preventDefault(),y(!1)}),[]);return(0,Xo.jsx)(Eb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Vb,{bg:x,borderWidth:"2px",borderStyle:"dashed",borderColor:v?w:u?b:j,p:6,textAlign:"center",cursor:u?"not-allowed":"pointer",onDrop:P,onDragOver:I,onDragLeave:T,onClick:()=>{g.current&&!u&&g.current.click()},_hover:u?{}:{borderColor:j,bg:S},transition:"all 0.2s",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:n.length>0?Jw:Ew,size:"3xl",color:u?"gray.400":"blue.500",w:12,h:12}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"medium",color:u?"gray.400":k,children:l}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:u?"gray.400":k,mt:1,children:c})]}),(0,Xo.jsxs)(Pb,{spacing:1,children:[(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Max ",i," files, ",Math.round(a/1048576),"MB each"]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Supported: ",s.map((e=>e.split("/")[1].toUpperCase())).join(", ")]})]}),n.length>0&&(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"subtle",children:[n.length," of ",i," files selected"]})]})})}),(0,Xo.jsx)("input",{ref:g,type:"file",multiple:!0,accept:s.join(","),onChange:e=>{const t=e.target.files;t&&t.length>0&&A(t),g.current&&(g.current.value="")},style:{display:"none"},disabled:u}),p&&n.length>0&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",mb:3,color:k,children:["Selected Images (",n.length,")"]}),(0,Xo.jsx)(t_,{templateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:4,children:n.map(((e,t)=>(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Vb,{bg:x,borderWidth:"1px",borderColor:e.isPrimary?"blue.500":b,overflow:"hidden",position:"relative",children:[(0,Xo.jsxs)(Eb,{position:"relative",children:[(0,Xo.jsx)(Bb,{src:e.preview||e.url,alt:e.fileName,w:"100%",h:"150px",objectFit:"cover"}),e.isPrimary&&(0,Xo.jsx)(r_,{position:"absolute",top:2,left:2,colorScheme:"blue",variant:"solid",fontSize:"xs",children:"Primary"}),(0,Xo.jsxs)(dS,{position:"absolute",top:2,right:2,spacing:1,children:[!e.isPrimary&&(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(Yw,{}),size:"xs",colorScheme:"blue",variant:"solid",onClick:t=>{t.stopPropagation(),(e=>{const t=n.map((t=>(0,o.A)((0,o.A)({},t),{},{isPrimary:t.id===e})));r(t)})(e.id)},title:"Set as primary"}),(0,Xo.jsx)(Uj,{icon:(0,Xo.jsx)(qk,{}),size:"xs",colorScheme:"red",variant:"solid",onClick:t=>{t.stopPropagation(),(e=>{const t=n.filter((t=>t.id!==e)),i=n.find((t=>t.id===e));i&&i.preview&&URL.revokeObjectURL(i.preview),r(t)})(e.id)},title:"Remove image"})]})]}),(0,Xo.jsx)(Kb,{p:3,children:(0,Xo.jsxs)(Pb,{spacing:1,align:"start",children:[(0,Xo.jsx)(Tb,{fontSize:"xs",fontWeight:"medium",noOfLines:1,children:e.fileName}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:[(e.size/1024).toFixed(1)," KB"]}),e.contextDescription&&(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",children:e.contextDescription})]})})]})},e.id)))})]}),h&&0===n.length&&(0,Xo.jsxs)(ay,{status:"warning",size:"sm",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(cy,{children:"At least one image is required"})]})]})})},P9=()=>{const{tenant:e}=D6(),n=Cx(),r=hb(),[i,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(0),c=((0,t.useRef)(null),zs("white","gray.700")),d=zs("gray.200","gray.600"),[u,h]=(0,t.useState)([]),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)({title:"",description:"",category:"",location:"",contactPhone:""}),[j,w]=(0,t.useState)([]),[k,S]=(0,t.useState)({}),_=[{value:"electrical",label:"Electrical",icon:vw,color:"yellow"},{value:"plumbing",label:"Plumbing",icon:iS,color:"blue"},{value:"hvac",label:"Air Conditioning/Heating",icon:Lk,color:"cyan"},{value:"cleaning",label:"Cleaning",icon:xw,color:"green"},{value:"maintenance",label:"General Maintenance",icon:Hk,color:"orange"},{value:"furniture",label:"Furniture",icon:ok,color:"purple"},{value:"other",label:"Other",icon:Vw,color:"gray"}];(0,t.useEffect)((()=>{A()}),[e]);const A=async()=>{if(null!==e&&void 0!==e&&e.tenantId||null!==e&&void 0!==e&&e.id)try{g(!0);const t=(null===e||void 0===e?void 0:e.tenantId)||(null===e||void 0===e?void 0:e.id),n=await z8.getTenantBookings(t);if(null!==n&&void 0!==n&&n.bookings){const e=new Date,t=n.bookings.filter((t=>{const n=new Date(t.checkInDate||t.check_in),r=new Date(t.checkOutDate||t.check_out);return"checked_in"===t.status||"confirmed"===t.status&&e>=n&&e<=r||"approved"===t.status&&n<=new Date(e.getTime()+6048e5)}));if(console.log("Active bookings found:",t),console.log("Raw bookings response:",n.bookings),console.log("Booking structure sample:",t[0]),console.log("Current date for filtering:",e),console.log("Booking status filtering results:",n.bookings.map((t=>({id:t.bookingId,status:t.status,checkIn:t.checkInDate,checkOut:t.checkOutDate,isActive:"checked_in"===t.status||"confirmed"===t.status&&e>=new Date(t.checkInDate)&&e<=new Date(t.checkOutDate)||"approved"===t.status&&new Date(t.checkInDate)<=new Date(e.getTime()+6048e5)})))),h(t),t.length>0){const e=t[0];f(e),(e.roomNumber||e.room_number)&&b((t=>(0,o.A)((0,o.A)({},t),{},{location:"Room ".concat(e.roomNumber||e.room_number).concat(e.buildingName?" - ".concat(e.buildingName):"")})))}}}catch(t){console.error("Error loading active bookings:",t)}finally{g(!1)}else g(!1)},C=e=>{console.log("\ud83d\udd04 Booking selection changed:",{selectedBooking:e,bookingId:null===e||void 0===e?void 0:e.bookingId,booking_id:null===e||void 0===e?void 0:e.booking_id,id:null===e||void 0===e?void 0:e.id}),f(e),b(e?t=>(0,o.A)((0,o.A)({},t),{},{location:"Room ".concat(e.roomNumber||e.room_number).concat(e.buildingName?" - ".concat(e.buildingName):"")}):e=>(0,o.A)((0,o.A)({},e),{},{location:""}))},P=e=>{const{name:t,value:n}=e.target;b((e=>(0,o.A)((0,o.A)({},e),{},{[t]:n}))),k[t]&&S((e=>(0,o.A)((0,o.A)({},e),{},{[t]:""})))};return(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"stretch",children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(dS,{mb:4,children:(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),variant:"ghost",onClick:()=>n("/tenant/issues"),children:"Back to Issues"})}),(0,Xo.jsx)(Wb,{size:"xl",mb:2,children:"Report Maintenance Issue"}),(0,Xo.jsx)(Tb,{color:"gray.600",children:"Please provide detailed information about the issue you're experiencing. This helps us resolve it faster."})]}),"          ",(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Response Time"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Emergency issues (water leaks, electrical hazards) will be addressed within 2 hours. Other issues typically take 24-48 hours to resolve."})]})]}),(0,Xo.jsxs)(Vb,{bg:c,borderWidth:"1px",borderColor:d,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Zv,{as:gw,color:"blue.500"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Wb,{size:"md",children:"Link to Current Booking"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"This helps us identify the specific room and context for your issue"})]})]})}),(0,Xo.jsx)(Kb,{children:m?(0,Xo.jsx)(bb,{py:6,children:(0,Xo.jsxs)(Pb,{spacing:3,children:[(0,Xo.jsx)(Qv,{}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Loading your active bookings..."})]})}):u.length>0?(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(_w,{}),(0,Xo.jsxs)(Eb,{ml:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Active Booking Found!"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"We'll automatically link this issue to your current booking for faster resolution."})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Select Booking (Optional)"}),(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[u.map((e=>(0,Xo.jsx)(Eb,{p:4,borderWidth:"1px",borderColor:(null===p||void 0===p?void 0:p.bookingId)===e.bookingId||(null===p||void 0===p?void 0:p.booking_id)===e.booking_id?"blue.500":d,borderRadius:"md",cursor:"pointer",onClick:()=>C(e),_hover:{borderColor:"blue.300"},bg:(null===p||void 0===p?void 0:p.bookingId)===e.bookingId||(null===p||void 0===p?void 0:p.booking_id)===e.booking_id?"blue.50":"transparent",children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsxs)(r_,{colorScheme:"blue",variant:"outline",children:["Booking #",e.bookingId||e.booking_id]}),(0,Xo.jsx)(r_,{colorScheme:"checked_in"===e.status?"green":"yellow",variant:"solid",children:"checked_in"===e.status?"Checked In":"Confirmed"})]}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:["Room ",e.roomNumber||e.room_number,e.buildingName&&" - ".concat(e.buildingName)]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:[new Date(e.checkInDate||e.check_in).toLocaleDateString()," - "," ",new Date(e.checkOutDate||e.check_out).toLocaleDateString()]})]}),((null===p||void 0===p?void 0:p.bookingId)===e.bookingId||(null===p||void 0===p?void 0:p.booking_id)===e.booking_id)&&(0,Xo.jsx)(Zv,{as:_w,color:"blue.500"})]})},e.bookingId||e.booking_id))),(0,Xo.jsx)(Eb,{p:4,borderWidth:"1px",borderColor:p?d:"blue.500",borderRadius:"md",cursor:"pointer",onClick:()=>C(null),_hover:{borderColor:"blue.300"},bg:p?"transparent":"blue.50",children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Report without booking link"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"For general issues or when the problem isn't related to your current booking"})]}),!p&&(0,Xo.jsx)(Zv,{as:_w,color:"blue.500"})]})})]})]})]}):(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(ck,{}),(0,Xo.jsxs)(Eb,{ml:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"No Active Booking Found"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"You must have an active booking to report maintenance issues. Please make a room booking first before reporting any issues."})]})]}),(0,Xo.jsx)(Eb,{p:4,bg:"red.50",borderRadius:"md",borderWidth:"1px",borderColor:"red.200",children:(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"red.700",children:"\u274c Issue reporting is only available for tenants with active bookings"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,pl:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"red.600",children:"\u2022 You need to have a confirmed or active room booking"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"red.600",children:"\u2022 Issues must be related to your occupied or reserved room"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"red.600",children:"\u2022 This ensures we can provide proper and timely assistance"})]}),(0,Xo.jsx)(Bj,{colorScheme:"blue",size:"sm",mt:2,onClick:()=>n("/tenant/rooms"),children:"Browse Available Rooms"})]})})]})})]}),!m&&u.length>0?(0,Xo.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),u&&0!==u.length)if((()=>{const e={};return x.title.trim()||(e.title="Title is required"),x.description.trim()||(e.description="Description is required"),x.category||(e.category="Category is required"),x.location.trim()||(e.location="Location is required"),S(e),0===Object.keys(e).length})())if(e&&(e.tenantId||e.id)){a(!0),l(0);try{var i,o,s,c;console.log("Tenant object structure:",e),console.log("Tenant ID:",(null===e||void 0===e?void 0:e.tenantId)||(null===e||void 0===e?void 0:e.id));const t={tenantId:(null===e||void 0===e?void 0:e.tenantId)||(null===e||void 0===e?void 0:e.id)||0,reportedByUserId:(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.id)||0,bookingId:p?p.bookingId||p.booking_id||p.id||null:(null===(i=u[0])||void 0===i?void 0:i.bookingId)||(null===(o=u[0])||void 0===o?void 0:o.booking_id)||(null===(s=u[0])||void 0===s?void 0:s.id)||null,description:"".concat(x.title,"\n\n").concat(x.description,"\n\nLocation: ").concat(x.location).concat(x.contactPhone?"\nContact: ".concat(x.contactPhone):""),category:x.category||"general",estimatedResolutionHours:0};if(console.log("=== ISSUE SUBMISSION DEBUG ==="),console.log("Selected booking object:",p),console.log("Selected booking fields check:",{bookingId:null===p||void 0===p?void 0:p.bookingId,booking_id:null===p||void 0===p?void 0:p.booking_id,id:null===p||void 0===p?void 0:p.id,fullObject:p}),console.log("Extracted booking ID:",t.bookingId),console.log("Final issue data:",t),console.log("Active bookings state:",u),console.log("==============================="),j.length>0){const e=[];j.forEach(((t,n)=>{e.push({fileName:t.fileName,fileType:t.fileType,content:t.base64,attachmentType:"evidence",contextDescription:t.contextDescription||"Initial report evidence ".concat(n+1),isPrimary:t.isPrimary||0===n})})),t.initialAttachments=e}console.log("Sending issue data:",t),console.log("Selected images count:",j.length);const a=await _9.reportIssue(t);r({title:"Issue Reported Successfully",description:'Your maintenance request "'.concat(x.title,'" has been submitted with ').concat(j.length," image").concat(1!==j.length?"s":"",". Issue ID: ").concat((null===(c=a.issue)||void 0===c?void 0:c.issueId)||"Unknown").concat(p?" (Linked to Booking #".concat(p.bookingId||p.booking_id,")"):"",". We will respond within 24 hours."),status:"success",duration:5e3,isClosable:!0}),b({title:"",description:"",category:"",location:"",contactPhone:""}),w([]),setTimeout((()=>{n("/tenant/issues")}),2e3)}catch(f){var d,h;console.error("Error submitting issue:",f),f.response&&console.error("API Response Error:",{status:f.response.status,data:f.response.data,headers:f.response.headers}),r({title:"Error Submitting Issue",description:(null===(d=f.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.message)||"Failed to submit your issue. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{a(!1)}}else r({title:"Authentication Error",description:"Unable to get tenant information. Please try logging in again.",status:"error",duration:5e3,isClosable:!0});else r({title:"Please fix the errors in the form",status:"error",duration:3e3,isClosable:!0});else r({title:"No Active Booking",description:"You must have an active room booking to report maintenance issues.",status:"error",duration:5e3,isClosable:!0})},children:(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",lg:"2fr 1fr"},gap:8,children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Vb,{bg:c,borderWidth:"1px",borderColor:d,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Issue Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:k.title,children:[(0,Xo.jsx)(sj,{children:"Issue Title"}),(0,Xo.jsx)(gj,{name:"title",value:x.title,onChange:P,placeholder:"Brief description of the issue"}),k.title&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:k.title})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:k.description,children:[(0,Xo.jsx)(sj,{children:"Detailed Description"}),(0,Xo.jsx)(D1,{name:"description",value:x.description,onChange:P,placeholder:"Please describe the issue in detail. Include when it started, what you've tried, etc.",rows:4}),k.description&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:k.description})]}),(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:k.location,children:[(0,Xo.jsx)(sj,{children:"Location"}),(0,Xo.jsx)(gj,{name:"location",value:x.location,onChange:P,placeholder:"e.g., Room 101, Bathroom, Kitchen"}),k.location&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",children:k.location})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Contact Phone (Optional)"}),(0,Xo.jsx)(gj,{name:"contactPhone",value:x.contactPhone,onChange:P,placeholder:"Alternative contact number"})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Upload Evidence Images"}),(0,Xo.jsx)(C9,{images:j,onImagesChange:e=>{w(e)},maxImages:5,title:"Upload Evidence Images",description:"Drag and drop images here, or click to select files",contextDescription:"Issue evidence photo",required:!1,showPreview:!0,allowReorder:!0}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:2,children:"Upload up to 5 images to help us understand the issue better. The first image will be used as the primary evidence."})]})]})})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Vb,{bg:c,borderWidth:"1px",borderColor:d,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Category"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(ij,{isRequired:!0,isInvalid:k.category,children:[(0,Xo.jsx)(Pb,{spacing:3,align:"stretch",children:_.map((e=>(0,Xo.jsx)(Eb,{p:3,borderWidth:"1px",borderRadius:"md",borderColor:x.category===e.value?"".concat(e.color,".300"):d,bg:x.category===e.value?"".concat(e.color,".50"):"transparent",cursor:"pointer",onClick:()=>b((t=>(0,o.A)((0,o.A)({},t),{},{category:e.value}))),_hover:{borderColor:"".concat(e.color,".300")},children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:e.icon,color:"".concat(e.color,".500")}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:e.label})]})},e.value)))}),k.category&&(0,Xo.jsx)(Tb,{color:"red.500",fontSize:"sm",mt:2,children:k.category})]})})]}),(0,Xo.jsxs)(Vb,{bg:c,borderWidth:"1px",borderColor:d,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Priority Assignment"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"center",textAlign:"center",children:[(0,Xo.jsx)(Zv,{as:Vw,color:"blue.500",boxSize:8}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"blue.600",children:"Priority Determined by Admin"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"The priority level (High, Medium, Low) for your issue will be determined by our admin team based on urgency and impact assessment. You will be notified once the priority is assigned."})]})})]}),(0,Xo.jsx)(Vb,{bg:c,borderWidth:"1px",borderColor:d,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[i&&(0,Xo.jsxs)(Eb,{w:"100%",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",mb:2,children:["Uploading... ",s,"%"]}),(0,Xo.jsx)(a0,{value:s,colorScheme:"blue"})]}),(0,Xo.jsx)(Bj,{type:"submit",colorScheme:"blue",size:"lg",width:"100%",isLoading:i,loadingText:"Submitting...",leftIcon:(0,Xo.jsx)(Xk,{}),children:"Submit Issue Report"})]})})})]})})]})}):m||0!==u.length?null:(0,Xo.jsx)(Vb,{bg:c,borderWidth:"1px",borderColor:"red.200",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,py:8,children:[(0,Xo.jsx)(Zv,{as:Vw,boxSize:12,color:"red.500"}),(0,Xo.jsx)(Wb,{size:"lg",color:"red.700",children:"No Active Booking Required"}),(0,Xo.jsx)(Tb,{textAlign:"center",color:"red.600",maxW:"md",children:"You need to have an active room booking to submit maintenance issues. This ensures we can provide proper assistance and respond to your specific room."}),(0,Xo.jsxs)(Pb,{spacing:2,mt:4,children:[(0,Xo.jsx)(Bj,{colorScheme:"blue",size:"lg",onClick:()=>n("/tenant/rooms"),children:"Browse Available Rooms"}),(0,Xo.jsx)(Bj,{variant:"ghost",size:"sm",onClick:()=>n("/tenant/bookings"),children:"View My Bookings"})]})]})})})]})})})},[I9,T9]=Nc({name:"BreadcrumbStylesContext",errorMessage:"useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Breadcrumb />\" "}),N9=["children","spacing","separator","className","listProps"],E9=Dv((function(e,n){const r=Gv("Breadcrumb",e),i=Ov(e),{children:a,spacing:s="0.5rem",separator:l="/",className:c,listProps:d}=i,u=Jo(i,N9),h=wb(a),p=h.length,f=h.map(((e,n)=>(0,t.cloneElement)(e,{separator:l,spacing:s,isLastChild:p===n+1}))),m=Lv("chakra-breadcrumb",c);return(0,Xo.jsx)(Tv.nav,(0,o.A)((0,o.A)({ref:n,"aria-label":"breadcrumb",className:m,__css:r.container},u),{},{children:(0,Xo.jsx)(I9,{value:r,children:(0,Xo.jsx)(Tv.ol,(0,o.A)((0,o.A)({className:"chakra-breadcrumb__list"},d),{},{__css:(0,o.A)({display:"flex",alignItems:"center"},r.list),children:f}))})}))}));E9.displayName="Breadcrumb";const z9=["isCurrentPage","as","className","href"],O9=Dv((function(e,t){const{isCurrentPage:n,as:r,className:i,href:a}=e,s=Jo(e,z9),l=T9(),c=(0,o.A)({ref:t,as:r,className:Lv("chakra-breadcrumb__link",i)},s);return n?(0,Xo.jsx)(Tv.span,(0,o.A)({"aria-current":"page",__css:l.link},c)):(0,Xo.jsx)(Tv.a,(0,o.A)({__css:l.link,href:a},c))}));O9.displayName="BreadcrumbLink";const L9=["spacing"],D9=Dv((function(e,t){const{spacing:n}=e,r=Jo(e,L9),i=T9(),a=(0,o.A)({mx:n},i.separator);return(0,Xo.jsx)(Tv.span,(0,o.A)((0,o.A)({ref:t,role:"presentation"},r),{},{__css:a}))}));D9.displayName="BreadcrumbSeparator";const R9=["isCurrentPage","separator","isLastChild","spacing","children","className"],M9=Dv((function(e,n){const{isCurrentPage:r,separator:i,isLastChild:a,spacing:s,children:l,className:c}=e,d=Jo(e,R9),u=wb(l).map((e=>e.type===O9?(0,t.cloneElement)(e,{isCurrentPage:r}):e.type===D9?(0,t.cloneElement)(e,{spacing:s,children:e.props.children||i}):e)),h=T9(),p=(0,o.A)({display:"inline-flex",alignItems:"center"},h.item),f=Lv("chakra-breadcrumb__list-item",c);return(0,Xo.jsxs)(Tv.li,(0,o.A)((0,o.A)({ref:n,className:f},d),{},{__css:p,children:[u,!a&&(0,Xo.jsx)(D9,{spacing:s,children:i})]}))}));M9.displayName="BreadcrumbItem";const B9=e=>{let{history:t,comments:n,compact:r=!1}=e;const i=zs("white","gray.700"),a=zs("gray.200","gray.600"),s=zs("gray.600","gray.300"),l=zs("gray.500","gray.400"),c=zs("gray.50","gray.600"),d=[];return t&&t.length>0&&t.forEach((e=>{var t,n;const r=(e=>{switch(e){case"open":return{icon:Vw,color:"red.500"};case"in_progress":return{icon:Hk,color:"yellow.500"};case"resolved":return{icon:_w,color:"green.500"};case"closed":return{icon:_w,color:"blue.500"};default:return{icon:Nw,color:"gray.500"}}})(e.newStatus||e.status);d.push((0,o.A)({type:"status",timestamp:e.changedAt||e.createdAt||e.created_at,status:e.newStatus||e.status,previousStatus:e.oldStatus||e.previousStatus||e.previous_status,notes:e.changeReason||e.notes||e.statusNotes||e.status_notes,updatedBy:e.changedBy||e.updatedBy||e.updated_by||e.authorId||e.author_id,updatedByName:(null===(t=e.changedByUser)||void 0===t?void 0:t.name)||(null===(n=e.changedByUser)||void 0===n?void 0:n.username)||e.updatedByName||e.updated_by_name||e.authorName||e.author_name||"User ".concat(e.changedBy||e.updatedBy||"System"),progressPercentage:e.progressPercentage||e.progress_percentage,icon:r.icon,iconColor:r.color},e))})),n&&n.length>0&&n.forEach((e=>{d.push((0,o.A)({type:"comment",timestamp:e.commentedAt||e.createdAt||e.created_at,comment:e.commentText||e.comment||e.content,commentType:e.commentType||e.comment_type||"general",isPublic:!e.isInternal,authorId:e.commentedBy||e.authorId||e.author_id,authorName:e.authorName||e.author_name||"User ".concat(e.commentedBy||e.authorId)||0,icon:tS,iconColor:e.isInternal?"orange.500":"blue.500"},e))})),d.sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))),d.length?(0,Xo.jsx)(Vb,{bg:i,borderWidth:"1px",borderColor:a,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:d.map(((e,t)=>{var n;return(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(dS,{spacing:4,align:"start",children:[(0,Xo.jsxs)(Eb,{position:"relative",top:"1",children:[(0,Xo.jsx)(Eb,{bg:e.iconColor,borderRadius:"full",p:2,color:"white",children:(0,Xo.jsx)(Zv,{as:e.icon,boxSize:3})}),t<d.length-1&&(0,Xo.jsx)(Eb,{position:"absolute",left:"50%",top:"100%",width:"2px",height:"24px",bg:a,transform:"translateX(-50%)",mt:2})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,flex:1,children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"100%",children:[(0,Xo.jsx)(dS,{spacing:2,children:"status"===e.type?(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"sm",children:"Status changed to"}),(0,Xo.jsx)(r_,{colorScheme:"open"===e.status?"red":"in_progress"===e.status?"yellow":"resolved"===e.status?"green":"blue",variant:"solid",fontSize:"xs",children:null===(n=e.status)||void 0===n?void 0:n.replace("_"," ").toUpperCase()})]}),e.previousStatus&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:l,children:["from ",e.previousStatus.replace("_"," ")]})]}):(0,Xo.jsx)(Pb,{align:"start",spacing:1,children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"sm",children:"Comment added"}),e.commentType&&"general"!==e.commentType&&(0,Xo.jsx)(r_,{variant:"outline",fontSize:"xs",children:e.commentType}),!1===e.isPublic&&(0,Xo.jsx)(r_,{colorScheme:"orange",variant:"outline",fontSize:"xs",children:"Internal"})]})})}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:l,children:m4(e.timestamp)})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(xZ,{size:"xs",name:e.updatedByName||e.authorName}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:s,children:["by ",e.updatedByName||e.authorName]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:l,children:p4(e.timestamp)})]}),"                  ",(e.notes||e.comment)&&(0,Xo.jsx)(Eb,{bg:c,p:3,borderRadius:"md",w:"100%",children:(0,Xo.jsx)(Tb,{fontSize:"sm",color:s,whiteSpace:"pre-wrap",children:e.notes||e.comment})}),"status"===e.type&&void 0!==e.progressPercentage&&(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:l,children:"Progress:"}),(0,Xo.jsxs)(r_,{variant:"outline",fontSize:"xs",children:[e.progressPercentage,"%"]})]})]})]}),t<d.length-1&&!r&&(0,Xo.jsx)(Eb,{mt:4,children:(0,Xo.jsx)(ew,{})})]},t)}))})})}):(0,Xo.jsx)(Vb,{bg:i,borderWidth:"1px",borderColor:a,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Tb,{color:l,textAlign:"center",py:4,children:"No history or comments available"})})})},F9=e=>{let{issueId:n,comments:r,onCommentsUpdate:i,allowAdd:o=!0,compact:a=!1}=e;const{tenant:s}=D6(),l=hb(),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[p,f]=(0,t.useState)("general"),[m,g]=(0,t.useState)(!1),v=zs("white","gray.700"),y=zs("gray.200","gray.600"),x=zs("gray.600","gray.300"),b=zs("gray.500","gray.400"),j=zs("blue.50","blue.900"),w=zs("gray.50","gray.600"),k=e=>{switch(e){case"feedback":return"green";case"question":return"blue";case"update":return"orange";default:return"gray"}},S=r?[...r].sort(((e,t)=>{const n=new Date(e.commentedAt||e.createdAt||e.created_at||0);return new Date(t.commentedAt||t.createdAt||t.created_at||0)-n})):[];return(0,Xo.jsxs)(Vb,{bg:v,borderWidth:"1px",borderColor:y,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Ow,color:"blue.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Comments"}),(0,Xo.jsx)(r_,{variant:"outline",children:S.length})]}),o&&!c&&(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(kk,{}),onClick:()=>d(!0),colorScheme:"blue",variant:"outline",children:"Add Comment"})]})}),(0,Xo.jsx)(Kb,{pt:0,children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:["          ",c&&o&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Vb,{bg:j,borderWidth:"1px",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Comment Type"}),(0,Xo.jsxs)(SQ,{value:p,onChange:e=>f(e.target.value),size:"sm",children:[(0,Xo.jsx)("option",{value:"general",children:"General Comment"}),(0,Xo.jsx)("option",{value:"question",children:"Question"}),(0,Xo.jsx)("option",{value:"feedback",children:"Feedback"}),(0,Xo.jsx)("option",{value:"update",children:"Status Update"})]})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{fontSize:"sm",children:"Your Comment"}),(0,Xo.jsx)(D1,{value:u,onChange:e=>h(e.target.value),placeholder:"Type your comment here...",rows:3,resize:"vertical"})]}),(0,Xo.jsxs)(ay,{status:"info",size:"sm",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:"Your comment will be visible to administrators handling your issue"})]}),(0,Xo.jsxs)(dS,{spacing:2,justify:"end",children:[(0,Xo.jsx)(Bj,{size:"sm",variant:"outline",onClick:()=>{d(!1),h(""),f("general")},disabled:m,children:"Cancel"}),(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"blue",leftIcon:(0,Xo.jsx)(bk,{}),onClick:async()=>{if(u.trim()){g(!0);try{const e={comment:u.trim(),commentType:p,isPublic:!0,authorId:(null===s||void 0===s?void 0:s.userId)||(null===s||void 0===s?void 0:s.id)};await _9.addIssueComment(n,e),l({title:"Comment Added",description:"Your comment has been added successfully",status:"success",duration:3e3,isClosable:!0}),h(""),f("general"),d(!1),i&&i()}catch(e){console.error("Error adding comment:",e),l({title:"Error Adding Comment",description:e.message||"Failed to add comment",status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}}else l({title:"Comment Required",description:"Please enter a comment before submitting",status:"warning",duration:3e3,isClosable:!0})},isLoading:m,loadingText:"Adding...",children:"Add Comment"})]})]})})}),(0,Xo.jsx)(ew,{mt:4})]}),0===S.length?(0,Xo.jsx)(Tb,{color:b,textAlign:"center",py:8,children:"No comments yet. Be the first to add a comment!"}):(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:S.map(((e,t)=>(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Vb,{bg:w,borderWidth:"1px",children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:3,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"start",children:["                          ",(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(xZ,{size:"sm",name:"User ".concat(e.commentedBy||e.authorId||"Unknown")}),(0,Xo.jsxs)(Pb,{align:"start",spacing:0,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"sm",children:e.authorName||e.author_name||"User ".concat(e.commentedBy||e.authorId)||0}),(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:b,children:m4(e.commentedAt||e.createdAt||e.created_at)}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:b,children:"\u2022"}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:b,children:p4(e.commentedAt||e.createdAt||e.created_at)})]})]})]}),(0,Xo.jsxs)(dS,{spacing:2,children:[(e.commentType||e.comment_type)&&"general"!==(e.commentType||e.comment_type)&&(0,Xo.jsx)(r_,{colorScheme:k(e.commentType||e.comment_type),variant:"subtle",fontSize:"xs",children:(e.commentType||e.comment_type).replace("_"," ")}),(0,Xo.jsxs)(dS,{spacing:1,children:[(0,Xo.jsx)(Zv,{as:e.isInternal?fk:tk,color:e.isInternal?"orange.500":"green.500",boxSize:3}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:b,children:e.isInternal?"Internal":"Public"})]})]})]}),"                        ",(0,Xo.jsx)(Eb,{pl:12,children:(0,Xo.jsx)(Tb,{fontSize:"sm",color:x,whiteSpace:"pre-wrap",children:e.commentText||e.comment||e.content||"No comment content"})})]})})}),t<S.length-1&&!a&&(0,Xo.jsx)(Eb,{mt:2,children:(0,Xo.jsx)(ew,{})})]},e.id||t)))})]})})]})},W9=()=>{var e,n,r,i,a,s,l,c,d,u;const{issueId:h}=Px(),{tenant:p}=D6(),f=Cx(),m=hb(),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(!0),[b,j]=(0,t.useState)(null),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)([]),[A,C]=(0,t.useState)([]),[P,I]=(0,t.useState)(!1),[T,N]=(0,t.useState)(!1),{isOpen:E,onOpen:z,onClose:O}=GG(),[L,D]=(0,t.useState)([]),[R,M]=(0,t.useState)(""),B=zs("white","gray.700"),F=zs("gray.200","gray.600"),W=zs("gray.600","gray.300");(0,t.useEffect)((()=>{h&&(async()=>{try{x(!0),j(null);const n=await _9.getIssue(h),r=n.issue||n,i=(await _9.getIssueAttachments(h)).attachments||[];let a=null;if(r.hasImageAttachment||r.has_image_attachment)try{const e=await _9.getIssueImage(h);e.content&&(a={attachmentId:"legacy_".concat(h),issueId:h,uploadedBy:r.reportedBy||r.reported_by,fileName:"issue_".concat(h,"_report_image"),fileType:e.fileType||r.imageFileType||"image/jpeg",fileSizeBytes:0,mimeType:e.fileType||r.imageFileType||"image/jpeg",attachmentType:"report",isPrimary:!0,uploadedAt:r.reportedAt||r.reported_at,content:e.content,id:"legacy_".concat(h),file_name:"issue_".concat(h,"_report_image"),file_type:e.fileType||r.imageFileType||"image/jpeg",uploaded_at:r.reportedAt||r.reported_at,attachment_type:"report",is_primary:!0})}catch(e){console.log("No legacy image found or error fetching:",e)}const s={report:[],progress:[],completion:[],feedback:[]};a&&s.report.push(a);for(const e of i)try{const t=await _9.getAttachmentContent(e.attachmentId),n=(0,o.A)((0,o.A)({},e),{},{content:t.content,contentType:t.fileType,contentEncoding:t.contentEncoding,id:e.attachmentId,file_name:e.fileName,file_type:e.fileType||e.mimeType,uploaded_at:e.uploadedAt,attachment_type:e.attachmentType,is_primary:e.isPrimary}),r=e.attachmentType||"report";s[r]?s[r].push(n):s.report.push(n)}catch(t){console.error("Failed to load content for attachment ".concat(e.attachmentId,":"),t);const n=(0,o.A)((0,o.A)({},e),{},{id:e.attachmentId,file_name:e.fileName,file_type:e.fileType||e.mimeType,uploaded_at:e.uploadedAt,attachment_type:e.attachmentType,is_primary:e.isPrimary}),r=e.attachmentType||"report";s[r]?s[r].push(n):s.report.push(n)}const l=[...i];a&&l.unshift(a),r.attachments=l,r.organizedAttachments=s,v(r)}catch(Pee){j(Pee.message||"Failed to load issue details"),console.error("Error fetching issue:",Pee),m({title:"Error Loading Issue",description:Pee.message||"Failed to load issue details",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}})()}),[h,m]);const U=async()=>{try{I(!0),console.log("Fetching status history for issue:",h);const e=await _9.getIssueStatusHistory(h);console.log("Status history response:",e),_(e.history||e.statusHistory||[])}catch(b){console.error("Error fetching status history:",b),m({title:"Error Loading History",description:b.message||"Failed to load issue history",status:"error",duration:3e3,isClosable:!0})}finally{I(!1)}},q=async()=>{try{N(!0),console.log("Fetching comments for issue:",h);const e=await _9.getIssueComments(h,{includePrivate:!1});console.log("Comments response:",e),C(e.comments||[])}catch(b){console.error("Error fetching comments:",b),m({title:"Error Loading Comments",description:b.message||"Failed to load issue comments",status:"error",duration:3e3,isClosable:!0})}finally{N(!1)}};(0,t.useEffect)((()=>{g&&h&&(console.log("Issue loaded, fetching history and comments for issue:",h),U(),q())}),[g,h]);console.log("Current state:",{issueId:h,issue:!!g,statusHistory:S.length,comments:A.length,loadingHistory:P,loadingComments:T});const H=e=>{switch(e){case"open":return"red";case"in_progress":return"yellow";case"resolved":return"green";default:return"gray"}},V=e=>{switch(e){case"high":return"red";case"medium":return"orange";case"low":return"green";default:return"gray"}},G=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"high":return"Mendesak";case"medium":return"Segera";case"low":return"Biasa";default:return"Tidak Diketahui"}},K=e=>{switch(e){case"open":return 25;case"in_progress":return 50;case"resolved":return 75;case"closed":return 100;default:return 0}};return y?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(Pb,{spacing:8,align:"center",children:[(0,Xo.jsx)(Qv,{size:"xl",color:"blue.500"}),(0,Xo.jsx)(Tb,{children:"Loading issue details..."})]})})}):b?(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),b]})})}):g?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",align:"start",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(E9,{children:[(0,Xo.jsx)(M9,{children:(0,Xo.jsx)(O9,{as:nb,to:"/tenant/issues",children:"Issues"})}),(0,Xo.jsx)(M9,{isCurrentPage:!0,children:(0,Xo.jsxs)(O9,{children:["Issue #",g.issueId]})})]}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsxs)(Wb,{size:"lg",children:["Issue #",g.issueId]}),(0,Xo.jsx)(r_,{colorScheme:H(g.status),variant:"solid",px:3,py:1,children:(g.status||"pending").replace("_"," ").toUpperCase()}),g.priority?(0,Xo.jsx)(r_,{colorScheme:V(g.priority),variant:"outline",px:3,py:1,children:G(g.priority).toUpperCase()}):(0,Xo.jsx)(r_,{colorScheme:"gray",variant:"outline",px:3,py:1,children:"PRIORITY PENDING"})]})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),onClick:()=>f("/tenant/issues"),variant:"outline",children:"Back to Issues"})]}),(0,Xo.jsx)(Vb,{bg:B,borderWidth:"1px",borderColor:F,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(dS,{justify:"space-between",w:"100%",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Issue Progress"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:W,children:[K(g.status),"% Complete"]})]}),(0,Xo.jsx)(a0,{value:K(g.status),colorScheme:H(g.status),w:"100%",hasStripe:!0,isAnimated:!0}),(0,Xo.jsxs)(dS,{justify:"space-between",w:"100%",fontSize:"sm",children:[(0,Xo.jsx)(Tb,{color:"open"===g.status?"red.500":"gray.500",fontWeight:"open"===g.status?"bold":"normal",children:"Reported"}),(0,Xo.jsx)(Tb,{color:"in_progress"===g.status?"yellow.500":"gray.500",fontWeight:"in_progress"===g.status?"bold":"normal",children:"In Progress"}),(0,Xo.jsx)(Tb,{color:"resolved"===g.status?"green.500":"gray.500",fontWeight:"resolved"===g.status?"bold":"normal",children:"Resolved"}),(0,Xo.jsx)(Tb,{color:"closed"===g.status?"blue.500":"gray.500",fontWeight:"closed"===g.status?"bold":"normal",children:"Closed"})]})]})})}),"          ",(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",lg:"2fr 1fr"},gap:6,children:[(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Vb,{bg:B,borderWidth:"1px",borderColor:F,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Issue Details"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"medium",children:g.title||"Maintenance Request"}),(0,Xo.jsx)(Tb,{color:W,children:g.description||"No description provided"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(t_,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Hk,color:"gray.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Category:"})," ",g.category||"General"]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"gray.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Reported:"})," ",p4(g.reportedAt)]})]}),g.location&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Vw,color:"gray.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"Location:"})," ",g.location]})]}),g.estimatedResolution&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Nw,color:"gray.500"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:[(0,Xo.jsx)(Tb,{as:"span",fontWeight:"medium",children:"ETA:"})," ",g.estimatedResolution]})]})]})]})})]}),(0,Xo.jsxs)(Vb,{bg:B,borderWidth:"1px",borderColor:F,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Priority Status"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:g.priority?(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{children:"This issue has been assigned a priority level by our admin team:"}),(0,Xo.jsx)(r_,{colorScheme:V(g.priority),variant:"solid",px:3,py:1,children:G(g.priority).toUpperCase()})]}):(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Priority Assignment Pending"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Our admin team will review this issue and assign an appropriate priority level (High, Medium, or Low) based on urgency and impact assessment."})]})]})})})]}),(0,Xo.jsx)(Vb,{bg:B,borderWidth:"1px",borderColor:F,children:(0,Xo.jsx)(Kb,{p:0,children:(0,Xo.jsxs)(YQ,{variant:"enclosed",colorScheme:"blue",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsx)(JQ,{children:"Evidence & Progress"}),(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:ik,boxSize:4}),(0,Xo.jsx)(Tb,{children:"History"}),P&&(0,Xo.jsx)(Qv,{size:"xs"})]})}),(0,Xo.jsx)(JQ,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(Zv,{as:Lw,boxSize:4}),(0,Xo.jsx)(Tb,{children:"Comments"}),(0,Xo.jsx)(r_,{variant:"outline",size:"sm",children:A.length}),T&&(0,Xo.jsx)(Qv,{size:"xs"})]})})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Evidence & Progress Images"}),(0,Xo.jsxs)(r_,{variant:"outline",children:[(null===(e=g.attachments)||void 0===e?void 0:e.length)||0," image",1!==((null===(n=g.attachments)||void 0===n?void 0:n.length)||0)?"s":""]})]}),g.organizedAttachments?(0,Xo.jsxs)(YQ,{variant:"line",size:"sm",colorScheme:"blue",children:[(0,Xo.jsxs)(ZQ,{children:[(0,Xo.jsxs)(JQ,{children:["Report (",(null===(r=g.organizedAttachments.report)||void 0===r?void 0:r.length)||0,")"]}),(0,Xo.jsxs)(JQ,{children:["Progress (",(null===(i=g.organizedAttachments.progress)||void 0===i?void 0:i.length)||0,")"]}),(0,Xo.jsxs)(JQ,{children:["Completion (",(null===(a=g.organizedAttachments.completion)||void 0===a?void 0:a.length)||0,")"]}),(0,Xo.jsxs)(JQ,{children:["Feedback (",(null===(s=g.organizedAttachments.feedback)||void 0===s?void 0:s.length)||0,")"]})]}),(0,Xo.jsxs)(XQ,{children:[(0,Xo.jsx)($Q,{px:0,children:(null===(l=g.organizedAttachments.report)||void 0===l?void 0:l.length)>0?(0,Xo.jsx)(g4,{attachments:g.organizedAttachments.report,currentStatus:"report",showTitle:!1,groupByPhase:!1,allowDownload:!0,allowFullscreen:!0,compact:!1}):(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",py:8,children:"No report images available"})}),(0,Xo.jsx)($Q,{px:0,children:(null===(c=g.organizedAttachments.progress)||void 0===c?void 0:c.length)>0?(0,Xo.jsx)(g4,{attachments:g.organizedAttachments.progress,currentStatus:"progress",showTitle:!1,groupByPhase:!1,allowDownload:!0,allowFullscreen:!0,compact:!1}):(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",py:8,children:"No progress images available"})}),(0,Xo.jsx)($Q,{px:0,children:(null===(d=g.organizedAttachments.completion)||void 0===d?void 0:d.length)>0?(0,Xo.jsx)(g4,{attachments:g.organizedAttachments.completion,currentStatus:"completion",showTitle:!1,groupByPhase:!1,allowDownload:!0,allowFullscreen:!0,compact:!1}):(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",py:8,children:"No completion images available"})}),(0,Xo.jsx)($Q,{px:0,children:(null===(u=g.organizedAttachments.feedback)||void 0===u?void 0:u.length)>0?(0,Xo.jsx)(g4,{attachments:g.organizedAttachments.feedback,currentStatus:"feedback",showTitle:!1,groupByPhase:!1,allowDownload:!0,allowFullscreen:!0,compact:!1}):(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",py:8,children:"No feedback images available"})})]})]}):(0,Xo.jsx)(Tb,{color:"gray.500",textAlign:"center",py:8,children:"Loading images..."})]})}),"                        ",(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Debug: History items: ",S.length,", Loading: ",P?"yes":"no"]}),(0,Xo.jsx)(B9,{history:S,comments:[],compact:!1})]})}),(0,Xo.jsx)($Q,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Debug: Comments: ",A.length,", Loading: ",T?"yes":"no"]}),(0,Xo.jsx)(F9,{issueId:h,comments:A,onCommentsUpdate:()=>{q()},allowAdd:!0,compact:!1})]})})]})]})})})]})}),(0,Xo.jsx)(z2,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:["                ","resolved"===g.status&&(0,Xo.jsxs)(Vb,{bg:B,borderWidth:"1px",borderColor:F,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Verification Required"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:"The issue has been marked as resolved. Please verify the work and provide feedback."})})]}),(0,Xo.jsx)(Bj,{colorScheme:"green",leftIcon:(0,Xo.jsx)(_w,{}),onClick:z,w:"100%",children:"Verify & Provide Feedback"})]})})]})]})})]})]}),(0,Xo.jsxs)(JZ,{isOpen:E,onClose:O,size:"4xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{maxW:"90vw",children:[(0,Xo.jsx)(J0,{children:"Verify Resolution & Provide Feedback"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{pb:6,children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(ay,{status:"info",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Please verify that the issue has been resolved to your satisfaction and provide feedback about the service quality."})})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Feedback Comments"}),(0,Xo.jsx)(D1,{value:R,onChange:e=>M(e.target.value),placeholder:"Please describe whether the issue was resolved satisfactorily and provide any additional feedback...",rows:4})]}),(0,Xo.jsxs)(ij,{children:[(0,Xo.jsx)(sj,{children:"Verification Images (Optional)"}),(0,Xo.jsx)(C9,{images:L,onImagesChange:D,maxImages:3,title:"Upload Verification Images",description:"Upload images showing the resolved issue",contextDescription:"Final verification photo",required:!1,showPreview:!0,allowReorder:!0}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",mt:2,children:"Upload images to verify the work has been completed satisfactorily"})]}),(0,Xo.jsxs)(dS,{spacing:4,justify:"end",children:[(0,Xo.jsx)(Bj,{onClick:O,variant:"outline",children:"Cancel"}),(0,Xo.jsx)(Bj,{colorScheme:"green",onClick:async()=>{if(R.trim()||0!==L.length){k(!0);try{const e={status:"closed",notes:R.trim(),updatedBy:(null===p||void 0===p?void 0:p.userId)||(null===p||void 0===p?void 0:p.id)||1,progressPercentage:100,images:L,rating:5};await _9.updateIssueStatus(h,"closed",e);m({title:"Issue Closed",description:"Your verification feedback has been submitted successfully".concat(L.length>0?" with ".concat(L.length," image").concat(1!==L.length?"s":""):"",". The issue is now closed."),status:"success",duration:5e3,isClosable:!0}),M(""),D([]),O();const t=await _9.getIssue(h);v(t),U(),q()}catch(b){console.error("Error submitting feedback:",b),m({title:"Error Submitting Feedback",description:b.message||"Failed to submit feedback",status:"error",duration:5e3,isClosable:!0})}finally{k(!1)}}else m({title:"Feedback Required",description:"Please provide feedback text or upload verification images",status:"warning",duration:3e3,isClosable:!0})},isLoading:w,loadingText:"Submitting...",leftIcon:(0,Xo.jsx)(_w,{}),children:"Submit Verification"})]})]})})]})]})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.xl",py:8,children:(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Issue not found"]})})})},U9=()=>{const[e,n]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await s7.getRooms({featured:!0,limit:3});n(e.rooms||[])}catch(e){console.error("Error fetching featured rooms:",e)}})()}),[]);zs("gray.50","gray.900");const r=zs("white","gray.800"),i=zs("gray.600","gray.400"),o=(zs("white","gray.700"),zs("gray.200","gray.600"),zs("blue.500","blue.400")),a=h5({base:"2xl",md:"3xl"}),s=h5({base:"xl",md:"2xl"});return(0,Xo.jsxs)(m8,{children:["      ",(0,Xo.jsxs)(Eb,{bg:"blue.500",bgGradient:"linear(to-r, blue.500, purple.600)",position:"relative",py:{base:16,md:32},children:[(0,Xo.jsx)(Eb,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",bg:"blackAlpha.700",zIndex:"1"}),(0,Xo.jsx)(Ob,{maxW:"container.xl",position:"relative",zIndex:"2",children:(0,Xo.jsxs)(Xj,{direction:"column",align:"center",textAlign:"center",children:[(0,Xo.jsx)(Wb,{color:"white",size:a,mb:4,fontWeight:"bold",children:"Temukan Hunian Mahasiswa Terbaikmu"}),(0,Xo.jsx)(Tb,{color:"whiteAlpha.900",fontSize:{base:"lg",md:"xl"},maxW:"800px",mb:8,children:"Rusunawa PNJ menyediakan kamar nyaman dan terjangkau untuk mahasiswa dan profesional."}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",colorScheme:"brand",size:"lg",rightIcon:(0,Xo.jsx)(fw,{}),children:"Lihat Kamar"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/about",colorScheme:"whiteAlpha",size:"lg",children:"Tentang Rusunawa"})]})]})})]}),(0,Xo.jsx)(Eb,{py:12,bg:o,color:"white",children:(0,Xo.jsx)(Ob,{maxW:"container.xl",children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:8,children:[(0,Xo.jsxs)(Pb,{align:"center",spacing:2,children:[(0,Xo.jsx)(Wb,{size:"3xl",children:"100+"}),(0,Xo.jsx)(Tb,{fontSize:"lg",children:"Kamar Tersedia"})]}),(0,Xo.jsxs)(Pb,{align:"center",spacing:2,children:[(0,Xo.jsx)(Wb,{size:"3xl",children:"500+"}),(0,Xo.jsx)(Tb,{fontSize:"lg",children:"Penyewa Puas"})]}),(0,Xo.jsxs)(Pb,{align:"center",spacing:2,children:[(0,Xo.jsx)(Wb,{size:"3xl",children:"24/7"}),(0,Xo.jsx)(Tb,{fontSize:"lg",children:"Dukungan & Keamanan"})]})]})})}),(0,Xo.jsx)(Eb,{py:16,bg:r,children:(0,Xo.jsx)(Ob,{maxW:"container.xl",children:(0,Xo.jsxs)(Xj,{direction:{base:"column",lg:"row"},align:"center",justify:"space-between",gap:8,children:[(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsx)(Wb,{size:s,mb:4,children:"Tentang Rusunawa PNJ"}),(0,Xo.jsx)(Tb,{color:i,fontSize:"lg",mb:6,children:"Rusunawa Politeknik Negeri Jakarta menyediakan hunian aman dan nyaman khusus untuk mahasiswa dan profesional. Berlokasi di dalam kampus, akses ke fasilitas pendidikan jadi lebih mudah."}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,mb:6,children:[(0,Xo.jsxs)(dS,{align:"center",children:[(0,Xo.jsx)(Zv,{as:mk,color:"brand.500",boxSize:5}),(0,Xo.jsx)(Tb,{children:"Lokasi Strategis"})]}),(0,Xo.jsxs)(dS,{align:"center",children:[(0,Xo.jsx)(Zv,{as:oS,color:"brand.500",boxSize:5}),(0,Xo.jsx)(Tb,{children:"Wi-Fi Gratis"})]}),(0,Xo.jsxs)(dS,{align:"center",children:[(0,Xo.jsx)(Zv,{as:zk,color:"brand.500",boxSize:5}),(0,Xo.jsx)(Tb,{children:"Keamanan 24 Jam"})]}),(0,Xo.jsxs)(dS,{align:"center",children:[(0,Xo.jsx)(Zv,{as:nS,color:"brand.500",boxSize:5}),(0,Xo.jsx)(Tb,{children:"Kegiatan Komunitas"})]})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/about",colorScheme:"brand",rightIcon:(0,Xo.jsx)(fw,{}),children:"Selengkapnya"})]}),"            ",(0,Xo.jsx)(Eb,{flex:"1",children:(0,Xo.jsx)(Bb,{src:f7,alt:"Rusunawa building",borderRadius:"lg",boxShadow:"xl"})})]})})}),(0,Xo.jsx)(Eb,{py:16,children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",children:[(0,Xo.jsx)(Wb,{size:s,mb:2,textAlign:"center",children:"Kamar Unggulan"}),(0,Xo.jsx)(Tb,{color:i,fontSize:"lg",mb:8,textAlign:"center",children:"Temukan pilihan kamar favorit di Rusunawa PNJ"}),e.length>0&&(0,Xo.jsx)(IQ,{columns:{base:1,md:2,lg:3},spacing:6,children:e.map((e=>{const t=e.roomId||e.room_id||e.id||"room-".concat(Math.random().toString(36).substr(2,9));return(0,Xo.jsx)(x7,{room:e},t)}))}),(0,Xo.jsx)(Eb,{textAlign:"center",mt:10,children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",colorScheme:"brand",size:"lg",rightIcon:(0,Xo.jsx)(fw,{}),children:"Lihat Semua Kamar"})})]})}),(0,Xo.jsx)(Eb,{py:16,bg:r,children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",children:[(0,Xo.jsx)(Wb,{size:s,mb:2,textAlign:"center",children:"Cara Booking"}),(0,Xo.jsx)(Tb,{color:i,fontSize:"lg",mb:12,textAlign:"center",maxW:"800px",mx:"auto",children:"Booking kamar di Rusunawa sangat mudah dan cepat"}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:8,children:[(0,Xo.jsxs)(Pb,{align:"center",spacing:4,children:[(0,Xo.jsx)(Xj,{w:"80px",h:"80px",borderRadius:"full",bg:"brand.500",color:"white",align:"center",justify:"center",fontSize:"xl",fontWeight:"bold",mb:2,children:(0,Xo.jsx)(Zv,{as:gw,boxSize:6})}),(0,Xo.jsx)(Wb,{size:"md",children:"Pilih Kamar"}),(0,Xo.jsx)(Tb,{textAlign:"center",children:"Lihat daftar kamar dan pilih sesuai kebutuhanmu"})]}),(0,Xo.jsxs)(Pb,{align:"center",spacing:4,children:[(0,Xo.jsx)(Xj,{w:"80px",h:"80px",borderRadius:"full",bg:"brand.500",color:"white",align:"center",justify:"center",fontSize:"xl",fontWeight:"bold",mb:2,children:(0,Xo.jsx)(Zv,{as:ww,boxSize:6})}),(0,Xo.jsx)(Wb,{size:"md",children:"Booking"}),(0,Xo.jsx)(Tb,{textAlign:"center",children:"Pilih tanggal check-in & check-out lalu ajukan booking"})]}),(0,Xo.jsxs)(Pb,{align:"center",spacing:4,children:[(0,Xo.jsx)(Xj,{w:"80px",h:"80px",borderRadius:"full",bg:"brand.500",color:"white",align:"center",justify:"center",fontSize:"xl",fontWeight:"bold",mb:2,children:(0,Xo.jsx)(Zv,{as:rk,boxSize:6})}),(0,Xo.jsx)(Wb,{size:"md",children:"Check-in"}),(0,Xo.jsx)(Tb,{textAlign:"center",children:"Selesaikan pembayaran, tanda tangan perjanjian, dan mulai tinggal di kamar baru"})]})]}),(0,Xo.jsx)(Eb,{textAlign:"center",mt:12,children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/register",colorScheme:"brand",size:"lg",rightIcon:(0,Xo.jsx)(fw,{}),children:"Daftar Sekarang"})})]})}),(0,Xo.jsx)(Eb,{py:16,bg:"brand.600",color:"white",children:(0,Xo.jsx)(Ob,{maxW:"container.xl",children:(0,Xo.jsxs)(Xj,{direction:{base:"column",md:"row"},align:"center",justify:"space-between",children:[(0,Xo.jsxs)(Eb,{maxW:{base:"full",md:"60%"},mb:{base:6,md:0},children:[(0,Xo.jsx)(Wb,{size:"xl",mb:4,children:"Siap Temukan Kamar Idamanmu?"}),(0,Xo.jsx)(Tb,{fontSize:"lg",children:"Bergabunglah bersama ratusan mahasiswa & profesional yang sudah menemukan hunian ideal di Rusunawa PNJ."})]}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",colorScheme:"whiteAlpha",size:"lg",children:"Lihat Kamar"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/register",bg:"white",color:"brand.600",_hover:{bg:"gray.100"},size:"lg",children:"Daftar Sekarang"})]})]})})})]})},q9=["placement","className"],H9={"top-start":{top:"0",insetStart:"0",transform:"translate(-25%, -25%)"},"top-end":{top:"0",insetEnd:"0",transform:"translate(25%, -25%)"},"bottom-start":{bottom:"0",insetStart:"0",transform:"translate(-25%, 25%)"},"bottom-end":{bottom:"0",insetEnd:"0",transform:"translate(25%, 25%)"}},V9=Dv((function(e,t){const{placement:n="bottom-end",className:r}=e,i=Jo(e,q9),a=uZ(),s=H9[n],l=(0,o.A)((0,o.A)({position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},s),a.badge);return(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:t},i),{},{className:Lv("chakra-avatar__badge",r),__css:l}))}));function G9(e){return sw({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.146 7.146a.5.5 0 0 1 .708 0L8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9 6.146 7.854a.5.5 0 0 1 0-.708z"}},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"}}]})(e)}function K9(e){return sw({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354 2.353a.5.5 0 0 1-.708.708L8 2.207l-5 5V13.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 2 13.5V8.207l-.646.647a.5.5 0 1 1-.708-.708L7.293 1.5Z"}},{tag:"path",attr:{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.707l.547.547 1.17-1.951a.5.5 0 1 1 .858.514Z"}}]})(e)}V9.displayName="AvatarBadge";const Y9=e=>null===e||void 0===e||isNaN(Number(e))?"Rp 0":"Rp ".concat(Number(e).toLocaleString("id-ID")),Z9=e=>{let{status:t}=e;const{color:n,text:r}=(()=>{switch(null===t||void 0===t?void 0:t.toLowerCase()){case"pending":return{color:"yellow",text:"Pending Approval"};case"approved":return{color:"green",text:"Approved"};case"checked_in":return{color:"blue",text:"Checked In"};case"checked_out":return{color:"purple",text:"Checked Out"};case"completed":return{color:"green",text:"Completed"};case"cancelled":return{color:"red",text:"Cancelled"};case"rejected":return{color:"red",text:"Rejected"};case"expired":return{color:"gray",text:"Expired"};default:return{color:"gray",text:t||"Unknown"}}})();return(0,Xo.jsx)(y0,{label:r,hasArrow:!0,placement:"top",children:(0,Xo.jsx)(r_,{colorScheme:n,variant:"subtle",px:2,py:1,borderRadius:"full",children:r})})},J9=e=>{let{status:t}=e;const{color:n,text:r}=(()=>{switch(null===t||void 0===t?void 0:t.toLowerCase()){case"pending":return{color:"yellow",text:"Pending Payment"};case"paid":return{color:"green",text:"Paid"};case"waiting_approval":return{color:"orange",text:"Waiting Approval"};case"failed":return{color:"red",text:"Failed"};case"refunded":return{color:"purple",text:"Refunded"};case"cancelled":return{color:"red",text:"Cancelled"};case"expired":return{color:"gray",text:"Expired"};default:return{color:"gray",text:t||"Unknown"}}})();return(0,Xo.jsx)(y0,{label:r,hasArrow:!0,placement:"top",children:(0,Xo.jsx)(r_,{colorScheme:n,variant:"subtle",px:2,py:1,borderRadius:"full",children:r})})},X9=e=>{let{tenant:t}=e;const n=zs("linear(to-r, brand.50, blue.50)","linear(to-r, brand.900, blue.900)"),r=zs("gray.800","white");return(0,Xo.jsxs)(Eb,{mb:8,p:6,borderRadius:"xl",boxShadow:"md",bgGradient:n,position:"relative",overflow:"hidden",children:[(0,Xo.jsx)(Eb,{position:"absolute",top:"-20px",right:"-10px",width:"150px",height:"150px",borderRadius:"full",bg:"brand.400",opacity:"0.1",zIndex:"0"}),(0,Xo.jsx)(Eb,{position:"absolute",bottom:"-30px",left:"20%",width:"100px",height:"100px",borderRadius:"full",bg:"blue.300",opacity:"0.1",zIndex:"0"}),(0,Xo.jsxs)(Xj,{direction:{base:"column",md:"row"},justify:"space-between",align:{base:"flex-start",md:"center"},position:"relative",zIndex:"1",children:[(0,Xo.jsxs)(Eb,{mb:{base:4,md:0},children:[(0,Xo.jsxs)(Wb,{as:"h1",size:"xl",mb:2,color:r,children:["Good ",(()=>{const e=(new Date).getHours();return e<12?"morning":e<17?"afternoon":"evening"})(),", ",null!==t&&void 0!==t&&t.name?t.name.split(" ")[0]:"","!"]}),(0,Xo.jsx)(Tb,{fontSize:"lg",color:r,children:"Welcome to your Rusunawa PNJ Dashboard"})]}),(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",colorScheme:"brand",leftIcon:(0,Xo.jsx)(Zv,{as:kw}),size:"lg",children:"Book a Room"}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/profile",variant:"outline",colorScheme:"brand",rightIcon:(0,Xo.jsx)(Zv,{as:fw}),size:"lg",display:{base:"none",md:"flex"},children:"Complete Profile"})]})]})]})},$9=()=>{var e,n,r;const{tenant:i}=D6(),[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(null),x=(Cx(),hb()),b=zs("white","gray.700"),j=zs("gray.200","gray.600"),w=zs("gray.50","gray.800"),k=zs("brand.50","brand.900");(0,t.useEffect)((()=>{(async()=>{if(null!==i&&void 0!==i&&i.tenantId){g(!0),y(null);try{const e=await z8.getTenantBookings(i.tenantId);if(e&&e.bookings){const t=[...e.bookings].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));a(t);const n=t.filter((e=>["checked_in","approved"].includes(e.status))),r=n.find((e=>"checked_in"===e.status))||n.find((e=>"approved"===e.status));l(r)}if(null!==i&&void 0!==i&&i.tenantId){const e=await D8.getTenantInvoices(i.tenantId);if(e&&e.invoices){const t=[...e.invoices].sort(((e,t)=>new Date(t.issuedAt)-new Date(e.issuedAt)));d(t);const n=t.find((e=>"pending"===e.status));h(n)}}const t=await k7.getTenantDocuments(i.tenantId);t&&t.documents&&f(t.documents)}catch(Pee){y(Pee.message||"Failed to load dashboard data"),x({title:"Error loading dashboard",description:Pee.message||"Failed to load your dashboard data",status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}}else g(!1)})()}),[x,null===i||void 0===i?void 0:i.tenantId]);const S=async e=>{try{console.log("Dashboard: Attempting to delete document",e),console.log("Current tenant:",i),await k7.deleteDocument(e),f((t=>t.filter((t=>t.docId!==e)))),x({title:"\ud83d\uddd1\ufe0f Document Deleted Successfully",description:"The document has been removed from your dashboard.",status:"success",duration:3e3,isClosable:!0,position:"top-right",variant:"subtle"})}catch(Pee){throw console.error("Error deleting document:",Pee),x({title:"\u274c Delete Failed",description:Pee.message||"Failed to delete document. Please try again.",status:"error",duration:5e3,isClosable:!0,position:"top-right",variant:"subtle"}),Pee}},_=Array.isArray(p)?p:[],A=_.length>0&&_.every((e=>"approved"===e.status)),C=_.length>0&&_.some((e=>"pending"===e.status)),P=_.length,I=_.filter((e=>"approved"===e.status)).length,T=(_.filter((e=>"pending"===e.status)).length,_.filter((e=>"rejected"===e.status)).length,_.length&&P>0?Math.round(I/P*100):0),N=e=>{if(!e)return"N/A";try{return"Invalid date"===e||null===e||void 0===e?(console.warn("Problematic date value:",e),"N/A"):q7(e)}catch(v){return console.warn("Date formatting error:",v,"for date:",e),"Invalid date"}};return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsx)(X9,{tenant:i}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:3},spacing:5,mb:8,children:[(0,Xo.jsx)(HS,{px:4,py:5,bg:w,borderRadius:"lg",boxShadow:"sm",children:(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Eb,{p:2,bg:"brand.100",borderRadius:"md",color:"brand.700",children:(0,Xo.jsx)(Zv,{as:ok,w:6,h:6})}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(VS,{fontWeight:"medium",children:"Total Bookings"}),(0,Xo.jsx)(GS,{children:Array.isArray(o)?o.length:0}),(0,Xo.jsx)(KS,{children:"All time"})]})]})}),(0,Xo.jsx)(HS,{px:4,py:5,bg:w,borderRadius:"lg",boxShadow:"sm",children:(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Eb,{p:2,bg:"green.100",borderRadius:"md",color:"green.700",children:(0,Xo.jsx)(Zv,{as:Aw,w:6,h:6})}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(VS,{fontWeight:"medium",children:"Completed Stays"}),(0,Xo.jsx)(GS,{children:Array.isArray(o)?o.filter((e=>"completed"===e.status)).length:0}),(0,Xo.jsx)(KS,{children:"Check-out completed"})]})]})}),(0,Xo.jsx)(HS,{px:4,py:5,bg:w,borderRadius:"lg",boxShadow:"sm",children:(0,Xo.jsxs)(dS,{spacing:4,children:[(0,Xo.jsx)(Eb,{p:2,bg:"blue.100",borderRadius:"md",color:"blue.700",children:(0,Xo.jsx)(Zv,{as:K9,w:6,h:6})}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(VS,{fontWeight:"medium",children:"Active Bookings"}),"                ",(0,Xo.jsx)(GS,{children:Array.isArray(o)?o.filter((e=>["approved","checked_in"].includes(e.status))).length:0}),(0,Xo.jsx)(KS,{children:"Current stays"})]})]})})]}),(0,Xo.jsxs)(t_,{templateColumns:{base:"1fr",lg:"2fr 1fr"},gap:8,children:[(0,Xo.jsxs)(z2,{children:[(0,Xo.jsx)(Vb,{bg:b,boxShadow:"md",mb:8,children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(dS,{spacing:4,alignItems:"center",children:[(0,Xo.jsx)(Eb,{bg:A?"green.100":C?"yellow.100":"red.100",p:3,borderRadius:"md",children:(0,Xo.jsx)(Zv,{as:A?Aw:sS,color:A?"green.500":C?"yellow.500":"red.500",boxSize:6})}),(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsx)(Wb,{size:"md",children:"Document Verification"}),(0,Xo.jsx)(Tb,{children:A?"All your documents have been verified!":0===p.length?"Please upload your documents for verification":C?"Your documents are pending verification":"Some documents require your attention"}),(0,Xo.jsx)(a0,{value:T,colorScheme:A?"green":"yellow",size:"sm",mt:2,borderRadius:"full"})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/documents",variant:"ghost",colorScheme:"brand",rightIcon:(0,Xo.jsx)(Pw,{}),children:0===p.length?"Upload Documents":"View Documents"})]}),p.length>0&&(0,Xo.jsx)(IQ,{columns:{base:1,md:2},spacing:4,mt:6,children:p.map((e=>(0,Xo.jsx)(K7,{document:e,showStatus:!0,onDelete:S},e.docId)))})]})}),s?(0,Xo.jsxs)(Vb,{bg:b,boxShadow:"md",mb:8,borderWidth:"1px",borderColor:j,children:[(0,Xo.jsx)(QS,{bg:k,py:4,children:(0,Xo.jsxs)(Xj,{justify:"space-between",align:"center",children:[(0,Xo.jsx)(Wb,{size:"md",children:"Active Booking"}),(0,Xo.jsx)(Z9,{status:s.status})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:["                    ",(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Room"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"semibold",children:(null===(e=s.room)||void 0===e?void 0:e.name)||"N/A"}),(null===(n=s.room)||void 0===n?void 0:n.classification)&&(0,Xo.jsx)(r_,{colorScheme:"blue",mt:1,fontSize:"sm",children:"laki_laki"===s.room.classification.name?"Male":"perempuan"===s.room.classification.name?"Female":"ruang_rapat"===s.room.classification.name?"Meeting Room":s.room.classification.name})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Dates"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"green.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Check-in"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:N(s.checkInDate||s.checkIn||s.startDate)})]})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ww,color:"red.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Check-out"}),(0,Xo.jsx)(Tb,{fontSize:"lg",fontWeight:"bold",children:N(s.checkOutDate||s.checkOut||s.endDate)})]})]})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Total Amount"}),"                      ",(0,Xo.jsx)(Tb,{fontSize:"2xl",fontWeight:"bold",color:"brand.500",children:Y9((null===s||void 0===s?void 0:s.totalAmount)||(null===s||void 0===s?void 0:s.amount)||0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:"Booking total cost"})]}),"                    ",(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",mb:2,children:"Actions"}),"                      ","approved"===s.status?s.invoice&&(s.invoice.invoiceId||s.invoice.id)?(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xw,{}),colorScheme:"blue",size:"sm",as:nb,to:"/tenant/invoices/".concat(s.invoice.invoiceId||s.invoice.id),children:"View Invoice Details"}):(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Xw,{}),colorScheme:"blue",size:"sm",as:nb,to:"/tenant/invoices",children:"View Invoices"}):"checked_in"===s.status?(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(Ok,{}),colorScheme:"blue",size:"sm",as:nb,to:"/tenant/bookings/".concat(s.bookingId,"/check-out"),children:"Check Out"}):(0,Xo.jsx)(Bj,{colorScheme:"brand",size:"sm",as:nb,to:"/tenant/bookings/".concat(s.bookingId),children:"View Booking"})]})]})}),(0,Xo.jsx)(k8,{bg:b,borderTop:"1px",borderColor:j,children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/bookings/".concat(s.bookingId),variant:"ghost",colorScheme:"brand",size:"sm",ml:"auto",rightIcon:(0,Xo.jsx)(Pw,{}),children:"View Details"})})]}):(0,Xo.jsx)(Vb,{bg:b,boxShadow:"md",mb:8,children:(0,Xo.jsxs)(Kb,{align:"center",py:10,children:[(0,Xo.jsx)(Zv,{as:G9,boxSize:12,color:"gray.400",mb:4}),(0,Xo.jsx)(Wb,{size:"md",mb:2,children:"No Active Booking"}),(0,Xo.jsx)(Tb,{color:"gray.500",mb:6,children:"You don't have any active bookings right now."}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/rooms",colorScheme:"brand",leftIcon:(0,Xo.jsx)(ok,{}),children:"Browse Rooms"})]})}),(0,Xo.jsxs)(Vb,{bg:b,boxShadow:"md",mb:{base:8,lg:0},children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Recent Bookings"})}),(0,Xo.jsx)(Kb,{px:4,children:m?(0,Xo.jsx)(Cb,{spacing:4,children:[...Array(3)].map(((e,t)=>(0,Xo.jsx)(FS,{height:"80px",borderRadius:"md"},t)))}):0===o.length?(0,Xo.jsx)(Eb,{textAlign:"center",py:6,children:(0,Xo.jsx)(Tb,{color:"gray.500",children:"No booking history found"})}):(0,Xo.jsx)(Cb,{spacing:4,divider:(0,Xo.jsx)(ew,{}),children:o.slice(0,5).map((e=>{var t,n,r;return(0,Xo.jsxs)(dS,{spacing:4,p:2,children:[(0,Xo.jsxs)(Eb,{bgGradient:"linear(to-r, brand.400, brand.600)",color:"white",p:3,borderRadius:"md",minW:"50px",textAlign:"center",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:(()=>{const t=new Date(e.checkIn||e.startDate);return isNaN(t.getTime())?"N/A":t.getDate()})()}),(0,Xo.jsx)(Tb,{fontSize:"xs",children:(()=>{const t=new Date(e.checkIn||e.startDate);return isNaN(t.getTime())?"N/A":t.toLocaleDateString("en-US",{month:"short"})})()})]}),(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",noOfLines:1,children:(null===(t=e.room)||void 0===t?void 0:t.name)||"Room"}),(0,Xo.jsx)(Z9,{status:e.status})]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(n=e.checkIn||e.startDate,r=e.checkOut||e.endDate,n&&r?"".concat(q7(n)," - ").concat(q7(r)):"N/A")})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/bookings/".concat(e.bookingId),variant:"outline",colorScheme:"brand",size:"sm",children:"Details"})]},e.bookingId)}))})}),(0,Xo.jsx)(k8,{children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/bookings",variant:"ghost",colorScheme:"brand",size:"sm",ml:"auto",rightIcon:(0,Xo.jsx)(Pw,{}),children:"View All Bookings"})})]})]}),(0,Xo.jsxs)(z2,{children:[(0,Xo.jsx)(Vb,{bg:b,boxShadow:"md",mb:8,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:6,align:"center",children:[(0,Xo.jsx)(xZ,{size:"2xl",name:null===i||void 0===i?void 0:i.name,bg:"brand.500",color:"white",src:"",children:A&&(0,Xo.jsx)(V9,{boxSize:"1.25em",bg:"green.500",icon:(0,Xo.jsx)(Aw,{})})}),(0,Xo.jsxs)(Eb,{textAlign:"center",children:[(0,Xo.jsx)(Wb,{size:"md",children:null===i||void 0===i?void 0:i.name}),(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"sm",children:null===i||void 0===i?void 0:i.email})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Pb,{align:"stretch",width:"100%",spacing:3,children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:sk,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Student ID"})]}),(0,Xo.jsx)(Tb,{children:(null===i||void 0===i?void 0:i.nim)||"Not provided"})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ok,color:"brand.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Type"})]}),(0,Xo.jsx)(r_,{colorScheme:"blue",children:(null===i||void 0===i?void 0:i.tenant_type)||(null===i||void 0===i||null===(r=i.tenantType)||void 0===r?void 0:r.name)||"Regular"})]})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/profile",colorScheme:"brand",variant:"outline",width:"full",children:"View Profile"})]})})}),u?(0,Xo.jsxs)(Vb,{bg:b,boxShadow:"md",mb:8,borderWidth:"1px",borderColor:"orange.100",children:[(0,Xo.jsx)(QS,{bg:"orange.50",children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Xw,color:"orange.500",boxSize:6}),(0,Xo.jsx)(Wb,{size:"md",children:"Payment Due"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Invoice Number"}),(0,Xo.jsx)(Tb,{children:u.invoiceNo})]}),(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",color:"brand.600",children:Y9(u.amount)})]}),"                    ",(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"Due Date"}),(0,Xo.jsx)(Tb,{children:N(u.dueDate)})]}),(0,Xo.jsx)(Bj,{colorScheme:"brand",leftIcon:(0,Xo.jsx)(yk,{}),as:nb,to:"/tenant/invoices/".concat(u.invoiceId),width:"full",children:"Pay Now"})]})})]}):null,0===p.length&&(0,Xo.jsxs)(Vb,{bg:b,boxShadow:"md",mb:8,borderWidth:"1px",borderColor:"yellow.100",children:[(0,Xo.jsx)(QS,{bg:"yellow.50",children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:$w,color:"yellow.500",boxSize:6}),(0,Xo.jsx)(Wb,{size:"md",children:"Documents Required"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{align:"stretch",spacing:4,children:[(0,Xo.jsx)(Tb,{children:"Please upload your required documents to complete your profile verification. This is necessary for booking rooms at Rusunawa PNJ."}),(0,Xo.jsx)(Bj,{colorScheme:"yellow",leftIcon:(0,Xo.jsx)(Xk,{}),as:nb,to:"/tenant/documents/upload",width:"full",children:"Upload Documents"})]})})]}),(0,Xo.jsxs)(Vb,{bg:b,boxShadow:"md",children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsx)(Wb,{size:"md",children:"Recent Invoices"})}),(0,Xo.jsx)(Kb,{px:4,children:m?(0,Xo.jsx)(Cb,{spacing:4,children:[...Array(3)].map(((e,t)=>(0,Xo.jsx)(FS,{height:"60px",borderRadius:"md"},t)))}):0===c.length?(0,Xo.jsx)(Eb,{textAlign:"center",py:6,children:(0,Xo.jsx)(Tb,{color:"gray.500",children:"No invoices found"})}):(0,Xo.jsx)(Cb,{spacing:4,divider:(0,Xo.jsx)(ew,{}),children:c.slice(0,5).map((e=>(0,Xo.jsx)(dS,{spacing:4,p:2,children:(0,Xo.jsxs)(Eb,{flex:"1",children:[(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",noOfLines:1,children:e.invoiceNo}),(0,Xo.jsx)(J9,{status:e.status})]}),"                          ",(0,Xo.jsxs)(dS,{justify:"space-between",mt:1,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:N(e.issuedAt)}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:Y9(e.amount)})]})]})},e.invoiceId)))})}),(0,Xo.jsx)(k8,{children:(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices",variant:"ghost",colorScheme:"brand",size:"sm",ml:"auto",rightIcon:(0,Xo.jsx)(Pw,{}),children:"View All Invoices"})})]})]})]})]})})},[Q9,eee]=Nc({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[tee,nee]=Nc({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[ree,iee,oee,aee]=xS(),see=["onChange","defaultIndex","index","allowMultiple","allowToggle"];function lee(e){const{onChange:n,defaultIndex:r,index:i,allowMultiple:o,allowToggle:a}=e,s=Jo(e,see);!function(e){const t=e.index||e.defaultIndex,n=null!=t&&!Array.isArray(t)&&e.allowMultiple;S5({condition:!!n,message:"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ".concat(typeof t,",")})}(e),function(e){S5({condition:!(!e.allowMultiple||!e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}(e);const l=oee(),[c,d]=(0,t.useState)(-1);(0,t.useEffect)((()=>()=>{d(-1)}),[]);const[u,h]=uS({value:i,defaultValue:()=>o?null!==r&&void 0!==r?r:[]:null!==r&&void 0!==r?r:-1,onChange:n});return{index:u,setIndex:h,htmlProps:s,getAccordionItemProps:e=>{let t=!1;null!==e&&(t=Array.isArray(u)?u.includes(e):u===e);return{isOpen:t,onChange:t=>{if(null!==e)if(o&&Array.isArray(u)){const n=t?u.concat(e):u.filter((t=>t!==e));h(n)}else t?h(e):a&&h(-1)}}},focusedIndex:c,setFocusedIndex:d,descendants:l}}const[cee,dee]=Nc({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});const uee=["children","reduceMotion"],hee=["htmlProps","descendants"],pee=Dv((function(e,n){let{children:r,reduceMotion:i}=e,a=Jo(e,uee);const s=Gv("Accordion",a),l=lee(Ov(a)),{htmlProps:c,descendants:d}=l,u=Jo(l,hee),h=(0,t.useMemo)((()=>(0,o.A)((0,o.A)({},u),{},{reduceMotion:!!i})),[u,i]);return(0,Xo.jsx)(ree,{value:d,children:(0,Xo.jsx)(cee,{value:h,children:(0,Xo.jsx)(Q9,{value:s,children:(0,Xo.jsx)(Tv.div,(0,o.A)((0,o.A)({ref:n},c),{},{className:Lv("chakra-accordion",a.className),__css:s.root,children:r}))})})})}));pee.displayName="Accordion";const fee=()=>{var e,n,r;const{bookingId:i}=Px(),a=Cx(),s=hb(),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(0),[b,j]=(0,t.useState)({}),[w,k]=(0,t.useState)(null),[S,_]=(0,t.useState)(""),[A,C]=(0,t.useState)(!1),P=zs("white","gray.700"),I=zs("gray.200","gray.600");(0,t.useEffect)((()=>{(async()=>{try{u(!0);const e=await z8.getBooking(i);if(null===e||void 0===e||!e.booking)throw new Error("Booking not found");c(e.booking),m(null),"cancelled"===e.booking.status||"rejected"===e.booking.status?m("This booking has been ".concat(e.booking.status,". Please contact support if you need assistance.")):"pending"===e.booking.status?m("Your booking is still pending approval. You will receive access information once approved."):"paid"!==e.booking.payment_status&&m("Payment is required before accessing room details. Please complete your payment first.")}catch(Pee){console.error("Error fetching booking:",Pee),m(Pee.message||"Failed to load booking details")}finally{u(!1)}})()}),[i]);const T=()=>{x((e=>e+1))},N=()=>{x((e=>e-1))};return d?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,textAlign:"center",children:[(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500"}),(0,Xo.jsx)(Tb,{mt:4,children:"Loading booking information..."})]})}):f||!l?(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.md",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",mb:4,children:[(0,Xo.jsx)(sy,{}),f]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),colorScheme:"brand",variant:"outline",onClick:()=>a("/tenant/bookings"),children:"Return to Bookings"})]})}):(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),colorScheme:"brand",variant:"outline",mb:6,onClick:()=>a("/tenant/bookings/".concat(i)),children:"Back to Booking"}),0===y&&(0,Xo.jsxs)(Vb,{bg:P,borderColor:I,borderWidth:"1px",mb:6,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Wb,{size:"md",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:uk,mr:3,color:"brand.500"}),"Room Inspection"]})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsx)(Tb,{mb:4,children:"Please inspect your room and confirm that everything is in order before proceeding with the check-in:"}),(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(uk,{}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Room:"}),(0,Xo.jsx)(Tb,{children:null===(e=l.room)||void 0===e?void 0:e.name})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Tw,{}),(0,Xo.jsx)(Tb,{fontWeight:"bold",children:"Check-In Date:"}),(0,Xo.jsx)(Tb,{children:B7(l.check_in_date)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Room Condition Photo"}),(0,Xo.jsx)(Bb,{src:w,alt:"Room condition",maxH:"200px",borderRadius:"md"})]}),S&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Your Notes"}),(0,Xo.jsx)(Tb,{children:S})]})]})]}),(0,Xo.jsx)(k8,{justifyContent:"space-between",children:(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:T,rightIcon:(0,Xo.jsx)(_w,{}),children:"Confirm Room Inspection"})})]}),1===y&&(0,Xo.jsxs)(Vb,{bg:P,borderColor:I,borderWidth:"1px",mb:6,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Wb,{size:"md",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:pk,mr:3,color:"brand.500"}),"Terms & Policies"]})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsx)(Tb,{mb:4,children:"Please review and accept our resident terms and policies before completing check-in:"}),(0,Xo.jsxs)(pee,{allowToggle:!0,defaultIndex:[0],mb:6,children:[(0,Xo.jsxs)(pee.Item,{border:"none",children:[(0,Xo.jsxs)(pee.Button,{children:[(0,Xo.jsx)(Eb,{flex:"1",textAlign:"left",children:(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"1. House Rules"})}),(0,Xo.jsx)(pee.Icon,{})]}),(0,Xo.jsx)(pee.Panel,{pb:4,children:(0,Xo.jsxs)(Tb,{color:"gray.600",fontSize:"sm",children:["- No smoking in the room or common areas","\n","- No pets allowed","\n","- Quiet hours from 10 PM to 7 AM","\n","- Dispose of trash properly","\n","- Report any damages or maintenance issues immediately"]})})]}),(0,Xo.jsxs)(pee.Item,{border:"none",children:[(0,Xo.jsxs)(pee.Button,{children:[(0,Xo.jsx)(Eb,{flex:"1",textAlign:"left",children:(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"2. Liability Waiver"})}),(0,Xo.jsx)(pee.Icon,{})]}),(0,Xo.jsx)(pee.Panel,{pb:4,children:(0,Xo.jsxs)(Tb,{color:"gray.600",fontSize:"sm",children:["- The management is not responsible for any loss or damage to your personal belongings.","\n","- You agree to indemnify and hold harmless the management from any claims arising from your use of the facilities."]})})]}),(0,Xo.jsxs)(pee.Item,{border:"none",children:[(0,Xo.jsxs)(pee.Button,{children:[(0,Xo.jsx)(Eb,{flex:"1",textAlign:"left",children:(0,Xo.jsx)(Tb,{fontWeight:"medium",children:"3. Termination of Stay"})}),(0,Xo.jsx)(pee.Icon,{})]}),(0,Xo.jsx)(pee.Panel,{pb:4,children:(0,Xo.jsx)(Tb,{color:"gray.600",fontSize:"sm",children:"- The management reserves the right to terminate your stay without refund if you violate any house rules or policies."})})]})]}),(0,Xo.jsxs)(ij,{isInvalid:b.acceptedTerms,children:[(0,Xo.jsx)(o6,{colorScheme:"brand",isChecked:g,onChange:e=>{v(e.target.checked),e.target.checked&&j((e=>(0,o.A)((0,o.A)({},e),{},{acceptedTerms:void 0})))},children:"I have read and agree to abide by all Rusunawa policies and terms of stay"}),b.acceptedTerms&&(0,Xo.jsx)(xj,{children:b.acceptedTerms})]})]}),(0,Xo.jsxs)(k8,{justifyContent:"space-between",children:[(0,Xo.jsx)(Bj,{onClick:N,children:"Back: Room Inspection"}),(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:T,isDisabled:!g,children:"Next: Complete Check-In"})]})]}),2===y&&(0,Xo.jsxs)(Vb,{bg:P,borderColor:I,borderWidth:"1px",mb:6,children:[(0,Xo.jsx)(QS,{children:(0,Xo.jsxs)(Wb,{size:"md",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:uk,mr:3,color:"brand.500"}),"Complete Check-In"]})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",mb:6,children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Ready to Complete Check-In"}),(0,Xo.jsx)(cy,{children:"Please review your information before finalizing your check-in."})]})]}),(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"sm",children:"Room"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:null===(n=l.room)||void 0===n?void 0:n.name})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"sm",children:"Booking Period"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:W7(l.check_in,l.check_out)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"sm",children:"Guest Name"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===(r=l.tenant)||void 0===r?void 0:r.name)||"Guest"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"sm",children:"Check-In Date"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:B7(new Date)})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Room Condition Photo"}),(0,Xo.jsx)(Bb,{src:w,alt:"Room condition",maxH:"200px",borderRadius:"md"})]}),S&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Your Notes"}),(0,Xo.jsx)(Tb,{children:S})]}),(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(ly,{children:"Terms Accepted"}),(0,Xo.jsx)(cy,{children:"You have read and agreed to all Rusunawa policies and terms of stay."})]})]})]})]}),(0,Xo.jsxs)(k8,{justifyContent:"space-between",children:[(0,Xo.jsx)(Bj,{onClick:N,children:"Back: Terms & Policies"}),(0,Xo.jsx)(Bj,{colorScheme:"brand",onClick:async()=>{g?(s({title:"Room Access Confirmed",description:"You have confirmed your room access. Please save the information below.",status:"success",duration:5e3,isClosable:!0}),a("/tenant/bookings/".concat(i))):s({title:"Agreement Required",description:"Please read and accept the terms to continue",status:"warning",duration:3e3,isClosable:!0})},isLoading:A,loadingText:"Completing Check-In...",leftIcon:(0,Xo.jsx)(Qk,{}),children:"Complete Check-In"})]})]})]})})},mee=()=>{const{tenant:e}=D6(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)({status:"",startDate:"",endDate:"",searchQuery:""}),[u,h]=(0,t.useState)([]),[p,f]=(0,t.useState)("issued_at"),[m,g]=(0,t.useState)("desc"),v=h5({base:!0,md:!1}),y=zs("white","gray.700"),x=zs("gray.200","gray.600"),b=zs("gray.50","gray.600");(0,t.useEffect)((()=>{j()}),[]);const j=async()=>{if(null===e||void 0===e||!e.tenantId)return console.log("No tenant ID available"),void a(!1);try{a(!0);const t={};u.find((e=>"status"===e.key))&&(t.status=c.status),u.find((e=>"date"===e.key))&&(t.start_date=c.startDate,t.end_date=c.endDate),u.find((e=>"search"===e.key))&&(t.search=c.searchQuery),t.sort_by=p,t.sort_direction=m;const n=await D8.getTenantInvoices(e.tenantId);if(!n||!n.invoices)throw new Error("Failed to fetch invoices");const i=n.invoices.map((e=>(0,o.A)((0,o.A)({},e),{},{amount:e.amount||e.totalAmount||0,issued_at:e.createdAt||e.issued_at,due_date:e.dueDate||e.due_date,invoice_id:e.invoiceId||e.invoice_id,invoice_no:e.invoiceNo||e.invoice_no,booking_id:e.bookingId||e.booking_id,tenant_id:e.tenantId||e.tenant_id})));r(i)}catch(s){console.error("Error fetching invoices:",s),l(s.message||"Failed to load invoices")}finally{a(!1)}},w=()=>{d({status:"",startDate:"",endDate:"",searchQuery:""}),h([]),f("issued_at"),g("desc"),setTimeout(j,0)},k=()=>{g((e=>"asc"===e?"desc":"asc")),j()},S=e=>{const t=P7(e);let n;switch(null===e||void 0===e?void 0:e.toLowerCase()){case"paid":n=Aw;break;case"pending":default:n=Nw;break;case"failed":n=qk;break;case"waiting_approval":n=Ak}return(0,Xo.jsxs)(r_,{colorScheme:t,display:"flex",alignItems:"center",px:2,py:1,borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:n,mr:1,boxSize:3}),e.charAt(0).toUpperCase()+e.slice(1)]})};return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.xl",py:8,children:[(0,Xo.jsxs)(Wb,{as:"h1",size:"xl",mb:2,display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:Xw,mr:3,color:"brand.500"}),"My Invoices"]}),(0,Xo.jsx)(Tb,{color:"gray.500",mb:6,children:"Manage and pay your invoices"}),(0,Xo.jsx)(Vb,{bg:y,borderWidth:"1px",borderColor:x,borderRadius:"md",mb:6,children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(Cb,{spacing:4,direction:{base:"column",md:"row"},children:[(0,Xo.jsx)("form",{onSubmit:e=>{var t;e.preventDefault();const n=(null===(t=e.target.elements.search)||void 0===t?void 0:t.value)||"";d((e=>(0,o.A)((0,o.A)({},e),{},{searchQuery:n}))),h(n?e=>[...e.filter((e=>"search"!==e.key)),{key:"search",value:n,label:"Search: ".concat(n)}]:e=>e.filter((e=>"search"!==e.key))),j()},style:{width:"100%"},children:(0,Xo.jsxs)(Sj,{children:[(0,Xo.jsx)(Tj,{pointerEvents:"none",children:(0,Xo.jsx)(Ek,{color:"gray.300"})}),(0,Xo.jsx)(gj,{name:"search",placeholder:"Search invoices...",defaultValue:c.searchQuery}),(0,Xo.jsx)(Bj,{type:"submit",ml:2,colorScheme:"brand",children:"Search"})]})}),(0,Xo.jsxs)(SQ,{placeholder:"Filter by status",value:c.status,onChange:e=>d((t=>(0,o.A)((0,o.A)({},t),{},{status:e.target.value}))),width:{base:"100%",md:"200px"},children:[(0,Xo.jsx)("option",{value:"pending",children:"Pending"}),(0,Xo.jsx)("option",{value:"paid",children:"Paid"}),(0,Xo.jsx)("option",{value:"waiting_approval",children:"Waiting Approval"}),(0,Xo.jsx)("option",{value:"failed",children:"Failed"})]}),(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(ww,{}),onClick:()=>{const e=[];c.status&&e.push({key:"status",value:c.status,label:"Status: ".concat(c.status.charAt(0).toUpperCase()+c.status.slice(1))}),c.startDate&&c.endDate&&e.push({key:"date",value:"".concat(c.startDate," to ").concat(c.endDate),label:"Date: ".concat(B7(c.startDate)," to ").concat(B7(c.endDate))}),c.searchQuery&&e.push({key:"search",value:c.searchQuery,label:"Search: ".concat(c.searchQuery)}),h(e),j()},colorScheme:"blue",children:"Apply Filters"}),u.length>0&&(0,Xo.jsx)(Bj,{variant:"outline",onClick:w,children:"Clear Filters"})]}),u.length>0&&(0,Xo.jsx)(Xj,{wrap:"wrap",gap:2,mt:4,children:u.map((e=>(0,Xo.jsxs)(b5,{size:"md",borderRadius:"full",variant:"subtle",colorScheme:"blue",children:[(0,Xo.jsx)(j5,{children:e.label}),(0,Xo.jsx)(k5,{onClick:()=>(e=>{h(u.filter((t=>t.key!==e))),"status"===e?d((e=>(0,o.A)((0,o.A)({},e),{},{status:""}))):"date"===e?d((e=>(0,o.A)((0,o.A)({},e),{},{startDate:"",endDate:""}))):"search"===e&&d((e=>(0,o.A)((0,o.A)({},e),{},{searchQuery:""}))),setTimeout(j,0)})(e.key)})]},e.key)))})]})}),s&&(0,Xo.jsxs)(ay,{status:"error",mb:6,borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),s]}),i?(0,Xo.jsx)(Xj,{justify:"center",py:10,children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"})}):v?(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",w:"100%",children:n.length>0?n.map((e=>{var t,n;return(0,Xo.jsx)(Vb,{bg:y,borderWidth:"1px",borderColor:x,borderRadius:"md",transition:"all 0.2s",_hover:{transform:"translateY(-2px)",shadow:"md"},children:(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"flex-start",mb:3,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:["Invoice #",e.invoice_no||e.invoiceNo]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:B7(e.issued_at||e.createdAt)})]}),S(e.status)]}),(0,Xo.jsx)(ew,{my:3}),(0,Xo.jsxs)(dS,{justify:"space-between",mb:3,children:[(0,Xo.jsx)(Tb,{children:"Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"brand.500",children:C7(e.amount||e.totalAmount||0)})]}),(0,Xo.jsxs)(Xj,{justify:"flex-end",gap:2,mt:4,children:[(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"blue",variant:"outline",leftIcon:(0,Xo.jsx)(Yw,{}),as:nb,to:"/tenant/invoices/".concat(e.invoice_id||e.invoiceId),children:"View"}),("pending"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"unpaid"===(null===(n=e.status)||void 0===n?void 0:n.toLowerCase()))&&(0,Xo.jsx)(Bj,{size:"sm",colorScheme:"brand",leftIcon:(0,Xo.jsx)(Mw,{}),as:nb,to:"/tenant/invoices/".concat(e.invoice_id||e.invoiceId),children:"Pay"})]})]})},e.invoice_id||e.invoiceId)})):(0,Xo.jsxs)(Xj,{direction:"column",align:"center",justify:"center",py:10,children:[(0,Xo.jsx)(Zv,{as:Xw,boxSize:12,color:"gray.400",mb:4}),(0,Xo.jsx)(Wb,{size:"md",mb:2,children:"No Invoices Found"}),(0,Xo.jsx)(Tb,{align:"center",color:"gray.500",children:"You don't have any invoices matching your criteria."}),u.length>0&&(0,Xo.jsx)(Bj,{mt:4,onClick:w,size:"sm",children:"Clear Filters"})]})}):(0,Xo.jsx)(z4,{children:(0,Xo.jsxs)(A0,{variant:"simple",children:[(0,Xo.jsx)(C0,{children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Invoice #"}),(0,Xo.jsx)(T0,{children:(0,Xo.jsx)(Bj,{variant:"ghost",size:"xs",rightIcon:"asc"===m?(0,Xo.jsx)(Rk,{}):(0,Xo.jsx)(Dk,{}),onClick:()=>{f("issued_at"),k()},isActive:"issued_at"===p,children:"Date"})}),(0,Xo.jsx)(T0,{children:"Booking"}),(0,Xo.jsx)(T0,{children:(0,Xo.jsx)(Bj,{variant:"ghost",size:"xs",rightIcon:"asc"===m?(0,Xo.jsx)(Rk,{}):(0,Xo.jsx)(Dk,{}),onClick:()=>{f("amount"),k()},isActive:"amount"===p,children:"Amount"})}),(0,Xo.jsx)(T0,{children:"Status"}),(0,Xo.jsx)(T0,{children:"Actions"})]})}),(0,Xo.jsx)(N0,{children:n.length>0?n.map((e=>{var t,n,r;return(0,Xo.jsxs)(P0,{_hover:{bg:b},transition:"background-color 0.2s",children:[(0,Xo.jsxs)(z0,{fontWeight:"medium",children:["#",e.invoice_no||e.invoiceNo]}),(0,Xo.jsx)(z0,{children:B7(e.issued_at||e.createdAt)}),(0,Xo.jsx)(z0,{children:e.items&&e.items.length>0?(0,Xo.jsx)(Tb,{noOfLines:1,children:e.items[0].description||"Room Booking"}):e.booking?(0,Xo.jsx)(Tb,{noOfLines:1,children:(null===(t=e.booking.room)||void 0===t?void 0:t.name)||"Room Booking"}):(0,Xo.jsx)(Tb,{color:"gray.500",children:"Room Booking"})}),(0,Xo.jsx)(z0,{fontWeight:"medium",color:"brand.500",children:C7(e.amount||e.totalAmount||0)}),(0,Xo.jsx)(z0,{children:S(e.status)}),(0,Xo.jsx)(z0,{children:(0,Xo.jsxs)(dS,{spacing:2,children:[(0,Xo.jsx)(y0,{label:"View Invoice Details",children:(0,Xo.jsx)(Uj,{as:nb,to:"/tenant/invoices/".concat(e.invoice_id||e.invoiceId),icon:(0,Xo.jsx)(Yw,{}),size:"sm","aria-label":"View invoice",variant:"ghost"})}),("pending"===(null===(n=e.status)||void 0===n?void 0:n.toLowerCase())||"unpaid"===(null===(r=e.status)||void 0===r?void 0:r.toLowerCase()))&&(0,Xo.jsx)(y0,{label:"Pay Invoice",children:(0,Xo.jsx)(Uj,{as:nb,to:"/tenant/invoices/".concat(e.invoice_id||e.invoiceId),icon:(0,Xo.jsx)(xk,{}),size:"sm","aria-label":"Pay invoice",colorScheme:"brand"})})]})})]},e.invoice_id||e.invoiceId)})):(0,Xo.jsx)(P0,{children:(0,Xo.jsx)(z0,{colSpan:6,children:(0,Xo.jsxs)(Xj,{direction:"column",align:"center",justify:"center",py:10,children:[(0,Xo.jsx)(Zv,{as:Xw,boxSize:12,color:"gray.400",mb:4}),(0,Xo.jsx)(Wb,{size:"md",mb:2,children:"No Invoices Found"}),(0,Xo.jsx)(Tb,{align:"center",color:"gray.500",children:"You don't have any invoices matching your criteria."}),u.length>0&&(0,Xo.jsx)(Bj,{mt:4,onClick:w,size:"sm",children:"Clear Filters"})]})})})})]})})]})})},gee=e=>{if(!e)return"Unknown";return{perempuan:"Kamar Mahasiswi",laki_laki:"Kamar Mahasiswa",ruang_rapat:"Ruang Rapat",VIP:"Kamar Non-Mahasiswa"}[e.name]||e.display_name||e.name||"Unknown"},vee=e=>{if(!e)return"N/A";return{mahasiswa:"Mahasiswa",non_mahasiswa:"Non-Mahasiswa",pegawai:"Pegawai"}[e.name]||e.display_name||e.name||"N/A"},yee=e=>{var t,n,r,i,o,a,s,l,c,d,u,h,p,f,m,g,v,y,x,b,j,w,k,S,_,A,C,P,I,T,N,E,z,O;let{booking:L,invoice:D,bg:R,borderColor:M}=e;const B=e=>{if(!e)return"N/A";try{const t=new Date(e),n={year:"numeric",month:"short",day:"numeric",weekday:"short"};return t.toLocaleDateString("en-US",n)}catch(t){return"Invalid Date"}},F=L||D.booking,W=null===L||void 0===L?void 0:L.tenant;return(0,Xo.jsxs)(Vb,{bg:R,borderWidth:"2px",borderColor:"blue.200",borderRadius:"lg",shadow:"md",children:[(0,Xo.jsx)(QS,{bg:"blue.50",borderTopRadius:"lg",children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Xw,color:"blue.600",boxSize:5}),(0,Xo.jsxs)(Wb,{size:"lg",color:"blue.700",children:["Room Booking: #",(null===F||void 0===F?void 0:F.booking_id)||(null===F||void 0===F?void 0:F.bookingId)||"N/A"]})]}),(null===F||void 0===F?void 0:F.status)&&(0,Xo.jsx)(r_,{colorScheme:P7(F.status),variant:"solid",fontSize:"sm",px:3,py:1,borderRadius:"full",children:F.status.toUpperCase()})]})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsx)(Eb,{bg:"gradient(to-r, blue.50, purple.50)",p:6,borderRadius:"xl",mb:6,border:"2px solid",borderColor:"blue.100",children:(0,Xo.jsxs)(Pb,{spacing:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"medium",textTransform:"uppercase",letterSpacing:"wide",children:"Booking Period"}),(0,Xo.jsxs)(dS,{spacing:8,align:"center",children:[(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",fontWeight:"semibold",children:"CHECK-IN"}),(0,Xo.jsx)(Tb,{fontSize:{base:"2xl",md:"3xl"},fontWeight:"bold",color:"green.600",lineHeight:"short",children:B((null===F||void 0===F?void 0:F.check_in_date)||(null===F||void 0===F?void 0:F.checkInDate))})]}),(0,Xo.jsx)(Zv,{as:pw,transform:"rotate(180deg)",color:"blue.400",boxSize:6}),(0,Xo.jsxs)(Pb,{spacing:2,children:[(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.500",fontWeight:"semibold",children:"CHECK-OUT"}),(0,Xo.jsx)(Tb,{fontSize:{base:"2xl",md:"3xl"},fontWeight:"bold",color:"red.600",lineHeight:"short",children:B((null===F||void 0===F?void 0:F.check_out_date)||(null===F||void 0===F?void 0:F.checkOutDate))})]})]}),(null===F||void 0===F?void 0:F.check_in_date)&&(null===F||void 0===F?void 0:F.check_out_date)&&(0,Xo.jsxs)(r_,{colorScheme:"purple",variant:"outline",fontSize:"md",px:4,py:2,children:["Duration: ",Math.ceil((new Date(F.check_out_date)-new Date(F.check_in_date))/864e5)," days"]})]})}),W&&(0,Xo.jsxs)(Vb,{bg:"gray.50",borderWidth:"1px",borderColor:"gray.200",mb:6,children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:bw,color:"purple.500"}),(0,Xo.jsx)(Wb,{size:"md",color:"purple.700",children:"Tenant Information"})]})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Full Name"}),(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"lg",children:W.name||(null===(t=W.user)||void 0===t?void 0:t.full_name)||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Email"}),(0,Xo.jsx)(Tb,{children:W.email||(null===(n=W.user)||void 0===n?void 0:n.email)||"N/A"})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Phone"}),(0,Xo.jsx)(Tb,{children:W.phone||"N/A"})]})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[W.nim&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Student ID (NIM)"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:W.nim})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Tenant Type"}),(0,Xo.jsx)(r_,{colorScheme:"mahasiswa"===(null===(r=W.tenant_type)||void 0===r?void 0:r.name)?"blue":"green",variant:"solid",children:vee(W.tenant_type||W.type)})]}),W.address&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",mb:1,children:"Address"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:W.address})]})]})]})})]}),((null===F||void 0===F?void 0:F.room)||(null===(i=D.booking)||void 0===i?void 0:i.room))&&(0,Xo.jsxs)(Eb,{mb:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"semibold",mb:3,children:"Room Information"}),(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",fontSize:"lg",children:(null===F||void 0===F||null===(o=F.room)||void 0===o?void 0:o.name)||(null===(a=D.booking)||void 0===a||null===(s=a.room)||void 0===s?void 0:s.name)||"Room"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Classification: ",gee((null===F||void 0===F||null===(l=F.room)||void 0===l?void 0:l.classification)||(null===(c=D.booking)||void 0===c||null===(d=c.room)||void 0===d?void 0:d.classification))]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Building: ",(null===F||void 0===F||null===(u=F.room)||void 0===u?void 0:u.buildingName)||(null===(h=D.booking)||void 0===h||null===(p=h.room)||void 0===p?void 0:p.buildingName)||"N/A",((null===F||void 0===F||null===(f=F.room)||void 0===f?void 0:f.floorName)||(null===(m=D.booking)||void 0===m||null===(g=m.room)||void 0===g?void 0:g.floorName))&&" - ".concat((null===F||void 0===F||null===(v=F.room)||void 0===v?void 0:v.floorName)||(null===(y=D.booking)||void 0===y||null===(x=y.room)||void 0===x?void 0:x.floorName))]}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.600",children:["Room Code: ",(null===F||void 0===F||null===(b=F.room)||void 0===b?void 0:b.fullRoomCode)||(null===(j=D.booking)||void 0===j||null===(w=j.room)||void 0===w?void 0:w.fullRoomCode)||(null===F||void 0===F||null===(k=F.room)||void 0===k?void 0:k.roomNumber)||(null===(S=D.booking)||void 0===S||null===(_=S.room)||void 0===_?void 0:_.roomNumber)||"N/A"]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Capacity"}),(0,Xo.jsxs)(Tb,{fontWeight:"medium",children:[(null===F||void 0===F||null===(A=F.room)||void 0===A?void 0:A.capacity)||(null===(C=D.booking)||void 0===C||null===(P=C.room)||void 0===P?void 0:P.capacity)||"N/A"," person(s)"]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Invoice Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"green.600",children:C7(D.amount||D.total_amount||0)}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"Availability Status"}),(0,Xo.jsx)(r_,{colorScheme:null!==F&&void 0!==F&&null!==(I=F.room)&&void 0!==I&&I.isAvailable||null!==(T=D.booking)&&void 0!==T&&null!==(N=T.room)&&void 0!==N&&N.isAvailable?"green":"red",size:"sm",children:null!==F&&void 0!==F&&null!==(E=F.room)&&void 0!==E&&E.isAvailable||null!==(z=D.booking)&&void 0!==z&&null!==(O=z.room)&&void 0!==O&&O.isAvailable?"Available":"Not Available"})]})]})]})]})]})},xee=()=>{var e,n,r,i,a,s,l,c,d,u,h,p,f,m,g,v,y,x,b,j,w,k,S,_;const{invoiceId:A}=Px(),C=Cx(),P=hb(),[I,T]=(0,t.useState)(null),[N,E]=(0,t.useState)(null),[z,O]=(0,t.useState)(!0),[L,D]=(0,t.useState)(null),[R,M]=(0,t.useState)(null),[B,F]=(0,t.useState)(!1),[W,U]=(0,t.useState)([]),{isOpen:q,onOpen:H,onClose:V}=GG(),G=zs("white","gray.700"),K=zs("gray.200","gray.600"),Y=zs("green.50","green.900"),Z=zs("yellow.50","yellow.900");(0,t.useEffect)((()=>{(async()=>{try{O(!0);const b=JSON.parse(localStorage.getItem("tenant")||"{}"),j=b.tenantId||b.tenant_id;if(!j)throw new Error("Tenant information not found");const w=await B8.getTenantInvoiceById(j,A,{includePayments:!0,includeItems:!0,includeProofMetadata:!0});if(!w||!w.invoice)throw new Error("Invoice not found");const k=w.invoice,S=(0,o.A)((0,o.A)({},k),{},{invoice_no:k.invoiceNo||k.invoice_no,invoice_id:k.invoiceId||k.invoice_id,amount:k.totalAmount||k.amount,total_amount:k.totalAmount||k.amount,issued_at:k.createdAt||k.issued_at,due_date:k.dueDate||k.due_date,paid_at:k.paidAt||k.paid_at,booking_id:k.bookingId||k.booking_id,tenant_id:k.tenantId||k.tenant_id});T(S);try{const e=await D8.getTenantPaymentsWithProof(j,{includeProofMetadata:!0,includeInvoiceDetails:!0});if(e&&e.payments){const t=e.payments.filter((e=>e.payment.invoice_id===parseInt(A)));if(t.length>0){const e=t.map((e=>({paymentId:e.payment.payment_id,amount:e.payment.amount,status:e.payment.status,paymentMethod:e.payment.payment_method,paymentChannel:e.payment.payment_channel,createdAt:e.payment.created_at,updatedAt:e.payment.updated_at,transactionId:e.payment.transaction_id,paymentProof:e.payment_proof?{fileName:e.payment_proof.file_name,fileType:e.payment_proof.file_type,imageContent:e.payment_proof.base64_content,uploadedAt:e.payment_proof.uploaded_at}:null}))),n=(0,o.A)((0,o.A)({},S),{},{payments:e});T(n),console.log("Updated invoice with payments (with proof):",n);const r=e.filter((e=>"pending"===e.status&&"manual"===e.paymentMethod));r.length>0&&(F(!0),U(r),console.log("Found pending manual payments:",r))}}}catch(L){console.warn("Could not fetch tenant payments with proof:",L);try{if(S.payments&&S.payments.length>0){console.log("Attempting fallback: fetching individual payment details...");const e=await Promise.all(S.payments.map((async e=>{try{const t=await D8.getPayment(e.paymentId);return console.log("Payment ".concat(e.paymentId," details:"),t),(0,o.A)((0,o.A)({},e),{},{paymentProof:t.payment.paymentProof?{fileName:t.payment.paymentProof.fileName,fileType:t.payment.paymentProof.fileType,imageContent:t.payment.paymentProof.imageContent,uploadedAt:t.payment.paymentProof.uploadedAt}:null})}catch(Pee){return console.warn("Failed to fetch details for payment ".concat(e.paymentId,":"),Pee),e}}))),t=(0,o.A)((0,o.A)({},S),{},{payments:e});T(t),console.log("Updated invoice with fallback payment details:",t)}}catch(y){console.warn("Fallback payment details fetch also failed:",y)}}if(S.booking_id||S.bookingId)try{const y=await z8.getBooking(S.booking_id||S.bookingId);if(console.log("Booking data:",y),E(y.booking||y),j&&y.booking)try{var e,t,n,r,i,a,s,l,c,d,u,h,p,f,m,g,v;const x=await X7.getTenantById(j);console.log("Tenant data:",x),E((0,o.A)((0,o.A)({},y.booking),{},{tenant:(0,o.A)((0,o.A)((0,o.A)({},y.booking.tenant),x.tenant),{},{name:(null===(e=x.tenant)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.full_name)||(null===(n=x.tenant)||void 0===n?void 0:n.name)||(null===(r=y.booking.tenant)||void 0===r?void 0:r.name)||"Unknown Tenant",displayName:(null===(i=x.tenant)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.full_name)||(null===(s=x.tenant)||void 0===s?void 0:s.name)||"Tenant",email:(null===(l=x.tenant)||void 0===l||null===(c=l.user)||void 0===c?void 0:c.email)||(null===(d=x.tenant)||void 0===d?void 0:d.email)||(null===(u=y.booking.tenant)||void 0===u?void 0:u.email),phone:(null===(h=x.tenant)||void 0===h?void 0:h.phone)||(null===(p=y.booking.tenant)||void 0===p?void 0:p.phone),nim:null===(f=x.tenant)||void 0===f?void 0:f.nim,address:null===(m=x.tenant)||void 0===m?void 0:m.address,tenant_type:(null===(g=x.tenant)||void 0===g?void 0:g.tenant_type)||(null===(v=x.tenant)||void 0===v?void 0:v.type),_fetchedAt:(new Date).toISOString()})}))}catch(x){console.warn("Tenant fetch error:",x),E(y.booking)}else E(y.booking)}catch(L){console.warn("Could not fetch booking details:",L)}await Q(S.invoice_id||S.invoiceId,j)}catch(L){console.error("Error fetching invoice details:",L),D(L.message||"Failed to load invoice details")}finally{O(!1)}})()}),[A]);const J=e=>{let t="gray",n=Nw,r="Unknown";switch(null===e||void 0===e?void 0:e.toLowerCase()){case"paid":t="green",n=Aw,r="Paid";break;case"pending":t="yellow",n=Nw,r="Pending";break;case"failed":t="red",n=qk,r="Failed";break;case"waiting_approval":t="orange",n=Nw,r="Waiting Approval"}return(0,Xo.jsxs)(r_,{colorScheme:t,display:"flex",alignItems:"center",px:2,py:1,borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:n,mr:1,boxSize:3}),r]})},X=async e=>{console.log("=== Viewing payment proof ==="),console.log("Payment object:",e),console.log("Payment proof object:",e.paymentProof);try{if(e.paymentProof&&e.paymentProof.imageContent){const t=e.paymentProof.imageContent,n=e.paymentProof.fileType||"image/png";console.log("Found image content, file type:",n),console.log("Image data length:",t?t.length:"null");const r="data:".concat(n,";base64,").concat(t);M({src:r,fileName:e.paymentProof.fileName||"payment_proof.png",payment:e}),H()}else{console.log("No imageContent found, trying fallback API call...");try{const t=await D8.getPayment(e.paymentId);if(console.log("Fallback payment data:",t),t.payment.paymentProof&&t.payment.paymentProof.imageContent){const n=t.payment.paymentProof.imageContent,r=t.payment.paymentProof.fileType||"image/png";console.log("Found imageContent in fallback data");const i="data:".concat(r,";base64,").concat(n);return M({src:i,fileName:t.payment.paymentProof.fileName||"payment_proof.png",payment:e}),void H()}}catch(t){console.warn("Fallback API call failed:",t)}console.warn("No payment proof image content available for payment:",e.paymentId),console.warn("Available paymentProof properties:",e.paymentProof?Object.keys(e.paymentProof):"null"),P({title:"Payment proof not available",description:"No payment proof image is attached to this payment.",status:"warning",duration:3e3,isClosable:!0})}}catch(L){console.error("Error loading payment proof:",L),P({title:"Error loading payment proof",description:"Failed to display the payment proof image.",status:"error",duration:3e3,isClosable:!0})}},$=()=>{var e;const t=(null===(e=I.payments)||void 0===e?void 0:e.filter((e=>"paid"===e.status||"completed"===e.status)))||[];if(I.midtransPaymentId)return{method:"Midtrans Payment Gateway",icon:Mw,color:"blue",details:"Transaction ID: ".concat(I.midtransPaymentId),type:"digital"};if(t.length>0){const e=t[0];if(e.paymentProof&&(e.paymentProof.fileName||e.paymentProof.fileUrl))return{method:"Manual Bank Transfer",icon:Jk,color:"orange",details:"Verified by administrator",type:"manual"};if("midtrans"===e.paymentMethod||e.paymentChannel){const t={credit_card:{name:"Credit Card",icon:Mw,color:"blue"},bank_transfer:{name:"Bank Transfer",icon:Jk,color:"green"},echannel:{name:"E-Channel",icon:bw,color:"purple"},bca_va:{name:"BCA Virtual Account",icon:Jk,color:"blue"},bni_va:{name:"BNI Virtual Account",icon:Jk,color:"orange"},bri_va:{name:"BRI Virtual Account",icon:Jk,color:"red"},permata_va:{name:"Permata Virtual Account",icon:Jk,color:"gray"},other_va:{name:"Virtual Account",icon:Jk,color:"gray"},gopay:{name:"GoPay",icon:vk,color:"green"},qris:{name:"QRIS",icon:Sk,color:"purple"}},n=t[e.paymentChannel]||t.bank_transfer;return{method:"Midtrans - ".concat(n.name),icon:n.icon,color:n.color,details:e.transactionId?"Transaction ID: ".concat(e.transactionId):"",type:"digital"}}if("manual"===e.paymentMethod)return{method:"Manual Bank Transfer",icon:Jk,color:"orange",details:"Verified by administrator",type:"manual"}}return{method:"Bank Transfer",icon:Jk,color:"gray",details:"Payment method not specified",type:"unknown"}},Q=async(e,t)=>{try{const n=await D8.checkPendingManualPayments(e,t);n.hasPendingPayments?(F(!0),U(n.pendingPayments),console.log("Found pending manual payments for invoice:",n.pendingPayments)):(F(!1),U([]))}catch(L){console.error("Error checking pending manual payments:",L),F(!1),U([])}};if(z)return(0,Xo.jsx)(m8,{children:(0,Xo.jsx)(Ob,{maxW:"container.lg",py:8,children:(0,Xo.jsx)(Xj,{justify:"center",align:"center",minH:"60vh",children:(0,Xo.jsx)(Qv,{size:"xl",color:"brand.500",thickness:"4px"})})})});if(L)return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsxs)(ay,{status:"error",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),L]}),(0,Xo.jsx)(Bj,{mt:4,onClick:()=>C("/tenant/invoices"),children:"Back to Invoices"})]})});const ee="paid"===(null===(e=I.status)||void 0===e?void 0:e.toLowerCase()),te="pending"===(null===(n=I.status)||void 0===n?void 0:n.toLowerCase()),ne="waiting_approval"===(null===(r=I.status)||void 0===r?void 0:r.toLowerCase());return(0,Xo.jsx)(m8,{children:(0,Xo.jsxs)(Ob,{maxW:"container.lg",py:8,children:[(0,Xo.jsx)(Bj,{leftIcon:(0,Xo.jsx)(pw,{}),mb:6,onClick:()=>{C("/tenant/invoices")},children:"Back to Invoices"}),(0,Xo.jsxs)(IQ,{columns:{base:1,lg:3},spacing:8,templateColumns:{base:"1fr",lg:"2fr 1fr"},children:[(0,Xo.jsx)(Eb,{gridColumn:{base:"span 1",lg:"span 2"},children:(0,Xo.jsxs)(Pb,{spacing:6,align:"stretch",children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:{base:"flex-start",md:"center"},direction:{base:"column",md:"row"},gap:{base:4,md:0},children:["                ",(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsxs)(Wb,{as:"h1",size:"xl",display:"flex",alignItems:"center",children:[(0,Xo.jsx)(Zv,{as:Xw,mr:3,color:"brand.500"}),"Invoice #",I.invoice_no||"Unknown"]}),(0,Xo.jsxs)(Tb,{color:"gray.500",mt:1,children:["Issued on ",I.issued_at||I.createdAt?B7(I.issued_at||I.createdAt):"N/A"]})]}),J(I.status)]}),ee&&(0,Xo.jsxs)(ay,{status:"success",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Payment completed. Your booking is confirmed."]}),ne&&(0,Xo.jsxs)(ay,{status:"info",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Your payment receipt has been uploaded and is awaiting verification."]}),te&&(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",children:[(0,Xo.jsx)(sy,{}),"Payment is required to confirm your booking."]}),(0,Xo.jsxs)(Vb,{bg:G,borderWidth:"1px",borderColor:K,borderRadius:"md",children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsx)(Wb,{size:"md",children:"Invoice Details"})}),(0,Xo.jsxs)(Kb,{children:["                  ",(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:4,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"gray.500",children:"Bill To"}),(0,Xo.jsxs)(Pb,{align:"start",spacing:2,mt:2,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"semibold",fontSize:"lg",children:(null===(i=I.tenant)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.fullName)||(null===N||void 0===N||null===(s=N.tenant)||void 0===s?void 0:s.name)||"Tenant"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:(null===(l=I.tenant)||void 0===l||null===(c=l.tenantType)||void 0===c?void 0:c.name)||"Student"})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ck,color:"gray.400",boxSize:3}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===(d=I.tenant)||void 0===d||null===(u=d.user)||void 0===u?void 0:u.email)||(null===N||void 0===N||null===(h=N.tenant)||void 0===h?void 0:h.email)||"No email"})]}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ck,color:"gray.400",boxSize:3}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:(null===(p=I.tenant)||void 0===p?void 0:p.phone)||(null===N||void 0===N||null===(f=N.tenant)||void 0===f?void 0:f.phone)||"No phone"})]}),(null===(m=I.tenant)||void 0===m?void 0:m.nim)&&(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:ck,color:"gray.400",boxSize:3}),(0,Xo.jsxs)(Tb,{fontSize:"sm",children:["NIM: ",I.tenant.nim]})]}),(null===(g=I.tenant)||void 0===g?void 0:g.address)&&(0,Xo.jsxs)(dS,{align:"start",children:[(0,Xo.jsx)(Zv,{as:ck,color:"gray.400",boxSize:3,mt:"2px"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:I.tenant.address})]})]})]})]}),(0,Xo.jsx)(Eb,{children:(0,Xo.jsxs)(v9,{spacing:3,children:[(0,Xo.jsxs)(y9,{display:"flex",justifyContent:"space-between",children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Invoice Number:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:I.invoice_no||"N/A"})]}),"                        ",(0,Xo.jsxs)(y9,{display:"flex",justifyContent:"space-between",children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Payment Method:"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:$().icon,color:"".concat($().color,".500")}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:$().method})]})]}),(0,Xo.jsxs)(y9,{display:"flex",justifyContent:"space-between",children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Due Date:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:I.due_date?B7(I.due_date):"N/A"})]}),(0,Xo.jsxs)(y9,{display:"flex",justifyContent:"space-between",children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Issue Date:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:I.issued_at||I.createdAt?B7(I.issued_at||I.createdAt):"N/A"})]}),ee&&(0,Xo.jsxs)(y9,{display:"flex",justifyContent:"space-between",children:[(0,Xo.jsx)(Tb,{color:"gray.500",children:"Paid On:"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:I.paid_at?B7(I.paid_at):"N/A"})]})]})})]}),"                "]})]}),ee&&(0,Xo.jsxs)(Vb,{bg:Y,borderWidth:"1px",borderColor:"green.200",borderRadius:"md",children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:zk,color:"green.500"}),(0,Xo.jsx)(Wb,{size:"md",color:"green.700",children:"Payment Information"})]})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsxs)(IQ,{columns:{base:1,md:2},spacing:6,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",children:"Payment Method"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:$().icon,color:"".concat($().color,".500")}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:$().method})]})]}),$().details&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",children:"Transaction Details"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:$().details})]}),I.notes&&(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",children:"Payment Notes"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:I.notes})]})]}),(0,Xo.jsxs)(Pb,{align:"start",spacing:3,children:[(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",children:"Payment Status"}),(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Aw,color:"green.500"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",color:"green.700",children:"Payment Completed"})]})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",children:"Paid Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",color:"green.700",children:C7(I.amount||I.total_amount||0)})]}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",children:"Payment Date"}),(0,Xo.jsx)(Tb,{fontWeight:"medium",children:I.paid_at?F7(I.paid_at):"N/A"})]})]})]}),I.payments&&I.payments.length>0&&(0,Xo.jsxs)(Eb,{mt:4,children:[(0,Xo.jsx)(ew,{mb:4}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"green.600",fontWeight:"semibold",mb:3,children:"Payment History"}),I.payments.filter((e=>"paid"===e.status||"completed"===e.status)).map(((e,t)=>(0,Xo.jsx)(Vb,{variant:"outline",size:"sm",mb:2,children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(dS,{justify:"space-between",children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Ak,color:"blue.500",boxSize:3}),(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:["Payment #",e.paymentId]}),J(e.status)]}),(0,Xo.jsx)(Tb,{fontSize:"xs",color:"gray.600",children:e.paymentDate?F7(e.paymentDate):"Date not available"}),e.transactionId&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["Transaction: ",e.transactionId]})]}),(0,Xo.jsxs)(Pb,{align:"end",spacing:1,children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"green.600",children:C7(e.amount)}),e.paymentProof&&(0,Xo.jsxs)(Bj,{size:"xs",variant:"outline",onClick:()=>X(e),children:[(0,Xo.jsx)(Zv,{as:Yw,mr:1}),"View Proof"]})]})]})})},t)))]})]})]}),(N||I.booking)&&(0,Xo.jsx)(yee,{booking:N,invoice:I,bg:G,borderColor:K}),(N||I.booking)&&(0,Xo.jsxs)(Vb,{bg:G,borderWidth:"1px",borderColor:K,borderRadius:"md",mt:6,children:[(0,Xo.jsx)(QS,{pb:2,children:(0,Xo.jsxs)(dS,{children:[(0,Xo.jsx)(Zv,{as:Ak,color:"green.500"}),(0,Xo.jsx)(Wb,{size:"md",children:"Invoice Breakdown"})]})}),(0,Xo.jsxs)(Kb,{children:[(0,Xo.jsx)(ew,{mb:4}),(0,Xo.jsxs)(Eb,{mb:4,children:[(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",fontWeight:"semibold",mb:3,children:"Invoice Items"}),(0,Xo.jsxs)(A0,{variant:"simple",size:"sm",children:[(0,Xo.jsx)(C0,{children:(0,Xo.jsxs)(P0,{children:[(0,Xo.jsx)(T0,{children:"Description"}),(0,Xo.jsx)(T0,{isNumeric:!0,children:"Quantity"}),(0,Xo.jsx)(T0,{isNumeric:!0,children:"Unit Price"}),(0,Xo.jsx)(T0,{isNumeric:!0,children:"Total"})]})}),(0,Xo.jsx)(N0,{children:I.items&&I.items.length>0?I.items.map(((e,t)=>(0,Xo.jsxs)(P0,{children:[(0,Xo.jsxs)(z0,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:e.description}),e.periodStart&&e.periodEnd&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Period: ",B7(e.periodStart)," - ",B7(e.periodEnd)]})]}),(0,Xo.jsx)(z0,{isNumeric:!0,children:e.quantity}),(0,Xo.jsx)(z0,{isNumeric:!0,children:C7(e.unitPrice)}),(0,Xo.jsx)(z0,{isNumeric:!0,fontWeight:"medium",children:C7(e.total)})]},t))):(0,Xo.jsxs)(P0,{children:[(0,Xo.jsxs)(z0,{children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",children:(null===N||void 0===N||null===(v=N.room)||void 0===v?void 0:v.name)||(null===(y=I.booking)||void 0===y||null===(x=y.room)||void 0===x?void 0:x.name)||"Room Rental"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.500",children:null!==N&&void 0!==N&&N.checkInDate&&null!==N&&void 0!==N&&N.checkOutDate?"".concat(B7(N.checkInDate)," - ").concat(B7(N.checkOutDate)):null!==(b=I.booking)&&void 0!==b&&b.checkInDate&&null!==(j=I.booking)&&void 0!==j&&j.checkOutDate?"".concat(B7(I.booking.checkInDate)," - ").concat(B7(I.booking.checkOutDate)):"Service period"})]}),(0,Xo.jsx)(z0,{isNumeric:!0,children:"1"}),(0,Xo.jsx)(z0,{isNumeric:!0,children:C7((null===N||void 0===N||null===(w=N.room)||void 0===w?void 0:w.rate)||(null===(k=I.booking)||void 0===k||null===(S=k.room)||void 0===S?void 0:S.rate)||I.amount||0)}),(0,Xo.jsx)(z0,{isNumeric:!0,fontWeight:"medium",children:C7((null===N||void 0===N?void 0:N.totalAmount)||(null===(_=I.booking)||void 0===_?void 0:_.totalAmount)||I.amount||I.total_amount||0)})]})})]})]}),(0,Xo.jsx)(ew,{mb:4}),(0,Xo.jsx)(Xj,{justify:"flex-end",children:(0,Xo.jsxs)(Eb,{textAlign:"right",children:[(0,Xo.jsx)(Tb,{color:"gray.500",fontSize:"sm",children:"Total Amount"}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"2xl",color:"brand.500",children:C7(I.amount||I.total_amount||0)})]})})]})]}),I.payments&&I.payments.length>0&&(0,Xo.jsxs)(Vb,{bg:G,borderWidth:"1px",borderColor:K,borderRadius:"md",children:[(0,Xo.jsx)(QS,{pb:0,children:(0,Xo.jsx)(Wb,{size:"md",children:"Payment History"})}),(0,Xo.jsx)(Kb,{children:(0,Xo.jsx)(Pb,{spacing:4,align:"stretch",children:I.payments.map(((e,t)=>{var n;return(0,Xo.jsxs)(Eb,{p:4,borderWidth:"1px",borderColor:K,borderRadius:"md",bg:"verified"===e.status?Y:Z,children:[(0,Xo.jsxs)(Xj,{justify:"space-between",align:"start",mb:3,children:[(0,Xo.jsxs)(Pb,{align:"start",spacing:1,children:[(0,Xo.jsxs)(Tb,{fontWeight:"bold",children:["Payment #",e.id]}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:"manual"===e.payment_method?"Manual Transfer":"Automatic Payment"}),(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Submitted: ",F7(e.created_at||e.createdAt)]}),e.verified_at&&(0,Xo.jsxs)(Tb,{fontSize:"sm",color:"gray.500",children:["Verified: ",F7(e.verified_at)]})]}),(0,Xo.jsxs)(Pb,{align:"end",spacing:1,children:[(0,Xo.jsx)(r_,{colorScheme:"verified"===e.status?"green":"pending"===e.status?"yellow":"red",fontSize:"sm",p:2,children:null===(n=e.status)||void 0===n?void 0:n.toUpperCase()}),(0,Xo.jsx)(Tb,{fontWeight:"bold",fontSize:"lg",children:C7(e.amount)})]})]}),"manual"===e.payment_method&&e.bank_name&&(0,Xo.jsxs)(Eb,{mt:3,p:3,bg:"white",borderRadius:"md",fontSize:"sm",children:[(0,Xo.jsxs)(IQ,{columns:2,spacing:2,children:[(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Bank:"})," ",e.bank_name]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Account:"})," ",e.account_number||"N/A"]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Holder:"})," ",e.account_holder_name||"N/A"]}),(0,Xo.jsxs)(Tb,{children:[(0,Xo.jsx)("strong",{children:"Transfer Date:"})," ",e.transfer_date?B7(e.transfer_date):"N/A"]})]}),e.notes&&(0,Xo.jsxs)(Tb,{mt:2,children:[(0,Xo.jsx)("strong",{children:"Notes:"})," ",e.notes]})]}),"                          ",e.paymentProof&&(0,Xo.jsxs)(Eb,{mt:3,children:[(0,Xo.jsx)(Tb,{fontWeight:"medium",mb:2,children:"Payment Proof:"}),(0,Xo.jsxs)(dS,{spacing:3,children:[(0,Xo.jsx)(Bj,{size:"sm",leftIcon:(0,Xo.jsx)(Yw,{}),onClick:()=>X(e),colorScheme:"blue",variant:"outline",children:"View Proof"}),e.paymentProof.fileName&&(0,Xo.jsx)(Tb,{fontSize:"sm",color:"gray.600",children:e.paymentProof.fileName}),e.paymentProof.uploadedAt&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",children:["Uploaded: ",F7(e.paymentProof.uploadedAt)]})]})]})]},e.id||t)}))})}),"                "]})]})}),!B&&(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Vb,{bg:ee?Y:te?Z:G,borderWidth:"1px",borderColor:K,borderRadius:"md",position:{base:"relative",lg:"sticky"},top:{base:"auto",lg:"100px"},children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:5,align:"stretch",children:[(0,Xo.jsxs)(Xj,{align:"center",gap:3,children:[(0,Xo.jsx)(Zv,{as:ee?aS:lS,boxSize:6,color:ee?"green.500":"orange.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",children:ee?"Payment Completed":"Payment Required"}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:ee?"Thank you for your payment":ne?"Your payment is being verified":"Please complete the payment"})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total Amount"}),(0,Xo.jsx)(GS,{color:ee?"green.500":"brand.500",children:C7(I.amount||I.total_amount||0)})]}),!ee&&!ne&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Bj,{colorScheme:"brand",size:"lg",onClick:()=>{I.payment_link_url?window.open(I.payment_link_url,"_blank"):2===I.method_id?C("/tenant/invoices/".concat(A,"/manual-payment")):P({title:"Payment Method Not Available",description:"Please contact administrator for payment assistance",status:"error",duration:5e3,isClosable:!0})},leftIcon:(0,Xo.jsx)(xk,{}),w:"100%",children:"Pay Now"}),2!==I.method_id&&I.payment_link_url&&(0,Xo.jsx)(Bj,{as:"a",href:I.payment_link_url,target:"_blank",rel:"noopener noreferrer",rightIcon:(0,Xo.jsx)(Gw,{}),variant:"outline",w:"100%",children:"Open Payment Page"}),2===I.method_id&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/invoices/".concat(A,"/manual-payment"),rightIcon:(0,Xo.jsx)(Xk,{}),variant:"outline",w:"100%",colorScheme:"blue",children:"Upload Payment Receipt"})]}),ne&&(0,Xo.jsxs)(Xj,{align:"center",px:4,py:3,bg:"orange.100",borderRadius:"md",children:[(0,Xo.jsx)(Zv,{as:ck,color:"orange.500",mr:2}),(0,Xo.jsx)(Tb,{fontSize:"sm",children:"Your payment receipt is being verified. This usually takes 1-2 business days."})]}),ee&&(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)(Bj,{variant:"outline",colorScheme:"green",leftIcon:(0,Xo.jsx)(Aw,{}),isDisabled:!0,w:"100%",children:["Paid on ",B7(I.paid_at)]}),N&&(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/bookings/".concat(N.booking_id),variant:"solid",colorScheme:"brand",w:"100%",children:"View Booking"})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{fontSize:"sm",children:[(0,Xo.jsx)(Wb,{size:"xs",mb:2,children:"Need help?"}),(0,Xo.jsxs)(Tb,{children:["If you have any questions about your invoice or payment, please contact our support team at ",(0,Xo.jsx)(Tb,{as:"span",fontWeight:"bold",children:"support@rusunawa.ac.id"}),"."]})]})]})})})}),B&&(0,Xo.jsx)(Eb,{children:(0,Xo.jsx)(Vb,{bg:"orange.50",borderWidth:"2px",borderColor:"orange.200",borderRadius:"md",position:{base:"relative",lg:"sticky"},top:{base:"auto",lg:"100px"},children:(0,Xo.jsx)(Kb,{children:(0,Xo.jsxs)(Pb,{spacing:4,align:"stretch",children:[(0,Xo.jsxs)(Xj,{align:"center",gap:3,children:[(0,Xo.jsx)(Zv,{as:Nw,boxSize:6,color:"orange.500"}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontWeight:"bold",color:"orange.700",children:"Payment Submitted"}),(0,Xo.jsx)(Tb,{fontSize:"sm",color:"orange.600",children:"Your manual payment is being verified"})]})]}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(HS,{children:[(0,Xo.jsx)(VS,{children:"Total Amount"}),(0,Xo.jsx)(GS,{color:"orange.600",children:C7(I.amount||I.total_amount||0)})]}),(0,Xo.jsxs)(ay,{status:"warning",borderRadius:"md",size:"sm",children:[(0,Xo.jsx)(sy,{}),(0,Xo.jsxs)(Eb,{children:[(0,Xo.jsx)(Tb,{fontSize:"sm",fontWeight:"medium",children:"Manual payment verification in progress"}),(0,Xo.jsxs)(Tb,{fontSize:"xs",mt:1,children:["You have ",W.length," pending payment",1!==W.length?"s":""," for this invoice. Please wait for verification before submitting another payment."]})]})]}),W.length>0&&(0,Xo.jsxs)(Pb,{spacing:2,align:"stretch",children:[W.slice(0,2).map(((e,t)=>(0,Xo.jsxs)(Eb,{p:3,bg:"white",borderRadius:"md",border:"1px",borderColor:"orange.200",children:[(0,Xo.jsxs)(Tb,{fontSize:"sm",fontWeight:"medium",children:["Payment #",e.paymentId]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["Amount: ",C7(e.amount)]}),(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.600",children:["Submitted: ",B7(e.createdAt)]}),e.paymentProof&&(0,Xo.jsx)(Bj,{size:"xs",mt:2,leftIcon:(0,Xo.jsx)(Yw,{}),onClick:()=>X(e),colorScheme:"orange",variant:"outline",children:"View Proof"})]},e.paymentId))),W.length>2&&(0,Xo.jsxs)(Tb,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["+",W.length-2," more pending payment",W.length-2!==1?"s":""]})]}),(0,Xo.jsx)(Bj,{as:nb,to:"/tenant/payments/history",variant:"outline",colorScheme:"orange",size:"sm",w:"100%",children:"View Payment History"}),(0,Xo.jsx)(ew,{}),(0,Xo.jsxs)(Eb,{fontSize:"sm",children:[(0,Xo.jsx)(Wb,{size:"xs",mb:2,children:"Need help?"}),(0,Xo.jsxs)(Tb,{children:["If you have questions about your payment verification, contact our support team at ",(0,Xo.jsx)(Tb,{as:"span",fontWeight:"bold",children:"support@rusunawa.ac.id"}),"."]})]})]})})})})]}),(0,Xo.jsxs)(JZ,{isOpen:q,onClose:V,size:"xl",children:[(0,Xo.jsx)(vJ,{}),(0,Xo.jsxs)(Y0,{children:[(0,Xo.jsx)(J0,{children:"Payment Proof"}),(0,Xo.jsx)(sQ,{}),(0,Xo.jsx)($0,{children:R&&(0,Xo.jsx)(Bb,{src:R.src,alt:"Payment proof",w:"100%",objectFit:"contain",borderRadius:"md"})}),(0,Xo.jsx)(M1,{children:(0,Xo.jsx)(Bj,{onClick:V,children:"Close"})})]})]})]})})},bee=()=>{const{isAuthenticated:e,isLoading:t}=D6(),n=n=>{let{children:r}=n;const i=_x();return t?(0,Xo.jsx)(R6,{message:"Checking authentication..."}):e?r:(0,Xo.jsx)(qx,{to:"/tenant/login",state:{from:i},replace:!0})};return(0,Xo.jsx)(M6,{children:(0,Xo.jsxs)(Gx,{children:[(0,Xo.jsx)(Hx,{path:"/",element:(0,Xo.jsx)(U9,{})}),(0,Xo.jsx)(Hx,{path:"/rooms",element:(0,Xo.jsx)(b7,{})}),(0,Xo.jsx)(Hx,{path:"/rooms/listing",element:(0,Xo.jsx)(j7,{})}),(0,Xo.jsx)(Hx,{path:"/rooms/:roomId",element:(0,Xo.jsx)(O7,{})}),(0,Xo.jsx)(Hx,{path:"/login",element:(0,Xo.jsx)(B6,{})}),(0,Xo.jsx)(Hx,{path:"/register",element:(0,Xo.jsx)(Q6,{})}),(0,Xo.jsx)(Hx,{path:"/forgot-password",element:(0,Xo.jsx)(e8,{})}),(0,Xo.jsx)(Hx,{path:"/reset-password",element:(0,Xo.jsx)(t8,{})}),(0,Xo.jsx)(Hx,{path:"/email-verification",element:(0,Xo.jsx)(j8,{})}),(0,Xo.jsx)(Hx,{path:"/verification-prompt",element:(0,Xo.jsx)(S8,{})}),"      ",(0,Xo.jsx)(Hx,{path:"/dashboard",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)($9,{})})}),(0,Xo.jsx)(Hx,{path:"/profile",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(Y7,{})})}),(0,Xo.jsx)(Hx,{path:"/profile/edit",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)($7,{})})}),(0,Xo.jsx)(Hx,{path:"/documents",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(n9,{})})}),"      ",(0,Xo.jsx)(Hx,{path:"/documents/upload",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(r9,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(V7,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(H7,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId/check-in",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(fee,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId/payment",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(s9,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId/payment-method",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(u9,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId/manual-payment",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(b9,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId/midtrans-payment",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(j9,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices/:invoiceId/manual-payment",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(b9,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices/:invoiceId/midtrans-payment",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(j9,{})})}),(0,Xo.jsx)(Hx,{path:"/rooms/:roomId/book",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(M7,{})})}),(0,Xo.jsx)(Hx,{path:"/rooms/:roomId/book-legacy",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(R7,{})})}),(0,Xo.jsx)(Hx,{path:"/payments/history",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(i9,{})})}),(0,Xo.jsx)(Hx,{path:"/payments/:paymentId",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(a9,{})})}),(0,Xo.jsx)(Hx,{path:"/payments/create/manual",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(k9,{})})}),(0,Xo.jsx)(Hx,{path:"/bookings/:bookingId/payments/create/manual",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(k9,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices/:invoiceId/payments/create/manual",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(k9,{})})}),(0,Xo.jsx)(Hx,{path:"/payments/callback",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(w9,{})})}),"      ",(0,Xo.jsx)(Hx,{path:"/issues",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(A9,{})})}),"      ",(0,Xo.jsx)(Hx,{path:"/issues/report",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(P9,{})})}),"      ",(0,Xo.jsx)(Hx,{path:"/issues/:issueId",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(W9,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(mee,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices/history",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(mee,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices/:invoiceId",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(xee,{})})}),(0,Xo.jsx)(Hx,{path:"/invoices/:invoiceId/payment-method",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(u9,{})})}),(0,Xo.jsx)(Hx,{path:"/payments/process/:invoiceId",element:(0,Xo.jsx)(n,{children:(0,Xo.jsx)(s9,{})})}),(0,Xo.jsx)(Hx,{path:"*",element:(0,Xo.jsx)(qx,{to:"/tenant",replace:!0})})]})})},jee=cb({colors:{brand:{50:"#e6f7ff",100:"#b3e0ff",200:"#80caff",300:"#4db3ff",400:"#1a9cff",500:"#0080e6",600:"#0066b8",700:"#004d8a",800:"#00335c",900:"#001a2e"}},fonts:{heading:"'Inter', sans-serif",body:"'Inter', sans-serif"},config:{initialColorMode:"light",useSystemColorMode:!1}});const wee=function(){return(0,Xo.jsx)(Ny,{theme:jee,children:(0,Xo.jsx)(Qx,{children:(0,Xo.jsxs)(Gx,{children:[(0,Xo.jsx)(Hx,{path:"/tenant/*",element:(0,Xo.jsx)(L6,{children:(0,Xo.jsx)(bee,{})})}),(0,Xo.jsx)(Hx,{path:"/*",element:(0,Xo.jsx)(yb,{children:(0,Xo.jsx)(P6,{})})})]})})})},kee=cb({colors:{brand:{50:"#e6f5ff",100:"#b3e0ff",200:"#80ccff",300:"#4db8ff",400:"#1aa3ff",500:"#0080cc",600:"#006bb3",700:"#005799",800:"#004280",900:"#002e66"}},fonts:{heading:'\'Inter\', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'\'Inter\', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},components:{Button:{defaultProps:{colorScheme:"brand"}},Tabs:{defaultProps:{colorScheme:"brand"}}}}),See=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))},_ee=document.getElementById("root");(0,i.H)(_ee).render((0,Xo.jsx)(t.StrictMode,{children:(0,Xo.jsx)(Ny,{theme:kee,children:(0,Xo.jsx)(wee,{})})})),See()})()})();
//# sourceMappingURL=main.5c51fd08.js.map